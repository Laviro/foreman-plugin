var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function e(t,n,r){function a(o,s){var l=window.define;if(window.define=void 0,!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return a(n?n:e)},d,d.exports,e,t,n,r)}return window.define=l,n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){!function(e,t){"use strict";function n(e,t,n){if(!e)throw ge("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(H(e)&&(e=e.join(" ")),H(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function a(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function i(e,t,n){var r="";return e=H(e)?e:e&&U(e)&&e.length?e.split(/\s+/):[],F(e,function(e,a){e&&e.length>0&&(r+=a>0?" ":"",r+=n?t+e:e+t)}),r}function o(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof B)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===X)return e;break;default:return B(l(e))}if(e.nodeType===X)return B(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==X)return n}}function c(e,t,n){F(t,function(t){e.addClass(t,n)})}function u(e,t,n){F(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function p(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||R;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=R},e.$$prepared=!0}return e}function f(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var r=t.options||{},a=n.options||{},i=(r.addClass||"")+" "+(a.addClass||""),o=(r.removeClass||"")+" "+(a.removeClass||""),s=v(e.attr("class"),i,o);a.preparationClasses&&(r.preparationClasses=S(a.preparationClasses,r.preparationClasses),delete a.preparationClasses);var l=r.domOperation!==R?r.domOperation:null;return z(r,a),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){U(e)&&(e=e.split(" "));var t={};return F(e,function(e){e.length&&(t[e]=!0)}),t}var a=1,i=-1,o={};e=r(e),t=r(t),F(t,function(e,t){o[t]=a}),n=r(n),F(n,function(e,t){o[t]=o[t]===a?null:i});var s={addClass:"",removeClass:""};return F(o,function(t,n){var r,o;t===a?(r="addClass",o=!e[n]):t===i&&(r="removeClass",o=e[n]),o&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function b(e,t,n){var r="";t&&(r=i(t,Z,!0)),n.addClass&&(r=S(r,i(n.addClass,Q))),n.removeClass&&(r=S(r,i(n.removeClass,K))),r.length&&(n.preparationClasses=r,e.addClass(r))}function x(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function w(e,t){var n=t?"-"+t+"s":"";return k(e,[fe,n]),[fe,n]}function _(e,t){var n=t?"paused":"",r=L+ce;return k(e,[r,n]),[r,n]}function k(e,t){var n=t[0],r=t[1];e.style[n]=r}function S(e,t){return e?t?e+" "+t:e:t}function A(e){return[pe,e+"s"]}function T(e,t){var n=t?de:fe;return[n,e+"s"]}function $(e,t,n){var r=Object.create(null),a=e.getComputedStyle(t)||{};return F(n,function(e,t){var n=a[e];if(n){var i=n.charAt(0);("-"===i||"+"===i||i>=0)&&(n=C(n)),0===n&&(n=null),r[t]=n}}),r}function C(e){var t=0,n=e.split(/\s*,\s*/);return F(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function M(e){return 0===e||null!=e}function E(e,t){var n=j,r=e+"s";return t?n+=ae:r+=" linear all",[n,r]}function I(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){F(n,function(n){e[n]=G(e[n])?e[n]:t.style.getPropertyValue(n)})}var j,D,L,O,R=t.noop,N=t.copy,z=t.extend,B=t.element,F=t.forEach,H=t.isArray,U=t.isString,q=t.isObject,V=t.isUndefined,G=t.isDefined,W=t.isFunction,Y=t.isElement,X=1,Q="-add",K="-remove",Z="ng-",J="-active",ee="-prepare",te="ng-animate",ne="$$ngAnimateChildren",re="";V(e.ontransitionend)&&G(e.onwebkittransitionend)?(re="-webkit-",j="WebkitTransition",D="webkitTransitionEnd transitionend"):(j="transition",D="transitionend"),V(e.onanimationend)&&G(e.onwebkitanimationend)?(re="-webkit-",L="WebkitAnimation",O="webkitAnimationEnd animationend"):(L="animation",O="animationend");var ae="Duration",ie="Property",oe="Delay",se="TimingFunction",le="IterationCount",ce="PlayState",ue=9999,de=L+oe,pe=L+ae,fe=j+oe,he=j+ae,ge=t.$$minErr("ng"),me=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),i=0;i<t.length;i++)t[i]();a||e(function(){a||n()})}}var r,a;return r=t.queue=[],t.waitUntilQuiet=function(t){a&&a(),a=e(function(){a=null,t(),n()})},t}],ve=["$interpolate",function(e){return{link:function(n,r,a){function i(e){e="on"===e||"true"===e,r.data(ne,e)}var o=a.ngAnimateChildren;t.isString(o)&&0===o.length?r.data(ne,!0):(i(e(o)(n)),a.$observe("ngAnimateChildren",i))}}}],ye="$$animateCss",be=1e3,xe=3,we=1.5,_e={transitionDuration:he,transitionDelay:fe,transitionProperty:j+ie,animationDuration:pe,animationDelay:de,animationIterationCount:L+le},ke={transitionDuration:he,transitionDelay:fe,animationDuration:pe,animationDelay:de},Se=["$animateProvider",function(e){var t=I(),n=I();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,s,l,c,u,m,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,a=r[n]||(r[n]=++B);return a+"-"+e.getAttribute("class")+"-"+t}function x(n,r,a,i){var o=t.get(a);return o||(o=$(e,n,i),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),t.put(a,o),o}function S(a,o,s,l){var c;if(t.count(s)>0&&(c=n.get(s),!c)){var u=i(o,"-stagger");r.addClass(a,u),c=$(e,a,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),r.removeClass(a,u),n.put(s,c)}return c||{}}function C(e){U.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=c(),r=0;r<U.length;r++)U[r](e);U.length=0})}function I(e,t,n){var r=x(e,t,n,_e),a=r.animationDelay,i=r.transitionDelay;return r.maxDelay=a&&i?Math.max(a,i):a||i,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var z=d(r),B=0,U=[];return function(e,n){function c(){m()}function d(){m(!0)}function m(t){if(!(W||X&&Y)){W=!0,Y=!1,q.$$skipPreparationClasses||r.removeClass(e,_e),r.removeClass(e,Ae),_(G,!1),w(G,!1),F(ce,function(e){G.style[e[0]]=""}),z(e,q),f(e,q),Object.keys(V).length&&F(V,function(e,t){e?G.style.setProperty(t,e):G.style.removeProperty(t)}),q.onDone&&q.onDone(),fe&&fe.length&&e.off(fe.join(" "),B);var n=e.data(ye);n&&(l.cancel(n[0].timer),e.removeData(ye)),ee&&ee.complete(!t)}}function x(e){ze.blockTransition&&w(G,e),ze.blockKeyframeAnimation&&_(G,!!e)}function $(){return ee=new s({end:c,cancel:d}),C(R),m(),{$$willAnimate:!1,start:function(){return ee},end:c}}function B(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(xe));Math.max(n-le,0)>=re&&r>=ae&&(X=!0,m())}function U(){function t(){if(!W){if(x(!1),F(ce,function(e){var t=e[0],n=e[1];G.style[t]=n}),z(e,q),r.addClass(e,Ae),ze.recalculateTimingStyles){if(Se=G.className+" "+_e,Ce=b(G,Se),Re=I(G,Se,Ce),Ne=Re.maxDelay,ne=Math.max(Ne,0),ae=Re.maxDuration,0===ae)return void m();ze.hasTransitions=Re.transitionDuration>0,ze.hasAnimations=Re.animationDuration>0}if(ze.applyAnimationDelay&&(Ne="boolean"!=typeof q.delay&&M(q.delay)?parseFloat(q.delay):Ne,ne=Math.max(Ne,0),Re.animationDelay=Ne,Be=T(Ne,!0),ce.push(Be),G.style[Be[0]]=Be[1]),re=ne*be,oe=ae*be,q.easing){var t,a=q.easing;ze.hasTransitions&&(t=j+se,ce.push([t,a]),G.style[t]=a),ze.hasAnimations&&(t=L+se,ce.push([t,a]),G.style[t]=a)}Re.transitionDuration&&fe.push(D),Re.animationDuration&&fe.push(O),le=Date.now();var i=re+we*oe,o=le+i,s=e.data(ye)||[],c=!0;if(s.length){var u=s[0];c=o>u.expectedEndTime,c?l.cancel(u.timer):s.push(m)}if(c){var d=l(n,i,!1);s[0]={timer:d,expectedEndTime:o},s.push(m),e.data(ye,s)}fe.length&&e.on(fe.join(" "),B),q.to&&(q.cleanupStyles&&P(V,G,Object.keys(q.to)),g(e,q))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!W){if(!G.parentNode)return void m();var a=function(e){if(X)Y&&e&&(Y=!1,m());else if(Y=!e,Re.animationDuration){var t=_(G,Y);Y?ce.push(t):o(ce,t)}},i=Le>0&&(Re.transitionDuration&&0===Me.transitionDuration||Re.animationDuration&&0===Me.animationDuration)&&Math.max(Me.animationDelay,Me.transitionDelay);i?l(t,Math.floor(i*Le*be),!1):t(),te.resume=function(){a(!0)},te.pause=function(){a(!1)}}}var q=n||{};q.$$prepared||(q=p(N(q)));var V={},G=y(e);if(!G||!G.parentNode||!v.enabled())return $();var W,Y,X,ee,te,ne,re,ae,oe,le,ce=[],de=e.attr("class"),pe=a(q),fe=[];if(0===q.duration||!u.animations&&!u.transitions)return $();var he=q.event&&H(q.event)?q.event.join(" "):q.event,ge=he&&q.structural,me="",ve="";ge?me=i(he,Z,!0):he&&(me=he),q.addClass&&(ve+=i(q.addClass,Q)),q.removeClass&&(ve.length&&(ve+=" "),ve+=i(q.removeClass,K)),q.applyClassesEarly&&ve.length&&z(e,q);var _e=[me,ve].join(" ").trim(),Se=de+" "+_e,Ae=i(_e,J),Te=pe.to&&Object.keys(pe.to).length>0,$e=(q.keyframeStyle||"").length>0;if(!$e&&!Te&&!_e)return $();var Ce,Me;if(q.stagger>0){var Ee=parseFloat(q.stagger);Me={transitionDelay:Ee,animationDelay:Ee,transitionDuration:0,animationDuration:0}}else Ce=b(G,Se),Me=S(G,_e,Ce,ke);q.$$skipPreparationClasses||r.addClass(e,_e);var Ie;if(q.transitionStyle){var Pe=[j,q.transitionStyle];k(G,Pe),ce.push(Pe)}if(q.duration>=0){Ie=G.style[j].length>0;var je=E(q.duration,Ie);k(G,je),ce.push(je)}if(q.keyframeStyle){var De=[L,q.keyframeStyle];k(G,De),ce.push(De)}var Le=Me?q.staggerIndex>=0?q.staggerIndex:t.count(Ce):0,Oe=0===Le;Oe&&!q.skipBlocking&&w(G,ue);var Re=I(G,Se,Ce),Ne=Re.maxDelay;ne=Math.max(Ne,0),ae=Re.maxDuration;var ze={};if(ze.hasTransitions=Re.transitionDuration>0,ze.hasAnimations=Re.animationDuration>0,ze.hasTransitionAll=ze.hasTransitions&&"all"==Re.transitionProperty,ze.applyTransitionDuration=Te&&(ze.hasTransitions&&!ze.hasTransitionAll||ze.hasAnimations&&!ze.hasTransitions),ze.applyAnimationDuration=q.duration&&ze.hasAnimations,ze.applyTransitionDelay=M(q.delay)&&(ze.applyTransitionDuration||ze.hasTransitions),ze.applyAnimationDelay=M(q.delay)&&ze.hasAnimations,ze.recalculateTimingStyles=ve.length>0,(ze.applyTransitionDuration||ze.applyAnimationDuration)&&(ae=q.duration?parseFloat(q.duration):ae,ze.applyTransitionDuration&&(ze.hasTransitions=!0,Re.transitionDuration=ae,Ie=G.style[j+ie].length>0,ce.push(E(ae,Ie))),ze.applyAnimationDuration&&(ze.hasAnimations=!0,Re.animationDuration=ae,ce.push(A(ae)))),0===ae&&!ze.recalculateTimingStyles)return $();if(null!=q.delay){var Be;"boolean"!=typeof q.delay&&(Be=parseFloat(q.delay),ne=Math.max(Be,0)),ze.applyTransitionDelay&&ce.push(T(Be)),ze.applyAnimationDelay&&ce.push(T(Be,!0))}return null==q.duration&&Re.transitionDuration>0&&(ze.recalculateTimingStyles=ze.recalculateTimingStyles||Oe),re=ne*be,oe=ae*be,q.skipBlocking||(ze.blockTransition=Re.transitionDuration>0,ze.blockKeyframeAnimation=Re.animationDuration>0&&Me.animationDelay>0&&0===Me.animationDuration),q.from&&(q.cleanupStyles&&P(V,G,Object.keys(q.from)),h(e,q)),ze.blockTransition||ze.blockKeyframeAnimation?x(ae):q.skipBlocking||w(G,!1),{$$willAnimate:!0,end:c,start:function(){if(!W)return te={end:c,cancel:d,resume:null,pause:null},ee=new s(te),C(U),ee}}}}]}],Ae=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",a="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,s,l,c,u,p){function f(e){return e.replace(/\bng-\S+\b/g,"")}function h(e,t){return U(e)&&(e=e.split(" ")),U(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function g(t,o,l){function c(e){var t={},n=y(e).getBoundingClientRect();return F(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=b.scrollTop;break;case"left":r+=b.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function u(){var t=e(m,{addClass:a,delay:!0,from:c(o)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function p(){var t=f(d(l)),n=h(t,v),r=h(v,t),o=e(m,{to:c(l),addClass:i+" "+n,removeClass:a+" "+r,delay:!0});return o.$$willAnimate?o:null}function g(){m.remove(),o.removeClass(n),l.removeClass(n)}var m=B(y(o).cloneNode(!0)),v=f(d(m));o.addClass(n),l.addClass(n),m.addClass(r),w.append(m);var x,_=u();if(!_&&(x=p(),!x))return g();var k=_||x;return{start:function(){function e(){n&&n.end()}var t,n=k.start();return n.done(function(){return n=null,!x&&(x=p())?(n=x.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new s({end:e,cancel:e})}}}function m(e,t,n,r){var a=v(e,R),i=v(t,R),o=[];if(F(r,function(e){var t=e.out,r=e["in"],a=g(n,t,r);a&&o.push(a)}),a||i||0!==o.length)return{start:function(){function e(){F(t,function(e){e.end()})}var t=[];a&&t.push(a.start()),i&&t.push(i.start()),F(o,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}}function v(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=S(r.event,r.preparationClasses));var a=e(n,r);return a.$$willAnimate?a:null}if(!c.animations&&!c.transitions)return R;var b=p[0].body,x=y(l),w=B(t(x)||b.contains(x)?x:b);d(u);return function(e){return e.from&&e.to?m(e.from,e.to,e.classes,e.anchors):v(e)}}]}],Te=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function a(n){n=H(n)?n:n.split(" ");for(var r=[],a={},i=0;i<n.length;i++){var o=n[i],s=e.$$registeredAnimations[o];s&&!a[o]&&(r.push(t.get(s)),a[o]=!0)}return r}var i=d(r);return function(e,t,r,o){function s(){o.domOperation(),i(e,o)}function l(){h=!0,s(),f(e,o)}function c(e,t,r,a,i){var o;switch(r){case"animate":o=[t,a.from,a.to,i];break;case"setClass":o=[t,v,y,i];break;case"addClass":o=[t,v,i];break;case"removeClass":o=[t,y,i];break;default:o=[t,i]}o.push(a);var s=e.apply(e,o);if(s)if(W(s.start)&&(s=s.start()),s instanceof n)s.done(i);else if(W(s))return s;return R}function u(e,t,r,a,i){var o=[];return F(a,function(a){var s=a[i];s&&o.push(function(){var a,i,o=!1,l=function(e){o||(o=!0,(i||R)(e),a.complete(!e))};return a=new n({end:function(){l()},cancel:function(){l(!0)}}),i=c(s,e,t,r,function(e){var t=e===!1;l(t)}),a})}),o}function d(e,t,r,a,i){var o=u(e,t,r,a,i);if(0===o.length){var s,l;"beforeSetClass"===i?(s=u(e,"removeClass",r,a,"beforeRemoveClass"),l=u(e,"addClass",r,a,"beforeAddClass")):"setClass"===i&&(s=u(e,"removeClass",r,a,"removeClass"),l=u(e,"addClass",r,a,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(e){var t=[];return o.length&&F(o,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){F(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&q(r)&&(o=r,r=null),o=p(o),r||(r=e.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var g,m,v=o.addClass,y=o.removeClass,b=a(r);if(b.length){var x,w;"leave"==t?(w="leave",x="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),x=t),"enter"!==t&&"move"!==t&&(g=d(e,t,o,b,w)),m=d(e,t,o,b,x)}if(g||m){var _;return{$$willAnimate:!0,end:function(){return _?_.end():(l(),_=new n,_.complete(!0)),_},start:function(){function e(e){l(e),_.complete(e)}function t(t){h||((r||R)(t),e(t))}if(_)return _;_=new n;var r,a=[];return g&&a.push(function(e){r=g(e)}),a.length?a.push(function(e){s(),e(!0)}):s(),m&&a.push(function(e){r=m(e)}),_.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(a,e),_}}}}}]}],$e=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,a=t.options,i=t.classes;return e(n,r,i,a)}return function(e){if(e.from&&e.to){var r=n(e.from),a=n(e.to);if(!r&&!a)return;return{start:function(){function e(){return function(){F(i,function(e){e.end()})}}function n(e){o.complete(e)}var i=[];r&&i.push(r.start()),a&&i.push(a.start()),t.all(i,n);var o=new t({end:e(),cancel:e()});return o}}}return n(e)}}]}],Ce="data-ng-animate",Me="$ngAnimatePin",Ee=["$animateProvider",function(r){function a(e){if(!e)return null;var t=e.split(g),n=Object.create(null);return F(t,function(e){n[e]=!0}),n}function i(e,t){if(e&&t){var n=a(t);return e.split(g).some(function(e){return n[e]})}}function o(e,t,n,r){return v[e].some(function(e){return e(t,n,r)})}function c(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var u=1,h=2,g=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(e,t,n){return!t.structural&&c(t)}),v.skip.push(function(e,t,n){return!t.structural&&!c(t)}),v.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),v.skip.push(function(e,t,n){return n.structural&&n.state===h&&!t.structural}),v.cancel.push(function(e,t,n){return n.structural&&t.structural}),v.cancel.push(function(e,t,n){return n.state===h&&t.structural}),v.cancel.push(function(e,t,n){if(n.structural)return!1;var r=t.addClass,a=t.removeClass,o=n.addClass,s=n.removeClass;return!(V(r)&&V(a)||V(o)&&V(s))&&(i(r,s)||i(a,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,i,g,v,w,_,k,S,A,T){function $(){var e=!1;return function(t){e?t():i.$$postDigest(function(){e=!0,t()})}}function C(e,t){return m(e,t,{})}function M(e,t,n){var r=y(t),a=y(e),i=[],o=J[n];return o&&F(o,function(e){ae.call(e.node,r)?i.push(e.callback):"leave"===n&&ae.call(e.node,a)&&i.push(e.callback)}),i}function E(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}function I(e,t){"close"!==e||t[0].parentNode||ie.off(t)}function P(e,t,n){function r(t,n,r,i){A(function(){var t=M(g,e,n);t.length?a(function(){F(t,function(t){t(e,r,i)}),I(r,e)}):I(r,e)}),t.progress(n,r,i)}function l(t){x(e,w),re(e,w),f(e,w),w.domOperation(),S.complete(!t)}var d,g,w=N(n);e=s(e),e&&(d=y(e),g=e.parent()),w=p(w);var S=new k,A=$();if(H(w.addClass)&&(w.addClass=w.addClass.join(" ")),w.addClass&&!U(w.addClass)&&(w.addClass=null),H(w.removeClass)&&(w.removeClass=w.removeClass.join(" ")),w.removeClass&&!U(w.removeClass)&&(w.removeClass=null),w.from&&!q(w.from)&&(w.from=null),w.to&&!q(w.to)&&(w.to=null),!d)return l(),S;var T=[d.className,w.addClass,w.removeClass].join(" ");if(!te(T))return l(),S;var E=["enter","move","leave"].indexOf(t)>=0,P=v[0].hidden,L=!K||P||Q.get(d),z=!L&&W.get(d)||{},B=!!z.state;if(L||B&&z.state==u||(L=!O(e,g,t)),L)return P&&r(S,t,"start"),l(),P&&r(S,t,"close"),S;E&&j(e);var V={structural:E,element:e,event:t,addClass:w.addClass,removeClass:w.removeClass,close:l,options:w,runner:S};if(B){var G=o("skip",e,V,z);if(G)return z.state===h?(l(),S):(m(e,z,V),z.runner);var Y=o("cancel",e,V,z);if(Y)if(z.state===h)z.runner.end();else{if(!z.structural)return m(e,z,V),z.runner;z.close()}else{var X=o("join",e,V,z);if(X){if(z.state!==h)return b(e,E?t:null,w),t=V.event=z.event,w=m(e,z,V),z.runner;C(e,V)}}}else C(e,V);var Z=V.structural;if(Z||(Z="animate"===V.event&&Object.keys(V.options.to||{}).length>0||c(V)),!Z)return l(),D(e),S;var J=(z.counter||0)+1;return V.counter=J,R(e,u,V),i.$$postDigest(function(){var n=W.get(d),a=!n;n=n||{};var i=e.parent()||[],o=i.length>0&&("animate"===n.event||n.structural||c(n));if(a||n.counter!==J||!o)return a&&(re(e,w),f(e,w)),(a||E&&n.event!==t)&&(w.domOperation(),S.end()),void(o||D(e));t=!n.structural&&c(n,!0)?"setClass":n.event,R(e,h);var s=_(e,t,n.options);S.setHost(s),r(S,t,"start",{}),s.done(function(n){l(!n);var a=W.get(d);a&&a.counter===J&&D(y(e)),r(S,t,"close",{})})}),S}function j(e){var t=y(e),n=t.querySelectorAll("["+Ce+"]");F(n,function(e){var t=parseInt(e.getAttribute(Ce)),n=W.get(e);if(n)switch(t){case h:n.runner.end();case u:W.remove(e)}})}function D(e){var t=y(e);t.removeAttribute(Ce),W.remove(t)}function L(e,t){return y(e)===y(t)}function O(e,t,n){var r,a=B(v[0].body),i=L(e,a)||"HTML"===e[0].nodeName,o=L(e,g),s=!1,l=Q.get(y(e)),c=B.data(e[0],Me);for(c&&(t=c),t=y(t);t&&(o||(o=L(t,g)),t.nodeType===X);){var u=W.get(t)||{};if(!s){var d=Q.get(t);if(d===!0&&l!==!1){l=!0;break}d===!1&&(l=!1),s=u.structural}if(V(r)||r===!0){var p=B.data(t,ne);G(p)&&(r=p)}if(s&&r===!1)break;if(i||(i=L(t,a)),i&&o)break;t=o||!(c=B.data(t,Me))?t.parentNode:y(c)}var f=(!s||r)&&l!==!0;return f&&o&&i}function R(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(Ce,t);var a=W.get(r),i=a?z(a,n):n;W.put(r,i)}var W=new w,Q=new w,K=null,Z=i.$watch(function(){return 0===S.totalPendingRequests},function(e){e&&(Z(),i.$$postDigest(function(){i.$$postDigest(function(){null===K&&(K=!0)})}))}),J={},ee=r.classNameFilter(),te=ee?function(e){return ee.test(e)}:function(){return!0},re=d(A),ae=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ie={on:function(e,t,n){var r=l(t);J[e]=J[e]||[],J[e].push({node:r,callback:n}),B(t).on("$destroy",function(){var a=W.get(r);a||ie.off(e,t,n)})},off:function(e,n,r){if(1!==arguments.length||t.isString(arguments[0])){var a=J[e];a&&(J[e]=1===arguments.length?null:E(a,n,r))}else{n=arguments[0];for(var i in J)J[i]=E(J[i],n)}},pin:function(e,t){n(Y(e),"element","not an element"),n(Y(t),"parentElement","not an element"),e.data(Me,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,P(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!K;else{var r=Y(e);if(r){var a=y(e),i=Q.get(a);1===n?t=!i:Q.put(a,!t)}else t=K=!!e}return t}};return ie}]}],Ie=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function a(e){return e.data(s)}var i="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,s,l,c,u,h){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;i.put(n,e);for(var o;r;){if(o=i.get(r)){o.processed||(o=t(o));break}r=r.parentNode}return(o||a).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var a=r.length,i=0,o=[];for(t=0;t<r.length;t++){var s=r[t];a<=0&&(a=i,i=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(e){i++,r.push(e)}),a--}return o.length&&n.push(o),n}var r,a={children:[]},i=new u;for(r=0;r<e.length;r++){var o=e[r];i.put(o.domNode,e[r]={domNode:o.domNode,fn:o.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(a)}var m=[],v=d(e);return function(u,d,b){function x(e){var t="["+i+"]",n=e.hasAttribute(i)?[e]:e.querySelectorAll(t),r=[];return F(n,function(e){var t=e.getAttribute(i);t&&t.length&&r.push(e)}),r}function w(e){var t=[],n={};F(e,function(e,r){var a=e.element,o=y(a),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?x(o):[];if(c.length){var u=l?"to":"from";F(c,function(e){var t=e.getAttribute(i);n[t]=n[t]||{},n[t][u]={animationID:r,element:B(e)}})}else t.push(e)});var r={},a={};return F(n,function(n,i){var o=n.from,s=n.to;if(!o||!s){var l=o?o.animationID:s.animationID,c=l.toString();return void(r[c]||(r[c]=!0,t.push(e[l])))}var u=e[o.animationID],d=e[s.animationID],p=o.animationID.toString();if(!a[p]){var f=a[p]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:_(u.classes,d.classes),from:u,to:d,anchors:[]};f.classes.length?t.push(f):(t.push(u),t.push(d))}a[p].anchors.push({out:o.element,"in":s.element})}),t}function _(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var a=e[r];if("ng-"!==a.substring(0,3))for(var i=0;i<t.length;i++)if(a===t[i]){n.push(a);break}}return n.join(" ")}function k(e){for(var t=o.length-1;t>=0;t--){var n=o[t];if(l.has(n)){var r=l.get(n),a=r(e);if(a)return a}}}function S(){u.addClass(te),I&&e.addClass(u,I),P&&(e.removeClass(u,P),P=null)}function A(e,t){function n(e){a(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function T(){var e=a(u);!e||"leave"===d&&b.$$domOperationFired||e.end()}function $(t){u.off("$destroy",T),n(u),v(u,b),f(u,b),b.domOperation(),I&&e.removeClass(u,I),u.removeClass(te),M.complete(!t)}b=p(b);var C=["enter","move","leave"].indexOf(d)>=0,M=new c({end:function(){$()},cancel:function(){$(!0)}});if(!o.length)return $(),M;t(u,M);var E=r(u.attr("class"),r(b.addClass,b.removeClass)),I=b.tempClasses;I&&(E+=" "+I,b.tempClasses=null);var P;return C&&(P="ng-"+d+ee,e.addClass(u,P)),m.push({element:u,classes:E,event:d,structural:C,options:b,beforeStart:S,close:$}),u.on("$destroy",T),m.length>1?M:(s.$$postDigest(function(){var e=[];F(m,function(t){a(t.element)?e.push(t):t.close()}),m.length=0;var t=w(e),n=[];F(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,r=e.anchors?e.from.element||e.to.element:e.element;if(a(r)){var i=k(e);i&&(t=i.start)}if(t){var o=t();o.done(function(e){n(!e)}),A(e,o)}else n()}})}),h(g(n))}),M)}}]}],Pe=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,a,i){var o,s;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&e.leave(o),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),i(s,function(t){o=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[]).directive("ngAnimateSwap",Pe).directive("ngAnimateChildren",ve).factory("$$rAFScheduler",me).provider("$$animateQueue",Ee).provider("$$animation",Ie).provider("$animateCss",Se).provider("$$animateCssDriver",Ae).provider("$$animateJs",Te).provider("$$animateJsDriver",$e)}(window,window.angular)},{}],2:[function(e,t,n){!function(e,t){"use strict";function n(e,n,r){function a(e,r,a){var o,s;a=a||{},s=a.expires,o=t.isDefined(a.path)?a.path:i,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(r);l+=o?";path="+o:"",l+=a.domain?";domain="+a.domain:"",l+=s?";expires="+s.toUTCString():"",l+=a.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var i=r.baseHref(),o=e[0];return function(e,t,n){o.cookie=a(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,r){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,a){r(t,n,e(a))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,n){r(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular)},{}],3:[function(e,t,n){!function(r,a){"use strict";var i;i="object"===("undefined"==typeof n?"undefined":_typeof(n))&&"undefined"!=typeof t?t.exports=a(e("./../../angular/angular.js"),e("./../../moment/moment.js")):"function"==typeof define&&define.amd?define(["angular","moment"],a):a(r.angular,r.moment)}(this,function(e,t){e.module||(e=window.angular);var n=e.module("datePicker",[]);n.constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5}),n.filter("mFormat",function(){return function(e,n,r){return t.isMoment(e)?r?t.tz(e,r).format(n):e.format(n):t(e).format(n)}}),n.directive("datePicker",["datePickerConfig","datePickerUtils","$interpolate",function(n,r,a){return{require:"?ngModel",template:'<div ng-include="template"></div>',scope:{model:"=?datePicker",after:"=?",before:"=?",highlights:"=?"},link:function(i,o,s,l){function c(){i.views=n.views.concat(),i.view=s.view||n.view,i.views=i.views.slice(i.views.indexOf(s.maxView||"year"),i.views.indexOf(s.minView||"minutes")+1),1!==i.views.length&&i.views.indexOf(i.view)!==-1||(i.view=i.views[0])}function u(e){return r.getDate(i,s,e)}function d(){var e=i.view;r.setParams(w,P),i.model&&!x&&(i.date=_(i.model),x=!1);var t=i.date;switch(e){case"year":i.years=r.getVisibleYears(t);break;case"month":i.months=r.getVisibleMonths(t);break;case"date":i.weekdays=i.weekdays||r.getDaysOfWeek(),i.weeks=r.getVisibleWeeks(t);break;case"hours":i.hours=r.getVisibleHours(t);break;case"minutes":i.minutes=r.getVisibleMinutes(t,S)}h()}function p(){return"date"!==i.view?i.view:i.date?i.date.month():null}var f,h,g,m,v,y,b,x=!1,w=i.tz=s.timezone,_=r.createMoment,k=r.eventIsForPicker,S=parseInt(s.step||n.step,10),A=!!s.partial,T=u("minDate"),$=u("maxDate"),C=a(o[0].id)(i),M=i.now=_(),E=i.date=_(i.model||M),I="true"===s.autoClose,P=s.firstDay&&s.firstDay>=0&&s.firstDay<=6?parseInt(s.firstDay,10):t().weekday(0).day();r.setParams(w,P),i.model||E.minute(Math.ceil(E.minute()/S)*S).second(0),i.template=s.template||n.template,i.watchDirectChanges=void 0!==s.watchDirectChanges,i.callbackOnSetDate=s.dateChange?r.findFunction(i,s.dateChange):void 0,c(),i.setView=function(e){i.views.indexOf(e)!==-1&&(i.view=e)},i.selectDate=function(e){if(s.disabled)return!1;if(g(i.date,e)&&(e=i.date),e=m(e),!e)return!1;i.date=e;var t=i.views[i.views.indexOf(i.view)+1];(!t||A||i.model)&&f(e,!0),t?i.setView(t):I?(o.addClass("hidden"),i.$emit("hidePicker")):h()},f=function(t,n){t&&((0!==i.model&&"date-picker"!==s.datePicker||!e.isDefined(i.model)&&!e.isDefined(s.datePicker))&&(i.model=t),l&&l.$setViewValue(t)),i.$emit("setDate",i.model,i.view,n),i.callbackOnSetDate&&i.callbackOnSetDate(s.datePicker,i.date,n)},i.$watch(p,d),i.watchDirectChanges&&i.$watch("model",function(){x=!1,d()}),e.isDefined(s.highlights)&&i.$watchCollection("highlights",function(n){if(e.isDefined(n)){if(!e.isArray(n))throw new Error("Invalid highlights object "+n);b=n.map(function(e){return t(e)}),d()}}),h=function(){var e,t,a,o=i.view,s=i.date,l=[],c="";if(r.setParams(w,P),"date"===o){var u,d=i.weeks;for(e=0;e<d.length;e++)for(u=d[e],l.push([]),t=0;t<u.length;t++){if(c="",r.isSameDay(s,u[t])&&(c+="active"),v(u[t],o)&&(c+=" now"),u[t].month()===s.month()&&y(u[t])||(c+=" disabled"),b&&b.length&&!c.length)for(a=0;a<b.length;a++)if(r.isSameDay(b[a],u[t])){c+=" highlighted";break}l[e].push(c)}}else{var p=n.viewConfig[o],f=i[p[0]],h=p[1];for(e=0;e<f.length;e++)c="",r[h](s,f[e])&&(c+="active"),v(f[e],o)&&(c+=" now"),y(f[e])||(c+=" disabled"),l.push(c)}i.classes=l},i.next=function(e){var n=t(i.date);switch(e=e||1,i.view){case"year":case"month":n.year(n.year()+e);break;case"date":n.month(n.month()+e);break;case"hours":case"minutes":n.hours(n.hours()+e)}n=m(n),n&&(i.date=n,f(n,!1),
x=!0,d())},y=function(e){var t=!0;return T&&T.isAfter(e)&&(t=g(T,e)),$&&$.isBefore(e)&&(t&=g($,e)),t},g=function(e,t){return!!e.isSame(t,n.momentNames[i.view])},m=function(e){return T&&T.isAfter(e)?T:$&&$.isBefore(e)?$:e},v=function(e,t){var n=!0;switch(t){case"minutes":n&=~~(M.minutes()/S)===~~(e.minutes()/S);case"hours":n&=M.hours()===e.hours();case"date":n&=M.date()===e.date();case"month":n&=M.month()===e.month();case"year":n&=M.year()===e.year()}return n},i.prev=function(e){return i.next(-e||-1)},C&&i.$on("pickerUpdate",function(t,n,r){if(k(n,C)){var a=!1,o=!1;e.isDefined(r.minDate)&&(T=!!r.minDate&&r.minDate,o=!0),e.isDefined(r.maxDate)&&($=!!r.maxDate&&r.maxDate,o=!0),e.isDefined(r.minView)&&(s.minView=r.minView,a=!0),e.isDefined(r.maxView)&&(s.maxView=r.maxView,a=!0),e.isDefined(r.timezone)&&(w=i.tz=r.timezone,o=!0),s.view=r.view||s.view,a&&c(),o&&d()}})}}}]),e.module("datePicker").factory("datePickerUtils",function(){var n,r,a=function(e,r,a,i,o){var s=Date.UTC(0|e,0|r,0|a,0|i,0|o);return n?t.tz(s,n):t(s)};return{getVisibleMinutes:function(e,t){var n,r,i=e.year(),o=e.month(),s=e.date(),l=e.hours(),c=e.utcOffset()/60,u=[];for(r=0;r<60;r+=t)n=a(i,o,s,l-c,r),u.push(n);return u},getVisibleWeeks:function(e){e=t(e);var n=e.year(),a=e.month();e.date(1);var i=e.day();e.date(r-(i+(r>=i?6:-1)));for(var o=[];o.length<6&&!(e.year()===n&&e.month()>a);)o.push(this.getDaysOfWeek(e)),e.add(7,"d");return o},getVisibleYears:function(e){var n=t(e),r=n.year();n.year(r-r%10),r=n.year();for(var i,o,s=n.utcOffset()/60,l=[],c=0;c<12;c++)i=a(r,0,1,0-s),o=i.utcOffset()/60,o!==s&&(i=a(r,0,1,0-o),s=o),l.push(i),r++;return l},getDaysOfWeek:function(e){e=e?e:n?t.tz(n).day(r):t().day(r);for(var i,o,s=e.year(),l=e.month(),c=e.date(),u=[],d=e.utcOffset()/60,p=0;p<7;p++)i=a(s,l,c,0-d,0,!1),o=i.utcOffset()/60,o!==d&&(i=a(s,l,c,0-o,0,!1)),u.push(i),c++;return u},getVisibleMonths:function(e){for(var t,n,r=e.year(),i=e.utcOffset()/60,o=[],s=0;s<12;s++)t=a(r,s,1,0-i,0,!1),n=t.utcOffset()/60,n!==i&&(t=a(r,s,1,0-n,0,!1)),o.push(t);return o},getVisibleHours:function(e){var t,n,r,i=e.year(),o=e.month(),s=e.date(),l=[],c=e.utcOffset()/60;for(t=0;t<24;t++)n=a(i,o,s,t-c,0,!1),r=n.utcOffset()/60,r!==c&&(n=a(i,o,s,t-r,0,!1)),l.push(n);return l},isAfter:function(e,t){return e&&e.unix()>=t.unix()},isBefore:function(e,t){return e.unix()<=t.unix()},isSameYear:function(e,t){return e&&e.year()===t.year()},isSameMonth:function(e,t){return this.isSameYear(e,t)&&e.month()===t.month()},isSameDay:function(e,t){return this.isSameMonth(e,t)&&e.date()===t.date()},isSameHour:function(e,t){return this.isSameDay(e,t)&&e.hours()===t.hours()},isSameMinutes:function(e,t){return this.isSameHour(e,t)&&e.minutes()===t.minutes()},setParams:function(e,t){n=e,r=t},scopeSearch:function(e,t,n){var r,a,i=e,o=t.split("."),s=o.length;do{for(r=i=i.$parent,a=0;a<s;a++){r=r[o[a]]}if(r&&n(r))return r}while(i.$parent);return!1},findFunction:function(t,n){return this.scopeSearch(t,n,function(t){return e.isFunction(t)})},findParam:function(e,t){return this.scopeSearch(e,t,function(){return!0})},createMoment:function(e){return n?t.tz(e,n):t.isMoment(e)?t.unix(e.unix()):t(e)},getDate:function(e,t,n){var r=!1;return t[n]&&(r=this.createMoment(t[n]),r.isValid()||(r=this.findParam(e,t[n]),r&&(r=this.createMoment(r)))),r},eventIsForPicker:function(t,n){function r(e){return e instanceof RegExp?e.test(n):e===n}return e.isArray(t)?t.some(r):r(t)}}});var n=e.module("datePicker");n.directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function(n,r,a){function i(n,r,i,o,s){return a.template(e.extend(n,{ngModel:i,minDate:!(!o||!t.isMoment(o))&&o.format(),maxDate:!(!s||!t.isMoment(s))&&s.format()}),r)}function o(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(t,a,s){function l(e){t.$broadcast("pickerUpdate",p[0],{maxDate:e})}function c(e){t.$broadcast("pickerUpdate",p[1],{minDate:e})}var u=null,d=a[0].id,p=[o(),o()],f=r.createMoment,h=r.eventIsForPicker;t.dateChange=function(e,t){u&&u(e,t)},d&&t.$on("pickerUpdate",function(e,n,r){h(n,d)&&t.$broadcast("pickerUpdate",p,r)}),r.setParams(s.timezone),t.start=f(t.start),t.end=f(t.end),t.$watchGroup(["start","end"],function(e){c(e[0]),l(e[1])}),e.isDefined(s.dateChange)&&(u=r.findFunction(t,s.dateChange)),s.onSetDate="dateChange";var g='<div><table class="date-range"><tr><td valign="top">'+i(s,p[0],"start",!1,t.end)+'</td><td valign="top">'+i(s,p[1],"end",t.start,!1)+"</td></tr></table></div>",m=n(g)(t);a.append(m)}}}]);var r="ng-pristine",a="ng-dirty",n=e.module("datePicker");n.constant("dateTimeConfig",{template:function(e,t){return"<div "+(t?'id="'+t+'" ':"")+'date-picker="'+e.ngModel+'" '+(e.view?'view="'+e.view+'" ':"")+(e.maxView?'max-view="'+e.maxView+'" ':"")+(e.maxDate?'max-date="'+e.maxDate+'" ':"")+(e.autoClose?'auto-close="'+e.autoClose+'" ':"")+(e.template?'template="'+e.template+'" ':"")+(e.minView?'min-view="'+e.minView+'" ':"")+(e.minDate?'min-date="'+e.minDate+'" ':"")+(e.partial?'partial="'+e.partial+'" ':"")+(e.step?'step="'+e.step+'" ':"")+(e.onSetDate?'date-change="'+e.onSetDate+'" ':"")+(e.ngModel?'ng-model="'+e.ngModel+'" ':"")+(e.firstDay?'first-day="'+e.firstDay+'" ':"")+(e.timezone?'timezone="'+e.timezone+'" ':"")+(e.highlights?'highlights="'+e.highlights+'" ':"")+'class="date-picker-date-time"></div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:!1,position:"relative"}),n.directive("dateTimeAppend",function(){return{link:function(e,t){t.bind("click",function(){t.find("input")[0].focus()})}}}),n.directive("dateTime",["$compile","$document","$filter","dateTimeConfig","$parse","datePickerUtils","$interpolate",function(n,i,o,s,l,c,u){var d=i.find("body"),p=o("mFormat");return{require:"ngModel",scope:!0,link:function(i,o,f,h){function g(e){if(e)return p(e,S,N)}function m(e){if(!e)return"";var n=t(e,S);return n.isValid()?n:void 0}function v(e){D=e,f.minDate=e?e.format():e,L=t.isMoment(e)}function y(e){O=e,f.maxDate=e?e.format():e,R=t.isMoment(e)}function b(){k=s.template(f)}function x(e){e.stopPropagation(),h.$pristine&&(h.$dirty=!0,h.$pristine=!1,o.removeClass(r).addClass(a),A&&A.$setDirty(),h.$render())}function w(){E&&(E.remove(),E=null),j&&(j.remove(),j=null)}function _(){if(!E){if(E=n(k)(i),i.$digest(),F||(i.$on("setDate",function(e,t,n,r){x(e),B&&B(f.ngModel,t,r),M&&T[T.length-1]===n&&w()}),i.$on("hidePicker",function(){o.triggerHandler("blur")}),i.$on("$destroy",w),F=!0),"absolute"===P){var t=o[0].getBoundingClientRect(),r=t.height||o[0].offsetHeight;E.css({top:t.top+r+"px",left:t.left+"px",display:"block",position:P}),d.append(E)}else j=e.element("<div date-picker-wrapper></div>"),o[0].parentElement.insertBefore(j[0],o[0]),j.append(E),E.css({top:o[0].offsetHeight+"px",display:"block"});E.bind("mousedown",function(e){e.preventDefault()})}}var k,S=f.format||s.format,A=o.inheritedData("$formController"),T=l(f.views)(i)||s.views.concat(),$=f.view||T[0],C=T.indexOf($),M=f.autoClose?l(f.autoClose)(i):s.autoClose,E=null,I=u(o[0].id)(i),P=f.position||s.position,j=null,D=null,L=null,O=null,R=null,N=f.timezone||!1,z=c.eventIsForPicker,B=null,F=!1;C===-1&&T.splice(C,1),T.unshift($),h.$formatters.push(g),h.$parsers.unshift(m),e.isDefined(f.minDate)&&(v(c.findParam(i,f.minDate)),h.$validators.min=function(e){return!L||t.isMoment(e)&&(D.isSame(e)||D.isBefore(e))}),e.isDefined(f.maxDate)&&(y(c.findParam(i,f.maxDate)),h.$validators.max=function(e){return!R||t.isMoment(e)&&(O.isSame(e)||O.isAfter(e))}),e.isDefined(f.dateChange)&&(B=c.findFunction(i,f.dateChange)),I&&i.$on("pickerUpdate",function(t,n,r){if(z(n,I))if(E);else{var a=!1;e.isDefined(r.minDate)&&(v(r.minDate),a=!0),e.isDefined(r.maxDate)&&(y(r.maxDate),a=!0),e.isDefined(r.minView)&&(f.minView=r.minView),e.isDefined(r.maxView)&&(f.maxView=r.maxView),e.isDefined(r.timezone)&&(N=f.timezone=r.timezone,a=!0),f.view=r.view||f.view,a&&h.$validate(),e.isDefined(r.format)&&(S=f.format=r.format||s.format,h.$modelValue=-1),b()}}),o.bind("focus",_),o.bind("blur",w),b()}}}]),e.module("datePicker").run(["$templateCache",function(e){e.put("templates/datepicker.html",'<div ng-switch="view">\n  <div ng-switch-when="date">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'month\')" ng-bind="date|mFormat:\'YYYY MMMM\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      <tr>\n        <th ng-repeat="day in weekdays" style="overflow: hidden" ng-bind="day|mFormat:\'ddd\':tz"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="week in weeks" ng-init="$index2 = $index">\n        <td ng-repeat="day in week">\n          <span\n            ng-class="classes[$index2][$index]"\n            ng-click="selectDate(day)" ng-bind="day|mFormat:\'DD\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="year">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev(10)">&lsaquo;</th>\n        <th colspan="5" class="switch"ng-bind="years[0].year()+\' - \'+years[years.length-1].year()"></th>\n        <th ng-click="next(10)">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-class="classes[$index]"\n                ng-repeat="year in years"\n                ng-click="selectDate(year)" ng-bind="year.year()"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="month">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'year\')" ng-bind="date|mFormat:\'YYYY\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="month in months"\n                ng-class="classes[$index]"\n                ng-click="selectDate(month)"\n                ng-bind="month|mFormat:\'MMM\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="hours">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev(24)">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'date\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\n        <th ng-click="next(24)">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="hour in hours"\n                ng-class="classes[$index]"\n                ng-click="selectDate(hour)" ng-bind="hour|mFormat:\'HH:mm\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="minutes">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'hours\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="minute in minutes"\n                ng-class="classes[$index]"\n                ng-click="selectDate(minute)"\n                ng-bind="minute|mFormat:\'HH:mm\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>')}])})},{"./../../angular/angular.js":11,"./../../moment/moment.js":16}],4:[function(e,t,n){angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(e){return e}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(e,t,n,r,a){function i(){a.$broadcast("gettextLanguageChanged")}var o,s="$$noContext",l='<span id="test" title="test" class="tested">test</span>',c=angular.element("<span>"+l+"</span>").html()!==l,u=function(e){return o.debug&&o.currentLanguage!==o.baseLanguage?o.debugPrefix+e:e},d=function(e){return o.showTranslatedMarkers?o.translatedMarkerPrefix+e+o.translatedMarkerSuffix:e};return o={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:n("strings"),setCurrentLanguage:function(e){this.currentLanguage=e,i()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,t){this.strings[e]||(this.strings[e]={});for(var n in t){var r=t[n];if(c&&(n=angular.element("<span>"+n+"</span>").html()),angular.isString(r)||angular.isArray(r)){var a={};a[s]=r,r=a}for(var o in r){var l=r[o];r[o]=angular.isArray(l)?l:[l]}this.strings[e][n]=r}i()},getStringForm:function(e,t,n){var r=this.strings[this.currentLanguage]||{},a=r[e]||{},i=a[n||s]||[];return i[t]},getString:function(e,t,n){return e=this.getStringForm(e,0,n)||u(e),e=t?r(e)(t):e,d(e)},getPlural:function(t,n,a,i,o){var s=e(this.currentLanguage,t);return n=this.getStringForm(n,s,o)||u(1===t?n:a),i&&(i.$count=t,n=r(n)(i)),d(n)},loadRemote:function(e){return t({method:"GET",url:e,cache:o.cache}).then(function(e){var t=e.data;for(var n in t)o.setStrings(n,t[n]);return e})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(e,t,n,r,a){function i(e,t,n){if(!e)throw new Error("You should add a "+t+" attribute whenever you add a "+n+" attribute.")}var o=function(){return String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}(),s=parseInt((/msie (\d+)/.exec(angular.lowercase(a.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(a,l){i(!l.translatePlural||l.translateN,"translate-n","translate-plural"),i(!l.translateN||l.translatePlural,"translate-plural","translate-n");var c=o(a.html()),u=l.translatePlural,d=l.translateContext;return s<=8&&"<!--IE fix-->"===c.slice(-13)&&(c=c.slice(0,-13)),{post:function(a,i,s){function l(){var t;u?(a=f||(f=a.$new()),a.$count=p(a),t=e.getPlural(a.$count,c,u,null,d)):t=e.getString(c,null,d);var s=i.contents();if(0!==s.length){if(t===o(s.html()))return void(h&&r(s)(a));var l=angular.element("<span>"+t+"</span>");r(l.contents())(a);var g=l.contents();n.enter(g,i),n.leave(s)}}var p=t(s.translateN),f=null,h=!0;s.translateN&&a.$watch(s.translateN,l),a.$on("gettextLanguageChanged",l),l(),h=!1}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(e){function t(t,n){return e.getString(t,null,n)}return t.$stateful=!0,t}]),angular.module("gettext").factory("gettextPlurals",function(){return function(e,t){switch(e){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return t%10!=1||t%100==11?1:0;case"jv":return 0!=t?1:0;case"mk":return 1==t||t%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return t>1?1:0;case"lv":return t%10==1&&t%100!=11?0:0!=t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"mnk":return 0==t?0:1==t?1:2;case"ro":return 1==t?0:0==t||t%100>0&&t%100<20?1:2;case"pl":return 1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1==t?0:t>=2&&t<=4?1:2;case"sl":return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0;case"mt":return 1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"gd":return 1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3;case"cy":return 1==t?0:2==t?1:8!=t&&11!=t?2:3;case"kw":return 1==t?0:2==t?1:3==t?2:3;case"ga":return 1==t?0:2==t?1:t<7?2:t<11?3:4;case"ar":return 0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5;default:return 1!=t?1:0}}})},{}],5:[function(e,t,n){angular.module("md5",[]).constant("md5",function(){function e(e){return n(t(r(e)))}function t(e){return i(o(a(e),8*e.length))}function n(e){try{}catch(t){h=0}for(var n,r=h?"0123456789ABCDEF":"0123456789abcdef",a="",i=0;i<e.length;i++)n=e.charCodeAt(i),a+=r.charAt(n>>>4&15)+r.charAt(15&n);return a}function r(e){for(var t,n,r="",a=-1;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function a(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function i(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function o(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=n,f=r,h=a,g=i;n=l(n,r,a,i,e[o+0],7,-680876936),i=l(i,n,r,a,e[o+1],12,-389564586),a=l(a,i,n,r,e[o+2],17,606105819),r=l(r,a,i,n,e[o+3],22,-1044525330),n=l(n,r,a,i,e[o+4],7,-176418897),i=l(i,n,r,a,e[o+5],12,1200080426),a=l(a,i,n,r,e[o+6],17,-1473231341),r=l(r,a,i,n,e[o+7],22,-45705983),n=l(n,r,a,i,e[o+8],7,1770035416),i=l(i,n,r,a,e[o+9],12,-1958414417),a=l(a,i,n,r,e[o+10],17,-42063),r=l(r,a,i,n,e[o+11],22,-1990404162),n=l(n,r,a,i,e[o+12],7,1804603682),i=l(i,n,r,a,e[o+13],12,-40341101),a=l(a,i,n,r,e[o+14],17,-1502002290),r=l(r,a,i,n,e[o+15],22,1236535329),n=c(n,r,a,i,e[o+1],5,-165796510),i=c(i,n,r,a,e[o+6],9,-1069501632),a=c(a,i,n,r,e[o+11],14,643717713),r=c(r,a,i,n,e[o+0],20,-373897302),n=c(n,r,a,i,e[o+5],5,-701558691),i=c(i,n,r,a,e[o+10],9,38016083),a=c(a,i,n,r,e[o+15],14,-660478335),r=c(r,a,i,n,e[o+4],20,-405537848),n=c(n,r,a,i,e[o+9],5,568446438),i=c(i,n,r,a,e[o+14],9,-1019803690),a=c(a,i,n,r,e[o+3],14,-187363961),r=c(r,a,i,n,e[o+8],20,1163531501),n=c(n,r,a,i,e[o+13],5,-1444681467),i=c(i,n,r,a,e[o+2],9,-51403784),a=c(a,i,n,r,e[o+7],14,1735328473),r=c(r,a,i,n,e[o+12],20,-1926607734),n=u(n,r,a,i,e[o+5],4,-378558),i=u(i,n,r,a,e[o+8],11,-2022574463),a=u(a,i,n,r,e[o+11],16,1839030562),r=u(r,a,i,n,e[o+14],23,-35309556),n=u(n,r,a,i,e[o+1],4,-1530992060),i=u(i,n,r,a,e[o+4],11,1272893353),a=u(a,i,n,r,e[o+7],16,-155497632),r=u(r,a,i,n,e[o+10],23,-1094730640),n=u(n,r,a,i,e[o+13],4,681279174),i=u(i,n,r,a,e[o+0],11,-358537222),a=u(a,i,n,r,e[o+3],16,-722521979),r=u(r,a,i,n,e[o+6],23,76029189),n=u(n,r,a,i,e[o+9],4,-640364487),i=u(i,n,r,a,e[o+12],11,-421815835),a=u(a,i,n,r,e[o+15],16,530742520),r=u(r,a,i,n,e[o+2],23,-995338651),n=d(n,r,a,i,e[o+0],6,-198630844),i=d(i,n,r,a,e[o+7],10,1126891415),a=d(a,i,n,r,e[o+14],15,-1416354905),r=d(r,a,i,n,e[o+5],21,-57434055),n=d(n,r,a,i,e[o+12],6,1700485571),i=d(i,n,r,a,e[o+3],10,-1894986606),a=d(a,i,n,r,e[o+10],15,-1051523),r=d(r,a,i,n,e[o+1],21,-2054922799),n=d(n,r,a,i,e[o+8],6,1873313359),i=d(i,n,r,a,e[o+15],10,-30611744),a=d(a,i,n,r,e[o+6],15,-1560198380),r=d(r,a,i,n,e[o+13],21,1309151649),n=d(n,r,a,i,e[o+4],6,-145523070),i=d(i,n,r,a,e[o+11],10,-1120210379),a=d(a,i,n,r,e[o+2],15,718787259),r=d(r,a,i,n,e[o+9],21,-343485551),n=p(n,s),r=p(r,f),a=p(a,h),i=p(i,g)}return Array(n,r,a,i)}function s(e,t,n,r,a,i){return p(f(p(p(t,e),p(r,i)),a),n)}function l(e,t,n,r,a,i,o){return s(t&n|~t&r,e,t,a,i,o)}function c(e,t,n,r,a,i,o){return s(t&r|n&~r,e,t,a,i,o)}function u(e,t,n,r,a,i,o){return s(t^n^r,e,t,a,i,o)}function d(e,t,n,r,a,i,o){return s(n^(t|~r),e,t,a,i,o)}function p(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}var h=0;return e}()),function(){var e;e=function(e){return["gravatarService",function(t){var n;return n=function(e,t){var n,r,a;r={};for(n in t)a=t[n],0===n.indexOf(e)&&(n=n.substr(e.length).toLowerCase(),n.length>0&&(r[n]=a));return r},{restrict:"A",link:function(r,a,i){var o,s,l,c;o=e?"gravatarSrcOnce":"gravatarSrc",s=i[o],delete i[o],l=n("gravatar",i),c=r.$watch(s,function(n){if(a.attr("src",t.url(n,l)),e){if(null==n)return;c()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(e){var t,n,r;return n=this,t=/^[0-9a-f]{32}$/i,r=function(e){var t,n,r;n=[];for(t in e)r=e[t],n.push(""+t+"="+encodeURIComponent(r));return n.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(n){var a,i,o,s,l;return o=n.protocol?n.protocol+":":"",l=n.secure?"https://secure":o+"//www",s=t.test(n.src)?n.src:e(n.src),i=[l,".gravatar.com/avatar/",s],a=r(n.params),a.length>0&&i.push("?"+a),i.join("")},this.$get=[function(){return{url:function(e,t){return null==e&&(e=""),null==t&&(t={}),n.urlFunc({params:angular.extend(angular.copy(n.defaults),t),protocol:n.protocol,secure:n.secure,src:e})}}}],this}]).directive("gravatarSrc",e()).directive("gravatarSrcOnce",e(!0))}.call(this)},{}],6:[function(e,t,n){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,a,i,o){function s(){r.cancel(c),o.complete(),d=0,u=0}function l(t){var r,a=n.get("$http"),i=e.defaults;!t.cache&&!i.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(i.cache)?i.cache:a);var o=void 0!==r&&void 0!==r.get(t.url);return void 0!==t.cached&&o!==t.cached?t.cached:(t.cached=o,o)}var c,u=0,d=0,p=o.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(a.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===u&&(c=r(function(){o.start()},p)),u++,o.set(d/u)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,a.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?s():o.set(d/u)),e):(i.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,a.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=u?s():o.set(d/u)),t.reject(e)):(i.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function a(){u||(u=e.get("$animate"));var a=t.find(f).eq(0);n.cancel(p),v||(r.$broadcast("cfpLoadingBar:started"),v=!0,x&&u.enter(h,a,angular.element(a[0].lastChild)),b&&u.enter(m,a,angular.element(a[0].lastChild)),i(w))}function i(e){if(v){var t=100*e+"%";g.css("width",t),y=e,n.cancel(d),d=n(function(){o()},250)}}function o(){if(!(s()>=1)){var e=0,t=s();e=t>=0&&t<.25?(3*Math.random()+3)/100:t>=.25&&t<.65?3*Math.random()/100:t>=.65&&t<.9?2*Math.random()/100:t>=.9&&t<.99?.005:0;var n=s()+e;i(n)}}function s(){return y}function l(){y=0,v=!1}function c(){u||(u=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),i(1),n.cancel(p),p=n(function(){var e=u.leave(h,l);e&&e.then&&e.then(l),u.leave(m)},500)}var u,d,p,f=this.parentSelector,h=angular.element(this.loadingBarTemplate),g=h.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.includeSpinner,x=this.includeBar,w=this.startSize;return{start:a,set:i,status:s,inc:o,complete:c,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},{}],7:[function(e,t,n){!function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&o.test("."+e)}function r(e,r){if(!n(r))throw i("badmember",'Dotted member path "@{0}" is invalid.',r);for(var a=r.split("."),o=0,s=a.length;o<s&&t.isDefined(e);o++){var l=a[o];e=null!==e?e[l]:void 0}return e}function a(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var i=t.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(o,s,l,c){function u(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function p(e,t){this.template=e,this.defaults=m({},n.defaults,t),this.urlParams={}}function f(e,u,d,b){function x(e,t){var n={};return t=m({},u,t),g(t,function(t,a){y(t)&&(t=t()),n[a]=t&&t.charAt&&"@"==t.charAt(0)?r(e,t.substr(1)):t}),n}function w(e){return e.resource}function _(e){a(e||{},this)}var k=new p(e,b);return d=m({},n.defaults.actions,d),_.prototype.toJSON=function(){var e=m({},this);return delete e.$promise,delete e.$resolved,e},g(d,function(e,r){var u=/^(POST|PUT|PATCH)$/i.test(e.method),d=e.timeout,p=t.isDefined(e.cancellable)?e.cancellable:b&&t.isDefined(b.cancellable)?b.cancellable:n.defaults.cancellable;d&&!t.isNumber(d)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,d=null),_[r]=function(n,s,f,b){var S,A,T,$={};switch(arguments.length){case 4:T=b,A=f;case 3:case 2:if(!y(s)){$=n,S=s,A=f;break}if(y(n)){A=n,T=s;break}A=s,T=f;case 1:y(n)?A=n:u?S=n:$=n;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C,M,E=this instanceof _,I=E?S:e.isArray?[]:new _(S),P={},j=e.interceptor&&e.interceptor.response||w,D=e.interceptor&&e.interceptor.responseError||void 0;g(e,function(e,t){switch(t){default:P[t]=v(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&p&&(C=l.defer(),P.timeout=C.promise,d&&(M=c(C.resolve,d))),u&&(P.data=S),k.setUrlParams(P,m({},x(S,e.params||{}),$),e.url);var L=o(P).then(function(n){var o=n.data;if(o){if(t.isArray(o)!==!!e.isArray)throw i("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,e.isArray?"array":"object",t.isArray(o)?"array":"object",P.method,P.url);if(e.isArray)I.length=0,g(o,function(e){"object"===("undefined"==typeof e?"undefined":_typeof(e))?I.push(new _(e)):I.push(e)});else{var s=I.$promise;a(o,I),I.$promise=s}}return n.resource=I,n},function(e){return(T||h)(e),l.reject(e)});return L["finally"](function(){I.$resolved=!0,!E&&p&&(I.$cancelRequest=t.noop,c.cancel(M),C=M=P.timeout=null)}),L=L.then(function(e){var t=j(e);return(A||h)(t,e.headers),t},D),E?L:(I.$promise=L,I.$resolved=!1,p&&(I.$cancelRequest=C.resolve),I)},_.prototype["$"+r]=function(e,t,n){y(e)&&(n=t,t=e,e={});var a=_[r].call(this,e,this,t,n);return a.$promise||a}}),_.bind=function(t){return f(e,m({},u,t),d)},_}var h=t.noop,g=t.forEach,m=t.extend,v=t.copy,y=t.isFunction;return p.prototype={setUrlParams:function(n,r,a){var o,s,l=this,c=a||l.template,p="",f=l.urlParams={};g(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(f[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return p=e,""}),r=r||{},g(l.urlParams,function(e,n){o=r.hasOwnProperty(n)?r[n]:l.defaults[n],t.isDefined(o)&&null!==o?(s=e.isQueryParamValue?d(o,!0):u(o),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=p+c.replace(/\/\\\./,"/."),g(r,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},f}]})}(window,window.angular)},{}],8:[function(e,t,n){!function(e,t){"use strict";function n(){function n(e,t){var n,r={},a=e.split(",");for(n=0;n<a.length;n++)r[t?l(a[n]):a[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),y.innerHTML=t;var r=5;do{if(0===r)throw p("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&m(y),t=y.innerHTML,y.innerHTML=t}while(t!==y.innerHTML);for(var a=y.firstChild;a;){switch(a.nodeType){case 1:n.start(a.nodeName.toLowerCase(),f(a.attributes));break;case 3:n.chars(a.textContent)}var i;if(!(i=a.firstChild)&&(1===a.nodeType&&n.end(a.nodeName.toLowerCase()),i=a.nextSibling,!i))for(;null==i&&(a=a.parentNode,a!==y);)i=a.nextSibling,1===a.nodeType&&n.end(a.nodeName.toLowerCase());a=i}for(;a=y.firstChild;)y.removeChild(a)}function f(e){for(var t={},n=0,r=e.length;n<r;n++){var a=e[n];t[a.name]=a.value}return t}function h(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(x,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e,t){var n=!1,r=a(e,e.push);return{start:function(e,a){e=l(e),!n&&C[e]&&(n=e),n||M[e]!==!0||(r("<"),r(e),o(a,function(n,a){var i=l(a),o="img"===e&&"src"===i||"background"===i;j[i]!==!0||E[i]===!0&&!t(n,o)||(r(" "),r(a),r('="'),r(h(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||M[e]!==!0||w[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(h(e))}}}function m(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,a=n.length;r<a;r++){var i=n[r],o=i.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(i),r--,a--)}var s=t.firstChild;s&&m(s),t=t.nextSibling}}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&i(M,$),function(t){var n=[];return u(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(v=e,this):v},a=t.bind,i=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,c=t.noop,u=r,d=g;var y,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^#-~ |!])/g,w=n("area,br,col,hr,img,wbr"),_=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=n("rp,rt"),S=i({},k,_),A=i({},_,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),T=i({},k,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=n("script,style"),M=i({},w,A,T,S),E=n("background,cite,href,longdesc,src,xlink:href"),I=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),j=i({},E,P,I);
!function(e){var t;if(!e.document||!e.document.implementation)throw p("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)y=r[0];else{var a=t.createElement("html");y=t.createElement("body"),a.appendChild(y),t.appendChild(a)}}(e)}function r(e){var t=[],n=d(t,c);return n.chars(e),t.join("")}var a,i,o,s,l,c,u,d,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,a=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function p(e){e&&b.push(r(e))}function f(e,t){var n,r=v(e);b.push("<a ");for(n in r)b.push(n+'="'+r[n]+'" ');!o(u)||"target"in r||b.push('target="',u,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),b.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var h,g,m,v=s(d)?d:l(d)?function(){return d}:function(){return{}},y=t,b=[];h=y.match(n);)g=h[0],h[2]||h[4]||(g=(h[3]?"http://":"mailto:")+g),m=h.index,p(y.substr(0,m)),f(g,h[0].replace(a,"")),y=y.substring(m+h[0].length);return p(y),e(b.join(""))}}])}(window,window.angular)},{}],9:[function(e,t,n){var r=function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",r).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,a,i,o,s){"use strict";var l={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};l.duScrollTo=function(t,n,r,a){var i;if(angular.isElement(t)?i=this.duScrollToElement:angular.isDefined(r)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var o=d(this);return c(o)?e.scrollTo(t,n):(o.scrollLeft=t,void(o.scrollTop=n))};var p,f;l.duScrollToAnimated=function(e,i,o,l){o&&!l&&(l=a);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),h=Math.round(i-u),g=null,m=0,v=this,y=function x(e){(!e||m&&e.which>0)&&(s&&v.unbind(s,x),n(p),f.reject(),p=null)};if(p&&y(),f=t.defer(),0===o||!d&&!h)return 0===o&&v.duScrollTo(e,i),f.resolve(),f.promise;var b=function w(e){null===g&&(g=e),m=e-g;var t=m>=o?1:l(m/o);v.scrollTo(c+Math.ceil(d*t),u+Math.ceil(h*t)),t<1?p=r(w):(s&&v.unbind(s,y),p=null,f.resolve())};return v.duScrollTo(c,u),s&&v.bind(s,y),p=r(b),f.promise},l.duScrollToElement=function(e,t,n,r){var a=d(this);angular.isNumber(t)&&!isNaN(t)||(t=o);var i=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(a)&&(i-=a.getBoundingClientRect().top),this.duScrollTo(0,i,n,r)},l.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var a=d(this);return c(a)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:a.scrollLeft},l.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var a=d(this);return c(a)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop},l.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||i,r)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||i,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||i,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var a,i=n.substr(0,1).toUpperCase()+n.substr(1),o=0;o<t.length;o++)if(a=t[o]+i,e[a])return e[a];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e,r){var a=(new Date).getTime(),i=Math.max(0,16-(a-n)),o=t(function(){e(a+i)},i);return n=a+i,o};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,r,a,i,o,s,l){"use strict";var c=function(a){var c=!1,u=!1,d=function(){u=!1;var t,o=a.container,c=o[0],d=0;"undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE?(d=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=r[0].body.scrollHeight;var p,f,h,g,m,v,y=s&&t?"bottom":"top";for(g=a.spies,f=a.currentlyActive,h=void 0,p=0;p<g.length;p++)m=g[p],v=m.getTargetPosition(),v&&(s&&t||v.top+m.offset-d<20&&(i||v.top*-1+d)<v.height)&&(!h||h[y]<v[y])&&(h={spy:m},h[y]=v[y]);h&&(h=h.spy),f===h||i&&!h||(f&&(f.$element.removeClass(l),e.$broadcast("duScrollspy:becameInactive",f.$element,angular.element(f.getTargetElement()))),h&&(h.$element.addClass(l),e.$broadcast("duScrollspy:becameActive",h.$element,angular.element(h.getTargetElement()))),a.currentlyActive=h)};return o?function(){c?u=!0:(d(),c=t(function(){c=!1,u&&d()},o,!1))}:d},u={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){p(e)}),t},p=function(e){var t=e.$id,n=u[t],r=n.container;r&&r.off("scroll",n.handler),delete u[t]},f=d(e),h=function b(e){return u[e.$id]?u[e.$id]:e.$parent?b(e.$parent):u[f]},g=function(e){var t,n,r=e.$scope;if(r)return h(r);for(n in u)if(t=u[n],t.spies.indexOf(e)!==-1)return t},m=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=g(e);t&&(t.spies.push(e),t.container&&m(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=a.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},y=function(e){var t=g(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);n!==-1&&t.spies.splice(n,1),e.$element=null};return{addSpy:v,removeSpy:y,createContext:d,destroyContext:p,getContextForScope:h}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function o(e){return t[e.$id]?e.$id:e.$parent?o(e.$parent):void 0},a=function(n){var a=r(n);return a?t[a]:e},i=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:a,setContainer:n,removeContainer:i}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,a,i){a.on("click",function(a){if(i.href&&i.href.indexOf("#")!==-1||""!==i.duSmoothScroll){var o=i.href?i.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duSmoothScroll,s=document.getElementById(o)||document.getElementsByName(o)[0];if(s&&s.getBoundingClientRect){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault();var l=i.offset?parseInt(i.offset,10):t,c=i.duration?parseInt(i.duration,10):e,u=n.getContainer(r);u.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,a){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,a){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var a=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return a.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},a.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},a.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(i,o,s){var l,c=s.ngHref||s.href;if(c&&c.indexOf("#")!==-1?l=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var u=n(function(){var n=new a(l,i,o,(-(s.offset?parseInt(s.offset,10):t)));e.addSpy(n),i.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));i.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);i.$on("$destroy",function(){n.cancel(u)})}}}}])},{}],10:[function(e,t,n){"undefined"!=typeof t&&"undefined"!=typeof n&&t.exports===n&&(t.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return U(new(U(function(){},{prototype:e})),t)}function a(e){return H(arguments,function(t){t!==e&&H(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function i(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return H(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var a,l=i(n,r),c={},u=[];for(var d in l)if(l[d]&&l[d].params&&(a=o(l[d].params),a.length))for(var p in a)s(u,a[p])>=0||(u.push(a[p]),c[a[p]]=e[a[p]]);return U({},c,t)}function c(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!=t[i])return!1}return!0}function u(e,t){var n={};return H(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return H(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)s(n,r)==-1&&(t[r]=e[r]);return t}function f(e,t){var n=F(e),r=n?[]:{};return H(e,function(e,a){t(e,a)&&(r[n?r.length:a]=e)}),r}function h(e,t){var n=F(e)?[]:{};return H(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,i=2,l={},c=[],u=l,d=U(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(e,n){if(y[n]!==i){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,z(e))m.push(n,[function(){return t.get(e)}],c);else{var a=t.annotate(e);H(a,function(e){e!==n&&l.hasOwnProperty(e)&&f(l[e],e)}),m.push(n,e,a)}v.pop(),y[n]=i}}function h(e){return B(e)&&e.then&&e.$$promises}if(!B(l))throw new Error("'invocables' must be an object");var g=o(l||{}),m=[],v=[],y={};return H(l,f),l=v=y=null,function(r,i,o){function s(){--x||(w||a(b,i.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(b))}function l(e){v.$$failure=e,f.reject(e)}function c(n,a,i){function c(e){d.reject(e),l(e)}function u(){if(!R(v.$$failure))try{d.resolve(t.invoke(a,o,b)),d.promise.then(function(e){b[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),p=0;H(i,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,y[e].then(function(t){b[e]=t,--p||u()},c))}),p||u(),y[n]=d.promise}if(h(r)&&o===n&&(o=i,i=r,r=null),r){if(!B(r))throw new Error("'locals' must be an object")}else r=u;if(i){if(!h(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=d;var f=e.defer(),v=f.promise,y=v.$$promises={},b=U({},r),x=1+m.length/3,w=!1;if(R(i.$$failure))return l(i.$$failure),v;i.$$inheritedValues&&a(b,p(i.$$inheritedValues,g)),U(y,i.$$promises),i.$$values?(w=a(b,p(i.$$values,g)),v.$$inheritedValues=p(i.$$values,g),s()):(i.$$inheritedValues&&(v.$$inheritedValues=p(i.$$inheritedValues,g)),i.then(s,l));for(var _=0,k=m.length;_<k;_+=3)r.hasOwnProperty(m[_])?s():c(m[_],m[_+1],m[_+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return N(e)?e(t):e},this.fromUrl=function(n,r){return N(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,a){function i(t,n,r,a){if(m.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new G.Param(t,n,r,a),g[t]}function o(e,t,n,r){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:a=["(",")"+(r?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+n+"|",")?"]}return i+a[0]+t+a[1]}function s(a,i){var o,s,l,c,u;return o=a[2]||a[3],u=t.params[o],l=e.substring(p,a.index),s=i?a[4]:a[4]||("*"==a[1]?".*":null),s&&(c=G.type(s)||r(G.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:l,type:c,cfg:u}}t=U({params:{}},B(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],h=a?a.params:{},g=this.params=a?a.params.$$new():new G.ParamSet,m=[];this.source=e;for(var v,y,b;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=i(v.id,v.type,v.cfg,"path"),d+=o(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),p=c.lastIndex;b=e.substring(p);var x=b.indexOf("?");if(x>=0){var w=this.sourceSearch=b.substring(x);if(b=b.substring(0,x),this.sourcePath=e.substring(0,p+x),w.length>0)for(p=0;l=u.exec(w);)v=s(l,!0),y=i(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(b)+(t.strict===!1?"/?":"")+"$",f.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function y(e){U(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function a(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function i(){return{strict:g,caseInsensitive:p}}function l(e){return N(e)||F(e)&&N(e[e.length-1])}function c(){for(;_.length;){var e=_.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(x[e.name],d.invoke(e.def))}}function u(e){U(this,e||{})}G=this;var d,p=!1,g=!0,m=!1,x={},w=!0,_=[],k={string:{encode:e,decode:a,is:function(e){return null==e||!R(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(p=e),p},this.strictMode=function(e){return R(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!R(e))return m;if(e!==!0&&e!==!1&&!z(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,U(i(),t))},this.isMatcher=function(e){if(!B(e))return!1;var t=!0;return H(v.prototype,function(n,r){N(n)&&(t=t&&R(e[r])&&N(e[r]))}),t},this.type=function(e,t,n){if(!R(t))return x[e];if(x.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return x[e]=new y(U({name:e},t)),n&&(_.push({name:e,def:n}),w||c()),this},H(k,function(e,t){x[t]=new y(U({name:t},e))}),x=r(x,{}),this.$get=["$injector",function(e){return d=e,w=!1,c(),H(k,function(e,t){x[t]||(x[t]=new y(e))}),this}],this.Param=function(e,r,a,i){function c(e){var t=B(e)?o(e):[],n=s(t,"value")===-1&&s(t,"type")===-1&&s(t,"squash")===-1&&s(t,"array")===-1;return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function u(n,r,a){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?x[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===a?x.any:x.string}function p(){var t={array:"search"===i&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return U(t,n,a).array}function g(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!R(n)||null==n)return m;if(n===!0||z(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,r,a){var i,o,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return i=F(e.replace)?e.replace:[],z(a)&&i.push({from:a,to:n}),o=h(i,function(e){return e.from}),f(l,function(e){return s(o,e.from)===-1}).concat(i)}function b(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(a.$$fn);if(null!==e&&e!==n&&!k.type.is(e))throw new Error("Default value ("+e+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return e}function w(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f(k.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),R(e)?k.type.$normalize(e):b()}function _(){return"{Param:"+e+" "+r+" squash: '"+T+"' optional: "+A+"}"}var k=this;a=c(a),r=u(a,r,i);var S=p();r=S?r.$asArray(S,"search"===i):r,"string"!==r.name||S||"path"!==i||a.value!==n||(a.value="");var A=a.value!==n,T=g(a,A),$=v(a,S,A,T);U(this,{id:e,type:r,location:i,array:S,squash:T,replace:$,isOptional:A,value:w,dynamic:n,config:a,toString:_})},u.prototype={$$new:function(){return r(this,U(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=o(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),H(t,function(t){H(o(t),function(t){s(e,t)===-1&&s(r,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return H(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return H(r.$$keys(),function(a){var i=e&&e[a],o=t&&t[a];r[a].type.equals(i,o)||(n=!1)}),n},$$validates:function(e){var r,a,i,o,s,l=this.$$keys();for(r=0;r<l.length&&(a=this[l[r]],i=e[l[r]],i!==n&&null!==i||!a.isOptional);r++){if(o=a.type.$normalize(i),!a.type.is(o))return!1;if(s=a.type.encode(o),t.isString(s)&&!a.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function x(e,r){function a(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!R(r)||r}function s(r,a,i,o,s){function p(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function f(e){function t(e){var t=e(i,r);return!!t&&(z(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&r.url()===g;g=n;var a,o=c.length;for(a=0;a<o;a++)if(t(c[a]))return;u&&t(u)}}function h(){return l=l||a.$on("$locationChangeSuccess",f)}var g,m=o.baseHref(),v=r.url();return c.sort(function(e,t){var n=e.prefix?e.prefix.length:0,r=t.prefix?t.prefix.length:0;return r-n}),d||h(),{sync:function(){f()},listen:function(){return h()},update:function(e){return e?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(e,t,a){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),r.url(i),g=a&&a.$$avoidResync?r.url():n,a&&a.replace&&r.replace()},href:function(n,a,i){if(!n.validates(a))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&s.history;var l=n.format(a);if(i=i||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&a&&a["#"]&&(l+="#"+a["#"]),l=p(l,o,i.absolute),!i.absolute||!l)return l;var c=!o&&l?"/":"",u=r.port();return u=80===u||443===u?"":":"+u,[r.protocol(),"://",r.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!N(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(z(e)){var t=e;e=function(){return t}}else if(!N(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=z(t);if(z(e)&&(e=r.compile(e)),!s&&!N(t)&&!F(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),U(function(n,r){return o(n,t,e.exec(r.path(),r.search()))},{prefix:z(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return i(n,e)}]),U(function(n,r){return o(n,t,e.exec(r.path()))},{prefix:a(e)})}},c={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(e,a){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var r=z(e),a=r?e:e.name,o=i(a);if(o){if(!t)throw new Error("No reference point given for path '"+a+"'");t=p(t);for(var s=a.split("."),l=0,c=s.length,u=t;l<c;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),a=u.name+(u.name&&s?".":"")+s}var d=A[a];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function f(e,t){T[e]||(T[e]=[]),T[e].push(t)}function g(e){for(var t=T[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!z(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var a=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):z(t.parent)?t.parent:B(t.parent)&&z(t.parent.name)?t.parent.name:"";if(a&&!A[a])return f(a,t.self);for(var i in C)N(C[i])&&(t[i]=C[i](t,C.$delegates[i]));return A[n]=t,!t[$]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=S.$current.name.split("."),r=0,a=t.length;r<a;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function b(e,t){return z(e)&&!R(t)?C[e]:N(t)&&z(e)?(C[e]&&!C.$delegates[e]&&(C.$delegates[e]=C[e]),C[e]=t,this):this}function x(e,t){return B(e)?t=e:t.name=e,m(t),this}function w(e,a,i,s,d,f,g,m,b){function x(t,n,r,i){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return g.update(),M;if(!o.retry)return null;if(i.$retry)return g.update(),E;var s=S.transition=a.when(o.retry);return s.then(function(){return s!==S.transition?T:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return M}),g.update(),s}function w(e,n,r,o,l,c){function p(){var n=[];return H(e.views,function(r,a){var o=r.resolve&&r.resolve!==e.resolve?r.resolve:{};o.$template=[function(){return i.load(a,{view:r,locals:l.globals,params:f,notify:c.notify})||""}],n.push(d.resolve(o,l.globals,l.resolve,e).then(function(n){if(N(r.controllerProvider)||F(r.controllerProvider)){var i=t.extend({},o,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,i)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,l[a]=n}))}),a.all(n).then(function(){return l.globals})}var f=r?n:u(e.params.$$keys(),n),h={$stateParams:f};l.resolve=d.resolve(e.resolve,h,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return o&&g.push(o),a.all(g).then(p).then(function(e){return l})}var T=a.reject(new Error("transition superseded")),C=a.reject(new Error("transition prevented")),M=a.reject(new Error("transition aborted")),E=a.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:k.self,$current:k,transition:null},S.reload=function(e){return S.transitionTo(S.current,f,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,U({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,i){n=n||{},i=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o,c=S.$current,d=S.params,h=c.path,m=p(t,i.relative),v=n["#"];if(!R(m)){var y={to:t,toParams:n,options:i},b=x(y,c.self,d,i);if(b)return b;if(t=y.to,n=y.toParams,i=y.options,m=p(t,i.relative),!R(m)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(m[$])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(n=l(f,n||{},S.$current,m)),!m.params.$$validates(n))return E;n=m.params.$$values(n),t=m;var A=t.path,M=0,I=A[M],P=k.locals,j=[];if(i.reload){if(z(i.reload)||B(i.reload)){if(B(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var D=i.reload===!0?h[0]:p(i.reload);if(i.reload&&!D)throw new Error("No such reload state '"+(z(i.reload)?i.reload:i.reload.name)+"'");for(;I&&I===h[M]&&I!==D;)P=j[M]=I.locals,M++,I=A[M]}}else for(;I&&I===h[M]&&I.ownParams.$$equals(n,d);)P=j[M]=I.locals,M++,I=A[M];if(_(t,n,c,d,P,i))return v&&(n["#"]=v),S.params=n,q(S.params,f),q(u(t.params.$$keys(),f),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===i.location}),g.update(!0)),S.transition=null,a.when(S.current);if(n=u(t.params.$$keys(),n||{}),v&&(n["#"]=v),i.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,d,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,d),null==S.transition&&g.update(),C;for(var L=a.when(P),O=M;O<A.length;O++,I=A[O])P=j[O]=r(P),L=w(I,n,I===t,L,P,i);var N=S.transition=L.then(function(){var r,a,o;if(S.transition!==N)return T;for(r=h.length-1;r>=M;r--)o=h[r],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=M;r<A.length;r++)a=A[r],a.locals=j[r],a.self.onEnter&&s.invoke(a.self.onEnter,a.self,a.locals.globals);return S.transition!==N?T:(S.$current=t,S.current=t.self,S.params=n,q(S.params,f),S.transition=null,i.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,d),g.update(!0),S.current)},function(r){return S.transition!==N?T:(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,d,r),o.defaultPrevented||g.update(),a.reject(r))});return N},S.is=function(e,t,r){r=U({relative:S.$current},r||{});var a=p(e,r.relative);return R(a)?S.$current===a&&(!t||c(a.params.$$values(t),f)):n},S.includes=function(e,t,r){if(r=U({relative:S.$current},r||{}),z(e)&&v(e)){if(!y(e))return!1;e=S.$current.name}var a=p(e,r.relative);return R(a)?!!R(S.$current.includes[a.name])&&(!t||c(a.params.$$values(t),f,o(t))):n},S.href=function(e,t,r){r=U({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},r||{});var a=p(e,r.relative);if(!R(a))return null;r.inherit&&(t=l(f,t||{},S.$current,a));var i=a&&r.lossy?a.navigable:a;return i&&i.url!==n&&null!==i.url?g.href(i.url,u(a.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(o(A),function(e){return A[e].self});var n=p(e,t||S.$current);return n&&n.self?n.self:null},S}function _(e,t,n,r,a,i){function o(e,t,n){function r(t){return"search"!=e.params[t].location}var a=e.params.$$keys().filter(r),i=d.apply({},[e.params].concat(a)),o=new G.ParamSet(i);return o.$$equals(t,n)}if(!i.reload&&e===n&&(a===n.locals||e.self.reloadOnSearch===!1&&o(n,r,t)))return!0}var k,S,A={},T={},$="abstract",C={parent:function(e){if(R(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function M(e){var M=e.url,t={params:e.params||{}};if(z(M))return"^"==M.charAt(0)?a.compile(M.substring(1),t):(e.parent.navigable||k).url.concat(M,t);if(!M||a.isMatcher(M))return M;throw new Error("Invalid url '"+M+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return H(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?U(e.parent.params.$$new(),e.ownParams):new G.ParamSet},views:function E(e){var E={};return H(R(e.views)?e.views:{"":e},function(t,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),E[n]=t}),E},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function I(e){var I=e.parent?U({},e.parent.includes):{};return I[e.name]=!0,I},$delegates:{}};k=m({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=b,this.state=x,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function _(){function e(e,t){return{load:function(e,n){var r,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=U(a,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"];
}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,r,a){function i(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,n){var r=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,n,r){t.version.minor>2?c.enter(e,null,n).then(r):c.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(l){var a=l&&l(n,e);return{enter:function(e,t,n){a.enter(e,null,t),n()},leave:function(e,t){a.leave(e),t()}}}return r()}var s=i(),l=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,s){return function(n,i,l){function c(){function e(){t&&t.remove(),n&&n.$destroy()}var t=d,n=f;n&&(n._willBeDestroyed=!0),p?(v.leave(p,function(){e(),d=null}),d=p):(e(),d=null),p=null,f=null}function u(o){var u,d=T(n,l,i,a),y=d&&e.$current&&e.$current.locals[d];if((o||y!==h)&&!n._willBeDestroyed){u=n.$new(),h=e.$current.locals[d],u.$emit("$viewContentLoading",d);var b=s(u,function(e){v.enter(e,i,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),c()});p=b,f=u,f.$emit("$viewContentLoaded",d),f.$eval(g)}}var d,p,f,h,g=l.onload||"",m=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),u(!0)}}};return u}function A(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(a){var i=a.html();return function(a,o,s){var l=n.$current,c=T(a,s,o,r),u=l&&l.locals[c];if(u){o.data("$uiView",{name:c,state:u.$$state}),o.html(u.$template?u.$template:i);var d=e(o.contents());if(u.$$controller){u.$scope=a,u.$element=o;var p=t(u.$$controller,u);u.$$controllerAs&&(a[u.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}d(a)}}}}}function T(e,t,n,r){var a=r(t.uiView||t.name||"")(e),i=n.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(i?i.state.name:"")}function $(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function C(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function M(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function E(e,t,n,r,a){return function(i){var o=i.which||i.button,s=a();if(!(o>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});i.preventDefault();var c=r.isAnchor&&!s.href?1:0;i.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function I(e,t){return{relative:C(e)||t.$current,inherit:!0}}function P(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,a,i,o){var s=$(i.uiSref,e.current.name),l={state:s.state,href:null,params:null},c=M(a),u=o[1]||o[0];l.options=U(I(a,e),i.uiSrefOpts?r.$eval(i.uiSrefOpts):{});var d=function(n){n&&(l.params=t.copy(n)),l.href=e.href(s.state,l.params,l.options),u&&u.$$addStateInfo(s.state,l.params),null!==l.href&&i.$set(c.attr,l.href)};s.paramExpr&&(r.$watch(s.paramExpr,function(e){e!==l.params&&d(e)},!0),l.params=t.copy(r.$eval(s.paramExpr))),d(),c.clickable&&a.bind("click",E(a,e,n,c,function(){return l}))}}}function j(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,a,i){function o(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),l&&l.$$addStateInfo(ref.state,d.params),d.href&&a.$set(s.attr,d.href)}var s=M(r),l=i[1]||i[0],c=[a.uiState,a.uiStateParams||null,a.uiStateOpts||null],u="["+c.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null};n.$watch(u,o,!0),o(n.$eval(u)),s.clickable&&r.bind("click",E(r,e,t,s,function(){return d}))}}}function D(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,a,i){function o(t,n,a){var i=e.get(t,C(r)),o=s(t,n);h.push({state:i||{name:t},params:n,hash:o}),g[o]=a}function s(e,n){if(!z(e))throw new Error("state should be a string");return B(n)?e+V(n):(n=t.$eval(n),B(n)?e+V(n):e)}function l(){for(var e=0;e<h.length;e++)d(h[e].state,h[e].params)?c(r,g[h[e].hash]):u(r,g[h[e].hash]),p(h[e].state,h[e].params)?c(r,f):u(r,f)}function c(e,t){i(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function d(t,n){return e.includes(t.name,n)}function p(t,n){return e.is(t.name,n)}var f,h=[],g={};f=n(a.uiSrefActiveEq||"",!1)(t);var m=t.$eval(a.uiSrefActive)||n(a.uiSrefActive||"",!1)(t);B(m)&&H(m,function(n,r){if(z(n)){var a=$(n,e.current.name);o(a.state,t.$eval(a.paramExpr),r)}}),this.$$addStateInfo=function(e,t){B(m)&&h.length>0||(o(e,t,m),l())},t.$on("$stateChangeSuccess",l),l()}]}}function L(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function O(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var R=t.isDefined,N=t.isFunction,z=t.isString,B=t.isObject,F=t.isArray,H=t.forEach,U=t.extend,q=t.copy,V=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var G;v.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,U(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),a=h(r,t);return h(a,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var a,i,o,s=this.parameters(),l=s.length,c=this.segments.length-1,u={};if(c!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,p;for(a=0;a<c;a++){for(o=s[a],d=this.params[o],p=r[a+1],i=0;i<d.replace.length;i++)d.replace[i].from===p&&(p=d.replace[i].to);p&&d.array===!0&&(p=n(p)),R(p)&&(p=d.type.decode(p)),u[o]=d.value(p)}for(;a<l;a++){for(o=s[a],u[o]=this.params[o].value(t[o]),d=this.params[o],p=t[o],i=0;i<d.replace.length;i++)d.replace[i].from===p&&(p=d.replace[i].to);R(p)&&(p=d.type.decode(p)),u[o]=d.value(p)}return u},v.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),a=this.params;if(!this.validates(e))return null;var i,o=!1,s=n.length-1,l=r.length,c=n[0];for(i=0;i<l;i++){var u=i<s,d=r[i],p=a[d],f=p.value(e[d]),g=p.isOptional&&p.type.equals(p.value(),f),m=!!g&&p.squash,v=p.type.encode(f);if(u){var y=n[i+1],b=i+1===s;if(m===!1)null!=v&&(c+=F(v)?h(v,t).join("-"):encodeURIComponent(v)),c+=y;else if(m===!0){var x=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(x)[1]}else z(m)&&(c+=m+y);b&&p.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(F(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+d+"="),c+=(o?"&":"?")+(d+"="+v),o=!0}}return c},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return F(e)?e:R(e)?[e]:[]}function i(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){if(F(n)&&0===n.length)return n;n=a(n);var r=h(n,e);return t===!0?0===f(r,o).length:i(r)}}function l(e){return function(t,n){var r=a(t),i=a(n);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],i[o]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",x),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",w),_.$inject=[],t.module("ui.router.state").provider("$view",_),t.module("ui.router.state").provider("$uiViewScroll",k),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],A.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",A),P.$inject=["$state","$timeout"],j.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",P).directive("uiSrefActive",D).directive("uiSrefActiveEq",D).directive("uiState",j),L.$inject=["$state"],O.$inject=["$state"],t.module("ui.router.state").filter("isState",L).filter("includedByState",O)}(window,window.angular)},{}],11:[function(e,t,n){!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,a=2,i=arguments,o=i[0],s="["+(e?e+":":"")+o+"] ",l=i[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+a;return n<i.length?ye(i[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.5/"+(e?e+"/":"")+o,r=a,n="?";r<i.length;r++,n="&")s+=n+"p"+(r-a)+"="+encodeURIComponent(ye(i[r]));return new t(s)}}function n(e){if(null==e||T(e))return!1;if(Gr(e)||w(e)||Lr&&e instanceof Lr)return!0;var t="length"in Object(e)&&e.length;return _(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,a){var i,o;if(e)if(S(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(a,e[i],i,e);else if(Gr(e)||n(e)){var s="object"!==("undefined"==typeof e?"undefined":_typeof(e));for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(a,e[i],i,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,a,e);else if(x(e))for(i in e)t.call(a,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(a,e[i],i,e);else for(i in e)Mr.call(e,i)&&t.call(a,e[i],i,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),a=0;a<r.length;a++)t.call(n,e[r[a]],r[a]);return r}function i(e){return function(t,n){e(n,t)}}function o(){return++Vr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,a=0,i=t.length;a<i;++a){var o=t[a];if(b(o)||S(o))for(var c=Object.keys(o),u=0,d=c.length;u<d;u++){var p=c[u],f=o[p];n&&b(f)?k(f)?e[p]=new Date(f.valueOf()):A(f)?e[p]=new RegExp(f):f.nodeName?e[p]=f.cloneNode(!0):L(f)?e[p]=f.clone():(b(e[p])||(e[p]=Gr(f)?[]:{}),l(e[p],[f],!0)):e[p]=f}}return s(e,r),e}function c(e){return l(e,Nr.call(arguments,1),!1)}function u(e){return l(e,Nr.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function f(){}function h(e){return e}function g(e){return function(){return e}}function m(e){return S(e.toString)&&e.toString!==Fr}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))}function x(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&!Hr(e)}function w(e){return"string"==typeof e}function _(e){return"number"==typeof e}function k(e){return"[object Date]"===Fr.call(e)}function S(e){return"function"==typeof e}function A(e){return"[object RegExp]"===Fr.call(e)}function T(e){return e&&e.window===e}function $(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"[object File]"===Fr.call(e)}function M(e){return"[object FormData]"===Fr.call(e)}function E(e){return"[object Blob]"===Fr.call(e)}function I(e){return"boolean"==typeof e}function P(e){return e&&S(e.then)}function j(e){return e&&_(e.length)&&Wr.test(Fr.call(e))}function D(e){return"[object ArrayBuffer]"===Fr.call(e)}function L(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function R(e){return Er(e.nodeName||e[0]&&e[0].nodeName)}function N(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function z(e,t){function n(e,t){var n,r=t.$$hashKey;if(Gr(e))for(var i=0,o=e.length;i<o;i++)t.push(a(e[i]));else if(x(e))for(n in e)t[n]=a(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=a(e[n]));else for(n in e)Mr.call(e,n)&&(t[n]=a(e[n]));return s(t,r),t}function a(e){if(!b(e))return e;var t=o.indexOf(e);if(t!==-1)return l[t];if(T(e)||$(e))throw Ur("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,a=i(e);return void 0===a&&(a=Gr(e)?[]:Object.create(Hr(e)),r=!0),o.push(e),l.push(a),r?n(e,a):a}function i(e){switch(Fr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(S(e.cloneNode))return e.cloneNode(!0)}var o=[],l=[];if(t){if(j(t)||D(t))throw Ur("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Ur("cpi","Can't copy! Source and destination are identical.");return Gr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),o.push(e),l.push(t),n(e,t)}return a(e)}function B(e,t){if(Gr(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a])}return t||e}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,a,i="undefined"==typeof e?"undefined":_typeof(e),o="undefined"==typeof t?"undefined":_typeof(t);if(i==o&&"object"==i){if(!Gr(e)){if(k(e))return!!k(t)&&F(e.getTime(),t.getTime());if(A(e))return!!A(t)&&e.toString()==t.toString();if($(e)||$(t)||T(e)||T(t)||Gr(t)||k(t)||A(t))return!1;a=ge();for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!F(e[r],t[r]))return!1;a[r]=!0}for(r in t)if(!(r in a)&&"$"!==r.charAt(0)&&y(t[r])&&!S(t[r]))return!1;return!0}if(!Gr(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!F(e[r],t[r]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(Nr.call(t,n))}function U(e,t){return Nr.call(e,t||0)}function q(e,t){var n=arguments.length>2?U(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:T(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":$(n)&&(r="$SCOPE"),r}function G(e,t){if(!v(e))return _(t)||(t=t?2:null),JSON.stringify(e,V,t)}function W(e){return w(e)?JSON.parse(e):e}function Y(e,t){e=e.replace(Zr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Q(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),a=Y(t,r);return X(e,n*(a-r))}function K(e){e=Lr(e).clone();try{e.empty()}catch(t){}var n=Lr("<div>").append(e).html();try{return e[0].nodeType===aa?Er(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Er(t)})}catch(t){return Er(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function J(e){var t={};return r((e||"").split("&"),function(e){var n,r,a;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),a=e.substring(n+1)),r=Z(r),y(r)&&(a=!y(a)||Z(a),Mr.call(t,r)?Gr(t[r])?t[r].push(a):t[r]=[t[r],a]:t[r]=a))}),t}function ee(e){var t=[];return r(e,function(e,n){Gr(e)?r(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,a=Jr.length;for(r=0;r<a;++r)if(n=Jr[r]+t,w(n=e.getAttribute(n)))return n;return null}function ae(e,t){var n,a,i={};r(Jr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,a=e.getAttribute(r))}),r(Jr,function(t){var r,i=t+"app";!n&&(r=e.querySelector("["+i.replace(":","\\:")+"]"))&&(n=r,a=r.getAttribute(i))}),n&&(i.strictDi=null!==re(n,"strict-di"),t(n,a?[a]:[],i))}function ie(t,n,a){b(a)||(a={});var i={strictDi:!1};a=c(i,a);var o=function(){if(t=Lr(t),t.injector()){var r=t[0]===e.document?"document":K(t);throw Ur("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),a.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var i=nt(n,a.strictDi);return i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(a.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?o():(e.name=e.name.replace(l,""),qr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),o()},void(S(qr.resumeDeferredBootstrap)&&qr.resumeDeferredBootstrap()))}function oe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=qr.element(e).injector();if(!t)throw Ur("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(ea,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!ta){var n=Kr();Or=v(n)?e.jQuery:n?e[n]:void 0,Or&&Or.fn.on?(Lr=Or,c(Or.fn,{scope:ka.scope,isolateScope:ka.isolateScope,controller:ka.controller,injector:ka.injector,inheritedData:ka.inheritedData}),t=Or.cleanData,Or.cleanData=function(e){for(var n,r,a=0;null!=(r=e[a]);a++)n=Or._data(r,"events"),n&&n.$destroy&&Or(r).triggerHandler("$destroy");t(e)}):Lr=Me,qr.element=Lr,ta=!0}}function ue(e,t,n){if(!e)throw Ur("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&Gr(e)&&(e=e[e.length-1]),ue(S(e),t,"not a function, got "+(e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))?e.constructor.name||"Object":"undefined"==typeof e?"undefined":_typeof(e))),e}function pe(e,t){if("hasOwnProperty"===e)throw Ur("badname","hasOwnProperty is not a valid {0} name",t)}function fe(e,t,n){if(!t)return e;for(var r,a=t.split("."),i=e,o=a.length,s=0;s<o;s++)r=a[s],e&&(e=(i=e)[r]);return!n&&S(e)?q(i,e):e}function he(e){for(var t,n=e[0],r=e[e.length-1],a=1;n!==r&&(n=n.nextSibling);a++)(t||e[a]!==n)&&(t||(t=Lr(Nr.call(e,0,a))),t.push(n));return t||e}function ge(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),a=t("ng"),i=n(e,"angular",Object);return i.$$minErr=i.$$minErr||t,n(i,"module",function(){var e={};return function(t,i,o){var s=function(e,t){if("hasOwnProperty"===e)throw a("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),i&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=a),function(){return r[n||"push"]([e,t,arguments]),u}}function n(e,n){return function(r,i){return i&&S(i)&&(i.$$moduleName=t),a.push([e,n,arguments]),u}}if(!i)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var a=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:a,_configBlocks:s,_runBlocks:l,requires:i,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return o&&c(o),u})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=V(e,n),b(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ye(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function be(n){c(n,{bootstrap:ie,copy:z,extend:c,merge:u,equals:F,element:Lr,forEach:r,injector:nt,noop:f,bind:q,toJson:G,fromJson:W,identity:h,isUndefined:v,isDefined:y,isString:w,isFunction:S,isObject:b,isNumber:_,isElement:L,isArray:Gr,version:la,isDate:k,lowercase:Er,uppercase:Ir,callbacks:{counter:0},getTestability:se,$$minErr:t,$$csp:Qr,reloadWithDebugInfo:oe}),(Rr=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:kn}),e.provider("$compile",ft).directive({a:Ei,input:Xi,textarea:Xi,form:Li,script:Vo,select:Yo,style:Qo,option:Xo,ngBind:Zi,ngBindHtml:eo,ngBindTemplate:Ji,ngClass:no,ngClassEven:ao,ngClassOdd:ro,ngCloak:io,ngController:oo,ngForm:Oi,ngHide:No,ngIf:co,ngInclude:uo,ngInit:fo,ngNonBindable:Mo,ngPluralize:jo,ngRepeat:Do,ngShow:Ro,ngStyle:zo,ngSwitch:Bo,ngSwitchWhen:Fo,ngSwitchDefault:Ho,ngOptions:Po,ngTransclude:qo,ngModel:To,ngList:ho,ngChange:to,pattern:Zo,ngPattern:Zo,required:Ko,ngRequired:Ko,minlength:es,ngMinlength:es,maxlength:Jo,ngMaxlength:Jo,ngValue:Ki,ngModelOptions:Co}).directive({ngInclude:po}).directive(Ii).directive(so),e.provider({$anchorScroll:rt,$animate:za,$animateCss:Ha,$$animateJs:Ra,$$animateQueue:Na,$$AnimateRunner:Fa,$$animateAsyncRun:Ba,$browser:ct,$cacheFactory:ut,$controller:bt,$document:xt,$exceptionHandler:wt,$filter:Rn,$$forceReflow:Ya,$interpolate:Lt,$interval:Ot,$http:It,$httpParamSerializer:kt,$httpParamSerializerJQLike:St,$httpBackend:jt,$xhrFactory:Pt,$location:Qt,$log:Kt,$parse:vn,$rootScope:_n,$q:yn,$$q:bn,$sce:$n,$sceDelegate:Tn,$sniffer:Cn,$templateCache:dt,$templateRequest:Mn,$$testability:En,$timeout:In,$window:Dn,$$rAF:wn,$$jqLite:Qe,$$HashMap:$a,$$cookieReader:On})}])}function xe(){return++ua}function we(e){return e.replace(fa,function(e,t,n,r){return r?n.toUpperCase():n}).replace(ha,"Moz$1")}function _e(e){return!ya.test(e)}function ke(e){var t=e.nodeType;return t===na||!t||t===oa}function Se(e){for(var t in ca[e.ng339])return!0;return!1}function Ae(e){for(var t=0,n=e.length;t<n;t++)je(e[t])}function Te(e,t){var n,a,i,o,s=t.createDocumentFragment(),l=[];if(_e(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),a=(ba.exec(e)||["",""])[1].toLowerCase(),i=wa[a]||wa._default,n.innerHTML=i[1]+e.replace(xa,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;l=H(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function $e(t,n){n=n||e.document;var r;return(r=va.exec(t))?[n.createElement(r[1])]:(r=Te(t,n))?r.childNodes:[]}function Ce(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Me(e){if(e instanceof Me)return e;var t;if(w(e)&&(e=Yr(e),t=!0),!(this instanceof Me)){if(t&&"<"!=e.charAt(0))throw ma("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Me(e)}t?ze(this,$e(e)):ze(this,e)}function Ee(e){return e.cloneNode(!0)}function Ie(e,t){if(t||je(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,a=n.length;r<a;r++)je(n[r])}function Pe(e,t,n,a){if(y(a))throw ma("offargs","jqLite#off() does not support the `selector` argument");var i=De(e),o=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=o[t];y(n)&&N(r||[],n),y(n)&&r&&r.length>0||(pa(e,t,s),delete o[t])};r(t.split(" "),function(e){l(e),ga[e]&&l(ga[e])})}else for(t in o)"$destroy"!==t&&pa(e,t,s),delete o[t]}function je(e,t){var n=e.ng339,r=n&&ca[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Pe(e)),delete ca[n],e.ng339=void 0}}function De(e,t){var n=e.ng339,r=n&&ca[n];return t&&!r&&(e.ng339=n=xe(),r=ca[n]={events:{},data:{},handle:void 0}),r}function Le(e,t,n){if(ke(e)){var r=y(n),a=!r&&t&&!b(t),i=!t,o=De(e,!a),s=o&&o.data;if(r)s[t]=n;else{if(i)return s;if(a)return s&&s[t];c(s,t)}}}function Oe(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Re(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Yr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Yr(t)+" "," ")))})}function Ne(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Yr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",Yr(n))}}function ze(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Be(e,t){return Fe(e,"$"+(t||"ngController")+"Controller")}function Fe(e,t,n){e.nodeType==oa&&(e=e.documentElement);for(var r=Gr(t)?t:[t];e;){for(var a=0,i=r.length;a<i;a++)if(y(n=Lr.data(e,r[a])))return n;e=e.parentNode||e.nodeType===sa&&e.host}}function He(e){for(Ie(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ue(e,t){t||Ie(e);var n=e.parentNode;n&&n.removeChild(e)}function qe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Lr(n).on("load",t)}function Ve(e,t){var n=Sa[t.toLowerCase()];return n&&Aa[R(e)]&&n}function Ge(e){return Ta[e]}function We(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var a=t[r||n.type],i=a?a.length:0;if(i){if(v(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=a.specialHandlerWrapper||Ye;i>1&&(a=B(a));for(var l=0;l<i;l++)n.isImmediatePropagationStopped()||s(e,n,a[l])}};return n.elem=e,n}function Ye(e,t,n){n.call(e,t)}function Xe(e,t,n){var r=t.relatedTarget;r&&(r===e||_a.call(e,r))||n.call(e,t)}function Qe(){this.$get=function(){return c(Me,{hasClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)}})}}function Ke(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r="undefined"==typeof e?"undefined":_typeof(e);return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||o)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Je(e){var t=Function.prototype.toString.call(e).replace(Pa,""),n=t.match(Ca)||t.match(Ma);return n}function et(e){var t=Je(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function tt(e,t,n){var a,i,o;if("function"==typeof e){if(!(a=e.$inject)){if(a=[],e.length){if(t)throw w(n)&&n||(n=e.name||et(e)),ja("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=Je(e),r(i[1].split(Ea),function(e){e.replace(Ia,function(e,t,n){a.push(n)})})}e.$inject=a}}else Gr(e)?(o=e.length-1,de(e[o],"fn"),a=e.slice(0,o)):de(e,"fn",!0);return a}function nt(e,t){function n(e){return function(t,n){return b(t)?void r(t,i(e)):e(t,n)}}function a(e,t){if(pe(e,"service"),(S(t)||Gr(t))&&(t=k.instantiate(t)),!t.$get)throw ja("pget","Provider '{0}' must define $get factory method.",e);return _[e+m]=t}function o(e,t){return function(){var n=$.invoke(t,this);if(v(n))throw ja("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return a(e,{$get:n!==!1?o(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,g(t),!1)}function u(e,t){pe(e,"constant"),_[e]=t,A[e]=t}function d(e,t){var n=k.get(e+m),r=n.$get;n.$get=function(){var e=$.invoke(r,n);return $.invoke(t,null,{$delegate:e})}}function p(e){ue(v(e)||Gr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],a=k.get(r[0]);a[r[1]].apply(a,r[2])}}if(!x.get(e)){x.put(e,!0);try{w(e)?(t=Rr(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push(k.invoke(e)):Gr(e)?n.push(k.invoke(e)):de(e,"module")}catch(a){throw Gr(e)&&(e=e[e.length-1]),a.message&&a.stack&&a.stack.indexOf(a.message)==-1&&(a=a.message+"\n"+a.stack),ja("modulerr","Failed to instantiate module {0} due to:\n{1}",e,a.stack||a.message||a)}}}),n}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw ja("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=h,e[t]=n(t,r)}catch(a){throw e[t]===h&&delete e[t],a}finally{y.shift()}}function a(e,n,a){for(var i=[],o=nt.$$annotate(e,t,a),s=0,l=o.length;s<l;s++){var c=o[s];if("string"!=typeof c)throw ja("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:r(c,a))}return i}function i(e){return!(Dr<=11)&&("function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e)))}function o(e,t,n,r){"string"==typeof n&&(r=n,n=null);var o=a(e,n,r);return Gr(e)&&(e=e[e.length-1]),i(e)?(o.unshift(null),new(Function.prototype.bind.apply(e,o))):e.apply(t,o)}function s(e,t,n){var r=Gr(e)?e[e.length-1]:e,i=a(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:o,instantiate:s,get:r,annotate:nt.$$annotate,has:function(t){return _.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var h={},m="Provider",y=[],x=new Ze([],(!0)),_={$provide:{provider:n(a),factory:n(s),service:n(l),value:n(c),constant:n(u),decorator:d}},k=_.$injector=f(_,function(e,t){throw qr.isString(t)&&y.push(t),ja("unpr","Unknown provider: {0}",y.join(" <- "))}),A={},T=f(A,function(e,t){var n=k.get(e+m,t);return $.invoke(n.$get,n,void 0,e);
}),$=T;_["$injector"+m]={$get:g(T)};var C=p(e);return $=T.get("$injector"),$.strictDi=t,r(C,function(e){e&&$.invoke(e)}),$}function rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function a(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===R(e))return t=e,!0}),t}function i(){var e=s.yOffset;if(S(e))e=e();else if(L(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else _(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=i();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=l.getElementById(e))?o(t):(t=a(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||qe(function(){r.$evalAsync(s)})}),s}]}function at(e,t){return e||t?e?t?(Gr(e)&&(e=e.join(" ")),Gr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function it(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===La)return n}}function ot(e){w(e)&&(e=e.split(" "));var t=ge();return r(e,function(e){e.length&&(t[e]=!0)}),t}function st(e){return b(e)?e:{}}function lt(e,t,n,a){function i(e){try{e.apply(null,U(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function o(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){S=null,l(),c()}function l(){x=A(),x=v(x)?null:x,F(x,C)&&(x=C),C=x}function c(){_===u.url()&&w===x||(_=u.url(),w=x,r(T,function(e){e(u.url(),x)}))}var u=this,d=e.location,p=e.history,h=e.setTimeout,g=e.clearTimeout,m={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=i,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){0===y?e():b.push(e)};var x,w,_=d.href,k=t.find("base"),S=null,A=a.history?function(){try{return p.state}catch(e){}}:f;l(),w=x,u.url=function(t,n,r){if(v(r)&&(r=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var i=w===r;if(_===t&&(!a.history||i))return u;var s=_&&Ft(_)===Ft(t);return _=t,w=r,!a.history||s&&i?(s&&!S||(S=t),n?d.replace(t):s?d.hash=o(t):d.href=t,d.href!==t&&(S=t)):(p[n?"replaceState":"pushState"](r,"",t),l(),w=x),u}return S||d.href.replace(/%27/g,"'")},u.state=function(){return x};var T=[],$=!1,C=null;u.onUrlChange=function(t){return $||(a.history&&Lr(e).on("popstate",s),Lr(e).on("hashchange",s),$=!0),T.push(t),t},u.$$applicationDestroyed=function(){Lr(e).off("hashchange popstate",s)},u.$$checkUrlChange=c,u.baseHref=function(){var e=k.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return y++,n=h(function(){delete m[n],i(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],g(e),i(f),!0)}}function ct(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new lt(e,r,t,n)}]}function ut(){this.$get=function(){function e(e,r){function a(e){e!=p&&(f?f==e&&(f=e.n):f=e,i(e.n,e.p),i(e,p),p=e,p.n=null)}function i(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=c({},r,{id:e}),l=ge(),u=r&&r.capacity||Number.MAX_VALUE,d=ge(),p=null,f=null;return n[e]={put:function(e,t){if(!v(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});a(n)}return e in l||o++,l[e]=t,o>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;a(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),i(t.n,t.p),delete d[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=ge(),o=0,d=ge(),p=f=null},destroy:function(){l=null,s=null,d=null,delete n[e]},info:function(){return c({},s,{size:o})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function dt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function pt(){}function ft(t,n){function a(e,t,n){var a=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,i=ge();return r(e,function(e,r){if(e in A)return void(i[r]=A[e]);var o=e.match(a);if(!o)throw Ua("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r},o[4]&&(A[e]=i[r])}),i}function o(e,t){var n={isolateScope:null,bindToController:null};if(b(e.scope)&&(e.bindToController===!0?(n.bindToController=a(e.scope,t,!0),n.isolateScope={}):n.isolateScope=a(e.scope,t,!1)),b(e.bindToController)&&(n.bindToController=a(e.bindToController,t,!0)),b(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw Ua("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(r,i))throw Ua("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Er(t))throw Ua("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ua("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},u="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,m=/(([\w\-]+)(?:\:([^;]+))?;?)/,x=O("ngSrc,ngSrcset,src,srcset"),_=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/,A=ge();this.directive=function M(e,n){return pe(e,"directive"),w(e)?(s(e),ue(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+u,["$injector","$exceptionHandler",function(t,n){var a=[];return r(l[e],function(r,i){try{var o=t.invoke(r);S(o)?o={compile:g(o)}:!o.compile&&o.link&&(o.compile=g(o.link)),o.priority=o.priority||0,o.index=i,o.name=o.name||e,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"EA",o.$$moduleName=r.$$moduleName,a.push(o)}catch(s){n(s)}}),a}])),l[e].push(n)):r(e,i(M)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||Gr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"",o={controller:a,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}var a=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(a)&&(a[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(e){return y(e)?(T=e,this):T};var C=10;this.onChangesTtl=function(e){return arguments.length?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,a,i,s,g,y,A,M,E){function P(){try{if(!--be)throw me=void 0,Ua("infchng","{0} $onChanges() iterations reached. Aborting!\n",C);y.$apply(function(){for(var e=0,t=me.length;e<t;++e)me[e]();me=void 0})}finally{be++}}function j(e,t){if(t){var n,r,a,i=Object.keys(t);for(n=0,r=i.length;n<r;n++)a=i[n],this[a]=t[a]}else this.$attr={};this.$$element=e}function D(e,t,n){ye.innerHTML="<span "+t+">";var r=ye.firstChild.attributes,a=r[0];r.removeNamedItem(a.name),a.value=n,e.attributes.setNamedItem(a)}function L(e,t){try{e.addClass(t)}catch(n){}}function O(t,n,r,a,i){t instanceof Lr||(t=Lr(t));for(var o=/\S+/,s=0,l=t.length;s<l;s++){var c=t[s];c.nodeType===aa&&c.nodeValue.match(o)&&Ce(c,t[s]=e.document.createElement("span"))}var u=B(t,n,t,r,a,i);O.$$addScopeClass(t);var d=null;return function(e,n,r){ue(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var a=r.parentBoundTranscludeFn,o=r.transcludeControllers,s=r.futureParentElement;a&&a.$$boundTransclude&&(a=a.$$boundTransclude),d||(d=z(s));var l;if(l="html"!==d?Lr(oe(d,Lr("<div>").append(t).html())):n?ka.clone.call(t):t,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return O.$$addScopeInfo(l,e),n&&n(l,e),u&&u(e,l,l,a),l}}function z(e){var t=e&&e[0];return t&&"foreignobject"!==R(t)&&Fr.call(t).match(/SVG/)?"svg":"html"}function B(e,t,n,r,a,i){function o(e,n,r,a){var i,o,s,l,c,u,d,p,g;if(f){var m=n.length;for(g=new Array(m),c=0;c<h.length;c+=3)d=h[c],g[d]=n[d]}else g=n;for(c=0,u=h.length;c<u;)s=g[h[c++]],i=h[c++],o=h[c++],i?(i.scope?(l=e.$new(),O.$$addScopeInfo(Lr(s),l)):l=e,p=i.transcludeOnThisElement?H(e,i.transclude,a):!i.templateOnThisElement&&a?a:!a&&t?H(e,t):null,i(o,l,s,r,p)):o&&o(e,s.childNodes,void 0,a)}for(var s,l,c,u,d,p,f,h=[],g=0;g<e.length;g++)s=new j,l=q(e[g],[],s,0===g?r:void 0,a),c=l.length?Y(l,e[g],s,t,n,null,[],[],i):null,c&&c.scope&&O.$$addScopeClass(s.$$element),d=c&&c.terminal||!(u=e[g].childNodes)||!u.length?null:B(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(h.push(g,c,d),p=!0,f=f||c),i=null;return p?o:null}function H(e,t,n){function r(r,a,i,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,a,{parentBoundTranscludeFn:n,transcludeControllers:i,futureParentElement:o})}var a=r.$$slots=ge();for(var i in t.$$slots)t.$$slots[i]?a[i]=H(e,t.$$slots[i],n):a[i]=null;return r}function q(e,t,n,r,a){var i,o,s=e.nodeType,l=n.$attr;switch(s){case na:J(t,gt(R(e)),"E",r,a);for(var c,u,p,f,h,g,v=e.attributes,y=0,x=v&&v.length;y<x;y++){var _=!1,k=!1;c=v[y],u=c.name,h=Yr(c.value),f=gt(u),(g=Se.test(f))&&(u=u.replace(Va,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=f.match(Ae);S&&ee(S[1])&&(_=u,k=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),p=gt(u.toLowerCase()),l[p]=u,!g&&n.hasOwnProperty(p)||(n[p]=h,Ve(e,p)&&(n[p]=!0)),ce(e,t,h,p,g),J(t,p,"A",r,a,_,k)}if(o=e.className,b(o)&&(o=o.animVal),w(o)&&""!==o)for(;i=m.exec(o);)p=gt(i[2]),J(t,p,"C",r,a)&&(n[p]=Yr(i[3])),o=o.substr(i.index+i[0].length);break;case aa:if(11===Dr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===aa;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);ie(t,e.nodeValue);break;case ia:try{i=d.exec(e.nodeValue),i&&(p=gt(i[1]),J(t,p,"M",r,a)&&(n[p]=Yr(i[2])))}catch(A){}}return t.sort(re),t}function V(e,t,n){var r=[],a=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ua("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==na&&(e.hasAttribute(t)&&a++,e.hasAttribute(n)&&a--),r.push(e),e=e.nextSibling}while(a>0)}else r.push(e);return Lr(r)}function G(e,t,n){return function(r,a,i,o,s){return a=V(a[0],t,n),e(r,a,i,o,s)}}function W(e,t,n,r,a,i){var o;return e?O(t,n,r,a,i):function(){return o||(o=O(t,n,r,a,i),t=n=i=null),o.apply(this,arguments)}}function Y(e,t,n,i,o,s,l,u,d){function p(e,t,n,r){e&&(n&&(e=G(e,n,r)),e.require=h.require,e.directiveName=g,(A===h||h.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=G(t,n,r)),t.require=h.require,t.directiveName=g,(A===h||h.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),u.push(t))}function f(e,a,i,o,s){function d(e,t,n,r){var a;if($(e)||(r=n,n=t,t=e,e=void 0),I&&(a=y),n||(n=I?w.parent():w),!r)return s(e,t,a,n,N);var i=s.$$slots[r];if(i)return i(e,t,a,n,N);if(v(i))throw Ua("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,K(w))}var p,f,h,g,m,y,x,w,C,M;t===i?(C=n,w=n.$$element):(w=Lr(i),C=new j(w,n)),m=a,A?g=a.$new(!0):_&&(m=a.$parent),s&&(x=d,x.$$boundTransclude=s,x.isSlotFilled=function(e){return!!s.$$slots[e]}),k&&(y=Q(w,C,x,k,g,a,A)),A&&(O.$$addScopeInfo(w,g,!0,!(T&&(T===A||T===A.$$originalDirective))),O.$$addScopeClass(w,!0),g.$$isolateBindings=A.$$isolateBindings,M=he(a,C,g,g.$$isolateBindings,A),M.removeWatches&&g.$on("$destroy",M.removeWatches));for(var E in y){var P=k[E],D=y[E],L=P.$$bindings.bindToController;D.identifier&&L?D.bindingInfo=he(m,C,D.instance,L,P):D.bindingInfo={};var R=D();R!==D.instance&&(D.instance=R,w.data("$"+P.name+"Controller",R),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=he(m,C,D.instance,L,P))}for(r(k,function(e,t){var n=e.require;e.bindToController&&!Gr(n)&&b(n)&&c(y[t].instance,X(t,n,w,y))}),r(y,function(e){var t=e.instance;S(t.$onChanges)&&t.$onChanges(e.bindingInfo.initialChanges),S(t.$onInit)&&t.$onInit(),S(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),p=0,f=l.length;p<f;p++)h=l[p],fe(h,h.isolateScope?g:a,w,C,h.require&&X(h.directiveName,h.require,w,y),x);var N=a;for(A&&(A.template||null===A.templateUrl)&&(N=g),e&&e(N,i.childNodes,void 0,s),p=u.length-1;p>=0;p--)h=u[p],fe(h,h.isolateScope?g:a,w,C,h.require&&X(h.directiveName,h.require,w,y),x);r(y,function(e){var t=e.instance;S(t.$postLink)&&t.$postLink()})}d=d||{};for(var h,g,m,y,x,w=-Number.MAX_VALUE,_=d.newScopeDirective,k=d.controllerDirectives,A=d.newIsolateScopeDirective,T=d.templateDirective,C=d.nonTlbTranscludeDirective,M=!1,E=!1,I=d.hasElementTranscludeDirective,P=n.$$element=Lr(t),D=s,L=i,N=!1,z=!1,B=0,F=e.length;B<F;B++){h=e[B];var H=h.$$start,Y=h.$$end;if(H&&(P=V(t,H,Y)),m=void 0,w>h.priority)break;if((x=h.scope)&&(h.templateUrl||(b(x)?(ae("new/isolated scope",A||_,h,P),A=h):ae("new/isolated scope",A,h,P)),_=_||h),g=h.name,!N&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var J,ee=B+1;J=e[ee++];)if(J.transclude&&!J.$$tlb||J.replace&&(J.templateUrl||J.template)){z=!0;break}N=!0}if(!h.templateUrl&&h.controller&&(x=h.controller,k=k||ge(),ae("'"+g+"' controller",k[g],h,P),k[g]=h),x=h.transclude)if(M=!0,h.$$tlb||(ae("transclusion",C,h,P),C=h),"element"==x)I=!0,w=h.priority,m=P,P=n.$$element=Lr(O.$$createComment(g,n[g])),t=P[0],de(o,U(m),t),m[0].$$parentNode=m[0].parentNode,L=W(z,m,i,w,D&&D.name,{nonTlbTranscludeDirective:C});else{var re=ge();if(m=Lr(Ee(t)).contents(),b(x)){m=[];var ie=ge(),se=ge();r(x,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,ie[e]=t,re[t]=null,se[t]=n}),r(P.contents(),function(e){var t=ie[gt(R(e))];t?(se[t]=!0,re[t]=re[t]||[],re[t].push(e)):m.push(e)}),r(se,function(e,t){if(!e)throw Ua("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var le in re)re[le]&&(re[le]=W(z,re[le],i))}P.empty(),L=W(z,m,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),L.$$slots=re}if(h.template)if(E=!0,ae("template",T,h,P),T=h,x=S(h.template)?h.template(P,n):h.template,x=ke(x),h.replace){if(D=h,m=_e(x)?[]:vt(oe(h.templateNamespace,Yr(x))),t=m[0],1!=m.length||t.nodeType!==na)throw Ua("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");de(o,P,t);var ce={$attr:{}},ue=q(t,[],ce),me=e.splice(B+1,e.length-(B+1));(A||_)&&Z(ue,A,_),e=e.concat(ue).concat(me),te(n,ce),F=e.length}else P.html(x);if(h.templateUrl)E=!0,ae("template",T,h,P),T=h,h.replace&&(D=h),f=ne(e.splice(B,e.length-B),P,n,o,M&&L,l,u,{controllerDirectives:k,newScopeDirective:_!==h&&_,newIsolateScopeDirective:A,templateDirective:T,nonTlbTranscludeDirective:C}),F=e.length;else if(h.compile)try{y=h.compile(P,n,L),S(y)?p(null,y,H,Y):y&&p(y.pre,y.post,H,Y)}catch(ve){a(ve,K(P))}h.terminal&&(f.terminal=!0,w=Math.max(w,h.priority))}return f.scope=_&&_.scope===!0,f.transcludeOnThisElement=M,f.templateOnThisElement=E,f.transclude=L,d.hasElementTranscludeDirective=I,f}function X(e,t,n,a){var i;if(w(t)){var o=t.match(_),s=t.substring(o[0].length),l=o[1]||o[3],c="?"===o[2];if("^^"===l?n=n.parent():(i=a&&a[s],i=i&&i.instance),!i){var u="$"+s+"Controller";i=l?n.inheritedData(u):n.data(u)}if(!i&&!c)throw Ua("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Gr(t)){i=[];for(var d=0,p=t.length;d<p;d++)i[d]=X(e,t[d],n,a)}else b(t)&&(i={},r(t,function(t,r){i[r]=X(e,t,n,a)}));return i||null}function Q(e,t,n,r,a,i,o){var s=ge();for(var l in r){var c=r[l],u={$scope:c===o||c.$$isolateScope?a:i,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"==d&&(d=t[c.name]);var p=g(d,u,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}function Z(e,t,n){for(var r=0,a=e.length;r<a;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function J(e,n,r,i,s,c,d){if(n===s)return null;var f=null;if(l.hasOwnProperty(n))for(var h,g=t.get(n+u),m=0,y=g.length;m<y;m++)try{if(h=g[m],(v(i)||i>h.priority)&&h.restrict.indexOf(r)!=-1){if(c&&(h=p(h,{$$start:c,$$end:d})),!h.$$bindings){var x=h.$$bindings=o(h,h.name);b(x.isolateScope)&&(h.$$isolateBindings=x.isolateScope)}e.push(h),f=h}}catch(w){a(w)}return f}function ee(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+u),a=0,i=r.length;a<i;a++)if(n=r[a],n.multiElement)return!0;return!1}function te(e,t){var n=t.$attr,a=e.$attr,i=e.$$element;r(e,function(r,a){"$"!=a.charAt(0)&&(t[a]&&t[a]!==r&&(r+=("style"===a?";":" ")+t[a]),e.$set(a,r,!0,n[a]))}),r(t,function(t,r){"class"==r?(L(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,a[r]=n[r])})}function ne(e,t,n,a,o,s,l,c){var u,d,f=[],h=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),i(v).then(function(i){var p,x,w,_;if(i=ke(i),g.replace){if(w=_e(i)?[]:vt(oe(y,Yr(i))),p=w[0],1!=w.length||p.nodeType!==na)throw Ua("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);x={$attr:{}},de(a,t,p);var k=q(p,[],x);b(g.scope)&&Z(k,!0),e=k.concat(e),te(n,x)}else p=h,t.html(i);for(e.unshift(m),u=Y(e,p,n,o,t,g,s,l,c),r(a,function(e,n){e==p&&(a[n]=t[0])}),d=B(t[0].childNodes,o);f.length;){var S=f.shift(),A=f.shift(),T=f.shift(),$=f.shift(),C=t[0];if(!S.$$destroyed){if(A!==h){var M=A.className;c.hasElementTranscludeDirective&&g.replace||(C=Ee(p)),de(T,Lr(A),C),L(Lr(C),M)}_=u.transcludeOnThisElement?H(S,u.transclude,$):$,u(d,S,C,a,_)}}f=null}),function(e,t,n,r,a){var i=a;t.$$destroyed||(f?f.push(t,n,r,i):(u.transcludeOnThisElement&&(i=H(t,u.transclude,a)),u(d,t,n,r,i)))}}function re(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ae(e,t,n,r){function a(e){return e?" (module: "+e+")":""}if(t)throw Ua("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,a(t.$$moduleName),n.name,a(n.$$moduleName),e,K(r))}function ie(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&O.$$addBindingClass(t),function(e,t){var a=t.parent();n||O.$$addBindingClass(a),O.$$addBindingInfo(a,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function oe(t,n){switch(t=Er(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function se(e,t){if("srcdoc"==t)return A.HTML;var n=R(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?A.RESOURCE_URL:void 0}function ce(e,t,r,a,i){var o=se(e,a);i=x[a]||i;var s=n(r,!0,o,i);if(s){if("multiple"===a&&"select"===R(e))throw Ua("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",K(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=ge());if(k.test(a))throw Ua("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[a];u!==r&&(s=u&&n(u,!0,o,i),r=u),s&&(l[a]=s(e),(c[a]||(c[a]=[])).$$inter=!0,(l.$$observers&&l.$$observers[a].$$scope||e).$watch(s,function(e,t){"class"===a&&e!=t?l.$updateClass(e,t):l.$set(a,e)}))}}}})}}function de(t,n,r){var a,i,o=n[0],s=n.length,l=o.parentNode;if(t)for(a=0,i=t.length;a<i;a++)if(t[a]==o){t[a++]=r;for(var c=a,u=c+s-1,d=t.length;c<d;c++,u++)u<d?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===o&&(t.context=r);break}l&&l.replaceChild(r,o);var p=e.document.createDocumentFragment();for(a=0;a<s;a++)p.appendChild(n[a]);for(Lr.hasData(o)&&(Lr.data(r,Lr.data(o)),Lr(o).off("$destroy")),Lr.cleanData(p.querySelectorAll("*")),a=1;a<s;a++)delete n[a];n[0]=r,n.length=1}function pe(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function fe(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(s){a(s,K(n))}}function he(e,t,a,i,o){function l(t,n,r){S(a.$onChanges)&&n!==r&&(me||(e.$$postDigest(P),me=[]),u||(u={},me.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new ht(r,n))}function c(){a.$onChanges(u),u=void 0}var u,d=[],p={};return r(i,function(r,i){var c,u,h,g,m,v=r.attrName,y=r.optional,b=r.mode;switch(b){case"@":y||Mr.call(t,v)||(a[i]=t[v]=void 0),t.$observe(v,function(e){if(w(e)||I(e)){var t=a[i];l(i,e,t),a[i]=e}}),t.$$observers[v].$$scope=e,c=t[v],w(c)?a[i]=n(c)(e):I(c)&&(a[i]=c),p[i]=new ht(qa,a[i]);break;case"=":if(!Mr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;u=s(t[v]),g=u.literal?F:function(e,t){return e===t||e!==e&&t!==t},h=u.assign||function(){throw c=a[i]=u(e),Ua("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,o.name)},c=a[i]=u(e);var x=function(t){return g(t,a[i])||(g(t,c)?h(e,t=a[i]):a[i]=t),c=t};x.$stateful=!0,m=r.collection?e.$watchCollection(t[v],x):e.$watch(s(t[v],x),null,u.literal),d.push(m);break;case"<":if(!Mr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;u=s(t[v]),a[i]=u(e),p[i]=new ht(qa,a[i]),m=e.$watch(u,function(e,t){e===t&&(t=a[i]),l(i,e,t),a[i]=e},u.literal),d.push(m);break;case"&":if(u=t.hasOwnProperty(v)?s(t[v]):f,u===f&&y)break;a[i]=function(t){return u(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var me,ve=/^\w/,ye=e.document.createElement("div"),be=C;j.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&M.addClass(this.$$element,n);var r=mt(t,e);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(e,t,n,i){var o,s=this.$$element[0],l=Ve(s,e),c=Ge(e),u=e;if(l?(this.$$element.prop(e,t),i=l):c&&(this[c]=t,u=c),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=le(e,"-"))),o=R(this.$$element),"a"===o&&("href"===e||"xlinkHref"===e)||"img"===o&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===o&&"srcset"===e){for(var d="",p=Yr(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,g=p.split(h),m=Math.floor(g.length/2),y=0;y<m;y++){var b=2*y;d+=E(Yr(g[b]),!0),d+=" "+Yr(g[b+1])}var x=Yr(g[2*y]).split(/\s/);d+=E(Yr(x[0]),!0),2===x.length&&(d+=" "+Yr(x[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(i):ve.test(i)?this.$$element.attr(i,t):D(this.$$element[0],i,t));var w=this.$$observers;w&&r(w[u],function(e){try{e(t)}catch(n){a(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),a=r[e]||(r[e]=[]);return a.push(t),y.$evalAsync(function(){a.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){N(a,t)}}};var xe=n.startSymbol(),we=n.endSymbol(),ke="{{"==xe&&"}}"==we?h:function(e){return e.replace(/\{\{/g,xe).replace(/}}/g,we)},Se=/^ngAttr[A-Z]/,Ae=/^(.+)Start$/;return O.$$addBindingInfo=T?function(e,t){var n=e.data("$binding")||[];Gr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,O.$$addBindingClass=T?function(e){L(e,"ng-binding")}:f,O.$$addScopeInfo=T?function(e,t,n,r){var a=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(a,t)}:f,O.$$addScopeClass=T?function(e,t){L(e,t?"ng-isolate-scope":"ng-scope")}:f,O.$$createComment=function(t,n){var r="";return T&&(r=" "+(t||"")+": "+(n||"")+" "),e.document.createComment(r)},O}]}function ht(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return we(e.replace(Va,""))}function mt(e,t){var n="",r=e.split(/\s+/),a=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var o=r[i],s=0;s<a.length;s++)if(o==a[s])continue e;n+=(n.length>0?" ":"")+o}return n}function vt(e){e=Lr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===ia&&zr.call(e,t,1)}return e}function yt(e,t){if(t&&w(t))return t;if(w(e)){var n=Wa.exec(e);if(n)return n[3]}}function bt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),b(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,a){function i(e,n,r,a){if(!e||!b(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",a,n);e.$scope[n]=r}return function(t,o,s,l){var u,d,p,f;if(s=s===!0,l&&w(l)&&(f=l),w(t)){if(d=t.match(Wa),!d)throw Ga("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=d[1],f=f||d[3],t=e.hasOwnProperty(p)?e[p]:fe(o.$scope,p,!0)||(n?fe(a,p,!0):void 0),de(t,p,!0)}if(s){var h=(Gr(t)?t[t.length-1]:t).prototype;u=Object.create(h||null),f&&i(o,f,u,p||t.name);var g;return g=c(function(){var e=r.invoke(t,u,o,p);return e!==u&&(b(e)||S(e))&&(u=e,f&&i(o,f,u,p||t.name)),u},{instance:u,identifier:f})}return u=r.instantiate(t,o,p),f&&i(o,f,u,p||t.name),u}}]}function xt(){this.$get=["$window",function(e){return Lr(e.document)}]}function wt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function _t(e){return b(e)?k(e)?e.toISOString():G(e):e}function kt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||v(e)||(Gr(e)?r(e,function(e){t.push(ne(n)+"="+ne(_t(e)))}):t.push(ne(n)+"="+ne(_t(e))))}),t.join("&")}}}function St(){this.$get=function(){return function(e){function t(e,i,o){null===e||v(e)||(Gr(e)?r(e,function(e,n){t(e,i+"["+(b(e)?n:"")+"]")}):b(e)&&!k(e)?a(e,function(e,n){t(e,i+(o?"":"[")+n+(o?"":"]"))}):n.push(ne(i)+"="+ne(_t(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function At(e,t){if(w(e)){var n=e.replace(Ja,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Xa)||Tt(n))&&(e=W(n))}}return e}function Tt(e){var t=e.match(Ka);return t&&Za[t[0]].test(e)}function $t(e){function t(e,t){e&&(a[e]=a[e]?a[e]+", "+t:t)}var n,a=ge();return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Er(Yr(e.substr(0,n))),Yr(e.substr(n+1)))}):b(e)&&r(e,function(e,n){t(Er(n),Yr(e))}),a}function Ct(e){var t;return function(n){if(t||(t=$t(e)),n){var r=t[Er(n)];return void 0===r&&(r=null),r}return t}}function Mt(e,t,n,a){return S(a)?a(e,t,n):(r(a,function(r){e=r(e,t,n)}),e)}function Et(e){return 200<=e&&e<300}function It(){var e=this.defaults={transformResponse:[At],transformRequest:[function(e){return!b(e)||C(e)||E(e)||M(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:B(Qa),put:B(Qa),patch:B(Qa)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return y(e)?(n=!!e,this):n};var a=!0;this.useLegacyPromiseExtensions=function(e){return y(e)?(a=!!e,this):a};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(o,s,l,u,d,p){function f(n){function i(e){var t=c({},e);return t.data=Mt(e.data,e.headers,e.status,l.transformResponse),Et(e.status)?t:d.reject(t)}function o(e,t){var n,a={};return r(e,function(e,r){S(e)?(n=e(t),null!=n&&(a[r]=n)):a[r]=e}),a}function s(t){var n,r,a,i=e.headers,s=c({},t.headers);i=c({},i.common,i[Er(t.method)]);e:for(n in i){r=Er(n);for(a in s)if(Er(a)===r)continue e;s[n]=i[n]}return o(s,B(t))}if(!b(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var l=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);l.headers=s(n),l.method=Ir(l.method),l.paramSerializer=w(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer;var u=function(t){var n=t.headers,a=Mt(t.data,Ct(n),void 0,t.transformRequest);return v(a)&&r(n,function(e,t){"content-type"===Er(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,a).then(i,i)},f=[u,void 0],h=d.when(l);for(r(k,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var g=f.shift(),y=f.shift();h=h.then(g,y)}return a?(h.success=function(e){return de(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,l)}),h},h.error=function(e){return de(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,l)}),h}):(h.success=ti("success"),h.error=ti("error")),h}function h(e){r(arguments,function(e){f[e]=function(t,n){return f(c({},n||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){f[e]=function(t,n,r){return f(c({},r||{},{method:e,url:t,data:n}))}})}function m(t,a){function i(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function l(e,t,r,a){function i(){c(t,e,r,a)}g&&(Et(e)?g.put(A,[e,t,$t(r),a]):g.remove(A)),n?u.$applyAsync(i):(i(),u.$$phase||u.$apply())}function c(e,n,r,a){n=n>=-1?n:0,(Et(n)?w.resolve:w.reject)({data:e,status:n,headers:Ct(r),config:t,statusText:a})}function p(e){c(e.data,e.status,B(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(t);e!==-1&&f.pendingRequests.splice(e,1)}var g,m,w=d.defer(),k=w.promise,S=t.headers,A=x(t.url,t.paramSerializer(t.params));if(f.pendingRequests.push(t),k.then(h,h),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(g=b(t.cache)?t.cache:b(e.cache)?e.cache:_),g&&(m=g.get(A),y(m)?P(m)?m.then(p,p):Gr(m)?c(m[1],m[0],B(m[2]),m[3]):c(m,200,{},"OK"):g.put(A,k)),v(m)){var T=jn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;T&&(S[t.xsrfHeaderName||e.xsrfHeaderName]=T),o(t.method,A,a,l,S,t.timeout,t.withCredentials,t.responseType,i(t.eventHandlers),i(t.uploadEventHandlers))}return k}function x(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var _=l("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var k=[];return r(i,function(e){k.unshift(w(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],h("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=e,f}]}function Pt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function jt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Dt(e,r,e.defer,t.angular.callbacks,n[0])}]}function Dt(e,t,n,a,i){function o(e,t,n){var r=i.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){pa(r,"load",o),pa(r,"error",o),i.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||a[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},da(r,"load",o),da(r,"error",o),i.body.appendChild(r),o}return function(i,s,l,c,u,d,p,h,g,m){function b(){_&&_(),k&&k.abort()}function x(t,r,a,i,o){y(T)&&n.cancel(T),_=k=null,t(r,a,i,o),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Er(i)){var w="_"+(a.counter++).toString(36);a[w]=function(e){a[w].data=e,a[w].called=!0};var _=o(s.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(e,t){x(c,e,a[w].data,"",t),a[w]=f})}else{var k=t(i,s);k.open(i,s,!0),r(u,function(e,t){y(e)&&k.setRequestHeader(t,e)}),k.onload=function(){var e=k.statusText||"",t="response"in k?k.response:k.responseText,n=1223===k.status?204:k.status;0===n&&(n=t?200:"file"==Pn(s).protocol?404:0),x(c,n,t,k.getAllResponseHeaders(),e)};var S=function(){x(c,-1,null,null,"")};if(k.onerror=S,k.onabort=S,r(g,function(e,t){k.addEventListener(t,e)}),r(m,function(e,t){k.upload.addEventListener(t,e)}),p&&(k.withCredentials=!0),h)try{
k.responseType=h}catch(A){if("json"!==h)throw A}k.send(v(l)?null:l)}if(d>0)var T=n(b,d);else P(d)&&d.then(b)}}function Lt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,a){function i(e){return"\\\\\\"+e}function o(n){return n.replace(f,e).replace(h,t)}function s(e){if(null==e)return"";switch("undefined"==typeof e?"undefined":_typeof(e)){case"string":break;case"number":e=""+e;break;default:e=G(e)}return e}function l(e,t,n,r){var a;return a=e.$watch(function(e){return a(),r(e)},t,n)}function u(i,u,f,h){function m(e){try{return e=P(e),h&&!y(e)?e:s(e)}catch(t){r(ni.interr(i,t))}}if(!i.length||i.indexOf(e)===-1){var b;if(!u){var x=o(i);b=g(x),b.exp=i,b.expressions=[],b.$$watchDelegate=l}return b}h=!!h;for(var w,_,k,A=0,T=[],$=[],C=i.length,M=[],E=[];A<C;){if((w=i.indexOf(e,A))==-1||(_=i.indexOf(t,w+d))==-1){A!==C&&M.push(o(i.substring(A)));break}A!==w&&M.push(o(i.substring(A,w))),k=i.substring(w+d,_),T.push(k),$.push(n(k,m)),A=_+p,E.push(M.length),M.push("")}if(f&&M.length>1&&ni.throwNoconcat(i),!u||T.length){var I=function(e){for(var t=0,n=T.length;t<n;t++){if(h&&v(e[t]))return;M[E[t]]=e[t]}return M.join("")},P=function(e){return f?a.getTrusted(f,e):a.valueOf(e)};return c(function(e){var t=0,n=T.length,a=new Array(n);try{for(;t<n;t++)a[t]=$[t](e);return I(a)}catch(o){r(ni.interr(i,o))}},{exp:i,expressions:T,$$watchDelegate:function(e,t){var n;return e.$watchGroup($,function(r,a){var i=I(r);S(t)&&t.call(this,i,r!==a?n:i,e),n=i})}})}}var d=e.length,p=t.length,f=new RegExp(e.replace(/./g,i),"g"),h=new RegExp(t.replace(/./g,i),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Ot(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,a){function i(i,s,l,c){function u(){d?i.apply(null,p):i(g)}var d=arguments.length>4,p=d?U(arguments,4):[],f=t.setInterval,h=t.clearInterval,g=0,m=y(c)&&!c,v=(m?r:n).defer(),b=v.promise;return l=y(l)?l:0,b.$$intervalId=f(function(){m?a.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),h(b.$$intervalId),delete o[b.$$intervalId]),m||e.$apply()},s),o[b.$$intervalId]=v,b}var o={};return i.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},i}]}function Rt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function Nt(e,t){var n=Pn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||ai[n.protocol]||null}function zt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Pn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=J(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Bt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Ft(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Ht(e){return e.replace(/(#.+)|#$/,"$1")}function Ut(e){return e.substr(0,Ft(e).lastIndexOf("/")+1)}function qt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Vt(e,t,n){this.$$html5=!0,n=n||"",Nt(e,this),this.$$parse=function(e){var n=Bt(t,e);if(!w(n))throw ii("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);zt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Rt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var i,o,s;return y(i=Bt(e,r))?(o=i,s=y(i=Bt(n,i))?t+(Bt("/",i)||i):e+o):y(i=Bt(t,r))?s=t+i:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Gt(e,t,n){Nt(e,this),this.$$parse=function(r){function a(e,t,n){var r,a=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),a.exec(t)?e:(r=a.exec(e),r?r[1]:e)}var i,o=Bt(e,r)||Bt(t,r);v(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",v(o)&&(e=r,this.replace())):(i=Bt(n,o),v(i)&&(i=o)),zt(i,this),this.$$path=a(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Rt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Ft(e)==Ft(t)&&(this.$$parse(t),!0)}}function Wt(e,t,n){this.$$html5=!0,Gt.apply(this,arguments),this.$$parseLinkUrl=function(r,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var i,o;return e==Ft(r)?i=r:(o=Bt(t,r))?i=e+n+o:t===r+"/"&&(i=t),i&&this.$$parse(i),!!i},this.$$compose=function(){var t=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Rt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Yt(e){return function(){return this[e]}}function Xt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Qt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return I(e)?(t.enabled=e,this):b(e)?(I(e.enabled)&&(t.enabled=e.enabled),I(e.requireBase)&&(t.requireBase=e.requireBase),I(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,a,i,o){function s(e,t,n){var a=c.url(),i=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(o){throw c.url(a),c.$$state=i,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw ii("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=qt(f)+(p||"/"),u=a.history?Vt:Wt}else d=Ft(f),u=Gt;var h=Ut(d);c=new u(d,h,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=r.state();var g=/^\s*(javascript|mailto):/i;i.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var a=Lr(e.target);"a"!==R(a[0]);)if(a[0]===i[0]||!(a=a.parent())[0])return;var s=a.prop("href"),l=a.attr("href")||a.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pn(s.animVal).href),g.test(s)||!s||a.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Ht(c.absUrl())!=Ht(f)&&r.url(c.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return v(Bt(h,e))?void(o.location.href=e):(n.$evalAsync(function(){var r,a=c.absUrl(),i=c.$$state;e=Ht(e),c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,a,t,i).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(a),c.$$state=i,s(a,!1,i)):(m=!1,l(a,i)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Ht(r.url()),t=Ht(c.absUrl()),i=r.state(),o=c.$$replace,u=e!==t||c.$$html5&&a.history&&i!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,i).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=i):(u&&s(t,o,i===c.$$state?null:c.$$state),l(e,i)))})),c.$$replace=!1}),c}]}function Kt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function a(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||f,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return r(arguments,function(t){e.push(a(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Zt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw si("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Jt(e){return e+""}function en(e,t){if(e){if(e.constructor===e)throw si("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw si("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw si("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw si("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function tn(e,t){if(e){if(e.constructor===e)throw si("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===li||e===ci||e===ui)throw si("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nn(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw si("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function rn(e,t){return"undefined"!=typeof e?e:t}function an(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function on(e,t){var n=e(t);return!n.$stateful}function sn(e,t){var n,a;switch(e.type){case hi.Program:n=!0,r(e.body,function(e){sn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case hi.Literal:e.constant=!0,e.toWatch=[];break;case hi.UnaryExpression:sn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case hi.BinaryExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case hi.LogicalExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case hi.ConditionalExpression:sn(e.test,t),sn(e.alternate,t),sn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case hi.Identifier:e.constant=!1,e.toWatch=[e];break;case hi.MemberExpression:sn(e.object,t),e.computed&&sn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case hi.CallExpression:n=!!e.filter&&on(t,e.callee.name),a=[],r(e.arguments,function(e){sn(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&on(t,e.callee.name)?a:[e];break;case hi.AssignmentExpression:sn(e.left,t),sn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case hi.ArrayExpression:n=!0,a=[],r(e.elements,function(e){sn(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=a;break;case hi.ObjectExpression:n=!0,a=[],r(e.properties,function(e){sn(e.value,t),n=n&&e.value.constant,e.value.constant||a.push.apply(a,e.value.toWatch)}),e.constant=n,e.toWatch=a;break;case hi.ThisExpression:e.constant=!1,e.toWatch=[];break;case hi.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function cn(e){return e.type===hi.Identifier||e.type===hi.MemberExpression}function un(e){if(1===e.body.length&&cn(e.body[0].expression))return{type:hi.AssignmentExpression,left:e.body[0].expression,right:{type:hi.NGValueParameter},operator:"="}}function dn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===hi.Literal||e.body[0].expression.type===hi.ArrayExpression||e.body[0].expression.type===hi.ObjectExpression)}function pn(e){return e.constant}function fn(e,t){this.astBuilder=e,this.$filter=t}function hn(e,t){this.astBuilder=e,this.$filter=t}function gn(e){return"constructor"==e}function mn(e){return S(e.valueOf)?e.valueOf():mi.call(e)}function vn(){var e,t,n=ge(),a=ge(),i={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(o){function s(e,t,r){var i,s,c;switch(r=r||x,"undefined"==typeof e?"undefined":_typeof(e)){case"string":e=e.trim(),c=e;var m=r?a:n;if(i=m[c],!i){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var y=r?b:v,w=new fi(y),_=new gi(w,o,y);i=_.parse(e),i.constant?i.$$watchDelegate=h:s?i.$$watchDelegate=i.literal?p:d:i.inputs&&(i.$$watchDelegate=u),r&&(i=l(i)),m[c]=i}return g(i,t);case"function":return g(e,t);default:return g(f,t)}}function l(e){function t(t,n,r,a){var i=x;x=!0;try{return e(t,n,r,a)}finally{x=i}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:("object"!==("undefined"==typeof e?"undefined":_typeof(e))||(e=mn(e),"object"!==("undefined"==typeof e?"undefined":_typeof(e))))&&(e===t||e!==e&&t!==t)}function u(e,t,n,r,a){var i,o=r.inputs;if(1===o.length){var s=c;return o=o[0],e.$watch(function(e){var t=o(e);return c(t,s)||(i=r(e,void 0,void 0,[t]),s=t&&mn(t)),i},t,n,a)}for(var l=[],u=[],d=0,p=o.length;d<p;d++)l[d]=c,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;n<a;n++){var s=o[n](e);(t||(t=!c(s,l[n])))&&(u[n]=s,l[n]=s&&mn(s))}return t&&(i=r(e,void 0,void 0,u)),i},t,n,a)}function d(e,t,n,r){var a,i;return a=e.$watch(function(e){return r(e)},function(e,n,r){i=e,S(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(i)&&a()})},n)}function p(e,t,n,a){function i(e){var t=!0;return r(e,function(e){y(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return a(e)},function(e,n,r){s=e,S(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function h(e,t,n,r){var a;return a=e.$watch(function(e){return a(),r(e)},t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,a=n!==p&&n!==d,i=a?function(n,a,i,o){var s=r&&o?o[0]:e(n,a,i,o);return t(s,n,a)}:function(n,r,a,i){var o=e(n,r,a,i),s=t(o,n,r);return y(o)?s:o};return e.$$watchDelegate&&e.$$watchDelegate!==u?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=u,r=!e.inputs,i.inputs=e.inputs?e.inputs:[e]),i}var m=Qr().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:z(i),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},b={csp:m,expensiveChecks:!0,literals:z(i),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},x=!1;return s.$$runningExpensiveChecks=function(){return x},s}]}function yn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return xn(function(t){e.$evalAsync(t)},t)}]}function bn(){this.$get=["$browser","$exceptionHandler",function(e,t){return xn(function(t){e.defer(t)},t)}]}function xn(e,n){function a(){this.$$state={status:0}}function i(e,t){return function(n){t.call(e,n)}}function o(e){var t,r,a;a=e.pending,e.processScheduled=!1,e.pending=void 0;for(var i=0,o=a.length;i<o;++i){r=a[i][0],t=a[i][e.status];try{S(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){o(t)}))}function l(){this.promise=new a}function u(e){var t=new l,n=0,a=Gr(e)?[]:{};return r(e,function(e,r){n++,m(e).then(function(e){a.hasOwnProperty(r)||(a[r]=e,--n||t.resolve(a))},function(e){a.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(a),t.promise}var d=t("$q",TypeError),p=function(){var e=new l;return e.resolve=i(e,e.resolve),e.reject=i(e,e.reject),e.notify=i(e,e.notify),e};c(a.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),c(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,o.$$resolve(e))}function r(e){l||(l=!0,o.$$reject(e))}var a,o=this,l=!1;try{(b(e)||S(e))&&(a=e&&e.then),S(a)?(this.promise.$$state.status=-1,a.call(e,t,r,i(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){r(c),n(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,a,i=0,o=r.length;i<o;i++){a=r[i][0],e=r[i][3];try{a.notify(S(e)?e(t):t)}catch(s){n(s)}}})}});var f=function(e){var t=new l;return t.reject(e),t.promise},h=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{S(n)&&(r=n())}catch(a){return h(a,!1)}return P(r)?r.then(function(){return h(e,t)},function(e){return h(e,!1)}):h(e,t)},m=function(e,t,n,r){var a=new l;return a.resolve(e),a.promise.then(t,n,r)},y=m,x=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!S(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return x.prototype=a.prototype,x.defer=p,x.reject=f,x.when=m,x.resolve=y,x.all=u,x}function wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!n,i=a?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=a,i}]}function _n(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=o(),this.$$ChildScope=null}return t.prototype=e,t}var a=10,i=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(a=e),a},this.$get=["$exceptionHandler","$parse","$browser",function(t,c,u){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Dr&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=o(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(A.$$phase)throw i("inprog","{0} already in progress",A.$$phase);A.$$phase=e}function m(){A.$$phase=null}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function x(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function _(){for(;C.length;)try{C.shift()()}catch(e){t(e)}l=null}function k(){null===l&&(l=u.defer(function(){A.$apply(_)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var a=c(e);if(a.$$watchDelegate)return a.$$watchDelegate(this,t,n,a,e);var i=this,o=i.$$watchers,l={fn:t,last:w,get:a,exp:r||e,eq:!!n};return s=null,S(t)||(l.fn=f),o||(o=i.$$watchers=[]),o.unshift(l),y(this,1),function(){N(o,l)>=0&&y(i,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(i,i,s)):t(i,a,s)}var a=new Array(e.length),i=new Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(i,i,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){i[0]=e,a[0]=n,t(i,e===n?i:a,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){i[t]=e,a[t]=r,l||(l=!0,s.$evalAsync(n))});o.push(r)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function r(e){i=e;var t,r,a,s,l;if(!v(i)){if(b(i))if(n(i)){o!==f&&(o=f,m=o.length=0,d++),t=i.length,m!==t&&(d++,o.length=m=t);for(var c=0;c<t;c++)l=o[c],s=i[c],a=l!==l&&s!==s,a||l===s||(d++,o[c]=s)}else{o!==h&&(o=h={},m=0,d++),t=0;for(r in i)Mr.call(i,r)&&(t++,s=i[r],l=o[r],r in o?(a=l!==l&&s!==s,a||l===s||(d++,o[r]=s)):(m++,o[r]=s,d++));if(m>t){d++;for(r in o)Mr.call(i,r)||(m--,delete o[r])}}else o!==i&&(o=i,d++);return d}}function a(){if(g?(g=!1,t(i,i,l)):t(i,s,l),u)if(b(i))if(n(i)){s=new Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else{s={};for(var r in i)Mr.call(i,r)&&(s[r]=i[r])}else s=i}r.$stateful=!0;var i,o,s,l=this,u=t.length>1,d=0,p=c(e,r),f=[],h={},g=!0,m=0;return this.$watch(p,a)},$digest:function(){var e,n,r,o,c,d,p,f,h,v,y,b,x=a,k=this,C=[];g("$digest"),u.$$checkUrlChange(),this===A&&null!==l&&(u.defer.cancel(l),_()),s=null;do{for(f=!1,v=k;T.length;){try{b=T.shift(),b.scope.$eval(b.expression,b.locals)}catch(M){t(M)}s=null}e:do{if(d=v.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(c=e.get,(n=c(v))===(r=e.last)||(e.eq?F(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?z(n,null):n,o=e.fn,o(n,r===w?n:r,v),x<5&&(y=4-x,C[y]||(C[y]=[]),C[y].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(M){t(M)}if(!(h=v.$$watchersCount&&v.$$childHead||v!==k&&v.$$nextSibling))for(;v!==k&&!(h=v.$$nextSibling);)v=v.$parent}while(v=h);if((f||T.length)&&!x--)throw m(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,C)}while(f||T.length);for(m();$.length;)try{$.shift()()}catch(M){t(M)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&u.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)x(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){A.$$phase||T.length||u.defer(function(){T.length&&A.$digest()}),T.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{m()}}catch(n){t(n)}finally{try{A.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),e=c(e),k()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var a=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,x(a,1,e))}},$emit:function(e,n){var r,a,i,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=H([c],arguments,1);do{for(r=s.$$listeners[e]||o,c.currentScope=s,a=0,i=r.length;a<i;a++)if(r[a])try{r[a].apply(null,u)}catch(d){t(d)}else r.splice(a,1),a--,i--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var r=this,a=r,i=r,o={name:e,targetScope:r,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return o;for(var s,l,c,u=H([o],arguments,1);a=i;){for(o.currentScope=a,s=a.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(d){t(d)}else s.splice(l,1),l--,c--;if(!(i=a.$$listenerCount[e]&&a.$$childHead||a!==r&&a.$$nextSibling))for(;a!==r&&!(i=a.$$nextSibling);)a=a.$parent}return o.currentScope=null,o}};var A=new h,T=A.$$asyncQueue=[],$=A.$$postDigestQueue=[],C=A.$$applyAsyncQueue=[];return A}]}function kn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var a,i=r?t:e;return a=Pn(n).href,""===a||a.match(i)?n:"unsafe:"+a}}}function Sn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw vi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Xr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(A(e))return new RegExp("^"+e.source+"$");throw vi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function An(e){var t=[];return y(e)&&r(e,function(e){t.push(Sn(e))}),t}function Tn(){this.SCE_CONTEXTS=yi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=An(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=An(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?jn(t):!!e.exec(t.href)}function a(n){var a,i,o=Pn(n.toString()),s=!1;for(a=0,i=e.length;a<i;a++)if(r(e[a],o)){s=!0;break}if(s)for(a=0,i=t.length;a<i;a++)if(r(t[a],o)){s=!1;break}return s}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function o(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw vi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw vi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===yi.RESOURCE_URL){if(a(t))return t;throw vi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===yi.HTML)return c(t);throw vi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw vi("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=i(),d={};return d[yi.HTML]=i(u),d[yi.CSS]=i(u),d[yi.URL]=i(u),d[yi.JS]=i(u),d[yi.RESOURCE_URL]=i(d[yi.URL]),{trustAs:o,getTrusted:l,valueOf:s}}]}function $n(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Dr<8)throw vi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var a=B(yi);a.isEnabled=function(){return e},a.trustAs=n.trustAs,a.getTrusted=n.getTrusted,a.valueOf=n.valueOf,e||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=h),a.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return a.getTrusted(e,t)})};var i=a.parseAs,o=a.getTrusted,s=a.trustAs;return r(yi,function(e,t){var n=Er(t);a[we("parse_as_"+n)]=function(t){return i(e,t)},a[we("get_trusted_"+n)]=function(t){return o(e,t)},a[we("trust_as_"+n)]=function(t){return s(e,t)}}),a}]}function Cn(){this.$get=["$window","$document",function(e,t){var n,r,a={},i=e.chrome&&e.chrome.app&&e.chrome.app.runtime,o=!i&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Er((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,p=c.body&&c.body.style,f=!1,h=!1;if(p){for(var g in p)if(r=u.exec(g)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),f=!!("transition"in p||n+"Transition"in p),h=!!("animation"in p||n+"Animation"in p),!s||f&&h||(f=w(p.webkitTransition),h=w(p.webkitAnimation))}return{history:!(!o||s<4||l),hasEvent:function(e){if("input"===e&&Dr<=11)return!1;if(v(a[e])){var t=c.createElement("div");a[e]="on"+e in t}return a[e]},csp:Qr(),vendorPrefix:n,transitions:f,animations:h,android:s}}]}function Mn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,a){function i(o,s){function l(e){if(!s)throw bi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return r.reject(e)}i.totalPendingRequests++,w(o)&&t.get(o)||(o=a.getTrustedResourceUrl(o));var u=n.defaults&&n.defaults.transformResponse;return Gr(u)?u=u.filter(function(e){return e!==At}):u===At&&(u=null),n.get(o,c({cache:t,transformResponse:u},e))["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},l)}return i.totalPendingRequests=0,i}]}function En(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var a={};return a.findBindings=function(e,t,n){var a=e.getElementsByClassName("ng-binding"),i=[];return r(a,function(e){var a=qr.element(e).data("$binding");a&&r(a,function(r){if(n){var a=new RegExp("(^|\\s)"+Xr(t)+"(\\s|\\||$)");a.test(r)&&i.push(e)}else r.indexOf(t)!=-1&&i.push(e)})}),i},a.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],a=0;a<r.length;++a){var i=n?"=":"*=",o="["+r[a]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},a.getLocation=function(){return n.url()},a.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},a.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},a}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,a){function i(i,s,l){S(i)||(l=s,s=i,i=f);var c,u=U(arguments,3),d=y(l)&&!l,p=(d?r:n).defer(),h=p.promise;return c=t.defer(function(){try{p.resolve(i.apply(null,u))}catch(t){p.reject(t),a(t)}finally{delete o[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,o[c]=p,h}var o={};return i.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},i}]}function Pn(e){var t=e;return Dr&&(xi.setAttribute("href",t),t=xi.href),xi.setAttribute("href",t),{href:xi.href,protocol:xi.protocol?xi.protocol.replace(/:$/,""):"",host:xi.host,search:xi.search?xi.search.replace(/^\?/,""):"",hash:xi.hash?xi.hash.replace(/^#/,""):"",hostname:xi.hostname,port:xi.port,pathname:"/"===xi.pathname.charAt(0)?xi.pathname:"/"+xi.pathname}}function jn(e){var t=w(e)?Pn(e):e;return t.protocol===wi.protocol&&t.host===wi.host}function Dn(){this.$get=g(e)}function Ln(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},a="";return function(){var e,i,o,s,l,c=n.cookie||"";if(c!==a)for(a=c,e=a.split("; "),r={},o=0;o<e.length;o++)i=e[o],s=i.indexOf("="),s>0&&(l=t(i.substring(0,s)),v(r[l])&&(r[l]=t(i.substring(s+1))));return r}}function On(){this.$get=Ln}function Rn(e){function t(a,i){if(b(a)){var o={};return r(a,function(e,n){o[n]=t(n,e)}),o}return e.factory(a+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Hn),t("date",rr),t("filter",Nn),t("json",ar),t("limitTo",ir),t("lowercase",Ci),t("number",Un),t("orderBy",or),t("uppercase",Mi)}function Nn(){return function(e,r,a){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}var i,o,s=Fn(r);switch(s){case"function":i=r;break;case"boolean":
case"null":case"number":case"string":o=!0;case"object":i=zn(r,a,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function zn(e,t,n){var r,a=b(e)&&"$"in e;return t===!0?t=F:S(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!(b(t)||b(e)&&!m(e))&&(e=Er(""+e),t=Er(""+t),e.indexOf(t)!==-1))}),r=function(r){return a&&!b(r)?Bn(r,e.$,t,!1):Bn(r,e,t,n)}}function Bn(e,t,n,r,a){var i=Fn(e),o=Fn(t);if("string"===o&&"!"===t.charAt(0))return!Bn(e,t.substring(1),n,r);if(Gr(e))return e.some(function(e){return Bn(e,t,n,r)});switch(i){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Bn(e[s],t,n,!0))return!0;return!a&&Bn(e,t,n,!1)}if("object"===o){for(s in t){var l=t[s];if(!S(l)&&!v(l)){var c="$"===s,u=c?e:e[s];if(!Bn(u,l,n,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Fn(e){return null===e?"null":"undefined"==typeof e?"undefined":_typeof(e)}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Gn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Un(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Gn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qn(e){var t,n,r,a,i,o=0;for((n=e.indexOf(ki))>-1&&(e=e.replace(ki,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==Si;r++);if(r==(i=e.length))t=[0],n=1;else{for(i--;e.charAt(i)==Si;)i--;for(n-=r,t=[],a=0;r<=i;r++,a++)t[a]=+e.charAt(r)}return n>_i&&(t=t.splice(0,_i-1),o=n-1,n=1),{d:t,e:o,i:n}}function Vn(e,t,n,r){var a=e.d,i=a.length-e.i;t=v(t)?Math.min(Math.max(n,i),r):+t;var o=t+e.i,s=a[o];if(o>0){a.splice(Math.max(e.i,o));for(var l=o;l<a.length;l++)a[l]=0}else{i=Math.max(0,i),e.i=1,a.length=Math.max(1,o=t+1),a[0]=0;for(var c=1;c<o;c++)a[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)a.unshift(0),e.i++;a.unshift(1),e.i++}else a[o-1]++;for(;i<Math.max(0,t);i++)a.push(0);var d=a.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(a.unshift(d),e.i++)}function Gn(e,t,n,r,a){if(!w(e)&&!_(e)||isNaN(e))return"";var i,o=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(o)c="∞";else{i=qn(l),Vn(i,a,t.minFrac,t.maxFrac);var u=i.d,d=i.i,p=i.e,f=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?f=u.splice(d):(f=u,u=[0]);var h=[];for(u.length>=t.lgSize&&h.unshift(u.splice(-t.lgSize).join(""));u.length>t.gSize;)h.unshift(u.splice(-t.gSize).join(""));u.length&&h.unshift(u.join("")),c=h.join(n),f.length&&(c+=r+f.join("")),p&&(c+="e+"+p)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Wn(e,t,n,r){var a="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,a="-")),e=""+e;e.length<t;)e=Si+e;return n&&(e=e.substr(e.length-t)),a+e}function Yn(e,t,n,r,a){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&n==-12&&(o=12),Wn(o,t,r,a)}}function Xn(e,t,n){return function(r,a){var i=r["get"+e](),o=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ir(o+e);return a[s][i]}}function Qn(e,t,n){var r=-1*n,a=r>=0?"+":"";return a+=Wn(Math[r>0?"floor":"ceil"](r/60),2)+Wn(Math.abs(r%60),2)}function Kn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Zn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Jn(e){return function(t){var n=Kn(t.getFullYear()),r=Zn(t),a=+r-+n,i=1+Math.round(a/6048e5);return Wn(i,e)}}function er(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function tr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function nr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function rr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),a=0,i=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(a=d(t[9]+t[10]),i=d(t[9]+t[11])),o.call(r,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-a,c=d(t[5]||0)-i,u=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,c,u,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,a,i){var o,s,l="",c=[];if(a=a||"mediumDate",a=e.DATETIME_FORMATS[a]||a,w(n)&&(n=$i.test(n)?d(n):t(n)),_(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;a;)s=Ti.exec(a),s?(c=H(c,s,1),a=c.pop()):(c.push(a),a=null);var u=n.getTimezoneOffset();return i&&(u=Y(i,u),n=Q(n,i,!0)),r(c,function(t){o=Ai[t],l+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ar(){return function(e,t){return v(t)&&(t=2),G(e,t)}}function ir(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):d(t),isNaN(t)?e:(_(e)&&(e=e.toString()),Gr(e)||w(e)?(n=!n||isNaN(n)?0:d(n),n=n<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function or(e){function r(t,n){return n=n?-1:1,t.map(function(t){var r=1,a=h;if(S(t))a=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(a=e(t),a.constant))){var i=a();a=function(e){return e[i]}}return{get:a,descending:r*n}})}function a(e){switch("undefined"==typeof e?"undefined":_typeof(e)){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),a(e))?e:m(e)&&(e=e.toString(),a(e))?e:t}function o(e,t){var n="undefined"==typeof e?"undefined":_typeof(e);return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=i(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,a,i){function l(e,t){return{value:e,predicateValues:u.map(function(n){return o(n.get(e),t)})}}function c(e,t){for(var n=0,r=0,a=u.length;r<a&&!(n=s(e.predicateValues[r],t.predicateValues[r])*u[r].descending);++r);return n}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Gr(a)||(a=[a]),0===a.length&&(a=["+"]);var u=r(a,i);u.push({get:function(){return{}},descending:i?-1:1});var d=Array.prototype.map.call(e,l);return d.sort(c),e=d.map(function(e){return e.value})}}function sr(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function lr(e,t){e.$name=t}function cr(e,t,n,a,i){var o=this,s=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=i(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=Pi,o.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},o.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],r(o.$pending,function(t,n){o.$setValidity(n,null,e)}),r(o.$error,function(t,n){o.$setValidity(n,null,e)}),r(o.$$success,function(t,n){o.$setValidity(n,null,e)}),N(s,e),e.$$parentForm=Pi},Sr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var a=r.indexOf(n);a===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(N(r,n),0===r.length&&delete e[t])},$animate:a}),o.$setDirty=function(){a.removeClass(e,vo),a.addClass(e,yo),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){a.setClass(e,vo,yo+" "+ji),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,r(s,function(e){e.$setPristine()})},o.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},o.$setSubmitted=function(){a.addClass(e,ji),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function ur(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function dr(e,t,n,r,a,i){pr(e,t,n,r,a,i),ur(r)}function pr(e,t,n,r,a,i){var o=Er(t[0].type);if(!a.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(i.defer.cancel(l),l=null),!s){var a=t.val(),c=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(a=Yr(a)),(r.$viewValue!==a||""===a&&r.$$hasNativeValidators)&&r.$setViewValue(a,c)}};if(a.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=i.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Wi[o]&&r.$$hasNativeValidators&&o===n.type&&t.on(Gi,function(e){if(!l){var t=this[Cr],n=t.badInput,r=t.typeMismatch;l=i.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function fr(e,t){if(k(e))return e;if(w(e)){Ui.lastIndex=0;var n=Ui.exec(e);if(n){var r=+n[1],a=+n[2],i=0,o=0,s=0,l=0,c=Kn(r),u=7*(a-1);return t&&(i=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,i,o,s,l)}}return NaN}function hr(e,t){return function(n,a){var i,o;if(k(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ri.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function gr(e,t,n,r){return function(a,i,o,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)&&!k(e)?n(e)||void 0:e}mr(a,i,o,s),pr(a,i,o,s,l,c);var f,h=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return h&&(r=Q(r,h)),r}}),s.$formatters.push(function(e){if(e&&!k(e))throw So("datefmt","Expected `{0}` to be a date",e);return d(e)?(f=e,f&&h&&(f=Q(f,h,!0)),u("date")(e,r,h)):(f=null,"")}),y(o.min)||o.ngMin){var g;s.$validators.min=function(e){return!d(e)||v(g)||n(e)>=g},o.$observe("min",function(e){g=p(e),s.$validate()})}if(y(o.max)||o.ngMax){var m;s.$validators.max=function(e){return!d(e)||v(m)||n(e)<=m},o.$observe("max",function(e){m=p(e),s.$validate()})}}}function mr(e,t,n,r){var a=t[0],i=r.$$hasNativeValidators=b(a.validity);i&&r.$parsers.push(function(e){var n=t.prop(Cr)||{};return n.badInput||n.typeMismatch?void 0:e})}function vr(e,t,n,r,a,i){if(mr(e,t,n,r),pr(e,t,n,r,a,i),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Bi.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!_(e))throw So("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(n.min)||n.ngMin){var o;r.$validators.min=function(e){return r.$isEmpty(e)||v(o)||e>=o},n.$observe("min",function(e){y(e)&&!_(e)&&(e=parseFloat(e,10)),o=_(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(y(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||e<=s},n.$observe("max",function(e){y(e)&&!_(e)&&(e=parseFloat(e,10)),s=_(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function yr(e,t,n,r,a,i){pr(e,t,n,r,a,i),ur(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ni.test(n)}}function br(e,t,n,r,a,i){pr(e,t,n,r,a,i),ur(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||zi.test(n)}}function xr(e,t,n,r){v(n.name)&&t.attr("name",o());var a=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",a),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function wr(e,t,n,r,a){var i;if(y(r)){if(i=e(r),!i.constant)throw So("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return i(t)}return a}function _r(e,t,n,r,a,i,o,s){var l=wr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=wr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return F(e,l)}),r.$parsers.push(function(e){return e?l:c})}function kr(e,t){return e="ngClass"+e,["$animate",function(n){function a(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var a=e[r],i=0;i<t.length;i++)if(a==t[i])continue e;n.push(a)}return n}function i(e){var t=[];return Gr(e)?(r(e,function(e){t=t.concat(i(e))}),t):w(e)?e.split(" "):b(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),a=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&a.push(e))}),s.data("$classCounts",n),a.join(" ")}function p(e,t){var r=a(t,e),i=a(e,t);r=d(r,1),i=d(i,-1),r&&r.length&&n.addClass(s,r),i&&i.length&&n.removeClass(s,i)}function f(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(h){if(!F(e,h)){var r=i(h);p(r,n)}}else c(n)}h=Gr(e)?e.map(function(e){return B(e)}):B(e)}var h;o.$watch(l[e],f,!0),l.$observe("class",function(t){f(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[e]));a===t?c(s):u(s)}})}}}]}function Sr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),I(t)?t?(u(o.$error,e,s),c(o.$$success,e,s)):(c(o.$error,e,s),u(o.$$success,e,s)):(u(o.$error,e,s),u(o.$$success,e,s)),o.$pending?(a(wo,!0),o.$valid=o.$invalid=void 0,i("",null)):(a(wo,!1),o.$valid=Ar(o.$error),o.$invalid=!o.$valid,i("",o.$valid));var l;l=o.$pending&&o.$pending[e]?void 0:!o.$error[e]&&(!!o.$$success[e]||null),i(e,l),o.$$parentForm.$setValidity(e,l,o)}function n(e,t,n){o[e]||(o[e]={}),c(o[e],t,n)}function r(e,t,n){o[e]&&u(o[e],t,n),Ar(o[e])&&(o[e]=void 0)}function a(e,t){t&&!l[e]?(d.addClass(s,e),l[e]=!0):!t&&l[e]&&(d.removeClass(s,e),l[e]=!1)}function i(e,t){e=e?"-"+le(e,"-"):"",a(go+e,t===!0),a(mo+e,t===!1)}var o=e.ctrl,s=e.$element,l={},c=e.set,u=e.unset,d=e.$animate;l[mo]=!(l[go]=s.hasClass(go)),o.$setValidity=t}function Ar(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Tr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var $r=/^\/(.+)\/([a-z]*)$/,Cr="validity",Mr=Object.prototype.hasOwnProperty,Er=function(e){return w(e)?e.toLowerCase():e},Ir=function(e){return w(e)?e.toUpperCase():e},Pr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},jr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Er=Pr,Ir=jr);var Dr,Lr,Or,Rr,Nr=[].slice,zr=[].splice,Br=[].push,Fr=Object.prototype.toString,Hr=Object.getPrototypeOf,Ur=t("ng"),qr=e.angular||(e.angular={}),Vr=0;Dr=e.document.documentMode,f.$inject=[],h.$inject=[];var Gr=Array.isArray,Wr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Yr=function(e){return w(e)?e.trim():e},Xr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qr=function ts(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!y(ts.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");ts.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else ts.rules={noUnsafeEval:t(),noInlineStyle:!1}}return ts.rules},Kr=function ns(){if(y(ns.name_))return ns.name_;var t,n,r,a,i=Jr.length;for(n=0;n<i;++n)if(r=Jr[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){a=t.getAttribute(r+"jq");break}return ns.name_=a},Zr=/:/g,Jr=["ng-","data-ng-","ng:","x-ng-"],ea=/[A-Z]/g,ta=!1,na=1,ra=2,aa=3,ia=8,oa=9,sa=11,la={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Me.expando="ng339";var ca=Me.cache={},ua=1,da=function(e,t,n){e.addEventListener(t,n,!1)},pa=function(e,t,n){e.removeEventListener(t,n,!1)};Me._data=function(e){return this.cache[e[this.expando]]||{}};var fa=/([\:\-\_]+(.))/g,ha=/^moz([A-Z])/,ga={mouseleave:"mouseout",mouseenter:"mouseover"},ma=t("jqLite"),va=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ya=/<|&#?\w+;/,ba=/<([\w:-]+)/,xa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wa={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wa.optgroup=wa.option,wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead,wa.th=wa.td;var _a=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},ka=Me.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Me(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Lr(e>=0?this[e]:this[this.length+e])},length:0,push:Br,sort:[].sort,splice:[].splice},Sa={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Sa[Er(e)]=e});var Aa={};r("input,select,option,textarea,button,form,details".split(","),function(e){Aa[e]=!0});var Ta={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Le,removeData:je,hasData:Se,cleanData:Ae},function(e,t){Me[t]=e}),r({data:Le,inheritedData:Fe,scope:function(e){return Lr.data(e,"$scope")||Fe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Lr.data(e,"$isolateScope")||Lr.data(e,"$isolateScopeNoTemplate")},controller:Be,injector:function(e){return Fe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Oe,css:function(e,t,n){return t=we(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==aa&&r!==ra&&r!==ia){var a=Er(t);if(Sa[a]){if(!y(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?a:void 0;n?(e[t]=!0,e.setAttribute(t,a)):(e[t]=!1,e.removeAttribute(a))}else if(y(n))e.setAttribute(t,n);else if(e.getAttribute){var i=e.getAttribute(t,2);return null===i?void 0:i}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===na||n===aa?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===R(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Ie(e,!0),void(e.innerHTML=t))},empty:He},function(e,t){Me.prototype[t]=function(t,n){var r,a,i=this.length;if(e!==He&&v(2==e.length&&e!==Oe&&e!==Be?t:n)){if(b(t)){for(r=0;r<i;r++)if(e===Le)e(this[r],t);else for(a in t)e(this[r],a,t[a]);return this}for(var o=e.$dv,s=v(o)?Math.min(i,1):i,l=0;l<s;l++){var c=e(this[l],t,n);o=o?o+c:c}return o}for(r=0;r<i;r++)e(this[r],t,n);return this}}),r({removeData:je,on:function(e,t,n,r){if(y(r))throw ma("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ke(e)){var a=De(e,!0),i=a.events,o=a.handle;o||(o=a.handle=We(e,i));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,r,a){var s=i[t];s||(s=i[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||a||da(e,t,o)),s.push(n)};l--;)t=s[l],ga[t]?(c(ga[t],Xe),c(t,void 0,!0)):c(t)}},off:Pe,one:function(e,t,n){e=Lr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,a=e.parentNode;Ie(e),r(new Me(t),function(t){n?a.insertBefore(t,n.nextSibling):a.replaceChild(t,e),n=t})},children:function rs(e){var rs=[];return r(e.childNodes,function(e){e.nodeType===na&&rs.push(e)}),rs},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===na||n===sa){t=new Me(t);for(var r=0,a=t.length;r<a;r++){var i=t[r];e.appendChild(i)}}},prepend:function(e,t){if(e.nodeType===na){var n=e.firstChild;r(new Me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Ce(e,Lr(t).eq(0).clone()[0])},remove:Ue,detach:function(e){Ue(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Me(t);for(var a=0,i=t.length;a<i;a++){var o=t[a];r.insertBefore(o,n.nextSibling),n=o}},addClass:Ne,removeClass:Re,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!Oe(e,t)),(r?Ne:Re)(e,t)})},parent:function as(e){var as=e.parentNode;return as&&as.nodeType!==sa?as:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ee,triggerHandler:function(e,t,n){var a,i,o,s=t.type||t,l=De(e),u=l&&l.events,d=u&&u[s];d&&(a={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(a=c(a,t)),i=B(d),o=n?[a].concat(n):[a],r(i,function(t){a.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){Me.prototype[t]=function(t,n,r){for(var a,i=0,o=this.length;i<o;i++)v(a)?(a=e(this[i],t,n,r),y(a)&&(a=Lr(a))):ze(a,e(this[i],t,n,r));return y(a)?a:this},Me.prototype.bind=Me.prototype.on,Me.prototype.unbind=Me.prototype.off}),Ze.prototype={put:function(e,t){this[Ke(e,this.nextUid)]=t},get:function(e){return this[Ke(e,this.nextUid)]},remove:function(e){var t=this[e=Ke(e,this.nextUid)];return delete this[e],t}};var $a=[function(){this.$get=[function(){return Ze}]}],Ca=/^([^\(]+?)=>/,Ma=/^[^\(]*\(\s*([^\)]*)\)/m,Ea=/,/,Ia=/^\s*(_?)(\S+?)\1\s*$/,Pa=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ja=t("$injector");nt.$$annotate=tt;var Da=t("$animate"),La=1,Oa="ng-animate",Ra=function(){this.$get=f},Na=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,a){function i(e,t,n){var a=!1;return t&&(t=w(t)?t.split(" "):Gr(t)?t:[],r(t,function(t){t&&(a=!0,e[t]=n)})),a}function o(){r(t,function(t){var n=e.get(t);if(n){var a=ot(t.attr("class")),i="",o="";r(n,function(e,t){var n=!!a[t];e!==n&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),r(t,function(e){i&&Ne(e,i),o&&Re(e,o)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},c=i(l,r,!0),u=i(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&a.$$postDigest(o))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,r,a){a&&a(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var i=new n;return i.complete(),i}}}]},za=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Da("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var a=n+"-animation";t.$$registeredAnimations[n.substr(1)]=a,e.factory(a,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Oa+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Da("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Oa)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=it(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,a,i){return r=r&&Lr(r),a=a&&Lr(a),r=r||a.parent(),t(n,r,a),e.push(n,"enter",st(i))},move:function(n,r,a,i){return r=r&&Lr(r),a=a&&Lr(a),r=r||a.parent(),t(n,r,a),e.push(n,"move",st(i))},leave:function(t,n){return e.push(t,"leave",st(n),function(){t.remove()})},addClass:function(t,n,r){return r=st(r),r.addClass=at(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=st(r),r.removeClass=at(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,a){return a=st(a),a.addClass=at(a.addClass,n),a.removeClass=at(a.removeClass,r),e.push(t,"setClass",a)},animate:function(t,n,r,a,i){return i=st(i),i.from=i.from?c(i.from,n):n,i.to=i.to?c(i.to,r):r,a=a||"ng-inline-animate",i.tempClasses=at(i.tempClasses,a),e.push(t,"animate",i)}}}]}],Ba=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Fa=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,a,i){function o(e){this.setHost(e);var t=n(),r=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=a[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,l=1,c=2;return o.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},o.all=function(e,t){function n(n){i=i&&n,++a===e.length&&t(i)}var a=0,i=!0;r(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},o}]},Ha=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function a(){return e(function(){i(),s||l.complete(),s=!0}),l}function i(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null)}var o=r||{};o.$$prepared||(o=z(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var s,l=new n;return{start:a,end:a}}}]},Ua=t("$compile"),qa=new pt;ft.$inject=["$provide","$$sanitizeUriProvider"],ht.prototype.isFirstChange=function(){return this.previousValue===qa};var Va=/^((?:x|data)[\:\-_])/i,Ga=t("$controller"),Wa=/^(\S+)(\s+as\s+([\w$]+))?$/,Ya=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Lr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Xa="application/json",Qa={"Content-Type":Xa+";charset=utf-8"},Ka=/^\[|^\{(?!\{)/,Za={"[":/]$/,"{":/}$/},Ja=/^\)\]\}',?\n/,ei=t("$http"),ti=function(e){return function(){throw ei("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},ni=qr.$interpolateMinErr=t("$interpolate");ni.throwNoconcat=function(e){throw ni("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},ni.interr=function(e,t){return ni("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ri=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ai={http:80,https:443,ftp:21},ii=t("$location"),oi={$$html5:!1,$$replace:!1,absUrl:Yt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ri.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Yt("$$protocol"),host:Yt("$$host"),port:Yt("$$port"),path:Xt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||_(e))e=e.toString(),this.$$search=J(e);else{if(!b(e))throw ii("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=z(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Xt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Wt,Gt,Vt],function(e){e.prototype=Object.create(oi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Vt||!this.$$html5)throw ii("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var si=t("$parse"),li=Function.prototype.call,ci=Function.prototype.apply,ui=Function.prototype.bind,di=ge();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){di[e]=!0});var pi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},fi=function(e){this.options=e};fi.prototype={constructor:fi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),a=di[t],i=di[n],o=di[r];if(a||i||o){var s=o?r:i?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw si("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Er(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){
var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,a=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(r+=i,a){if("u"===i){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=pi[i];n+=s||i}a=!1}else if("\\"===i)a=!0;else{if(i===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=i}this.index++}this.throwError("Unterminated quote",t)}};var hi=function(e,t){this.lexer=e,this.options=t};hi.Program="Program",hi.ExpressionStatement="ExpressionStatement",hi.AssignmentExpression="AssignmentExpression",hi.ConditionalExpression="ConditionalExpression",hi.LogicalExpression="LogicalExpression",hi.BinaryExpression="BinaryExpression",hi.UnaryExpression="UnaryExpression",hi.CallExpression="CallExpression",hi.MemberExpression="MemberExpression",hi.Identifier="Identifier",hi.Literal="Literal",hi.ArrayExpression="ArrayExpression",hi.Property="Property",hi.ObjectExpression="ObjectExpression",hi.ThisExpression="ThisExpression",hi.LocalsExpression="LocalsExpression",hi.NGValueParameter="NGValueParameter",hi.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:hi.Program,body:e}},expressionStatement:function(){return{type:hi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:hi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:hi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:hi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:hi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:hi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function is(){var is;this.expect("(")?(is=this.filterChain(),this.consume(")")):this.expect("[")?is=this.arrayDeclaration():this.expect("{")?is=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?is=z(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?is={type:hi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?is=this.identifier():this.peek().constant?is=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(is={type:hi.CallExpression,callee:is,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(is={type:hi.MemberExpression,object:is,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?is={type:hi.MemberExpression,object:is,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return is},filter:function(e){for(var t=[e],n={type:hi.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:hi.Identifier,name:e.text}},constant:function(){return{type:hi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:hi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:hi.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:hi.ObjectExpression,properties:t}},throwError:function(e,t){throw si("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw si("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw si("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,a){if(this.tokens.length>e){var i=this.tokens[e],o=i.text;if(o===t||o===n||o===r||o===a||!t&&!n&&!r&&!a)return i}return!1},expect:function(e,t,n,r){var a=this.peek(e,t,n,r);return!!a&&(this.tokens.shift(),a)},selfReferential:{"this":{type:hi.ThisExpression},$locals:{type:hi.LocalsExpression}}},fn.prototype={compile:function(e,t){var n=this,a=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sn(a,n.$filter);var i,o="";if(this.stage="assign",i=un(a)){this.state.computing="assign";var s=this.nextId();this.recurse(i,s),this.return_(s),o="fn.assign="+this.generateFunction("assign","s,v,l")}var l=ln(a.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var a=n.nextId();n.recurse(e,a),n.return_(a),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(a);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Zt,en,tn,Jt,nn,rn,an,e);return this.state=this.stage=void 0,u.literal=dn(a),u.constant=pn(a),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,a,i,o){var s,l,c,u,d=this;if(a=a||f,!o&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,a,i,!0));switch(e.type){case hi.Program:r(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case hi.Literal:u=this.escape(e.value),this.assign(t,u),a(u);break;case hi.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),a(u);break;case hi.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),a(u);break;case hi.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),a(t);break;case hi.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),a(t);break;case hi.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Zt(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||gn(e.name))&&d.addEnsureSafeObject(t),a(t);break;case hi.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,void 0,function(){d.if_(d.notNull(s),function(){i&&1!==i&&d.addEnsureSafeAssignContext(s),e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),d.addEnsureSafeMemberName(l),i&&1!==i&&d.if_(d.not(d.computedMember(s,l)),d.lazyAssign(d.computedMember(s,l),"{}")),u=d.ensureSafeObject(d.computedMember(s,l)),d.assign(t,u),n&&(n.computed=!0,n.name=l)):(Zt(e.property.name),i&&1!==i&&d.if_(d.not(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),u=d.nonComputedMember(s,e.property.name),(d.state.expensiveChecks||gn(e.property.name))&&(u=d.ensureSafeObject(u)),d.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),a(t)},!!i);break;case hi.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),c=[],r(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",d.assign(t,u),a(t)):(l=d.nextId(),s={},c=[],d.recurse(e.callee,l,s,function(){d.if_(d.notNull(l),function(){d.addEnsureSafeFunction(l),r(e.arguments,function(e){d.recurse(e,d.nextId(),void 0,function(e){c.push(d.ensureSafeObject(e))})}),s.name?(d.state.expensiveChecks||d.addEnsureSafeObject(s.context),u=d.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=l+"("+c.join(",")+")",u=d.ensureSafeObject(u),d.assign(t,u)},function(){d.assign(t,"undefined")}),a(t)}));break;case hi.AssignmentExpression:if(l=this.nextId(),s={},!cn(e.left))throw si("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){d.if_(d.notNull(s.context),function(){d.recurse(e.right,l),d.addEnsureSafeObject(d.member(s.context,s.name,s.computed)),d.addEnsureSafeAssignContext(s.context),u=d.member(s.context,s.name,s.computed)+e.operator+l,d.assign(t,u),a(t||u)})},1);break;case hi.ArrayExpression:c=[],r(e.elements,function(e){d.recurse(e,d.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),a(u);break;case hi.ObjectExpression:c=[],r(e.properties,function(e){d.recurse(e.value,d.nextId(),void 0,function(t){c.push(d.escape(e.key.type===hi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+c.join(",")+"}",this.assign(t,u),a(u);break;case hi.ThisExpression:this.assign(t,"s"),a("s");break;case hi.LocalsExpression:this.assign(t,"l"),a("l");break;case hi.NGValueParameter:this.assign(t,"v"),a("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,a,i){var o=this;return function(){o.recurse(e,t,n,r,a,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(_(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw si("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},hn.prototype={compile:function(e,t){var n=this,a=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sn(a,n.$filter);var i,o;(i=un(a))&&(o=this.recurse(i));var s,l=ln(a.body);l&&(s=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];r(a.body,function(e){c.push(n.recurse(e.expression))});var u=0===a.body.length?f:1===a.body.length?c[0]:function(e,t){var n;return r(c,function(r){n=r(e,t)}),n};return o&&(u.assign=function(e,t,n){return o(e,n,t)}),s&&(u.inputs=s),u.literal=dn(a),u.constant=pn(a),u},recurse:function(e,t,n){var a,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case hi.Literal:return this.value(e.value,t);case hi.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case hi.BinaryExpression:return a=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](a,i,t);case hi.LogicalExpression:return a=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](a,i,t);case hi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case hi.Identifier:return Zt(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||gn(e.name),t,n,s.expression);case hi.MemberExpression:return a=this.recurse(e.object,!1,!!n),e.computed||(Zt(e.property.name,s.expression),i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(a,i,t,n,s.expression):this.nonComputedMember(a,i,s.expensiveChecks,t,n,s.expression);case hi.CallExpression:return o=[],r(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,r,a));var c=i.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,a){var l,c=i(e,n,r,a);if(null!=c.value){en(c.context,s.expression),tn(c.value,s.expression);for(var u=[],d=0;d<o.length;++d)u.push(en(o[d](e,n,r,a),s.expression));l=en(c.value.apply(c.context,u),s.expression)}return t?{value:l}:l};case hi.AssignmentExpression:return a=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,r,o){var l=a(e,n,r,o),c=i(e,n,r,o);return en(l.value,s.expression),nn(l.context),l.context[l.name]=c,t?{value:c}:c};case hi.ArrayExpression:return o=[],r(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,r,a){for(var i=[],s=0;s<o.length;++s)i.push(o[s](e,n,r,a));return t?{value:i}:i};case hi.ObjectExpression:return o=[],r(e.properties,function(e){o.push({key:e.key.type===hi.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})}),function(e,n,r,a){for(var i={},s=0;s<o.length;++s)i[o[s].key]=o[s].value(e,n,r,a);return t?{value:i}:i};case hi.ThisExpression:return function(e){return t?{value:e}:e};case hi.LocalsExpression:return function(e,n){return t?{value:n}:n};case hi.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,a,i){var o=e(n,r,a,i);return o=y(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,r,a,i){var o=e(n,r,a,i);return o=y(o)?-o:0,t?{value:o}:o}},"unary!":function(e,t){return function(n,r,a,i){var o=!e(n,r,a,i);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o),l=t(r,a,i,o),c=an(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o),l=t(r,a,i,o),c=(y(s)?s:0)-(y(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)*t(r,a,i,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)/t(r,a,i,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)%t(r,a,i,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)===t(r,a,i,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)!==t(r,a,i,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)==t(r,a,i,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)!=t(r,a,i,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)<t(r,a,i,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)>t(r,a,i,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)<=t(r,a,i,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)>=t(r,a,i,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)&&t(r,a,i,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,a,i,o){var s=e(r,a,i,o)||t(r,a,i,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(a,i,o,s){var l=e(a,i,o,s)?t(a,i,o,s):n(a,i,o,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,a){return function(i,o,s,l){var c=o&&e in o?o:i;r&&1!==r&&c&&!c[e]&&(c[e]={});var u=c?c[e]:void 0;return t&&en(u,a),n?{context:c,name:e,value:u}:u}},computedMember:function(e,t,n,r,a){return function(i,o,s,l){var c,u,d=e(i,o,s,l);return null!=d&&(c=t(i,o,s,l),c=Jt(c),Zt(c,a),r&&1!==r&&(nn(d),d&&!d[c]&&(d[c]={})),u=d[c],en(u,a)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,n,r,a,i){return function(o,s,l,c){var u=e(o,s,l,c);a&&1!==a&&(nn(u),u&&!u[t]&&(u[t]={}));var d=null!=u?u[t]:void 0;return(n||gn(t))&&en(d,i),r?{context:u,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,a,i){return i?i[t]:e(n,r,a)}}};var gi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new hi(e,n),this.astCompiler=n.csp?new hn(this.ast,t):new fn(this.ast,t)};gi.prototype={constructor:gi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var mi=Object.prototype.valueOf,vi=t("$sce"),yi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},bi=t("$compile"),xi=e.document.createElement("a"),wi=Pn(e.location.href);Ln.$inject=["$document"],Rn.$inject=["$provide"];var _i=22,ki=".",Si="0";Hn.$inject=["$locale"],Un.$inject=["$locale"];var Ai={yyyy:Yn("FullYear",4,0,!1,!0),yy:Yn("FullYear",2,0,!0,!0),y:Yn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Yn("Month",2,1),M:Yn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Yn("Date",2),d:Yn("Date",1),HH:Yn("Hours",2),H:Yn("Hours",1),hh:Yn("Hours",2,-12),h:Yn("Hours",1,-12),mm:Yn("Minutes",2),m:Yn("Minutes",1),ss:Yn("Seconds",2),s:Yn("Seconds",1),sss:Yn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:er,Z:Qn,ww:Jn(2),w:Jn(1),G:tr,GG:tr,GGG:tr,GGGG:nr},Ti=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,$i=/^\-?\d+$/;rr.$inject=["$locale"];var Ci=g(Er),Mi=g(Ir);or.$inject=["$parse"];var Ei=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Fr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ii={};r(Sa,function(e,t){function n(e,n,a){e.$watch(a[r],function(e){a.$set(t,!!e)})}if("multiple"!=e){var r=gt("ng-"+t),a=n;"checked"===e&&(a=function(e,t,a){a.ngModel!==a[r]&&n(e,t,a)}),Ii[r]=function(){return{restrict:"A",priority:100,link:a}}}}),r(Ta,function(e,t){Ii[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var a=r.ngPattern.match($r);if(a)return void r.$set("ngPattern",new RegExp(a[1],a[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=gt("ng-"+e);Ii[t]=function(){return{priority:99,link:function(n,r,a){var i=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Fr.call(r.prop("href"))&&(o="xlinkHref",a.$attr[o]="xlink:href",i=null),a.$observe(t,function(t){return t?(a.$set(o,t),void(Dr&&i&&r.prop(i,a[o]))):void("href"===e&&a.$set(o,null))})}}}});var Pi={$addControl:f,$$renameControl:lr,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},ji="ng-submitted";cr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Di=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||f}var a={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:cr,compile:function(n,a){n.addClass(vo).addClass(go);var i=a.name?"name":!(!e||!a.ngForm)&&"ngForm";return{pre:function(e,n,a,o){var s=o[0];if(!("action"in a)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};da(n[0],"submit",l),n.on("$destroy",function(){t(function(){pa(n[0],"submit",l)},0,!1)})}var u=o[1]||s.$$parentForm;u.$addControl(s);var d=i?r(s.$name):f;i&&(d(e,s),a.$observe(i,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),c(s,Pi)})}}}};return a}]},Li=Di(),Oi=Di(!0),Ri=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ni=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,zi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Fi=/^(\d{4,})-(\d{2})-(\d{2})$/,Hi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ui=/^(\d{4,})-W(\d\d)$/,qi=/^(\d{4,})-(\d\d)$/,Vi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gi="keydown wheel mousedown",Wi=ge();r("date,datetime-local,month,time,week".split(","),function(e){Wi[e]=!0});var Yi={text:dr,date:gr("date",Fi,hr(Fi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gr("datetimelocal",Hi,hr(Hi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gr("time",Vi,hr(Vi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gr("week",Ui,fr,"yyyy-Www"),month:gr("month",qi,hr(qi,["yyyy","MM"]),"yyyy-MM"),number:vr,url:yr,email:br,radio:xr,checkbox:_r,hidden:f,button:f,submit:f,reset:f,file:f},Xi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(a,i,o,s){s[0]&&(Yi[Er(o.type)]||Yi.text)(a,i,o,s[0],t,e,n,r)}}}}],Qi=/^(true|false|\d+)$/,Ki=function(){return{restrict:"A",priority:100,compile:function(e,t){return Qi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],Ji=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,a){var i=e(r.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(r,i.expressions),r=r[0],a.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],eo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,a){var i=t(a.ngBindHtml),o=t(a.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,a){n.$$addBindingInfo(r,a.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(i(t))||"")})}}}}],to=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),no=kr("",!0),ro=kr("Odd",0),ao=kr("Even",1),io=sr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),oo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],so={},lo={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);so[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(a,i){var o=n(i[t],null,!0);return function(t,n){n.on(e,function(n){var a=function(){o(t,{$event:n})};lo[e]&&r.$$phase?t.$evalAsync(a):t.$apply(a)})}}}}]});var co=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,a,i,o){var s,l,c;n.$watch(a.ngIf,function(n){n?l||o(function(n,i){l=i,n[n.length++]=t.$$createComment("end ngIf",a.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=he(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],uo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:qr.noop,compile:function(r,a){var i=a.ngInclude||a.src,o=a.onload||"",s=a.autoscroll;return function(r,a,l,c,u){var d,p,f,h=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(i,function(i){var l=function(){!y(s)||s&&!r.$eval(s)||t()},p=++h;i?(e(i,!0).then(function(e){if(!r.$$destroyed&&p===h){var t=r.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,a).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",i),r.$eval(o)}},function(){r.$$destroyed||p===h&&(g(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(g(),c.template=null)})}}}}],po=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,a,i){return Fr.call(r[0]).match(/SVG/)?(r.empty(),void t(Te(i.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(i.template),void t(r.contents())(n))}}}],fo=sr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ho=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,a){var i=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?Yr(i):i,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(o?Yr(e):e)}),t}};a.$parsers.push(l),a.$formatters.push(function(e){if(Gr(e))return e.join(i)}),a.$isEmpty=function(e){return!e||!e.length}}}},go="ng-valid",mo="ng-invalid",vo="ng-pristine",yo="ng-dirty",bo="ng-untouched",xo="ng-touched",wo="ng-pending",_o="ng-empty",ko="ng-not-empty",So=t("ngModel"),Ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,a,i,o,s,l,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=Pi;var d,p=i(n.ngModel),h=p.assign,g=p,m=h,b=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=i(n.ngModel+"()"),r=i(n.ngModel+"($$$p)");g=function(e){var n=p(e);return S(n)&&(n=t(e)),n},m=function(e,t){S(p(e))?r(e,{$$$p:t}):h(e,t)}}else if(!p.assign)throw So("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,K(a))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){x.$isEmpty(e)?(o.removeClass(a,ko),o.addClass(a,_o)):(o.removeClass(a,_o),o.addClass(a,ko))};var w=0;Sr({ctrl:this,$element:a,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,o.removeClass(a,yo),o.addClass(a,vo)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,o.removeClass(a,vo),o.addClass(a,yo),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,o.setClass(a,bo,xo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,o.setClass(a,xo,bo)},this.$rollbackViewValue=function(){s.cancel(b),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!_(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,n=x.$valid,r=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){a||n===e||(x.$modelValue=e?t:void 0,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function a(){var e=x.$$parserName||"parse";return v(d)?(s(e,null),!0):(d||(r(x.$validators,function(e,t){s(t,null)}),r(x.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function i(){var n=!0;return r(x.$validators,function(r,a){var i=r(e,t);n=n&&i,s(a,i)}),!!n||(r(x.$asyncValidators,function(e,t){s(t,null)}),!1)}function o(){var n=[],a=!0;r(x.$asyncValidators,function(r,i){var o=r(e,t);if(!P(o))throw So("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o);s(i,void 0),n.push(o.then(function(){s(i,!0)},function(){a=!1,s(i,!1)}))}),n.length?c.all(n).then(function(){l(a)},f):l(!0)}function s(e,t){u===w&&x.$setValidity(e,t)}function l(e){u===w&&n(e)}w++;var u=w;return a()&&i()?void o():void l(!1)},this.$commitViewValue=function(){
var e=x.$viewValue;s.cancel(b),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$updateEmptyClasses(e),x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==i&&x.$$writeModelToScope()}var n=x.$$lastCommittedViewValue,r=n;if(d=!v(r)||void 0)for(var a=0;a<x.$parsers.length;a++)if(r=x.$parsers[a](r),v(r)){d=!1;break}_(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,o&&(x.$modelValue=r,t()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(e){o||(x.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){m(e,x.$modelValue),r(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,a=x.$options;a&&y(a.debounce)&&(n=a.debounce,_(n)?r=n:_(n[t])?r=n[t]:_(n["default"])&&(r=n["default"])),s.cancel(b),r?b=s(function(){x.$commitViewValue()},r):l.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,d=void 0;for(var n=x.$formatters,r=n.length,a=t;r--;)a=n[r](a);x.$viewValue!==a&&(x.$$updateEmptyClasses(a),x.$viewValue=x.$$lastCommittedViewValue=a,x.$render(),x.$$runValidators(t,a,f))}return t})}],To=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ao,priority:1,compile:function(t){return t.addClass(vo).addClass(bo).addClass(go),{pre:function(e,t,n,r){var a=r[0],i=r[1]||a.$$parentForm;a.$$setOptions(r[2]&&r[2].$options),i.$addControl(a),n.$observe("name",function(e){a.$name!==e&&a.$$parentForm.$$renameControl(a,e)}),e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function(t,n,r,a){var i=a[0];i.$options&&i.$options.updateOn&&n.on(i.$options.updateOn,function(e){i.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){i.$touched||(e.$$phase?t.$evalAsync(i.$setTouched):t.$apply(i.$setTouched))})}}}}}],$o=/(\s+|^)default(\s+|$)/,Co=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=z(e.$eval(t.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Yr(this.$options.updateOn.replace($o,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Mo=sr({terminal:!0,priority:1e3}),Eo=t("ngOptions"),Io=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Po=["$compile","$document","$parse",function(t,a,i){function o(e,t,r){function a(e,t,n,r,a){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=a}function o(e){var t;if(!c&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Io);if(!s)throw Eo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,K(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=i(s[2]?s[1]:l),f=u&&i(u),h=f||p,g=d&&i(d),m=d?function(e,t){return g(r,t)}:function(e){return Ke(e)},v=function(e,t){return m(e,k(e,t))},y=i(s[2]||s[1]),b=i(s[3]||""),x=i(s[4]||""),w=i(s[8]),_={},k=c?function(e,t){return _[c]=t,_[l]=e,_}:function(e){return _[l]=e,_};return{trackBy:d,getTrackByValue:v,getWatchables:i(w,function(e){var t=[];e=e||[];for(var n=o(e),a=n.length,i=0;i<a;i++){var l=e===n?i:n[i],c=e[l],u=k(c,l),d=m(c,u);if(t.push(d),s[2]||s[1]){var p=y(r,u);t.push(p)}if(s[4]){var f=x(r,u);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=w(r)||[],i=o(n),s=i.length,l=0;l<s;l++){var c=n===i?l:i[l],u=n[c],p=k(u,c),f=h(r,p),g=m(f,p),_=y(r,p),S=b(r,p),A=x(r,p),T=new a(g,f,_,S,A);e.push(T),t[g]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?qr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,i,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=k&&h.readValue();if(k)for(var t=k.items.length-1;t>=0;t--){var r=k.items[t];Ue(r.group?r.element.parentNode:r.element)}k=S.getOptions();var a={};if(w&&n.prepend(f),k.items.forEach(function(e){var t;y(e.group)?(t=a[e.group],t||(t=c.cloneNode(!1),A.appendChild(t),t.label=e.group,a[e.group]=t),u(e,t)):u(e,A)}),n[0].appendChild(A),g.$render(),!g.$isEmpty(e)){var i=h.readValue(),o=S.trackBy||m;(o?F(e,i):e===i)||(g.$setViewValue(i),g.$render())}}for(var f,h=s[0],g=s[1],m=i.multiple,v=0,b=n.children(),x=b.length;v<x;v++)if(""===b[v].value){f=b.eq(v);break}var w=!!f,_=Lr(l.cloneNode(!1));_.val("?");var k,S=o(i.ngOptions,n,e),A=a[0].createDocumentFragment(),T=function(){w||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},$=function(){w||f.remove()},C=function(){n.prepend(_),n.val("?"),_.prop("selected",!0),_.attr("selected",!0)},M=function(){_.remove()};m?(g.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){k.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=k.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=k.selectValueMap[e];n&&!n.disabled&&t.push(k.getViewValueFromOption(n))}),t},S.trackBy&&e.$watchCollection(function(){if(Gr(g.$viewValue))return g.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){g.$render()})):(h.writeValue=function(e){var t=k.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(M(),$(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(M(),T()):($(),C())},h.readValue=function(){var e=k.selectValueMap[n.val()];return e&&!e.disabled?($(),M(),k.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(g.$viewValue)},function(){g.$render()})),w?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=Lr(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(S.getWatchables,p)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:s}}}],jo=["$locale","$interpolate","$log",function(e,t,n){var a=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,g=o.$eval(p)||{},m={},y=t.startSymbol(),b=t.endSymbol(),x=y+d+"-"+h+b,w=qr.noop;r(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Er(n[2]);g[r]=s.attr(l.$attr[t])}}),r(g,function(e,n){m[n]=t(e.replace(a,x))}),o.$watch(d,function(t){var r=parseFloat(t),a=isNaN(r);if(a||r in g||(r=e.pluralCat(r-h)),r!==u&&!(a&&_(u)&&isNaN(u))){w();var i=m[r];v(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),w=f,c()):w=o.$watch(i,c),u=r}})}}}],Do=["$parse","$animate","$compile",function(e,a,i){var o="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,a,i,o){e[n]=r,a&&(e[a]=i),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var p=d.ngRepeat,f=i.$$createComment("end ngRepeat",p),h=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=h[1],m=h[2],v=h[3],y=h[4];if(h=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=h[3]||h[1],x=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var w,_,k,S,A={$id:Ke};return y?w=e(y):(k=function(e,t){return Ke(t)},S=function(e){return e}),function(e,t,i,d,h){w&&(_=function(t,n,r){return x&&(A[x]=t),A[b]=n,A.$index=r,w(e,A)});var g=ge();e.$watchCollection(m,function(i){var d,m,y,w,A,T,$,C,M,E,I,P,j=t[0],D=ge();if(v&&(e[v]=i),n(i))M=i,C=_||k;else{C=_||S,M=[];for(var L in i)Mr.call(i,L)&&"$"!==L.charAt(0)&&M.push(L)}for(w=M.length,I=new Array(w),d=0;d<w;d++)if(A=i===M?d:M[d],T=i[A],$=C(A,T,d),g[$])E=g[$],delete g[$],D[$]=E,I[d]=E;else{if(D[$])throw r(I,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,$,T);I[d]={id:$,scope:void 0,clone:void 0},D[$]=!0}for(var O in g){if(E=g[O],P=he(E.clone),a.leave(P),P[0].parentNode)for(d=0,m=P.length;d<m;d++)P[d][o]=!0;E.scope.$destroy()}for(d=0;d<w;d++)if(A=i===M?d:M[d],T=i[A],E=I[d],E.scope){y=j;do y=y.nextSibling;while(y&&y[o]);c(E)!=y&&a.move(he(E.clone),null,j),j=u(E),l(E.scope,d,b,T,x,A,w)}else h(function(e,t){E.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,a.enter(e,null,j),j=n,E.clone=e,D[E.id]=E,l(E.scope,d,b,T,x,A,w)});g=D})}}}}],Lo="ng-hide",Oo="ng-hide-animate",Ro=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Lo,{tempClasses:Oo})})}}}],No=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Lo,{tempClasses:Oo})})}}}],zo=sr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Bo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,a,i,o){var s=i.ngSwitch||i.on,l=[],c=[],u=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var a,i;for(a=0,i=u.length;a<i;++a)e.cancel(u[a]);for(u.length=0,a=0,i=d.length;a<i;++a){var s=he(c[a].clone);d[a].$destroy();var f=u[a]=e.leave(s);f.then(p(u,a))}c.length=0,d.length=0,(l=o.cases["!"+n]||o.cases["?"])&&r(l,function(n){n.transclude(function(r,a){d.push(a);var i=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:r};c.push(o),e.enter(r,i.parent(),i)})})})}}}],Fo=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:a,element:t})}}),Ho=sr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:a,element:t})}}),Uo=t("ngTransclude"),qo=sr({restrict:"EAC",link:function(e,t,n,r,a){function i(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!a)throw Uo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",K(t));var o=n.ngTransclude||n.ngTranscludeSlot;a(i,null,o)}}),Vo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,a=t[0].text;e.put(r,a)}}}}],Go={$setViewValue:f,$render:f},Wo=["$element","$scope",function(t,n){var r=this,a=new Ze;r.ngModelCtrl=Go,r.unknownOption=Lr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ke(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=f}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==ia){pe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1),r.ngModelCtrl.$render(),Tr(t)}},r.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(r.emptyOption=void 0)):a.put(e,t-1))},r.hasOption=function(e){return!!a.get(e)},r.registerOption=function(e,t,n,a,i){if(a){var o;n.$observe("value",function(e){y(o)&&r.removeOption(o),o=e,r.addOption(e,t)})}else i?e.$watch(i,function(e,a){n.$set("value",e),a!==e&&r.removeOption(a),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Yo=function(){function e(e,t,n,a){var i=a[1];if(i){var o=a[0];if(o.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Ze(e);r(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==i.$viewValue||F(s,i.$viewValue)||(s=B(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var a=r[1];if(a){var i=r[0];a.$render=function(){i.writeValue(a.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Wo,priority:1,link:{pre:e,post:t}}},Xo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(y(n.value))var r=e(n.value,!0);else{var a=e(t.text(),!0);a||n.$set("value",t.text())}return function(e,t,n){var i="$selectController",o=t.parent(),s=o.data(i)||o.parent().data(i);s&&s.registerOption(e,t,n,r,a)}}}}],Qo=g({restrict:"E",terminal:!1}),Ko=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Zo=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,a){if(a){var i,o=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,K(n));i=e||void 0,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||v(i)||i.test(t)}}}}},Jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a=-1;n.$observe("maxlength",function(e){var t=d(e);a=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return a<0||r.$isEmpty(t)||t.length<=a}}}}},es=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a=0;n.$observe("minlength",function(e){a=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=a}}}}};return e.angular.bootstrap?void e.console:(ce(),be(qr),qr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var a=Math.pow(10,r),i=(e*a|0)%a;return{v:r,f:i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var a=0|e,i=n(e,t);return 1==a&&0==i.v?r.ONE:r.OTHER}})}]),void Lr(e.document).ready(function(){ae(e.document,ie)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],12:[function(e,t,n){!function(r){"use strict";function a(e){this.owner=e}function i(e,t){if(Object.create)t.prototype=Object.create(e.prototype);else{var n=function(){};n.prototype=e.prototype,t.prototype=new n}return t.prototype.constructor=t,t}function o(e){var t=this.internal=new s(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function n(e,t,r){Object.keys(e).forEach(function(a){t[a]=e[a].bind(r),Object.keys(e[a]).length>0&&n(e[a],t[a],r)})}(u,this,this)}function s(t){var n=this;n.d3=r.d3?r.d3:"undefined"!=typeof e?e("./../d3/d3.js"):void 0,n.api=t,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function l(e){a.call(this,e)}function c(e,t){function n(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+x)+", 0)"})}function r(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function a(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function i(e){var t,n,r=[];if(e.ticks)return e.ticks.apply(e,f);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)r.push(t);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function o(){var e,n=g.copy();return t.isCategory&&(e=g.domain(),n.domain([e[0],e[1]-1])),n}function s(e){var t=p?p(e):e;return"undefined"!=typeof t?t:""}function l(e){if(C)return C;var t={h:11.5,w:5.5};return e.select("text").text(s).each(function(e){var n=this.getBoundingClientRect(),r=s(e),a=n.height,i=r?n.width/r.length:void 0;a&&i&&(t.h=a,t.w=i)}).text(""),C=t,t}function c(n){return t.withoutTransition?n:e.transition(n)}function u(p){p.each(function(){function p(e,n){function r(e,t){i=void 0;for(var s=1;s<t.length;s++)if(" "===t.charAt(s)&&(i=s),a=t.substr(0,s+1),o=G.w*a.length,n<o)return r(e.concat(t.substr(0,i?i:s)),t.slice(i?i+1:s));return e.concat(t)}var a,i,o,l=s(e),c=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||n<=0)&&(n=X?95:t.isCategory?Math.ceil(I(P[1])-I(P[0]))-12:110),r(c,l+""))}function f(e,t){var n=G.h;return 0===t&&(n="left"===m||"right"===m?-((W[e.index]-1)*(G.h/2)-3):".71em"),n}function w(e){var t=g(e)+(h?0:x);return R[0]<t&&t<R[1]?v:0}function _(e){return e?e>0?"start":"end":"middle"}function k(e){return e?"rotate("+e+")":""}function S(e){return e?8*Math.sin(Math.PI*(e/180)):0}function A(e){return e?11.5-2.5*(e/15)*(e>0?1:-1):Y}var T,$,C,M=u.g=e.select(this),E=this.__chart__||g,I=this.__chart__=o(),P=b?b:i(I),j=M.selectAll(".tick").data(P,I),D=j.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),L=j.exit().remove(),O=c(j).style("opacity",1),R=g.rangeExtent?g.rangeExtent():a(g.range()),N=M.selectAll(".domain").data([0]),z=(N.enter().append("path").attr("class","domain"),c(N));D.append("line"),D.append("text");var B=D.select("line"),F=O.select("line"),H=D.select("text"),U=O.select("text");t.isCategory?(x=Math.ceil((I(1)-I(0))/2),$=h?0:x,C=h?x:0):x=$=0;var q,V,G=l(M.select(".tick")),W=[],Y=Math.max(v,0)+y,X="left"===m||"right"===m;q=j.select("text"),V=q.selectAll("tspan").data(function(e,n){var r=t.tickMultiline?p(e,t.tickWidth):[].concat(s(e));return W[n]=r.length,r.map(function(e){return{index:n,splitted:e}})}),V.enter().append("tspan"),V.exit().remove(),V.text(function(e){return e.splitted});var Q=t.tickTextRotate;switch(m){case"bottom":T=n,B.attr("y2",v),H.attr("y",Y),F.attr("x1",$).attr("x2",$).attr("y2",w),U.attr("x",0).attr("y",A(Q)).style("text-anchor",_(Q)).attr("transform",k(Q)),V.attr("x",0).attr("dy",f).attr("dx",S(Q)),z.attr("d","M"+R[0]+","+d+"V0H"+R[1]+"V"+d);break;case"top":T=n,B.attr("y2",-v),H.attr("y",-Y),F.attr("x2",0).attr("y2",-v),U.attr("x",0).attr("y",-Y),q.style("text-anchor","middle"),V.attr("x",0).attr("dy","0em"),z.attr("d","M"+R[0]+","+-d+"V0H"+R[1]+"V"+-d);break;case"left":T=r,B.attr("x2",-v),H.attr("x",-Y),F.attr("x2",-v).attr("y1",C).attr("y2",C),U.attr("x",-Y).attr("y",x),q.style("text-anchor","end"),V.attr("x",-Y).attr("dy",f),z.attr("d","M"+-d+","+R[0]+"H0V"+R[1]+"H"+-d);break;case"right":T=r,B.attr("x2",v),H.attr("x",Y),F.attr("x2",v).attr("y2",0),U.attr("x",Y).attr("y",0),q.style("text-anchor","start"),V.attr("x",Y).attr("dy",f),z.attr("d","M"+d+","+R[0]+"H0V"+R[1]+"H"+d)}if(I.rangeBand){var K=I,Z=K.rangeBand()/2;E=I=function(e){return K(e)+Z}}else E.rangeBand?E=I:L.call(T,I);D.call(T,E),O.call(T,I)})}var d,p,f,h,g=e.scale.linear(),m="bottom",v=6,y=3,b=null,x=0,w=!0;return t=t||{},d=t.withOuterTick?6:0,u.scale=function(e){return arguments.length?(g=e,u):g},u.orient=function(e){return arguments.length?(m=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",u):m},u.tickFormat=function(e){return arguments.length?(p=e,u):p},u.tickCentered=function(e){return arguments.length?(h=e,u):h},u.tickOffset=function(){return x},u.tickInterval=function(){var e,n;return t.isCategory?e=2*x:(n=u.g.select("path.domain").node().getTotalLength()-2*d,e=n/u.g.selectAll("line").size()),e===1/0?0:e},u.ticks=function(){return arguments.length?(f=arguments,u):f},u.tickCulling=function(e){return arguments.length?(w=e,u):w},u.tickValues=function(e){if("function"==typeof e)b=function(){return e(g.domain())};else{if(!arguments.length)return b;b=e}return u},u}var u,d,p,f={version:"0.4.11-rc4"};f.generate=function(e){return new o(e)},f.chart={fn:o.prototype,internal:{fn:s.prototype,axis:{fn:l.prototype}}},u=f.chart.fn,d=f.chart.internal.fn,p=f.chart.internal.axis.fn,d.beforeInit=function(){},d.afterInit=function(){},d.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},d.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},d.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},d.initWithData=function(e){var t,n,r=this,a=r.d3,i=r.config,o=!0;r.axis=new l(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),i.bindto?"function"==typeof i.bindto.node?r.selectChart=i.bindto:r.selectChart=a.select(i.bindto):r.selectChart=a.selectAll([]),r.selectChart.empty()&&(r.selectChart=a.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),o=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(e),i.data_filter&&(r.data.targets=r.data.targets.filter(i.data_filter)),i.data_hide&&r.addHiddenTargetIds(i.data_hide===!0?r.mapToIds(r.data.targets):i.data_hide),i.legend_hide&&r.addHiddenLegendIds(i.legend_hide===!0?r.mapToIds(r.data.targets):i.legend_hide),r.hasType("gauge")&&(i.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(a.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),i.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return i.onmouseover.call(r)}).on("mouseleave",function(){return i.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),t=r.svg.append("defs"),r.clipChart=r.appendClip(t,r.clipId),r.clipXAxis=r.appendClip(t,r.clipIdForXAxis),r.clipYAxis=r.appendClip(t,r.clipIdForYAxis),r.clipGrid=r.appendClip(t,r.clipIdForGrid),r.clipSubchart=r.appendClip(t,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",h.chart),i.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",i.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),i.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),o&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},d.smoothLines=function(e,t){var n=this;"grid"===t&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),r=e.attr("x2"),a=e.attr("y1"),i=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(r),y1:Math.ceil(a),y2:Math.ceil(i)})})},d.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,r=e.legend?e.getLegendWidth():0,a=e.isLegendRight||e.isLegendInset?0:n,i=e.hasArcType(),o=t.axis_rotated||i?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!i?t.subchart_size_height+o:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:i?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+a+e.getCurrentPaddingBottom(),left:s+(i?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:i?0:e.getCurrentPaddingRight(),bottom:o+s+a+e.getCurrentPaddingBottom(),left:i?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+a,left:e.rotated_padding_left}:{top:e.currentHeight-s-a,right:NaN,bottom:o+a,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,r),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?r+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&i&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},d.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},d.showTargets=function(){var e=this;e.svg.selectAll("."+h.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},d.redraw=function(e,t){var n,r,a,i,o,s,l,c,u,d,p,f,g,m,v,y,b,x,w,_,k,S,T,$,C,M,E,I,P,j=this,D=j.main,L=j.d3,O=j.config,R=j.getShapeIndices(j.isAreaType),N=j.getShapeIndices(j.isBarType),z=j.getShapeIndices(j.isLineType),B=j.hasArcType(),F=j.filterTargetsToShow(j.data.targets),H=j.xv.bind(j);if(e=e||{},n=A(e,"withY",!0),r=A(e,"withSubchart",!0),a=A(e,"withTransition",!0),s=A(e,"withTransform",!1),l=A(e,"withUpdateXDomain",!1),c=A(e,"withUpdateOrgXDomain",!1),u=A(e,"withTrimXDomain",!0),g=A(e,"withUpdateXAxis",l),d=A(e,"withLegend",!1),p=A(e,"withEventRect",!0),f=A(e,"withDimension",!0),i=A(e,"withTransitionForExit",a),o=A(e,"withTransitionForAxis",a),w=a?O.transition_duration:0,_=i?w:0,k=o?w:0,t=t||j.axis.generateTransitions(k),d&&O.legend_show?j.updateLegend(j.mapToIds(j.data.targets),e,t):f&&j.updateDimension(!0),j.isCategorized()&&0===F.length&&j.x.domain([0,j.axes.x.selectAll(".tick").size()]),F.length?(j.updateXDomain(F,l,c,u),O.axis_x_tick_values||($=j.axis.updateXAxisTickValues(F))):(j.xAxis.tickValues([]),j.subXAxis.tickValues([])),O.zoom_rescale&&!e.flow&&(E=j.x.orgDomain()),j.y.domain(j.getYDomain(F,"y",E)),j.y2.domain(j.getYDomain(F,"y2",E)),!O.axis_y_tick_values&&O.axis_y_tick_count&&j.yAxis.tickValues(j.axis.generateTickValues(j.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&j.y2Axis.tickValues(j.axis.generateTickValues(j.y2.domain(),O.axis_y2_tick_count)),j.axis.redraw(t,B),j.axis.updateLabels(a),(l||g)&&F.length)if(O.axis_x_tick_culling&&$){for(C=1;C<$.length;C++)if($.length/C<O.axis_x_tick_culling_max){M=C;break}j.svg.selectAll("."+h.axisX+" .tick text").each(function(e){
var t=$.indexOf(e);t>=0&&L.select(this).style("display",t%M?"none":"block")})}else j.svg.selectAll("."+h.axisX+" .tick text").style("display","block");m=j.generateDrawArea?j.generateDrawArea(R,!1):void 0,v=j.generateDrawBar?j.generateDrawBar(N):void 0,y=j.generateDrawLine?j.generateDrawLine(z,!1):void 0,b=j.generateXYForText(R,N,z,!0),x=j.generateXYForText(R,N,z,!1),n&&(j.subY.domain(j.getYDomain(F,"y")),j.subY2.domain(j.getYDomain(F,"y2"))),j.updateXgridFocus(),D.select("text."+h.text+"."+h.empty).attr("x",j.width/2).attr("y",j.height/2).text(O.data_empty_label_text).transition().style("opacity",F.length?0:1),j.updateGrid(w),j.updateRegion(w),j.updateBar(_),j.updateLine(_),j.updateArea(_),j.updateCircle(),j.hasDataLabel()&&j.updateText(_),j.redrawTitle&&j.redrawTitle(),j.redrawArc&&j.redrawArc(w,_,s),j.redrawSubchart&&j.redrawSubchart(r,t,w,_,R,N,z),D.selectAll("."+h.selectedCircles).filter(j.isBarType.bind(j)).selectAll("circle").remove(),O.interaction_enabled&&!e.flow&&p&&(j.redrawEventRect(),j.updateZoom&&j.updateZoom()),j.updateCircleY(),I=(j.config.axis_rotated?j.circleY:j.circleX).bind(j),P=(j.config.axis_rotated?j.circleX:j.circleY).bind(j),e.flow&&(T=j.generateFlow({targets:F,flow:e.flow,duration:e.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:I,cy:P,xv:H,xForText:b,yForText:x})),(w||T)&&j.isTabVisible()?L.transition().duration(w).each(function(){var t=[];[j.redrawBar(v,!0),j.redrawLine(y,!0),j.redrawArea(m,!0),j.redrawCircle(I,P,!0),j.redrawText(b,x,e.flow,!0),j.redrawRegion(!0),j.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),S=j.generateWait(),t.forEach(function(e){S.add(e)})}).call(S,function(){T&&T(),O.onrendered&&O.onrendered.call(j)}):(j.redrawBar(v),j.redrawLine(y),j.redrawArea(m),j.redrawCircle(I,P),j.redrawText(b,x,e.flow),j.redrawRegion(),j.redrawGrid(),O.onrendered&&O.onrendered.call(j)),j.mapToIds(j.data.targets).forEach(function(e){j.withoutFadeIn[e]=!0})},d.updateAndRedraw=function(e){var t,n=this,r=n.config;e=e||{},e.withTransition=A(e,"withTransition",!0),e.withTransform=A(e,"withTransform",!1),e.withLegend=A(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=A(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&r.legend_show||(t=n.axis.generateTransitions(e.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)},d.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},d.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},d.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},d.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||S(t.data_xs))},d.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},d.getTranslate=function(e){var t,n,r=this,a=r.config;return"main"===e?(t=w(r.margin.left),n=w(r.margin.top)):"context"===e?(t=w(r.margin2.left),n=w(r.margin2.top)):"legend"===e?(t=r.margin3.left,n=r.margin3.top):"x"===e?(t=0,n=a.axis_rotated?0:r.height):"y"===e?(t=0,n=a.axis_rotated?r.height:0):"y2"===e?(t=a.axis_rotated?0:r.width,n=a.axis_rotated?1:0):"subx"===e?(t=0,n=a.axis_rotated?0:r.height2):"arc"===e&&(t=r.arcWidth/2,n=r.arcHeight/2),"translate("+t+","+n+")"},d.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},d.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},d.opacityForCircle=function(e){var t=this.config.point_show?1:0;return g(e.value)?this.isScatterType(e)?.5:t:0},d.opacityForText=function(){return this.hasDataLabel()?1:0},d.xx=function(e){return e?this.x(e.x):null},d.xv=function(e){var t=this,n=e.value;return t.isTimeSeries()?n=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(n=t.config.axis_x_categories.indexOf(e.value)),Math.ceil(t.x(n))},d.yv=function(e){var t=this,n=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(n(e.value))},d.subxx=function(e){return e?this.subX(e.x):null},d.transformMain=function(e,t){var n,r,a,i=this;t&&t.axisX?n=t.axisX:(n=i.main.select("."+h.axisX),e&&(n=n.transition())),t&&t.axisY?r=t.axisY:(r=i.main.select("."+h.axisY),e&&(r=r.transition())),t&&t.axisY2?a=t.axisY2:(a=i.main.select("."+h.axisY2),e&&(a=a.transition())),(e?i.main.transition():i.main).attr("transform",i.getTranslate("main")),n.attr("transform",i.getTranslate("x")),r.attr("transform",i.getTranslate("y")),a.attr("transform",i.getTranslate("y2")),i.main.select("."+h.chartArcs).attr("transform",i.getTranslate("arc"))},d.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},d.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+h.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},d.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},d.observeInserted=function(e){var t,n=this;return"undefined"==typeof MutationObserver?void r.console.error("MutationObserver not defined."):(t=new MutationObserver(function(a){a.forEach(function(a){"childList"===a.type&&a.previousSibling&&(t.disconnect(),n.intervalForObserveInserted=r.setInterval(function(){e.node().parentNode&&(r.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void t.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},d.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&r.clearTimeout(e.resizeTimeout),e.resizeTimeout=r.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),r.attachEvent)r.attachEvent("onresize",e.resizeFunction);else if(r.addEventListener)r.addEventListener("resize",e.resizeFunction,!1);else{var n=r.onresize;n?n.add&&n.remove||(n=e.generateResize(),n.add(r.onresize)):n=e.generateResize(),n.add(e.resizeFunction),r.onresize=n}},d.generateResize=function(){function e(){t.forEach(function(e){e()})}var t=[];return e.add=function(e){t.push(e)},e.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},e},d.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},d.generateWait=function(){var e=[],t=function(t,n){var r=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return void(t+=1);try{e.transition()}catch(n){t+=1}}),t===e.length&&(clearInterval(r),n&&n())},10)};return t.add=function(t){e.push(t)},t},d.parseDate=function(e){var t,n=this;return e instanceof Date?t=e:"string"==typeof e?t=n.dataTimeFormat(n.config.data_xFormat).parse(e):"number"!=typeof e||isNaN(e)||(t=new Date((+e))),t&&!isNaN(+t)||r.console.error("Failed to parse x '"+e+"' to Date object"),t},d.isTabVisible=function(){var e;return"undefined"!=typeof document.hidden?e="hidden":"undefined"!=typeof document.mozHidden?e="mozHidden":"undefined"!=typeof document.msHidden?e="msHidden":"undefined"!=typeof document.webkitHidden&&(e="webkitHidden"),!document[e]},d.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,n,r){return this.getTooltipContent?this.getTooltipContent(e,t,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},d.additionalConfig={},d.loadConfig=function(e){function t(){var e=r.shift();return e&&n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&e in n?(n=n[e],t()):e?void 0:n}var n,r,a,i=this.config;Object.keys(i).forEach(function(o){n=e,r=o.split("_"),a=t(),b(a)&&(i[o]=a)})},d.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},d.getX=function(e,t,n,r){var a,i=this,o=i.getScale(e,t,i.isTimeSeries()),s=n?o.domain(n):o;i.isCategorized()?(r=r||function(){return 0},o=function(e,t){var n=s(e)+r(e);return t?n:Math.ceil(n)}):o=function(e,t){var n=s(e);return t?n:Math.ceil(n)};for(a in s)o[a]=s[a];return o.orgDomain=function(){return s.domain()},i.isCategorized()&&(o.domain=function(e){return arguments.length?(s.domain(e),o):(e=this.orgDomain(),[e[0],e[1]+1])}),o},d.getY=function(e,t,n){var r=this.getScale(e,t,this.isTimeSeriesY());return n&&r.domain(n),r},d.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},d.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},d.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},d.getYDomainMin=function(e){var t,n,r,a,i,o,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(o=s.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(a=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==a.length)for(r=a[0],o&&u[r]&&u[r].forEach(function(e,t){u[r][t]=e<0?e:0}),n=1;n<a.length;n++)i=a[n],u[i]&&u[i].forEach(function(e,t){s.axis.getId(i)!==s.axis.getId(r)||!u[r]||o&&+e>0||(u[r][t]+=+e)});return s.d3.min(Object.keys(u).map(function(e){return s.d3.min(u[e])}))},d.getYDomainMax=function(e){var t,n,r,a,i,o,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(o=s.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(a=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==a.length)for(r=a[0],o&&u[r]&&u[r].forEach(function(e,t){u[r][t]=e>0?e:0}),n=1;n<a.length;n++)i=a[n],u[i]&&u[i].forEach(function(e,t){s.axis.getId(i)!==s.axis.getId(r)||!u[r]||o&&+e<0||(u[r][t]+=+e)});return s.d3.max(Object.keys(u).map(function(e){return s.d3.max(u[e])}))},d.getYDomain=function(e,t,n){var r,a,i,o,s,l,c,u,d,p,f,h=this,m=h.config,v=e.filter(function(e){return h.axis.getId(e.id)===t}),y=n?h.filterByXDomain(v,n):v,b="y2"===t?m.axis_y2_min:m.axis_y_min,x="y2"===t?m.axis_y2_max:m.axis_y_max,w=h.getYDomainMin(y),k=h.getYDomainMax(y),A="y2"===t?m.axis_y2_center:m.axis_y_center,T=h.hasType("bar",y)&&m.bar_zerobased||h.hasType("area",y)&&m.area_zerobased,$="y2"===t?m.axis_y2_inverted:m.axis_y_inverted,C=h.hasDataLabel()&&m.axis_rotated,M=h.hasDataLabel()&&!m.axis_rotated;return w=g(b)?b:g(x)?w<x?w:x-10:w,k=g(x)?x:g(b)?b<k?k:b+10:k,0===y.length?"y2"===t?h.y2.domain():h.y.domain():(isNaN(w)&&(w=0),isNaN(k)&&(k=w),w===k&&(w<0?k=0:w=0),p=w>=0&&k>=0,f=w<=0&&k<=0,(g(b)&&p||g(x)&&f)&&(T=!1),T&&(p&&(w=0),f&&(k=0)),a=Math.abs(k-w),i=o=s=.1*a,"undefined"!=typeof A&&(l=Math.max(Math.abs(w),Math.abs(k)),k=A+l,w=A-l),C?(c=h.getDataLabelLength(w,k,"width"),u=_(h.y.range()),d=[c[0]/u,c[1]/u],o+=a*(d[1]/(1-d[0]-d[1])),s+=a*(d[0]/(1-d[0]-d[1]))):M&&(c=h.getDataLabelLength(w,k,"height"),o+=h.axis.convertPixelsToAxisPadding(c[1],a),s+=h.axis.convertPixelsToAxisPadding(c[0],a)),"y"===t&&S(m.axis_y_padding)&&(o=h.axis.getPadding(m.axis_y_padding,"top",o,a),s=h.axis.getPadding(m.axis_y_padding,"bottom",s,a)),"y2"===t&&S(m.axis_y2_padding)&&(o=h.axis.getPadding(m.axis_y2_padding,"top",o,a),s=h.axis.getPadding(m.axis_y2_padding,"bottom",s,a)),T&&(p&&(s=w),f&&(o=-k)),r=[w-s,k+o],$?r.reverse():r)},d.getXDomainMin=function(e){var t=this,n=t.config;return b(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},d.getXDomainMax=function(e){var t=this,n=t.config;return b(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},d.getXDomainPadding=function(e){var t,n,r,a,i=this,o=i.config,s=e[1]-e[0];return i.isCategorized()?n=0:i.hasType("bar")?(t=i.getMaxDataCount(),n=t>1?s/(t-1)/2:.5):n=.01*s,"object"===_typeof(o.axis_x_padding)&&S(o.axis_x_padding)?(r=g(o.axis_x_padding.left)?o.axis_x_padding.left:n,a=g(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=a="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:a}},d.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],r=n[0],a=n[1],i=t.getXDomainPadding(n),o=0,s=0;return r-a!==0||t.isCategorized()||(t.isTimeSeries()?(r=new Date(.5*r.getTime()),a=new Date(1.5*a.getTime())):(r=0===r?1:.5*r,a=0===a?-1:1.5*a)),(r||0===r)&&(o=t.isTimeSeries()?new Date(r.getTime()-i.left):r-i.left),(a||0===a)&&(s=t.isTimeSeries()?new Date(a.getTime()+i.right):a+i.right),[o,s]},d.updateXDomain=function(e,t,n,r,a){var i=this,o=i.config;return n&&(i.x.domain(a?a:i.d3.extent(i.getXDomain(e))),i.orgXDomain=i.x.domain(),o.zoom_enabled&&i.zoom.scale(i.x).updateScaleExtent(),i.subX.domain(i.x.domain()),i.brush&&i.brush.scale(i.subX)),t&&(i.x.domain(a?a:!i.brush||i.brush.empty()?i.orgXDomain:i.brush.extent()),o.zoom_enabled&&i.zoom.scale(i.x).updateScaleExtent()),r&&i.x.domain(i.trimXDomain(i.x.orgDomain())),i.x.domain()},d.trimXDomain=function(e){var t=this.getZoomDomain(),n=t[0],r=t[1];return e[0]<=n&&(e[1]=+e[1]+(n-e[0]),e[0]=n),r<=e[1]&&(e[0]=+e[0]-(e[1]-r),e[1]=r),e},d.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||S(n.data_xs)&&T(n.data_xs,e)},d.isNotX=function(e){return!this.isX(e)},d.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:S(n.data_xs)?n.data_xs[e]:null},d.getXValuesOfXKey=function(e,t){var n,r=this,a=t&&S(t)?r.mapToIds(t):[];return a.forEach(function(t){r.getXKey(t)===e&&(n=r.data.xs[t])}),n},d.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},d.getXValue=function(e,t){var n=this;return e in n.data.xs&&n.data.xs[e]&&g(n.data.xs[e][t])?n.data.xs[e][t]:t},d.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},d.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},d.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},d.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},d.isMultipleX=function(){return S(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},d.addName=function(e){var t,n=this;return e&&(t=n.config.data_names[e.id],e.name=void 0!==t?t:e.id),e},d.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},d.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(r,a){r.x=n.generateTargetX(t[a],e.id,a)}),n.data.xs[e.id]=t})},d.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},d.generateTargetX=function(e,t,n){var r,a=this;return r=a.isTimeSeries()?e?a.parseDate(e):a.parseDate(a.getXValue(t,n)):a.isCustomX()&&!a.isCategorized()?g(e)?+e:a.getXValue(t,n):n},d.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},d.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},d.getPrevX=function(e){var t=this.xs[e-1];return"undefined"!=typeof t?t:null},d.getNextX=function(e){var t=this.xs[e+1];return"undefined"!=typeof t?t:null},d.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},d.getMaxDataCountTarget=function(e){var t,n=e.length,r=0;return n>1?e.forEach(function(e){e.values.length>r&&(t=e,r=e.values.length)}):t=n?e[0]:null,t},d.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},d.mapToIds=function(e){return e.map(function(e){return e.id})},d.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},d.hasTarget=function(e,t){var n,r=this.mapToIds(e);for(n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},d.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},d.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},d.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},d.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return n=t.isTimeSeries()?n.map(function(e){return new Date((+e))}):n.map(function(e){return+e}),n.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},d.addHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.concat(e)},d.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},d.addHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.concat(e)},d.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},d.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},d.checkValueInTargets=function(e,t){var n,r,a,i=Object.keys(e);for(n=0;n<i.length;n++)for(a=e[i[n]].values,r=0;r<a.length;r++)if(t(a[r].value))return!0;return!1},d.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},d.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},d.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},d.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},d.orderTargets=function(e){var t=this,n=t.config,r=t.isOrderAsc(),a=t.isOrderDesc();return r||a?e.sort(function(e,t){var n=function(e,t){return e+Math.abs(t.value)},a=e.values.reduce(n,0),i=t.values.reduce(n,0);return r?i-a:a-i}):m(n.data_order)&&e.sort(n.data_order),e},d.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})},d.filterRemoveNull=function(e){return e.filter(function(e){return g(e.value)})},d.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},d.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!==_typeof(e.data_labels)||!S(e.data_labels))},d.getDataLabelLength=function(e,t,n){var r=this,a=[0,0],i=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return r.dataLabelFormat(e.id)(e)}).each(function(e,t){a[t]=this.getBoundingClientRect()[n]*i}).remove(),a},d.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},d.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},d.findSameXOfValues=function(e,t){var n,r=e[t].x,a=[];for(n=t-1;n>=0&&r===e[n].x;n--)a.push(e[n]);for(n=t;n<e.length&&r===e[n].x;n++)a.push(e[n]);return a},d.findClosestFromTargets=function(e,t){var n,r=this;return n=e.map(function(e){return r.findClosest(e.values,t)}),r.findClosest(n,t)},d.findClosest=function(e,t){var n,r=this,a=r.config.point_sensitivity;return e.filter(function(e){return e&&r.isBarType(e.id)}).forEach(function(e){var t=r.main.select("."+h.bars+r.getTargetSelectorSuffix(e.id)+" ."+h.bar+"-"+e.index).node();!n&&r.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!r.isBarType(e.id)}).forEach(function(e){var i=r.dist(e,t);i<a&&(a=i,n=e)}),n},d.dist=function(e,t){var n=this,r=n.config,a=r.axis_rotated?1:0,i=r.axis_rotated?0:1,o=n.circleY(e,e.index),s=n.x(e.x);return Math.sqrt(Math.pow(s-t[a],2)+Math.pow(o-t[i],2))},d.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;0<t;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},d.updateDataAttributes=function(e,t){var n=this,r=n.config,a=r["data_"+e];return"undefined"==typeof t?a:(Object.keys(t).forEach(function(e){a[e]=t[e]}),n.redraw({withLegend:!0}),a)},d.convertUrlToData=function(e,t,n,r){var a=this,i=t?t:"csv";a.d3.xhr(e,function(e,t){var o;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");o="json"===i?a.convertJsonToData(JSON.parse(t.response),n):"tsv"===i?a.convertTsvToData(t.response):a.convertCsvToData(t.response),r.call(a,o)})},d.convertXsvToData=function(e,t){var n,r=t.parseRows(e);return 1===r.length?(n=[{}],r[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},d.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},d.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},d.convertJsonToData=function(e,t){var n,r,a=this,i=[];return t?(t.x?(n=t.value.concat(t.x),a.config.data_x=t.x):n=t.value,i.push(n),e.forEach(function(e){var t=[];n.forEach(function(n){var r=y(e[n])?null:e[n];t.push(r)}),i.push(t)}),r=a.convertRowsToData(i)):(Object.keys(e).forEach(function(t){i.push([t].concat(e[t]))}),r=a.convertColumnsToData(i)),r},d.convertRowsToData=function(e){var t,n,r=e[0],a={},i=[];for(t=1;t<e.length;t++){for(a={},n=0;n<e[t].length;n++){if(y(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");a[r[n]]=e[t][n]}i.push(a)}return i},d.convertColumnsToData=function(e){var t,n,r,a=[];for(t=0;t<e.length;t++)for(r=e[t][0],n=1;n<e[t].length;n++){if(y(a[n-1])&&(a[n-1]={}),y(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");a[n-1][r]=e[t][n]}return a},d.convertDataToTargets=function(e,t){var n,r=this,a=r.config,i=r.d3.keys(e[0]).filter(r.isNotX,r),o=r.d3.keys(e[0]).filter(r.isX,r);return i.forEach(function(n){var i=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?o.indexOf(i)>=0?r.data.xs[n]=(t&&r.data.xs[n]?r.data.xs[n]:[]).concat(e.map(function(e){return e[i]}).filter(g).map(function(e,t){return r.generateTargetX(e,n,t)})):a.data_x?r.data.xs[n]=r.getOtherTargetXs():S(a.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(i,r.data.targets)):r.data.xs[n]=e.map(function(e,t){return t})}),i.forEach(function(e){if(!r.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),n=i.map(function(t,n){var i=a.data_idConverter(t);return{id:i,id_org:t,values:e.map(function(e,o){var s=r.getXKey(t),l=e[s],c=r.generateTargetX(l,t,o),u=null===e[t]||isNaN(e[t])?null:+e[t];return r.isCustomX()&&r.isCategorized()&&0===n&&l&&(0===o&&(a.axis_x_categories=[]),a.axis_x_categories.push(l)),(y(e[t])||r.data.xs[t].length<=o)&&(c=void 0),{x:c,value:u,id:i}}).filter(function(e){return b(e.x)})}}),n.forEach(function(e){var t;a.data_xSort&&(e.values=e.values.sort(function(e,t){var n=e.x||0===e.x?e.x:1/0,r=t.x||0===t.x?t.x:1/0;return n-r})),t=0,e.values.forEach(function(e){e.index=t++}),r.data.xs[e.id].sort(function(e,t){return e-t})}),r.hasNegativeValue=r.hasNegativeValueInTargets(n),r.hasPositiveValue=r.hasPositiveValueInTargets(n),a.data_type&&r.setTargetType(r.mapToIds(n).filter(function(e){return!(e in a.data_types)}),a.data_type),n.forEach(function(e){r.addCache(e.id_org,e)}),n},d.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){var r=t.types&&t.types[e.id]?t.types[e.id]:t.type;n.setTargetType(e.id,r)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},d.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},d.unload=function(e,t){var n=this;return t||(t=function(){}),e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}),e&&0!==e.length?(n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),void e.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+h.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):void t()},d.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},d.initEventRect=function(){var e=this;e.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},d.redrawEventRect=function(){var e,t,n=this,r=n.config,a=n.isMultipleX(),i=n.main.select("."+h.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,a).classed(h.eventRectsSingle,!a);i.selectAll("."+h.eventRect).remove(),n.eventRect=i.selectAll("."+h.eventRect),a?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),i.datum(t?t.values:[]),n.eventRect=i.selectAll("."+h.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},d.updateEventRect=function(e){var t,n,r,a,i,o,s=this,l=s.config;e=e||s.eventRect.data(function(e){
return e}),s.isMultipleX()?(t=0,n=0,r=s.width,a=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(i=s.getEventRectWidth(),o=function(e){return s.x(e.x)-i/2}):(s.updateXs(),i=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index);return null===t&&null===n?l.axis_rotated?s.height:s.width:(null===t&&(t=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(t))/2))},o=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index),r=s.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=s.x.domain()[0]),(s.x(r)+s.x(t))/2)}),t=l.axis_rotated?0:o,n=l.axis_rotated?o:0,r=l.axis_rotated?s.width:i,a=l.axis_rotated?i:s.height),e.attr("class",s.classEvent.bind(s)).attr("x",t).attr("y",n).attr("width",r).attr("height",a)},d.generateEventRectsForSingleX=function(e){var t=this,n=t.d3,r=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(e){var n=e.index;t.dragging||t.flowing||t.hasArcType()||(r.point_focus_expand_enabled&&t.expandCircles(n,null,!0),t.expandBars(n,null,!0),t.main.selectAll("."+h.shape+"-"+n).each(function(e){r.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var n=e.index;t.config&&(t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+h.shape+"-"+n).each(function(e){r.data_onmouseout.call(t.api,e)})))}).on("mousemove",function(e){var a,i=e.index,o=t.svg.select("."+h.eventRect+"-"+i);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,i))&&(i-=1),a=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,i))}),r.tooltip_grouped&&(t.showTooltip(a,this),t.showXGridFocus(a)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&t.main.selectAll("."+h.shape+"-"+i).each(function(){n.select(this).classed(h.EXPANDED,!0),r.data_selection_enabled&&o.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),r.data_selection_grouped||(t.unexpandCircles(i),t.unexpandBars(i)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(e))&&o.style("cursor","pointer"),r.tooltip_grouped||(t.showTooltip([e],this),t.showXGridFocus([e]),r.point_focus_expand_enabled&&t.expandCircles(i,e.id,!0),t.expandBars(i,e.id,!0))}))}).on("click",function(e){var a=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return void(t.cancelClick=!1);t.isStepType(e)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,a))&&(a-=1),t.main.selectAll("."+h.shape+"-"+a).each(function(e){(r.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,a),t.config.data_onclick.call(t.api,e,this))})}}).call(r.data_selection_draggable&&t.drag?n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}):function(){})},d.generateEventRectsForMultipleXs=function(e){function t(){n.svg.select("."+h.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,a=n.config;e.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",h.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||t())}).on("mousemove",function(){var e,i,o,s,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(e=r.mouse(this),i=n.findClosestFromTargets(l,e),!n.mouseover||i&&i.id===n.mouseover.id||(a.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!i)return void t();o=n.isScatterType(i)||!a.tooltip_grouped?[i]:n.filterByX(l,i.x),s=o.map(function(e){return n.addName(e)}),n.showTooltip(s,this),a.point_focus_expand_enabled&&n.expandCircles(i.index,i.id,!0),n.expandBars(i.index,i.id,!0),n.showXGridFocus(s),(n.isBarType(i.id)||n.dist(i,e)<a.point_sensitivity)&&(n.svg.select("."+h.eventRect).style("cursor","pointer"),n.mouseover||(a.data_onmouseover.call(n.api,i),n.mouseover=i))}}).on("click",function(){var e,t,i=n.filterTargetsToShow(n.data.targets);n.hasArcType(i)||(e=r.mouse(this),t=n.findClosestFromTargets(i,e),t&&(n.isBarType(t.id)||n.dist(t,e)<a.point_sensitivity)&&n.main.selectAll("."+h.shapes+n.getTargetSelectorSuffix(t.id)).selectAll("."+h.shape+"-"+t.index).each(function(){(a.data_selection_grouped||n.isWithinShape(this,t))&&(n.toggleShape(this,t,t.index),n.config.data_onclick.call(n.api,t,this))}))}).call(a.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},d.dispatchEvent=function(e,t,n){var a=this,i="."+h.eventRect+(a.isMultipleX()?"":"-"+t),o=a.main.select(i).node(),s=o.getBoundingClientRect(),l=s.left+(n?n[0]:0),c=s.top+(n?n[1]:0),u=document.createEvent("MouseEvents");u.initMouseEvent(e,!0,!0,r,0,l,c,l,c,!1,!1,!1,!1,0,null),o.dispatchEvent(u)},d.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},d.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},d.getCurrentPaddingTop=function(){var e=this,t=e.config,n=g(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(n+=e.getTitlePadding()),n},d.getCurrentPaddingBottom=function(){var e=this.config;return g(e.padding_bottom)?e.padding_bottom:0},d.getCurrentPaddingLeft=function(e){var t=this,n=t.config;return g(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(x(t.getAxisWidthByAxisId("x",e)),40):1:!n.axis_y_show||n.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:x(t.getAxisWidthByAxisId("y",e))},d.getCurrentPaddingRight=function(){var e=this,t=e.config,n=10,r=e.isLegendRight?e.getLegendWidth()+20:0;return g(t.padding_right)?t.padding_right+1:t.axis_rotated?n+r:!t.axis_y2_show||t.axis_y2_inner?2+r+(e.axis.getY2AxisLabelPosition().isOuter?20:0):x(e.getAxisWidthByAxisId("y2"))+r},d.getParentRectValue=function(e){for(var t,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{t=n.getBoundingClientRect()[e]}catch(r){"width"===e&&(t=n.offsetWidth)}if(t)break;n=n.parentNode}return t},d.getParentWidth=function(){return this.getParentRectValue("width")},d.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},d.getSvgLeft=function(e){var t=this,n=t.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,a=n.axis_rotated?h.axisX:h.axisY,i=t.main.select("."+a).node(),o=i&&r?i.getBoundingClientRect():{right:0},s=t.selectChart.node().getBoundingClientRect(),l=t.hasArcType(),c=o.right-s.left-(l?0:t.getCurrentPaddingLeft(e));return c>0?c:0},d.getAxisWidthByAxisId=function(e,t){var n=this,r=n.axis.getLabelPositionById(e);return n.axis.getMaxTickWidth(e,t)+(r.isInner?20:40)},d.getHorizontalAxisHeight=function(e){var t=this,n=t.config,r=30;return"x"!==e||n.axis_x_show?"x"===e&&n.axis_x_height?n.axis_x_height:"y"!==e||n.axis_y_show?"y2"!==e||n.axis_y2_show?("x"===e&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!n.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},d.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},d.getShapeIndices=function(e){var t,n,r=this,a=r.config,i={},o=0;return r.filterTargetsToShow(r.data.targets.filter(e,r)).forEach(function(e){for(t=0;t<a.data_groups.length;t++)if(!(a.data_groups[t].indexOf(e.id)<0))for(n=0;n<a.data_groups[t].length;n++)if(a.data_groups[t][n]in i){i[e.id]=i[a.data_groups[t][n]];break}y(i[e.id])&&(i[e.id]=o++)}),i.__max__=o-1,i},d.getShapeX=function(e,t,n,r){var a=this,i=r?a.subX:a.x;return function(r){var a=r.id in n?n[r.id]:0;return r.x||0===r.x?i(r.x)-e*(t/2-a):0}},d.getShapeY=function(e){var t=this;return function(n){var r=e?t.getSubYScale(n.id):t.getYScale(n.id);return r(n.value)}},d.getShapeOffset=function(e,t,n){var r=this,a=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(e,r))),i=a.map(function(e){return e.id});return function(e,o){var s=n?r.getSubYScale(e.id):r.getYScale(e.id),l=s(0),c=l;return a.forEach(function(n){var a=r.isStepType(e)?r.convertValuesToStep(n.values):n.values;n.id!==e.id&&t[n.id]===t[e.id]&&i.indexOf(n.id)<i.indexOf(e.id)&&("undefined"!=typeof a[o]&&+a[o].x===+e.x||(o=-1,a.forEach(function(t,n){t.x===e.x&&(o=n)})),o in a&&a[o].value*e.value>=0&&(c+=s(a[o].value)-l))}),c}},d.isWithinShape=function(e,t){var n,r=this,a=r.d3.select(e);return r.isTargetToShow(t.id)?"circle"===e.nodeName?n=r.isStepType(t)?r.isWithinStep(e,r.getYScale(t.id)(t.value)):r.isWithinCircle(e,1.5*r.pointSelectR(t)):"path"===e.nodeName&&(n=!a.classed(h.bar)||r.isWithinBar(e)):n=!1,n},d.getInterpolate=function(e){var t=this,n=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?n:t.isStepType(e)?t.config.line_step_type:"linear"},d.initLine=function(){var e=this;e.main.select("."+h.chart).append("g").attr("class",h.chartLines)},d.updateTargetsForLine=function(e){var t,n,r=this,a=r.config,i=r.classChartLine.bind(r),o=r.classLines.bind(r),s=r.classAreas.bind(r),l=r.classCircles.bind(r),c=r.classFocus.bind(r);t=r.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(e).attr("class",function(e){return i(e)+c(e)}),n=t.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",s),n.append("g").attr("class",function(e){return r.generateClass(h.selectedCircles,e.id)}),n.append("g").attr("class",l).style("cursor",function(e){return a.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){r.main.selectAll("."+h.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},d.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+h.lines).selectAll("."+h.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},d.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},d.generateDrawLine=function(e,t){var n=this,r=n.config,a=n.d3.svg.line(),i=n.generateGetLinePoints(e,t),o=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?i(e,t)[0][1]:o.call(n,e.id)(e.value)};return a=r.axis_rotated?a.x(l).y(s):a.x(s).y(l),r.line_connectNull||(a=a.defined(function(e){return null!=e.value})),function(e){var i,s=r.line_connectNull?n.filterRemoveNull(e.values):e.values,l=t?n.x:n.subX,c=o.call(n,e.id),u=0,d=0;return n.isLineType(e)?r.data_regions[e.id]?i=n.lineWithRegions(s,l,c,r.data_regions[e.id]):(n.isStepType(e)&&(s=n.convertValuesToStep(s)),i=a.interpolate(n.getInterpolate(e))(s)):(s[0]&&(u=l(s[0].x),d=c(s[0].value)),i=r.axis_rotated?"M "+d+" "+u:"M "+u+" "+d),i?i:"M 0 0"}},d.generateGetLinePoints=function(e,t){var n=this,r=n.config,a=e.__max__+1,i=n.getShapeX(0,a,e,!!t),o=n.getShapeY(!!t),s=n.getShapeOffset(n.isLineType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var a=l.call(n,e.id)(0),c=s(e,t)||a,u=i(e),d=o(e);return r.axis_rotated&&(0<e.value&&d<a||e.value<0&&a<d)&&(d=a),[[u,d-(a-c)],[u,d-(a-c)],[u,d-(a-c)],[u,d-(a-c)]]}},d.lineWithRegions=function(e,t,n,r){function a(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}function i(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var o,s,l,c,u,d,p,f,h,g,m,v,x=this,w=x.config,_=-1,k="M",S=x.isCategorized()?.5:0,A=[];if(b(r))for(o=0;o<r.length;o++)A[o]={},y(r[o].start)?A[o].start=e[0].x:A[o].start=x.isTimeSeries()?x.parseDate(r[o].start):r[o].start,y(r[o].end)?A[o].end=e[e.length-1].x:A[o].end=x.isTimeSeries()?x.parseDate(r[o].end):r[o].end;for(m=w.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},v=w.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},l=x.isTimeSeries()?function(e,r,a,o){var s,l=e.x.getTime(),c=r.x-e.x,d=new Date(l+c*a),p=new Date(l+c*(a+o));return s=w.axis_rotated?[[n(u(a)),t(d)],[n(u(a+o)),t(p)]]:[[t(d),n(u(a))],[t(p),n(u(a+o))]],i(s)}:function(e,r,a,o){var s;return s=w.axis_rotated?[[n(u(a),!0),t(c(a))],[n(u(a+o),!0),t(c(a+o))]]:[[t(c(a),!0),n(u(a))],[t(c(a+o),!0),n(u(a+o))]],i(s)},o=0;o<e.length;o++){if(y(A)||!a(e[o].x,A))k+=" "+m(e[o])+" "+v(e[o]);else for(c=x.getScale(e[o-1].x+S,e[o].x+S,x.isTimeSeries()),u=x.getScale(e[o-1].value,e[o].value),d=t(e[o].x)-t(e[o-1].x),p=n(e[o].value)-n(e[o-1].value),f=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),h=2/f,g=2*h,s=h;s<=1;s+=g)k+=l(e[o-1],e[o],s,h);_=e[o].x}return k},d.updateArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+h.areas).selectAll("."+h.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},d.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},d.generateDrawArea=function(e,t){var n=this,r=n.config,a=n.d3.svg.area(),i=n.generateGetAreaPoints(e,t),o=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?i(e,t)[0][1]:o.call(n,e.id)(n.getAreaBaseValue(e.id))},c=function(e,t){return r.data_groups.length>0?i(e,t)[1][1]:o.call(n,e.id)(e.value)};return a=r.axis_rotated?a.x0(l).x1(c).y(s):a.x(s).y0(l).y1(c),r.line_connectNull||(a=a.defined(function(e){return null!==e.value})),function(e){var t,i=r.line_connectNull?n.filterRemoveNull(e.values):e.values,o=0,s=0;return n.isAreaType(e)?(n.isStepType(e)&&(i=n.convertValuesToStep(i)),t=a.interpolate(n.getInterpolate(e))(i)):(i[0]&&(o=n.x(i[0].x),s=n.getYScale(e.id)(i[0].value)),t=r.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),t?t:"M 0 0"}},d.getAreaBaseValue=function(){return 0},d.generateGetAreaPoints=function(e,t){var n=this,r=n.config,a=e.__max__+1,i=n.getShapeX(0,a,e,!!t),o=n.getShapeY(!!t),s=n.getShapeOffset(n.isAreaType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var a=l.call(n,e.id)(0),c=s(e,t)||a,u=i(e),d=o(e);return r.axis_rotated&&(0<e.value&&d<a||e.value<0&&a<d)&&(d=a),[[u,c],[u,d-(a-c)],[u,d-(a-c)],[u,c]]}},d.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+h.circles).selectAll("."+h.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},d.redrawCircle=function(e,t,n){var r=this.main.selectAll("."+h.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(n?r.transition(Math.random().toString()):r).attr("cx",e).attr("cy",t)]},d.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},d.updateCircleY=function(){var e,t,n=this;n.config.data_groups.length>0?(e=n.getShapeIndices(n.isLineType),t=n.generateGetLinePoints(e),n.circleY=function(e,n){return t(e,n)[0][1]}):n.circleY=function(e){return n.getYScale(e.id)(e.value)}},d.getCircles=function(e,t){var n=this;return(t?n.main.selectAll("."+h.circles+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+h.circle+(g(e)?"-"+e:""))},d.expandCircles=function(e,t,n){var r=this,a=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(e,t).classed(h.EXPANDED,!0).attr("r",a)},d.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",n)},d.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:m(n.point_r)?n.point_r(e):n.point_r},d.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},d.pointSelectR=function(e){var t=this,n=t.config;return n.point_select_r?n.point_select_r:4*t.pointR(e)},d.isWithinCircle=function(e,t){var n=this.d3,r=n.mouse(e),a=n.select(e),i=+a.attr("cx"),o=+a.attr("cy");return Math.sqrt(Math.pow(i-r[0],2)+Math.pow(o-r[1],2))<t},d.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},d.initBar=function(){var e=this;e.main.select("."+h.chart).append("g").attr("class",h.chartBars)},d.updateTargetsForBar=function(e){var t,n,r=this,a=r.config,i=r.classChartBar.bind(r),o=r.classBars.bind(r),s=r.classFocus.bind(r);t=r.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(e).attr("class",function(e){return i(e)+s(e)}),n=t.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(e){return a.data_selection_isselectable(e)?"pointer":null})},d.updateBar=function(e){var t=this,n=t.barData.bind(t),r=t.classBar.bind(t),a=t.initialOpacity.bind(t),i=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+h.bars).selectAll("."+h.bar).data(n),t.mainBar.enter().append("path").attr("class",r).style("stroke",i).style("fill",i),t.mainBar.style("opacity",a),t.mainBar.exit().transition().duration(e).style("opacity",0).remove()},d.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("fill",this.color).style("opacity",1)]},d.getBarW=function(e,t){var n=this,r=n.config,a="number"==typeof r.bar_width?r.bar_width:t?e.tickInterval()*r.bar_width_ratio/t:0;return r.bar_width_max&&a>r.bar_width_max?r.bar_width_max:a},d.getBars=function(e,t){var n=this;return(t?n.main.selectAll("."+h.bars+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+h.bar+(g(e)?"-"+e:""))},d.expandBars=function(e,t,n){var r=this;n&&r.unexpandBars(),r.getBars(e,t).classed(h.EXPANDED,!0)},d.unexpandBars=function(e){var t=this;t.getBars(e).classed(h.EXPANDED,!1)},d.generateDrawBar=function(e,t){var n=this,r=n.config,a=n.generateGetBarPoints(e,t);return function(e,t){var n=a(e,t),i=r.axis_rotated?1:0,o=r.axis_rotated?0:1,s="M "+n[0][i]+","+n[0][o]+" L"+n[1][i]+","+n[1][o]+" L"+n[2][i]+","+n[2][o]+" L"+n[3][i]+","+n[3][o]+" z";return s}},d.generateGetBarPoints=function(e,t){var n=this,r=t?n.subXAxis:n.xAxis,a=e.__max__+1,i=n.getBarW(r,a),o=n.getShapeX(i,a,e,!!t),s=n.getShapeY(!!t),l=n.getShapeOffset(n.isBarType,e,!!t),c=t?n.getSubYScale:n.getYScale;return function(e,t){var r=c.call(n,e.id)(0),a=l(e,t)||r,u=o(e),d=s(e);return n.config.axis_rotated&&(0<e.value&&d<r||e.value<0&&r<d)&&(d=r),[[u,a],[u,d-(r-a)],[u+i,d-(r-a)],[u+i,a]]}},d.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),a=e.pathSegList.getItem(1),i=Math.min(r.x,a.x),o=Math.min(r.y,a.y),s=n.width,l=n.height,c=2,u=i-c,d=i+s+c,p=o+l+c,f=o-c;return u<t[0]&&t[0]<d&&f<t[1]&&t[1]<p},d.initText=function(){var e=this;e.main.select("."+h.chart).append("g").attr("class",h.chartTexts),e.mainText=e.d3.selectAll([])},d.updateTargetsForText=function(e){var t,n,r=this,a=r.classChartText.bind(r),i=r.classTexts.bind(r),o=r.classFocus.bind(r);t=r.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(e).attr("class",function(e){return a(e)+o(e)}),n=t.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",i)},d.updateText=function(e){var t=this,n=t.config,r=t.barOrLineData.bind(t),a=t.classText.bind(t);t.mainText=t.main.selectAll("."+h.texts).selectAll("."+h.text).data(r),t.mainText.enter().append("text").attr("class",a).attr("text-anchor",function(e){return n.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,n,r){return t.dataLabelFormat(e.id)(e.value,e.id,n,r)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},d.redrawText=function(e,t,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},d.getTextRect=function(e,t,n){var r,a=this.d3.select("body").append("div").classed("c3",!0),i=a.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o=this.d3.select(n).style("font");return i.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).style("font",o).text(e).each(function(){r=this.getBoundingClientRect()}),a.remove(),r},d.generateXYForText=function(e,t,n,r){var a=this,i=a.generateGetAreaPoints(e,!1),o=a.generateGetBarPoints(t,!1),s=a.generateGetLinePoints(n,!1),l=r?a.getXForText:a.getYForText;return function(e,t){var n=a.isAreaType(e)?i:a.isBarType(e)?o:s;return l.call(a,n(e,t),e,this)}},d.getXForText=function(e,t,n){var r,a,i=this,o=n.getBoundingClientRect();return i.config.axis_rotated?(a=i.isBarType(t)?4:6,r=e[2][1]+a*(t.value<0?-1:1)):r=i.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(r>i.width?r=i.width-o.width:r<0&&(r=4)),r},d.getYForText=function(e,t,n){var r,a=this,i=n.getBoundingClientRect();return a.config.axis_rotated?r=(e[0][0]+e[2][0]+.6*i.height)/2:(r=e[2][1],t.value<0||0===t.value&&!a.hasPositiveValue?(r+=i.height,a.isBarType(t)&&a.isSafari()?r-=3:!a.isBarType(t)&&a.isChrome()&&(r+=3)):r+=a.isBarType(t)?-3:-6),null!==t.value||a.config.axis_rotated||(r<i.height?r=i.height:r>this.height&&(r=this.height-4)),r},d.setTargetType=function(e,t){var n=this,r=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===r.data_types[e],r.data_types[e]=t}),e||(r.data_type=t)},d.hasType=function(e,t){var n=this,r=n.config.data_types,a=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=r[t.id];(n&&n.indexOf(e)>=0||!n&&"line"===e)&&(a=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===e&&(a=!0)}):a=n.config.data_type===e,a},d.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},d.isLineType=function(e){var t=this.config,n=v(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},d.isStepType=function(e){var t=v(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},d.isSplineType=function(e){var t=v(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},d.isAreaType=function(e){var t=v(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},d.isBarType=function(e){var t=v(e)?e:e.id;return"bar"===this.config.data_types[t]},d.isScatterType=function(e){var t=v(e)?e:e.id;return"scatter"===this.config.data_types[t]},d.isPieType=function(e){var t=v(e)?e:e.id;return"pie"===this.config.data_types[t]},d.isGaugeType=function(e){var t=v(e)?e:e.id;return"gauge"===this.config.data_types[t]},d.isDonutType=function(e){var t=v(e)?e:e.id;return"donut"===this.config.data_types[t]},d.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},d.lineData=function(e){return this.isLineType(e)?[e]:[]},d.arcData=function(e){return this.isArcType(e.data)?[e]:[]},d.barData=function(e){return this.isBarType(e)?e.values:[]},d.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},d.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},d.isInterpolationType=function(e){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)>=0},d.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",h.grid),t.grid_x_show&&e.grid.append("g").attr("class",h.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",h.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},d.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),e.gridLines.append("g").attr("class",h.xgridLines),e.gridLines.append("g").attr("class",h.ygridLines),e.xgridLines=t.selectAll([])},d.updateXGrid=function(e){var t=this,n=t.config,r=t.d3,a=t.generateGridData(n.grid_x_type,t.x),i=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-i},y2:function(e){return t.x(e)-i}}:{x1:function(e){return t.x(e)+i},x2:function(e){return t.x(e)+i},y1:0,y2:t.height},t.xgrid=t.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(a),t.xgrid.enter().append("line").attr("class",h.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},d.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(n),e.ygrid.enter().append("line").attr("class",h.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},d.gridTextAnchor=function(e){return e.position?e.position:"end"},d.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},d.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},d.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},d.updateGrid=function(e){var t,n,r,a=this,i=a.main,o=a.config;a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),i.select("line."+h.xgridFocus).style("visibility","hidden"),o.grid_x_show&&a.updateXGrid(),a.xgridLines=i.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(o.grid_x_lines),t=a.xgridLines.enter().append("g").attr("class",function(e){return h.xgridLine+(e["class"]?" "+e["class"]:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),o.grid_y_show&&a.updateYGrid(),a.ygridLines=i.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(o.grid_y_lines),n=a.ygridLines.enter().append("g").attr("class",function(e){return h.ygridLine+(e["class"]?" "+e["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),r=a.yv.bind(a),a.ygridLines.select("line").transition().duration(e).attr("x1",o.axis_rotated?r:0).attr("x2",o.axis_rotated?r:a.width).attr("y1",o.axis_rotated?0:r).attr("y2",o.axis_rotated?a.height:r).style("opacity",1),a.ygridLines.select("text").transition().duration(e).attr("x",o.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",r).text(function(e){return e.text}).style("opacity",1),a.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},d.redrawGrid=function(e){var t=this,n=t.config,r=t.xv.bind(t),a=t.xgridLines.select("line"),i=t.xgridLines.select("text");return[(e?a.transition():a).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?t.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:t.height).style("opacity",1),(e?i.transition():i).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",r).text(function(e){return e.text}).style("opacity",1)]},d.showXGridFocus=function(e){var t=this,n=t.config,r=e.filter(function(e){return e&&g(e.value)}),a=t.main.selectAll("line."+h.xgridFocus),i=t.xx.bind(t);n.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(a.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",i).attr(n.axis_rotated?"y2":"x2",i),t.smoothLines(a,"grid")))},d.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},d.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+h.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},d.generateGridData=function(e,t){var n,r,a,i,o=this,s=[],l=o.main.select("."+h.axisX).selectAll(".tick").size();if("year"===e)for(n=o.getXDomain(),r=n[0].getFullYear(),a=n[1].getFullYear(),i=r;i<=a;i++)s.push(new Date(i+"-01-01 00:00:00"));else s=t.ticks(10),s.length>l&&(s=s.filter(function(e){return(""+e).indexOf(".")<0}));return s},d.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t["class"]===e["class"])&&(n=!0)}),n}:function(){return!0}},d.removeGridLines=function(e,t){var n=this,r=n.config,a=n.getGridFilterToRemove(e),i=function(e){return!a(e)},o=t?h.xgridLines:h.ygridLines,s=t?h.xgridLine:h.ygridLine;n.main.select("."+o).selectAll("."+s).filter(a).transition().duration(r.transition_duration).style("opacity",0).remove(),t?r.grid_x_lines=r.grid_x_lines.filter(i):r.grid_y_lines=r.grid_y_lines.filter(i)},d.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&v(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!==0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},d.getTooltipContent=function(e,t,n,r){var a,i,o,s,l,c,u=this,d=u.config,p=d.tooltip_format_title||t,f=d.tooltip_format_name||function(e){return e},h=d.tooltip_format_value||n,g=u.isOrderAsc();if(0===d.data_groups.length)e.sort(function(e,t){return g?e.value-t.value:t.value-e.value});else{var m=u.orderTargets(u.data.targets).map(function(e){return e.id});e.sort(function(e,t){return e.value>0&&t.value>0?g?m.indexOf(e.id)-m.indexOf(t.id):m.indexOf(t.id)-m.indexOf(e.id):g?e.value-t.value:t.value-e.value})}for(i=0;i<e.length;i++)if(e[i]&&(e[i].value||0===e[i].value)&&(a||(o=p?p(e[i].x):e[i].x,a="<table class='"+u.CLASS.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),s=h(e[i].value,e[i].ratio,e[i].id,e[i].index),void 0!==s)){if(null===e[i].name)continue;l=f(e[i].name,e[i].ratio,e[i].id,e[i].index),c=u.levelColor?u.levelColor(e[i].value):r(e[i].id),a+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(e[i].id)+"'>",
a+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",a+="<td class='value'>"+s+"</td>",a+="</tr>"}return a+"</table>"},d.tooltipPosition=function(e,t,n,r){var a,i,o,s,l,c=this,u=c.config,d=c.d3,p=c.hasArcType(),f=d.mouse(r);return p?(i=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+f[0],s=c.height/2+f[1]+20):(a=c.getSvgLeft(!0),u.axis_rotated?(i=a+f[0]+100,o=i+t,l=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(e[0].x)+20):(i=a+c.getCurrentPaddingLeft(!0)+c.x(e[0].x)+20,o=i+t,l=a+c.currentWidth-c.getCurrentPaddingRight(),s=f[1]+15),o>l&&(i-=o-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:i}},d.showTooltip=function(e,t){var n,r,a,i=this,o=i.config,s=i.hasArcType(),l=e.filter(function(e){return e&&g(e.value)}),c=o.tooltip_position||d.tooltipPosition;0!==l.length&&o.tooltip_show&&(i.tooltip.html(o.tooltip_contents.call(i,e,i.axis.getXAxisTickFormat(),i.getYFormat(s),i.color)).style("display","block"),n=i.tooltip.property("offsetWidth"),r=i.tooltip.property("offsetHeight"),a=c.call(this,l,n,r,t),i.tooltip.style("top",a.top+"px").style("left",a.left+"px"))},d.hideTooltip=function(){this.tooltip.style("display","none")},d.initLegend=function(){var e=this;return e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),e.config.legend_show?void e.updateLegendWithDefaults():(e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets)))},d.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},d.updateSizeForLegend=function(e,t){var n=this,r=n.config,a={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?a.top:n.currentHeight-e,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?a.left:0}},d.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},d.updateLegendStep=function(e){this.legendStep=e},d.updateLegendItemWidth=function(e){this.legendItemWidth=e},d.updateLegendItemHeight=function(e){this.legendItemHeight=e},d.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},d.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},d.opacityForLegend=function(e){return e.classed(h.legendItemHidden)?null:1},d.opacityForUnfocusedLegend=function(e){return e.classed(h.legendItemHidden)?null:.3},d.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+h.legendItem).filter(function(t){return e.indexOf(t)>=0}).classed(h.legendItemFocused,t).transition().duration(100).style("opacity",function(){var e=t?n.opacityForLegend:n.opacityForUnfocusedLegend;return e.call(n,n.d3.select(this))})},d.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},d.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},d.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&k(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},d.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},d.updateLegend=function(e,t,n){function r(e,t){return k.legendItemTextBox[t]||(k.legendItemTextBox[t]=k.getTextRect(e.textContent,h.legendItem,e)),k.legendItemTextBox[t]}function a(t,n,a){function i(e,t){t||(o=(h-P-f)/2,o<E&&(o=(h-f)/2,P=0,N++)),R[e]=N,O[N]=k.isLegendInset?10:o,j[e]=P,P+=f}var o,s,l=0===a,c=a===e.length-1,u=r(t,n),d=u.width+I+(!c||k.isLegendRight||k.isLegendInset?$:0)+S.legend_padding,p=u.height+T,f=k.isLegendRight||k.isLegendInset?p:d,h=k.isLegendRight||k.isLegendInset?k.getLegendHeight():k.getLegendWidth();return l&&(P=0,N=0,C=0,M=0),S.legend_show&&!k.isLegendToShow(n)?void(D[n]=L[n]=R[n]=j[n]=0):(D[n]=d,L[n]=p,(!C||d>=C)&&(C=d),(!M||p>=M)&&(M=p),s=k.isLegendRight||k.isLegendInset?M:C,void(S.legend_equally?(Object.keys(D).forEach(function(e){D[e]=C}),Object.keys(L).forEach(function(e){L[e]=M}),o=(h-s*e.length)/2,o<E?(P=0,N=0,e.forEach(function(e){i(e)})):i(n,!0)):i(n)))}var i,o,s,l,c,u,d,p,f,g,m,v,y,x,w,_,k=this,S=k.config,T=4,$=10,C=0,M=0,E=10,I=S.legend_item_tile_width+5,P=0,j={},D={},L={},O=[0],R={},N=0;e=e.filter(function(e){return!b(S.data_names[e])||null!==S.data_names[e]}),t=t||{},m=A(t,"withTransition",!0),v=A(t,"withTransitionForTransform",!0),k.isLegendInset&&(N=S.legend_inset_step?S.legend_inset_step:e.length,k.updateLegendStep(N)),k.isLegendRight?(i=function(e){return C*R[e]},l=function(e){return O[R[e]]+j[e]}):k.isLegendInset?(i=function(e){return C*R[e]+10},l=function(e){return O[R[e]]+j[e]}):(i=function(e){return O[R[e]]+j[e]},l=function(e){return M*R[e]}),o=function(e,t){return i(e,t)+4+S.legend_item_tile_width},c=function(e,t){return l(e,t)+9},s=function(e,t){return i(e,t)},u=function(e,t){return l(e,t)-5},d=function(e,t){return i(e,t)-2},p=function(e,t){return i(e,t)-2+S.legend_item_tile_width},f=function(e,t){return l(e,t)+4},g=k.legend.selectAll("."+h.legendItem).data(e).enter().append("g").attr("class",function(e){return k.generateClass(h.legendItem,e)}).style("visibility",function(e){return k.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){S.legend_item_onclick?S.legend_item_onclick.call(k,e):k.d3.event.altKey?(k.api.hide(),k.api.show(e)):(k.api.toggle(e),k.isTargetToShow(e)?k.api.focus(e):k.api.revert())}).on("mouseover",function(e){S.legend_item_onmouseover?S.legend_item_onmouseover.call(k,e):(k.d3.select(this).classed(h.legendItemFocused,!0),!k.transiting&&k.isTargetToShow(e)&&k.api.focus(e))}).on("mouseout",function(e){S.legend_item_onmouseout?S.legend_item_onmouseout.call(k,e):(k.d3.select(this).classed(h.legendItemFocused,!1),k.api.revert())}),g.append("text").text(function(e){return b(S.data_names[e])?S.data_names[e]:e}).each(function(e,t){a(this,e,t)}).style("pointer-events","none").attr("x",k.isLegendRight||k.isLegendInset?o:-200).attr("y",k.isLegendRight||k.isLegendInset?-200:c),g.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",k.isLegendRight||k.isLegendInset?s:-200).attr("y",k.isLegendRight||k.isLegendInset?-200:u),g.append("line").attr("class",h.legendItemTile).style("stroke",k.color).style("pointer-events","none").attr("x1",k.isLegendRight||k.isLegendInset?d:-200).attr("y1",k.isLegendRight||k.isLegendInset?-200:f).attr("x2",k.isLegendRight||k.isLegendInset?p:-200).attr("y2",k.isLegendRight||k.isLegendInset?-200:f).attr("stroke-width",S.legend_item_tile_height),_=k.legend.select("."+h.legendBackground+" rect"),k.isLegendInset&&C>0&&0===_.size()&&(_=k.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),y=k.legend.selectAll("text").data(e).text(function(e){return b(S.data_names[e])?S.data_names[e]:e}).each(function(e,t){a(this,e,t)}),(m?y.transition():y).attr("x",o).attr("y",c),x=k.legend.selectAll("rect."+h.legendItemEvent).data(e),(m?x.transition():x).attr("width",function(e){return D[e]}).attr("height",function(e){return L[e]}).attr("x",s).attr("y",u),w=k.legend.selectAll("line."+h.legendItemTile).data(e),(m?w.transition():w).style("stroke",k.color).attr("x1",d).attr("y1",f).attr("x2",p).attr("y2",f),_&&(m?_.transition():_).attr("height",k.getLegendHeight()-12).attr("width",C*(N+1)+10),k.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(e){return!k.isTargetToShow(e)}),k.updateLegendItemWidth(C),k.updateLegendItemHeight(M),k.updateLegendStep(N),k.updateSizes(),k.updateScales(),k.updateSvgSize(),k.transformAll(v,n),k.legendHasRendered=!0},d.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},d.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},d.xForTitle=function(){var e,t=this,n=t.config,r=n.title_position||"left";return e=r.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-n.title_padding.right:r.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:n.title_padding.left},d.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},d.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},i(a,l),l.prototype.init=function(){var e=this.owner,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=n.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=n.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},l.prototype.getXAxis=function(e,t,n,r,a,i,o){var s=this.owner,l=s.config,u={isCategory:s.isCategorized(),withOuterTick:a,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:o?0:l.axis_x_tick_rotate,withoutTransition:i},d=c(s.d3,u).scale(e).orient(t);return s.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(e){return s.parseDate(e)})),d.tickFormat(n).tickValues(r),s.isCategorized()&&(d.tickCentered(l.axis_x_tick_centered),k(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),d},l.prototype.updateXAxisTickValues=function(e,t){var n,r=this.owner,a=r.config;return(a.axis_x_tick_fit||a.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(e),a.axis_x_tick_count,r.isTimeSeries())),t?t.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},l.prototype.getYAxis=function(e,t,n,r,a,i){var o={withOuterTick:a,withoutTransition:i},s=this.owner,l=s.d3,u=s.config,d=c(l,o).scale(e).orient(t).tickFormat(n);return s.isTimeSeriesY()?d.ticks(l.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):d.tickValues(r),d},l.prototype.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},l.prototype.getXAxisTickFormat=function(){var e=this.owner,t=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return e<0?e.toFixed(0):e};return t.axis_x_tick_format&&(m(t.axis_x_tick_format)?n=t.axis_x_tick_format:e.isTimeSeries()&&(n=function(n){return n?e.axisTimeFormat(t.axis_x_tick_format)(n):""})),m(n)?function(t){return n.call(e,t)}:n},l.prototype.getTickValues=function(e,t){return e?e:t?t.tickValues():void 0},l.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},l.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},l.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},l.prototype.getLabelOptionByAxisId=function(e){var t,n=this.owner,r=n.config;return"y"===e?t=r.axis_y_label:"y2"===e?t=r.axis_y2_label:"x"===e&&(t=r.axis_x_label),t},l.prototype.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return v(t)?t:t?t.text:null},l.prototype.setLabelText=function(e,t){var n=this.owner,r=n.config,a=this.getLabelOptionByAxisId(e);v(a)?"y"===e?r.axis_y_label=t:"y2"===e?r.axis_y2_label=t:"x"===e&&(r.axis_x_label=t):a&&(a.text=t)},l.prototype.getLabelPosition=function(e,t){var n=this.getLabelOptionByAxisId(e),r=n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n.position?n.position:t;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},l.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},l.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},l.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},l.prototype.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},l.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},l.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},l.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},l.prototype.xForAxisLabel=function(e,t){var n=this.owner;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},l.prototype.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},l.prototype.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},l.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.dyForXAxisLabel=function(){var e=this.owner,t=e.config,n=this.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},l.prototype.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},l.prototype.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},l.prototype.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.getMaxTickWidth=function(e,t){var n,r,a,i,o,s=this.owner,l=s.config,c=0;return t&&s.currentMaxTickWidths[e]?s.currentMaxTickWidths[e]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===e?(r=s.y.copy().domain(s.getYDomain(n,"y")),a=this.getYAxis(r,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===e?(r=s.y2.copy().domain(s.getYDomain(n,"y2")),a=this.getYAxis(r,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(r=s.x.copy().domain(s.getXDomain(n)),a=this.getXAxis(r,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,a)),i=s.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o.append("g").call(a).each(function(){s.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();c<e.width&&(c=e.width)}),i.remove()})),s.currentMaxTickWidths[e]=c<=0?s.currentMaxTickWidths[e]:c,s.currentMaxTickWidths[e])},l.prototype.updateLabels=function(e){var t=this.owner,n=t.main.select("."+h.axisX+" ."+h.axisXLabel),r=t.main.select("."+h.axisY+" ."+h.axisYLabel),a=t.main.select("."+h.axisY2+" ."+h.axisY2Label);(e?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?a.transition():a).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},l.prototype.getPadding=function(e,t,n,r){var a="number"==typeof e?e:e[t];return g(a)?"ratio"===e.unit?e[t]*r:this.convertPixelsToAxisPadding(a,r):n},l.prototype.convertPixelsToAxisPadding=function(e,t){var n=this.owner,r=n.config.axis_rotated?n.width:n.height;return t*(e/r)},l.prototype.generateTickValues=function(e,t,n){var r,a,i,o,s,l,c,u=e;if(t)if(r=m(t)?t():t,1===r)u=[e[0]];else if(2===r)u=[e[0],e[e.length-1]];else if(r>2){for(o=r-2,a=e[0],i=e[e.length-1],s=(i-a)/(o+1),u=[a],l=0;l<o;l++)c=+a+s*(l+1),u.push(n?new Date(c):c);u.push(i)}return n||(u=u.sort(function(e,t){return e-t})),u},l.prototype.generateTransitions=function(e){var t=this.owner,n=t.axes;return{axisX:e?n.x.transition().duration(e):n.x,axisY:e?n.y.transition().duration(e):n.y,axisY2:e?n.y2.transition().duration(e):n.y2,axisSubX:e?n.subx.transition().duration(e):n.subx}},l.prototype.redraw=function(e,t){var n=this.owner;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis)},d.getClipPath=function(e){var t=r.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(t?"":document.URL.split("#")[0])+"#"+e+")"},d.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},d.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},d.getAxisClipY=function(e){return e?-20:-this.margin.top},d.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},d.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},d.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},d.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},d.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),r=Math.max(30,t.margin.right);return e?t.width+2+n+r:t.margin.left+20},d.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},d.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},d.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},d.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},d.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},d.initPie=function(){var e=this,t=e.d3,n=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),n.data_order||e.pie.sort(null)},d.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},d.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},d.updateAngle=function(e){var t,n,r,a,i=this,o=i.config,s=!1,l=0;return o?(i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,e=t,e.index=l),l++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),i.isGaugeType(e.data)&&(t=o.gauge_min,n=o.gauge_max,r=Math.PI*(o.gauge_fullCircle?2:1)/(n-t),a=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=o.gauge_startingAngle,e.endAngle=e.startAngle+r*a),s?e:null):null},d.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(n,r){var a;return r?t(n):(a=e.updateAngle(n),a?t(a):"M 0 0")};return n.centroid=t.centroid,n},d.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var r=t.updateAngle(e);return r?n(r):"M 0 0"}},d.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},d.transformForArcLabel=function(e){var t,n,r,a,i,o=this,s=o.updateAngle(e),l="";return s&&!o.hasType("gauge")&&(t=this.svgArc.centroid(s),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?0:t[1],a=Math.sqrt(n*n+r*r),i=o.radius&&a?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/a:0,l="translate("+n*i+","+r*i+")"),l},d.getArcRatio=function(e){var t=this,n=t.config,r=Math.PI*(t.hasType("gauge")&&!n.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/r:null},d.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},d.textForArcLabel=function(e){var t,n,r,a,i,o=this;return o.shouldShowArcLabel()?(t=o.updateAngle(e),n=t?t.value:null,r=o.getArcRatio(t),a=e.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(r)?(i=o.getArcLabelFormat(),i?i(n,r,a):o.defaultArcValueFormat(n,r)):""):""},d.expandArc=function(e){var t,n=this;return n.transiting?void(t=r.setInterval(function(){n.transiting||(r.clearInterval(t),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(e))},10)):(e=n.mapToTargetIds(e),void n.svg.selectAll(n.selectorTargets(e,"."+h.chartArc)).each(function(e){n.shouldExpand(e.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(e.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(e.data.id)).attr("d",n.svgArcExpandedSub).each(function(e){n.isDonutType(e.data)})}))},d.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+h.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+h.arc).style("opacity",1))},d.expandDuration=function(e){var t=this,n=t.config;return t.isDonutType(e)?n.donut_expand_duration:t.isGaugeType(e)?n.gauge_expand_duration:t.isPieType(e)?n.pie_expand_duration:50},d.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},d.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},d.meetsArcLabelThreshold=function(e){var t=this,n=t.config,r=t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return e>=r},d.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},d.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},d.updateTargetsForArc=function(e){var t,n,r=this,a=r.main,i=r.classChartArc.bind(r),o=r.classArcs.bind(r),s=r.classFocus.bind(r);t=a.select("."+h.chartArcs).selectAll("."+h.chartArc).data(r.pie(e)).attr("class",function(e){return i(e)+s(e.data)}),n=t.enter().append("g").attr("class",i),n.append("g").attr("class",o),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},d.initArc=function(){var e=this;e.arcs=e.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},d.redrawArc=function(e,t,n){var r,a=this,i=a.d3,o=a.config,s=a.main;r=s.selectAll("."+h.arcs).selectAll("."+h.arc).data(a.arcData.bind(a)),r.enter().append("path").attr("class",a.classArc.bind(a)).style("fill",function(e){return a.color(e.data)}).style("cursor",function(e){return o.interaction_enabled&&o.data_selection_isselectable(e)?"pointer":null}).style("opacity",0).each(function(e){a.isGaugeType(e.data)&&(e.startAngle=e.endAngle=o.gauge_startingAngle),this._current=e}),r.attr("transform",function(e){return!a.isGaugeType(e.data)&&n?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).on("mouseover",o.interaction_enabled?function(e){var t,n;a.transiting||(t=a.updateAngle(e),t&&(n=a.convertToArcData(t),a.expandArc(t.data.id),a.api.focus(t.data.id),a.toggleFocusLegend(t.data.id,!0),a.config.data_onmouseover(n,this)))}:null).on("mousemove",o.interaction_enabled?function(e){var t,n,r=a.updateAngle(e);r&&(t=a.convertToArcData(r),n=[t],a.showTooltip(n,this))}:null).on("mouseout",o.interaction_enabled?function(e){var t,n;a.transiting||(t=a.updateAngle(e),t&&(n=a.convertToArcData(t),a.unexpandArc(t.data.id),a.api.revert(),a.revertLegend(),a.hideTooltip(),a.config.data_onmouseout(n,this)))}:null).on("click",o.interaction_enabled?function(e,t){var n,r=a.updateAngle(e);r&&(n=a.convertToArcData(r),a.toggleShape&&a.toggleShape(this,n,t),a.config.data_onclick.call(a.api,n,this))}:null).each(function(){a.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,n=a.updateAngle(e);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=i.interpolate(this._current,n),this._current=t(0),function(n){var r=t(n);return r.data=e.data,a.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return a.levelColor?a.levelColor(e.data.values[0].value):a.color(e.data.id)}).style("opacity",1).call(a.endall,function(){a.transiting=!1}),r.exit().transition().duration(t).style("opacity",0).remove(),s.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(e){return a.isGaugeType(e.data)?h.gaugeValue:""}).text(a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",function(e){return a.isGaugeType(e.data)?Math.round(a.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return a.isTargetToShow(e.data.id)&&a.isArcType(e.data)?1:0}),s.select("."+h.chartArcsTitle).style("opacity",a.hasType("donut")||a.hasType("gauge")?1:0),a.hasType("gauge")&&(a.arcs.select("."+h.chartArcsBackground).attr("d",function(){var e={data:[{value:o.gauge_max}],startAngle:o.gauge_startingAngle,endAngle:-1*o.gauge_startingAngle*(o.gauge_fullCircle?Math.PI:1)};return a.getArc(e,!0,!0)}),a.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),a.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+(a.radius-a.innerRadius)/(o.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),a.arcs.select("."+h.chartArcsGaugeMax).attr("dx",a.innerRadius+(a.radius-a.innerRadius)/(o.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},d.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",h.chartArcsBackground),e.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},d.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},d.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",h.regions)},d.updateRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+h.regions).selectAll("."+h.region).data(n.regions),t.mainRegion.enter().append("g").attr("class",t.classRegion.bind(t)).append("rect").style("fill-opacity",0),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},d.redrawRegion=function(e){var t=this,n=t.mainRegion.selectAll("rect"),r=t.regionX.bind(t),a=t.regionY.bind(t),i=t.regionWidth.bind(t),o=t.regionHeight.bind(t);return[(e?n.transition():n).attr("x",r).attr("y",a).attr("width",i).attr("height",o).style("fill-opacity",function(e){return g(e.opacity)?e.opacity:.1})]},d.regionX=function(e){var t,n=this,r=n.config,a="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated&&"start"in e?a(e.start):0:r.axis_rotated?0:"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},d.regionY=function(e){var t,n=this,r=n.config,a="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?0:"end"in e?a(e.end):0:r.axis_rotated&&"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},d.regionWidth=function(e){var t,n=this,r=n.config,a=n.regionX(e),i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated&&"end"in e?i(e.end):n.width:r.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width,t<a?0:t-a},d.regionHeight=function(e){var t,n=this,r=n.config,a=this.regionY(e),i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?n.height:"start"in e?i(e.start):n.height:r.axis_rotated&&"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height,t<a?0:t-a},d.isRegionOnX=function(e){return!e.axis||"x"===e.axis},d.drag=function(e){var t,n,r,a,i,o,s,l,c=this,u=c.config,d=c.main,p=c.d3;c.hasArcType()||u.data_selection_enabled&&(u.zoom_enabled&&!c.zoom.altDomain||u.data_selection_multiple&&(t=c.dragStart[0],n=c.dragStart[1],r=e[0],a=e[1],i=Math.min(t,r),o=Math.max(t,r),s=u.data_selection_grouped?c.margin.top:Math.min(n,a),l=u.data_selection_grouped?c.height:Math.max(n,a),d.select("."+h.dragarea).attr("x",i).attr("y",s).attr("width",o-i).attr("height",l-s),d.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(e){return u.data_selection_isselectable(e)}).each(function(e,t){var n,r,a,u,d,f,g=p.select(this),m=g.classed(h.SELECTED),v=g.classed(h.INCLUDED),y=!1;if(g.classed(h.circle))n=1*g.attr("cx"),r=1*g.attr("cy"),d=c.togglePoint,
y=i<n&&n<o&&s<r&&r<l;else{if(!g.classed(h.bar))return;f=$(this),n=f.x,r=f.y,a=f.width,u=f.height,d=c.togglePath,y=!(o<n||n+a<i||l<r||r+u<s)}y^v&&(g.classed(h.INCLUDED,!v),g.classed(h.SELECTED,!m),d.call(c,!m,g,e,t))})))},d.dragstart=function(e){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.dragStart=e,t.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),t.dragging=!0)},d.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),e.dragging=!1)},d.selectPoint=function(e,t,n){var r=this,a=r.config,i=(a.axis_rotated?r.circleY:r.circleX).bind(r),o=(a.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);a.data_onselected.call(r.api,t,e.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return r.generateClass(h.selectedCircle,n)}).attr("cx",i).attr("cy",o).attr("stroke",function(){return r.color(t)}).attr("r",function(e){return 1.4*r.pointSelectR(e)}).transition().duration(100).attr("r",s)},d.unselectPoint=function(e,t,n){var r=this;r.config.data_onunselected.call(r.api,t,e.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},d.togglePoint=function(e,t,n,r){e?this.selectPoint(t,n,r):this.unselectPoint(t,n,r)},d.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},d.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.color(t)})},d.togglePath=function(e,t,n,r){e?this.selectPath(t,n,r):this.unselectPath(t,n,r)},d.getToggle=function(e,t){var n,r=this;return"circle"===e.nodeName?n=r.isStepType(t)?function(){}:r.togglePoint:"path"===e.nodeName&&(n=r.togglePath),n},d.toggleShape=function(e,t,n){var r=this,a=r.d3,i=r.config,o=a.select(e),s=o.classed(h.SELECTED),l=r.getToggle(e,t).bind(r);i.data_selection_enabled&&i.data_selection_isselectable(t)&&(i.data_selection_multiple||r.main.selectAll("."+h.shapes+(i.data_selection_grouped?r.getTargetSelectorSuffix(t.id):"")).selectAll("."+h.shape).each(function(e,t){var n=a.select(this);n.classed(h.SELECTED)&&l(!1,n.classed(h.SELECTED,!1),e,t)}),o.classed(h.SELECTED,!s),l(!s,o,t,n))},d.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+h.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},d.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),r=t.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",h.chart),n.select("."+h.chart).append("g").attr("class",h.chartBars),n.select("."+h.chart).append("g").attr("class",h.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",h.brush).call(e.brush),e.axes.subx=n.append("g").attr("class",h.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?r:"hidden")},d.updateTargetsForSubchart=function(e){var t,n,r,a,i=this,o=i.context,s=i.config,l=i.classChartBar.bind(i),c=i.classBars.bind(i),u=i.classChartLine.bind(i),d=i.classLines.bind(i),p=i.classAreas.bind(i);s.subchart_show&&(a=o.select("."+h.chartBars).selectAll("."+h.chartBar).data(e).attr("class",l),r=a.enter().append("g").style("opacity",0).attr("class",l),r.append("g").attr("class",c),n=o.select("."+h.chartLines).selectAll("."+h.chartLine).data(e).attr("class",u),t=n.enter().append("g").style("opacity",0).attr("class",u),t.append("g").attr("class",d),t.append("g").attr("class",p),o.selectAll("."+h.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?i.width2:i.height2))},d.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+h.bars).selectAll("."+h.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},d.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",e).style("opacity",1)},d.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+h.lines).selectAll("."+h.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},d.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",e).style("opacity",1)},d.updateAreaForSubchart=function(e){var t=this,n=t.d3;t.contextArea=t.context.selectAll("."+h.areas).selectAll("."+h.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},d.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},d.redrawSubchart=function(e,t,n,r,a,i,o){var s,l,c,u=this,d=u.d3,p=u.config;u.context.style("visibility",p.subchart_show?"visible":"hidden"),p.subchart_show&&(d.event&&"zoom"===d.event.type&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(a,!0),l=u.generateDrawBar(i,!0),c=u.generateDrawLine(o,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n)))},d.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},d.transformContext=function(e,t){var n,r=this;t&&t.axisSubX?n=t.axisSubX:(n=r.context.select("."+h.axisX),e&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},d.getDefaultExtent=function(){var e=this,t=e.config,n=m(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},d.initZoom=function(){var e,t=this,n=t.d3,r=t.config;t.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,t.zoom.altDomain=n.event.sourceEvent.altKey?t.x.orgDomain():null,r.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var a=n.event.sourceEvent;a&&e.clientX===a.clientX&&e.clientY===a.clientY||(t.redrawEventRect(),t.updateZoom(),r.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return r.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=r.zoom_extent?r.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=_(t.x.orgDomain())/_(t.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this}},d.getZoomDomain=function(){var e=this,t=e.config,n=e.d3,r=n.min([e.orgXDomain[0],t.zoom_x_min]),a=n.max([e.orgXDomain[1],t.zoom_x_max]);return[r,a]},d.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+h.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+h.eventRect).call(t).on("dblclick.zoom",null)},d.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,r=e.zoom,a=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&r.altDomain)return a.domain(r.altDomain),void r.scale(a).updateScaleExtent();e.isCategorized()&&a.orgDomain()[0]===e.orgXDomain[0]&&a.domain([e.orgXDomain[0]-1e-10,a.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,a.orgDomain())}},d.generateColor=function(){var e=this,t=e.config,n=e.d3,r=t.data_colors,a=S(t.color_pattern)?t.color_pattern:n.scale.category10().range(),i=t.data_color,o=[];return function(e){var t,n=e.id||e.data&&e.data.id||e;return r[n]instanceof Function?t=r[n](e):r[n]?t=r[n]:(o.indexOf(n)<0&&o.push(n),t=a[o.indexOf(n)%a.length],r[n]=t),i instanceof Function?i(t,e):t}},d.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,r=t.color_threshold,a="value"===r.unit,i=r.values&&r.values.length?r.values:[],o=r.max||100;return S(t.color_threshold)?function(e){var t,r,s=n[n.length-1];for(t=0;t<i.length;t++)if(r=a?e:100*e/o,r<i[t]){s=n[t];break}return s}:null},d.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,r=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,a,i){var o="y2"===t.axis.getId(i)?r:n;return o.call(t,e,a)}},d.yFormat=function(e){var t=this,n=t.config,r=n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat;return r(e)},d.y2Format=function(e){var t=this,n=t.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat;return r(e)},d.defaultValueFormat=function(e){return g(e)?+e:""},d.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},d.dataLabelFormat=function(e){var t,n=this,r=n.config.data_labels,a=function(e){return g(e)?+e:""};return t="function"==typeof r.format?r.format:"object"===_typeof(r.format)?r.format[e]?r.format[e]===!0?a:r.format[e]:function(){return""}:a},d.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},d.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},d.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n};var h=d.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};d.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},d.classText=function(e){return this.generateClass(h.text,e.index)},d.classTexts=function(e){return this.generateClass(h.texts,e.id)},d.classShape=function(e){return this.generateClass(h.shape,e.index)},d.classShapes=function(e){return this.generateClass(h.shapes,e.id)},d.classLine=function(e){return this.classShape(e)+this.generateClass(h.line,e.id)},d.classLines=function(e){return this.classShapes(e)+this.generateClass(h.lines,e.id)},d.classCircle=function(e){return this.classShape(e)+this.generateClass(h.circle,e.index)},d.classCircles=function(e){return this.classShapes(e)+this.generateClass(h.circles,e.id)},d.classBar=function(e){return this.classShape(e)+this.generateClass(h.bar,e.index)},d.classBars=function(e){return this.classShapes(e)+this.generateClass(h.bars,e.id)},d.classArc=function(e){return this.classShape(e.data)+this.generateClass(h.arc,e.data.id)},d.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(h.arcs,e.data.id)},d.classArea=function(e){return this.classShape(e)+this.generateClass(h.area,e.id)},d.classAreas=function(e){return this.classShapes(e)+this.generateClass(h.areas,e.id)},d.classRegion=function(e,t){return this.generateClass(h.region,t)+" "+("class"in e?e["class"]:"")},d.classEvent=function(e){return this.generateClass(h.eventRect,e.index)},d.classTarget=function(e){var t=this,n=t.config.data_classes[e],r="";return n&&(r=" "+h.target+"-"+n),t.generateClass(h.target,e)+r},d.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},d.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?h.focused:"")},d.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?h.defocused:"")},d.classChartText=function(e){return h.chartText+this.classTarget(e.id)},d.classChartLine=function(e){return h.chartLine+this.classTarget(e.id)},d.classChartBar=function(e){return h.chartBar+this.classTarget(e.id)},d.classChartArc=function(e){return h.chartArc+this.classTarget(e.data.id)},d.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},d.selectorTarget=function(e,t){return(t||"")+"."+h.target+this.getTargetSelectorSuffix(e)},d.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)}):null},d.selectorLegend=function(e){return"."+h.legendItem+this.getTargetSelectorSuffix(e)},d.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null};var g=d.isValue=function(e){return e||0===e},m=d.isFunction=function(e){return"function"==typeof e},v=d.isString=function(e){return"string"==typeof e},y=d.isUndefined=function(e){return"undefined"==typeof e},b=d.isDefined=function(e){return"undefined"!=typeof e},x=d.ceil10=function(e){return 10*Math.ceil(e/10)},w=d.asHalfPixel=function(e){return Math.ceil(e)+.5},_=d.diffDomain=function(e){return e[1]-e[0]},k=d.isEmpty=function(e){return"undefined"==typeof e||null===e||v(e)&&0===e.length||"object"===("undefined"==typeof e?"undefined":_typeof(e))&&0===Object.keys(e).length},S=d.notEmpty=function(e){return!d.isEmpty(e)},A=d.getOption=function(e,t,n){return b(e[t])?e[t]:n},T=d.hasValue=function(e,t){var n=!1;return Object.keys(e).forEach(function(r){e[r]===t&&(n=!0)}),n},$=d.getPathBox=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],r=n[0].x,a=Math.min(n[0].y,n[1].y);return{x:r,y:a,width:t.width,height:t.height}};u.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},u.defocus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),t.classed(h.focused,!1).classed(h.defocused,!0),n.hasArcType()&&n.unexpandArc(e),n.toggleFocusLegend(e,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),n.defocusedTargetIds=e},u.revert=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e)),t.classed(h.focused,!1).classed(h.defocused,!1),n.hasArcType()&&n.unexpandArc(e),n.config.legend_show&&(n.showLegend(e.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(e)).filter(function(){return n.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},u.show=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.removeHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&r.showLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},u.hide=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.addHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&r.hideLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},u.toggle=function(e,t){var n=this,r=this.internal;r.mapToTargetIds(e).forEach(function(e){r.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},u.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},u.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},u.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},u.zoom.max=function(e){var t=this.internal,n=t.config,r=t.d3;return 0===e||e?void(n.zoom_x_max=r.max([t.orgXDomain[1],e])):n.zoom_x_max},u.zoom.min=function(e){var t=this.internal,n=t.config,r=t.d3;return 0===e||e?void(n.zoom_x_min=r.min([t.orgXDomain[0],e])):n.zoom_x_min},u.zoom.range=function(e){return arguments.length?(b(e.max)&&this.domain.max(e.max),void(b(e.min)&&this.domain.min(e.min))):{max:this.domain.max(),min:this.domain.min()}},u.load=function(e){var t=this.internal,n=t.config;return e.xs&&t.addXs(e.xs),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?void t.load(t.getCaches(e.cacheIds),e.done):void("unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e))},u.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},u.flow=function(e){var t,n,r,a,i,o,s,l,c=this.internal,u=[],d=c.getMaxDataCount(),p=0,f=0;if(e.json)n=c.convertJsonToData(e.json,e.keys);else if(e.rows)n=c.convertRowsToData(e.rows);else{if(!e.columns)return;n=c.convertColumnsToData(e.columns)}t=c.convertDataToTargets(n,!0),c.data.targets.forEach(function(e){var n,r,a=!1;for(n=0;n<t.length;n++)if(e.id===t[n].id){for(a=!0,e.values[e.values.length-1]&&(f=e.values[e.values.length-1].index+1),p=t[n].values.length,r=0;r<p;r++)t[n].values[r].index=f+r,c.isTimeSeries()||(t[n].values[r].x=f+r);e.values=e.values.concat(t[n].values),t.splice(n,1);break}a||u.push(e.id)}),c.data.targets.forEach(function(e){var t,n;for(t=0;t<u.length;t++)if(e.id===u[t])for(f=e.values[e.values.length-1].index+1,n=0;n<p;n++)e.values.push({id:e.id,index:f+n,x:c.isTimeSeries()?c.getOtherTargetX(f+n):f+n,value:null})}),c.data.targets.length&&t.forEach(function(e){var t,n=[];for(t=c.data.targets[0].values[0].index;t<f;t++)n.push({id:e.id,index:t,x:c.isTimeSeries()?c.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=f,c.isTimeSeries()||(e.x+=f)}),e.values=n.concat(e.values)}),c.data.targets=c.data.targets.concat(t),r=c.getMaxDataCount(),i=c.data.targets[0],o=i.values[0],b(e.to)?(p=0,l=c.isTimeSeries()?c.parseDate(e.to):e.to,i.values.forEach(function(e){e.x<l&&p++})):b(e.length)&&(p=e.length),d?1===d&&c.isTimeSeries()&&(s=(i.values[i.values.length-1].x-o.x)/2,a=[new Date(+o.x-s),new Date(+o.x+s)],c.updateXDomain(null,!0,!0,!1,a)):(s=c.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-o.x:o.x-c.getXDomain(c.data.targets)[0]:1,a=[o.x-s,o.x],c.updateXDomain(null,!0,!0,!1,a)),c.updateTargets(c.data.targets),c.redraw({flow:{index:o.index,length:p,duration:g(e.duration)?e.duration:c.config.transition_duration,done:e.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},d.generateFlow=function(e){var t=this,n=t.config,r=t.d3;return function(){var a,i,o,s=e.targets,l=e.flow,c=e.drawBar,u=e.drawLine,d=e.drawArea,p=e.cx,f=e.cy,g=e.xv,m=e.xForText,v=e.yForText,y=e.duration,b=1,x=l.index,w=l.length,k=t.getValueOnIndex(t.data.targets[0].values,x),S=t.getValueOnIndex(t.data.targets[0].values,x+w),A=t.x.domain(),T=l.duration||y,$=l.done||function(){},C=t.generateWait(),M=t.xgrid||r.selectAll([]),E=t.xgridLines||r.selectAll([]),I=t.mainRegion||r.selectAll([]),P=t.mainText||r.selectAll([]),j=t.mainBar||r.selectAll([]),D=t.mainLine||r.selectAll([]),L=t.mainArea||r.selectAll([]),O=t.mainCircle||r.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,w)}),o=t.updateXDomain(s,!0,!0),t.updateXGrid&&t.updateXGrid(!0),l.orgDataCount?a=1===l.orgDataCount||k.x===S.x?t.x(A[0])-t.x(o[0]):t.isTimeSeries()?t.x(A[0])-t.x(o[0]):t.x(k.x)-t.x(S.x):1!==t.data.targets[0].values.length?a=t.x(A[0])-t.x(o[0]):t.isTimeSeries()?(k=t.getValueOnIndex(t.data.targets[0].values,0),S=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),a=t.x(k.x)-t.x(S.x)):a=_(o)/2,b=_(A)/_(o),i="translate("+a+",0) scale("+b+",1)",t.hideXGridFocus(),r.transition().ease("linear").duration(T).each(function(){C.add(t.axes.x.transition().call(t.xAxis)),C.add(j.transition().attr("transform",i)),C.add(D.transition().attr("transform",i)),C.add(L.transition().attr("transform",i)),C.add(O.transition().attr("transform",i)),C.add(P.transition().attr("transform",i)),C.add(I.filter(t.isRegionOnX).transition().attr("transform",i)),C.add(M.transition().attr("transform",i)),C.add(E.transition().attr("transform",i))}).call(C,function(){var e,r=[],a=[],i=[];if(w){for(e=0;e<w;e++)r.push("."+h.shape+"-"+(x+e)),a.push("."+h.text+"-"+(x+e)),i.push("."+h.eventRect+"-"+(x+e));t.svg.selectAll("."+h.shapes).selectAll(r).remove(),t.svg.selectAll("."+h.texts).selectAll(a).remove(),t.svg.selectAll("."+h.eventRects).selectAll(i).remove(),t.svg.select("."+h.xgrid).remove()}M.attr("transform",null).attr(t.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?t.width:g),E.select("text").attr("x",n.axis_rotated?t.width:0).attr("y",g),j.attr("transform",null).attr("d",c),D.attr("transform",null).attr("d",u),L.attr("transform",null).attr("d",d),O.attr("transform",null).attr("cx",p).attr("cy",f),P.attr("transform",null).attr("x",m).attr("y",v).style("fill-opacity",t.opacityForText.bind(t)),I.attr("transform",null),I.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),n.interaction_enabled&&t.redrawEventRect(),$(),t.flowing=!1})}},u.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+h.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+h.shape).filter(function(){return n.select(this).classed(h.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},u.select=function(e,t,n){var r=this.internal,a=r.d3,i=r.config;i.data_selection_enabled&&r.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(o,s){var l=a.select(this),c=o.data?o.data.id:o.id,u=r.getToggle(this,o).bind(r),d=i.data_selection_grouped||!e||e.indexOf(c)>=0,p=!t||t.indexOf(s)>=0,f=l.classed(h.SELECTED);l.classed(h.line)||l.classed(h.area)||(d&&p?i.data_selection_isselectable(o)&&!f&&u(!0,l.classed(h.SELECTED,!0),o,s):b(n)&&n&&f&&u(!1,l.classed(h.SELECTED,!1),o,s))})},u.unselect=function(e,t){var n=this.internal,r=n.d3,a=n.config;a.data_selection_enabled&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(i,o){var s=r.select(this),l=i.data?i.data.id:i.id,c=n.getToggle(this,i).bind(n),u=a.data_selection_grouped||!e||e.indexOf(l)>=0,d=!t||t.indexOf(o)>=0,p=s.classed(h.SELECTED);s.classed(h.line)||s.classed(h.area)||u&&d&&a.data_selection_isselectable(i)&&p&&c(!1,s.classed(h.SELECTED,!1),i,o)})},u.transform=function(e,t){var n=this.internal,r=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,r)},d.transformTo=function(e,t,n){var r=this,a=!r.hasArcType(),i=n||{withTransitionForAxis:a};i.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(e,t),r.updateTargets(r.data.targets),r.updateAndRedraw(i)},u.groups=function(e){var t=this.internal,n=t.config;return y(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},u.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},u.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},u.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},u.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},u.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},u.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},u.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},u.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},u.regions.remove=function(e){var t,n,r,a=this.internal,i=a.config;return e=e||{},t=a.getOption(e,"duration",i.transition_duration),n=a.getOption(e,"classes",[h.region]),r=a.main.select("."+h.regions).selectAll(n.map(function(e){return"."+e})),(t?r.transition().duration(t):r).style("opacity",0).remove(),i.regions=i.regions.filter(function(e){var t=!1;return!e["class"]||(e["class"].split(" ").forEach(function(e){n.indexOf(e)>=0&&(t=!0)}),!t)}),i.regions},u.data=function(e){var t=this.internal.data.targets;return"undefined"==typeof e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},u.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},u.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},u.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},u.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},u.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},u.category=function(e,t){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[e]=t,n.redraw()),r.axis_x_categories[e]},u.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},u.color=function(e){var t=this.internal;return t.color(e)},u.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},u.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},u.axis=function(){},u.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.axis.setLabelText(n,e[n])}),t.axis.updateLabels())},u.axis.max=function(e){var t=this.internal,n=t.config;return arguments.length?("object"===("undefined"==typeof e?"undefined":_typeof(e))?(g(e.x)&&(n.axis_x_max=e.x),g(e.y)&&(n.axis_y_max=e.y),g(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},u.axis.min=function(e){var t=this.internal,n=t.config;return arguments.length?("object"===("undefined"==typeof e?"undefined":_typeof(e))?(g(e.x)&&(n.axis_x_min=e.x),g(e.y)&&(n.axis_y_min=e.y),g(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,void t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},u.axis.range=function(e){return arguments.length?(b(e.max)&&this.axis.max(e.max),void(b(e.min)&&this.axis.min(e.min))):{max:this.axis.max(),min:this.axis.min()}},u.legend=function(){},u.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},u.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},u.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},u.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},u.destroy=function(){var e=this.internal;if(r.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&r.clearTimeout(e.resizeTimeout),r.detachEvent)r.detachEvent("onresize",e.resizeFunction);else if(r.removeEventListener)r.removeEventListener("resize",e.resizeFunction);else{var t=r.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},u.tooltip=function(){},u.tooltip.show=function(e){var t,n,r=this.internal;e.mouse&&(n=e.mouse),e.data?r.isMultipleX()?(n=[r.x(e.data.x),r.getYScale(e.data.id)(e.data.value)],t=null):t=g(e.data.index)?e.data.index:r.getIndexByX(e.data.x):"undefined"!=typeof e.x?t=r.getIndexByX(e.x):"undefined"!=typeof e.index&&(t=e.index),r.dispatchEvent("mouseover",t,n),r.dispatchEvent("mousemove",t,n),r.config.tooltip_onshow.call(r,e.data)},u.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var C;d.isSafari=function(){var e=r.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},d.isChrome=function(){var e=r.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},a=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)));
};return r.prototype=this.prototype,a.prototype=new r,a}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return f}):"undefined"!=typeof n&&"undefined"!=typeof t?t.exports=f:r.c3=f}(window)},{"./../d3/d3.js":13}],13:[function(e,t,n){!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function n(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function a(e){return null===e?NaN:+e}function i(e){return!isNaN(e)}function o(e){return{left:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function s(e){return e.length}function l(e){for(var t=1;e*t%1;)t*=10;return t}function c(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function u(){this._=Object.create(null)}function d(e){return(e+="")===_o||e[0]===ko?ko+e:e}function p(e){return(e+="")[0]===ko?e.slice(1):e}function f(e){return d(e)in this._}function h(e){return(e=d(e))in this._&&delete this._[e]}function g(){var e=[];for(var t in this._)e.push(p(t));return e}function m(){var e=0;for(var t in this._)++e;return e}function v(){for(var e in this._)return!1;return!0}function y(){this._=Object.create(null)}function b(e){return e}function x(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function w(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=So.length;n<r;++n){var a=So[n]+t;if(a in e)return a}}function _(){}function k(){}function S(e){function t(){for(var t,r=n,a=-1,i=r.length;++a<i;)(t=r[a].on)&&t.apply(this,arguments);return e}var n=[],r=new u;return t.on=function(t,a){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),r.remove(t)),a&&n.push(r.set(t,{on:a})),e)},t}function A(){lo.event.preventDefault()}function T(){for(var e,t=lo.event;e=t.sourceEvent;)t=e;return t}function $(e){for(var t=new k,n=0,r=arguments.length;++n<r;)t[arguments[n]]=S(t);return t.of=function(n,r){return function(a){try{var i=a.sourceEvent=lo.event;a.target=e,lo.event=a,t[a.type].apply(n,r)}finally{lo.event=i}}},t}function C(e){return To(e,Eo),e}function M(e){return"function"==typeof e?e:function(){return $o(e,this)}}function E(e){return"function"==typeof e?e:function(){return Co(e,this)}}function I(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=lo.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:o:e.local?i:a}function P(e){return e.trim().replace(/\s+/g," ")}function j(e){return new RegExp("(?:^|\\s+)"+lo.requote(e)+"(?:\\s+|$)","g")}function D(e){return(e+"").trim().split(/^|\s+/)}function L(e,t){function n(){for(var n=-1;++n<a;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<a;)e[n](this,r)}e=D(e).map(O);var a=e.length;return"function"==typeof t?r:n}function O(e){var t=j(e);return function(n,r){if(a=n.classList)return r?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(a)||n.setAttribute("class",P(a+" "+e))):n.setAttribute("class",P(a.replace(t," ")))}}function R(e,t,n){function r(){this.style.removeProperty(e)}function a(){this.style.setProperty(e,t,n)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?i:a}function N(e,t){function n(){delete this[e]}function r(){this[e]=t}function a(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?a:r}function z(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Io&&t.documentElement.namespaceURI===Io?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=lo.ns.qualify(e)).local?n:t}function B(){var e=this.parentNode;e&&e.removeChild(this)}function F(e){return{__data__:e}}function H(e){return function(){return Mo(this,e)}}function U(e){return arguments.length||(e=r),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function q(e,t){for(var n=0,r=e.length;n<r;n++)for(var a,i=e[n],o=0,s=i.length;o<s;o++)(a=i[o])&&t(a,o,n);return e}function V(e){return To(e,jo),e}function G(e){var t,n;return function(r,a,i){var o,s=e[i].update,l=s.length;for(i!=n&&(n=i,t=0),a>=t&&(t=a+1);!(o=s[t])&&++t<l;);return o}}function W(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function a(){var a=l(t,uo(arguments));r.call(this),this.addEventListener(e,this[o]=a,a.$=n),a._=t}function i(){var t,n=new RegExp("^__on([^.]+)"+lo.requote(e)+"$");for(var r in this)if(t=r.match(n)){var a=this[r];this.removeEventListener(t[1],a,a.$),delete this[r]}}var o="__on"+e,s=e.indexOf("."),l=Y;s>0&&(e=e.slice(0,s));var c=Do.get(e);return c&&(e=c,l=X),s?t?a:r:t?_:i}function Y(e,t){return function(n){var r=lo.event;lo.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{lo.event=r}}}function X(e,t){var n=Y(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function Q(t){var r=".dragsuppress-"+ ++Oo,a="click"+r,i=lo.select(n(t)).on("touchmove"+r,A).on("dragstart"+r,A).on("selectstart"+r,A);if(null==Lo&&(Lo=!("onselectstart"in t)&&w(t.style,"userSelect")),Lo){var o=e(t).style,s=o[Lo];o[Lo]="none"}return function(e){if(i.on(r,null),Lo&&(o[Lo]=s),e){var t=function(){i.on(a,null)};i.on(a,function(){A(),t()},!0),setTimeout(t,0)}}}function K(e,t){t.changedTouches&&(t=t.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();if(Ro<0){var i=n(e);if(i.scrollX||i.scrollY){r=lo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Ro=!(o.f||o.e),r.remove()}}return Ro?(a.x=t.pageX,a.y=t.pageY):(a.x=t.clientX,a.y=t.clientY),a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Z(){return lo.event.changedTouches[0].identifier}function J(e){return e>0?1:e<0?-1:0}function ee(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function te(e){return e>1?0:e<-1?Bo:Math.acos(e)}function ne(e){return e>1?Uo:e<-1?-Uo:Math.asin(e)}function re(e){return((e=Math.exp(e))-1/e)/2}function ae(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return((e=Math.exp(2*e))-1)/(e+1)}function oe(e){return(e=Math.sin(e/2))*e}function se(){}function le(e,t,n){return this instanceof le?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.s,e.l):_e(""+e,ke,le):new le(e,t,n)}function ce(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(o-i)*e/60:e<180?o:e<240?i+(o-i)*(240-e)/60:i}function a(e){return Math.round(255*r(e))}var i,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+t):n+t-n*t,i=2*n-o,new ye(a(e+120),a(e),a(e-120))}function ue(e,t,n){return this instanceof ue?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof ue?new ue(e.h,e.c,e.l):e instanceof pe?he(e.l,e.a,e.b):he((e=Se((e=lo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ue(e,t,n)}function de(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new pe(n,Math.cos(e*=qo)*t,Math.sin(e)*t)}function pe(e,t,n){return this instanceof pe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof pe?new pe(e.l,e.a,e.b):e instanceof ue?de(e.h,e.c,e.l):Se((e=ye(e)).r,e.g,e.b):new pe(e,t,n)}function fe(e,t,n){var r=(e+16)/116,a=r+t/500,i=r-n/200;return a=ge(a)*ts,r=ge(r)*ns,i=ge(i)*rs,new ye(ve(3.2404542*a-1.5371385*r-.4985314*i),ve(-.969266*a+1.8760108*r+.041556*i),ve(.0556434*a-.2040259*r+1.0572252*i))}function he(e,t,n){return e>0?new ue(Math.atan2(n,t)*Vo,Math.sqrt(t*t+n*n),e):new ue(NaN,NaN,e)}function ge(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function me(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ve(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ye(e,t,n){return this instanceof ye?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ye?new ye(e.r,e.g,e.b):_e(""+e,ye,ce):new ye(e,t,n)}function be(e){return new ye(e>>16,e>>8&255,255&e)}function xe(e){return be(e)+""}function we(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function _e(e,t,n){var r,a,i,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(Te(a[0]),Te(a[1]),Te(a[2]))}return(i=os.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&i)>>4,o=o>>4|o,s=240&i,s=s>>4|s,l=15&i,l=l<<4|l):7===e.length&&(o=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),t(o,s,l))}function ke(e,t,n){var r,a,i=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-i,l=(o+i)/2;return s?(a=l<.5?s/(o+i):s/(2-o-i),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,a=l>0&&l<1?0:r),new le(r,a,l)}function Se(e,t,n){e=Ae(e),t=Ae(t),n=Ae(n);var r=me((.4124564*e+.3575761*t+.1804375*n)/ts),a=me((.2126729*e+.7151522*t+.072175*n)/ns),i=me((.0193339*e+.119192*t+.9503041*n)/rs);return pe(116*a-16,500*(r-a),200*(a-i))}function Ae(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Te(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function $e(e){return"function"==typeof e?e:function(){return e}}function Ce(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Me(t,n,e,r)}}function Me(e,t,n,r){function a(){var e,t=l.status;if(!t&&Ie(l)||t>=200&&t<300||304===t){try{e=n.call(i,l)}catch(r){return void o.error.call(i,r)}o.load.call(i,e)}else o.error.call(i,l)}var i={},o=lo.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(e){var t=lo.event;lo.event=e;try{o.progress.call(i,l)}finally{lo.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(c=e,i):c},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(uo(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=a&&i.on("error",a).on("load",function(e){a(null,e)}),o.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},lo.rebind(i,o,"on"),null==r?i:i.get(Ee(r))}function Ee(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ie(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Pe(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var a=n+t,i={c:e,t:a,n:null};return ls?ls.n=i:ss=i,ls=i,cs||(us=clearTimeout(us),cs=1,ds(je)),i}function je(){var e=De(),t=Le()-e;t>24?(isFinite(t)&&(clearTimeout(us),us=setTimeout(je,t)),cs=0):(cs=1,ds(je))}function De(){for(var e=Date.now(),t=ss;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Le(){for(var e,t=ss,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ss=t.n;return ls=e,n}function Oe(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Re(e,t){var n=Math.pow(10,3*wo(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ne(e){var t=e.decimal,n=e.thousands,r=e.grouping,a=e.currency,i=r&&n?function(e,t){for(var a=e.length,i=[],o=0,s=r[0],l=0;a>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>t));)s=r[o=(o+1)%r.length];return i.reverse().join(n)}:b;return function(e){var n=fs.exec(e),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],p=n[8],f=n[9],h=1,g="",m="",v=!1,y=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),f){case"n":d=!0,f="g";break;case"%":h=100,m="%",f="f";break;case"p":h=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,p=0;break;case"s":h=-1,f="r"}"$"===l&&(g=a[0],m=a[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):"e"!=f&&"f"!=f||(p=Math.max(0,Math.min(20,p)))),f=hs.get(f)||ze;var b=c&&d;return function(e){var n=m;if(v&&e%1)return"";var a=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(h<0){var l=lo.formatPrefix(e,p);e=l.scale(e),n=l.symbol+m}else e*=h;e=f(e,p);var x,w,_=e.lastIndexOf(".");if(_<0){var k=y?e.lastIndexOf("e"):-1;k<0?(x=e,w=""):(x=e.substring(0,k),w=e.substring(k))}else x=e.substring(0,_),w=t+e.substring(_+1);!c&&d&&(x=i(x,1/0));var S=g.length+x.length+w.length+(b?0:a.length),A=S<u?new Array(S=u-S+1).join(r):"";return b&&(x=i(A+x,A.length?u-w.length:1/0)),a+=g,e=x+w,("<"===o?a+e+A:">"===o?A+a+e:"^"===o?A.substring(0,S>>=1)+a+e+A.substring(S):a+(b?e:A+e))+n}}}function ze(e){return e+""}function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function a(n){return t(n=e(new ms(n-1)),1),n}function i(e,n){return t(e=new ms((+e)),n),e}function o(e,r,i){var o=a(e),s=[];if(i>1)for(;o<r;)n(o)%i||s.push(new Date((+o))),t(o,1);else for(;o<r;)s.push(new Date((+o))),t(o,1);return s}function s(e,t,n){try{ms=Be;var r=new Be;return r._=e,o(r,t,n)}finally{ms=Date}}e.floor=e,e.round=r,e.ceil=a,e.offset=i,e.range=o;var l=e.utc=He(e);return l.floor=l,l.round=He(r),l.ceil=He(a),l.offset=He(i),l.range=s,e}function He(e){return function(t,n){try{ms=Be;var r=new Be;return r._=t,e(r,n)._}finally{ms=Date}}}function Ue(e){function t(e){function t(t){for(var n,a,i,o=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=ys[n=e.charAt(++s)])&&(n=e.charAt(++s)),(i=C[n])&&(n=i(t,null==a?"e"===n?" ":"0":a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=n(r,e,t,0);if(a!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&ms!==Be,o=new(i?Be:ms);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var a,i,o,s=0,l=t.length,c=n.length;s<l;){if(r>=c)return-1;if(a=t.charCodeAt(s++),37===a){if(o=t.charAt(s++),i=M[o in ys?t.charAt(s++):o],!i||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){T.lastIndex=0;var r=T.exec(t.slice(n));return r?(e.m=$.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,C.c.toString(),t,r)}function l(e,t,r){return n(e,C.x.toString(),t,r)}function c(e,t,r){return n(e,C.X.toString(),t,r)}function u(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,p=e.date,f=e.time,h=e.periods,g=e.days,m=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{ms=Be;var t=new ms;return t._=e,r(t)}finally{ms=Date}}var r=t(e);return n.parse=function(e){try{ms=Be;var t=r.parse(e);return t&&t._}finally{ms=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ct;var b=lo.map(),x=Ve(g),w=Ge(g),_=Ve(m),k=Ge(m),S=Ve(v),A=Ge(v),T=Ve(y),$=Ge(y);h.forEach(function(e,t){b.set(e.toLowerCase(),t)});var C={a:function(e){return m[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(d),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+gs.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return h[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(gs.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(gs.mondayOfYear(e),t,2)},x:t(p),X:t(f),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:st,"%":function(){return"%"}},M={a:r,A:a,b:i,B:o,c:s,d:tt,e:tt,H:rt,I:rt,j:nt,L:ot,m:et,M:at,p:u,S:it,U:Ye,w:We,W:Xe,x:l,X:c,y:Ke,Y:Qe,Z:Ze,"%":lt};return t}function qe(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Ve(e){return new RegExp("^(?:"+e.map(lo.requote).join("|")+")","i")}function Ge(e){for(var t=new u,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function We(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ye(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Xe(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Qe(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ke(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.y=Je(+r[0]),n+r[0].length):-1}function Ze(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Je(e){return e+(e>68?1900:2e3)}function et(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tt(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nt(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function rt(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function at(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function it(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ot(e,t,n){bs.lastIndex=0;var r=bs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function st(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=wo(t)/60|0,a=wo(t)%60;return n+qe(r,"0",2)+qe(a,"0",2)}function lt(e,t,n){xs.lastIndex=0;var r=xs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ct(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function ut(){}function dt(e,t,n){var r=n.s=e+t,a=r-e,i=r-a;n.t=e-i+(t-a)}function pt(e,t){e&&Ss.hasOwnProperty(e.type)&&Ss[e.type](e,t)}function ft(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function ht(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ft(e[n],t,1);t.polygonEnd()}function gt(){function e(e,t){e*=qo,t=t*qo/2+Bo/4;var n=e-r,o=n>=0?1:-1,s=o*n,l=Math.cos(t),c=Math.sin(t),u=i*c,d=a*l+u*Math.cos(s),p=u*o*Math.sin(s);Ts.add(Math.atan2(p,d)),r=e,a=l,i=c}var t,n,r,a,i;$s.point=function(o,s){$s.point=e,r=(t=o)*qo,a=Math.cos(s=(n=s)*qo/2+Bo/4),i=Math.sin(s)},$s.lineEnd=function(){e(t,n)}}function mt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function vt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function bt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _t(e){return[Math.atan2(e[1],e[0]),ne(e[2])]}function kt(e,t){return wo(e[0]-t[0])<No&&wo(e[1]-t[1])<No}function St(e,t){e*=qo;var n=Math.cos(t*=qo);At(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function At(e,t,n){++Cs,Es+=(e-Es)/Cs,Is+=(t-Is)/Cs,Ps+=(n-Ps)/Cs}function Tt(){function e(e,a){e*=qo;var i=Math.cos(a*=qo),o=i*Math.cos(e),s=i*Math.sin(e),l=Math.sin(a),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*o-t*l)*c+(c=t*s-n*o)*c),t*o+n*s+r*l);Ms+=c,js+=c*(t+(t=o)),Ds+=c*(n+(n=s)),Ls+=c*(r+(r=l)),At(t,n,r)}var t,n,r;zs.point=function(a,i){a*=qo;var o=Math.cos(i*=qo);t=o*Math.cos(a),n=o*Math.sin(a),r=Math.sin(i),zs.point=e,At(t,n,r)}}function $t(){zs.point=St}function Ct(){function e(e,t){e*=qo;var n=Math.cos(t*=qo),o=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=a*l-i*s,u=i*o-r*l,d=r*s-a*o,p=Math.sqrt(c*c+u*u+d*d),f=r*o+a*s+i*l,h=p&&-te(f)/p,g=Math.atan2(p,f);Os+=h*c,Rs+=h*u,Ns+=h*d,Ms+=g,js+=g*(r+(r=o)),Ds+=g*(a+(a=s)),Ls+=g*(i+(i=l)),At(r,a,i)}var t,n,r,a,i;zs.point=function(o,s){t=o,n=s,zs.point=e,o*=qo;var l=Math.cos(s*=qo);r=l*Math.cos(o),a=l*Math.sin(o),i=Math.sin(s),At(r,a,i)},zs.lineEnd=function(){e(t,n),zs.lineEnd=$t,zs.point=St}}function Mt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Et(){return!0}function It(e,t,n,r,a){var i=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(kt(n,r)){a.lineStart();for(var s=0;s<t;++s)a.point((n=e[s])[0],n[1]);return void a.lineEnd()}var l=new jt(n,e,null,(!0)),c=new jt(n,null,l,(!1));l.o=c,i.push(l),o.push(c),l=new jt(r,e,null,(!1)),c=new jt(r,null,l,(!0)),l.o=c,i.push(l),o.push(c)}}),o.sort(t),Pt(i),Pt(o),i.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,p=i[0];;){for(var f=p,h=!0;f.v;)if((f=f.n)===p)return;u=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(var s=0,c=u.length;s<c;++s)a.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,a);f=f.n}else{if(h){u=f.p.z;for(var s=u.length-1;s>=0;--s)a.point((d=u[s])[0],d[1])}else r(f.x,f.p.x,-1,a);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);a.lineEnd()}}}function Pt(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function jt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Dt(e,t,n,r){return function(a,i){function o(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function s(e,t){var n=a(e,t);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function c(){y.point=o,m.lineEnd()}function u(e,t){g.push([e,t]);var n=a(e,t);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function p(){u(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),h.push(g),g=null,r)if(1&t){e=n[0];var a,r=e.length-1,o=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++o<r;)i.point((a=e[o])[0],a[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Lt))}var f,h,g,m=t(i),v=a.invert(r[0],r[1]),y={point:o,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=d,y.lineEnd=p,f=[],h=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=c,f=lo.merge(f);var e=Ft(v,h);f.length?(w||(i.polygonStart(),w=!0),It(f,Rt,e,n,i)):e&&(w||(i.polygonStart(),w=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),f=h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Ot(),x=t(b),w=!1;return y}}function Lt(e){return e.length>1}function Ot(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:_,buffer:function n(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Rt(e,t){return((e=e.x)[0]<0?e[1]-Uo-No:Uo-e[1])-((t=t.x)[0]<0?t[1]-Uo-No:Uo-t[1])}function Nt(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var s=i>0?Bo:-Bo,l=wo(i-n);wo(l-Bo)<No?(e.point(n,r=(r+o)/2>0?Uo:-Uo),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),t=0):a!==s&&l>=Bo&&(wo(n-a)<No&&(n-=a*No),wo(i-s)<No&&(i-=s*No),r=zt(n,r,i,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=i,r=o),a=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function zt(e,t,n,r){var a,i,o=Math.sin(e-n);return wo(o)>No?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(t))*Math.sin(e))/(a*i*o)):(t+r)/2}function Bt(e,t,n,r){var a;if(null==e)a=n*Uo,r.point(-Bo,a),r.point(0,a),r.point(Bo,a),r.point(Bo,0),r.point(Bo,-a),r.point(0,-a),r.point(-Bo,-a),r.point(-Bo,0),r.point(-Bo,a);else if(wo(e[0]-t[0])>No){var i=e[0]<t[0]?Bo:-Bo;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function Ft(e,t){var n=e[0],r=e[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Ts.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],p=d[0],f=d[1]/2+Bo/4,h=Math.sin(f),g=Math.cos(f),m=1;;){m===u&&(m=0),e=c[m];var v=e[0],y=e[1]/2+Bo/4,b=Math.sin(y),x=Math.cos(y),w=v-p,_=w>=0?1:-1,k=_*w,S=k>Bo,A=h*b;if(Ts.add(Math.atan2(A*_*Math.sin(k),g*x+A*Math.cos(k))),i+=S?w+_*Fo:w,S^p>=n^v>=n){var T=yt(mt(d),mt(e));wt(T);var $=yt(a,T);wt($);var C=(S^w>=0?-1:1)*ne($[2]);(r>C||r===C&&(T[0]||T[1]))&&(o+=S^w>=0?1:-1)}if(!m++)break;p=v,h=b,g=x,d=e}}return(i<-No||i<No&&Ts<-No)^1&o}function Ht(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,i,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,p){var f,h=[d,p],g=t(d,p),m=o?g?0:a(d,p):g?a(d+(d<0?Bo:-Bo),p):0;if(!n&&(c=l=g)&&e.lineStart(),g!==l&&(f=r(n,h),(kt(n,f)||kt(h,f))&&(h[0]+=No,h[1]+=No,g=t(h[0],h[1]))),g!==l)u=0,g?(e.lineStart(),f=r(h,n),e.point(f[0],f[1])):(f=r(n,h),e.point(f[0],f[1]),e.lineEnd()),n=f;else if(s&&n&&o^g){var v;m&i||!(v=r(h,n,!0))||(u=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||n&&kt(n,h)||e.point(h[0],h[1]),n=h,l=g,i=m},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function r(e,t,n){var r=mt(e),a=mt(t),o=[1,0,0],s=yt(r,a),l=vt(s,s),c=s[0],u=l-c*c;if(!u)return!n&&e;var d=i*l/u,p=-i*c/u,f=yt(o,s),h=xt(o,d),g=xt(s,p);bt(h,g);var m=f,v=vt(h,m),y=vt(m,m),b=v*v-y*(vt(h,h)-1);if(!(b<0)){var x=Math.sqrt(b),w=xt(m,(-v-x)/y);if(bt(w,h),w=_t(w),!n)return w;var _,k=e[0],S=t[0],A=e[1],T=t[1];S<k&&(_=k,k=S,S=_);var $=S-k,C=wo($-Bo)<No,M=C||$<No;if(!C&&T<A&&(_=A,A=T,T=_),M?C?A+T>0^w[1]<(wo(w[0]-k)<No?A:T):A<=w[1]&&w[1]<=T:$>Bo^(k<=w[0]&&w[0]<=S)){var E=xt(m,(-v+x)/y);return bt(E,h),[w,_t(E)]}}}function a(t,n){var r=o?e:Bo-e,a=0;return t<-r?a|=1:t>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}var i=Math.cos(e),o=i>0,s=wo(i)>No,l=mn(e,6*qo);return Dt(t,n,l,o?[0,-e]:[-Bo,e-Bo])}function Ut(e,t,n,r){return function(a){var i,o=a.a,s=a.b,l=o.x,c=o.y,u=s.x,d=s.y,p=0,f=1,h=u-l,g=d-c;if(i=e-l,h||!(i>0)){if(i/=h,h<0){if(i<p)return;i<f&&(f=i)}else if(h>0){if(i>f)return;i>p&&(p=i)}if(i=n-l,h||!(i<0)){if(i/=h,h<0){if(i>f)return;i>p&&(p=i)}else if(h>0){if(i<p)return;i<f&&(f=i)}if(i=t-c,g||!(i>0)){if(i/=g,g<0){if(i<p)return;i<f&&(f=i)}else if(g>0){if(i>f)return;i>p&&(p=i)}if(i=r-c,g||!(i<0)){if(i/=g,g<0){if(i>f)return;i>p&&(p=i)}else if(g>0){if(i<p)return;i<f&&(f=i)}return p>0&&(a.a={x:l+p*h,y:c+p*g}),f<1&&(a.b={x:l+f*h,y:c+f*g}),a}}}}}}function qt(e,t,n,r){function a(r,a){return wo(r[0]-e)<No?a>0?0:3:wo(r[0]-n)<No?a>0?2:1:wo(r[1]-t)<No?a>0?1:0:a>0?3:2}function i(e,t){return o(e.x,t.x)}function o(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e){for(var t=0,n=m.length,r=e[1],a=0;a<n;++a)for(var i,o=1,s=m[a],l=s.length,c=s[0];o<l;++o)i=s[o],c[1]<=r?i[1]>r&&ee(c,i,e)>0&&++t:i[1]<=r&&ee(c,i,e)<0&&--t,c=i;return 0!==t}function c(i,s,l,c){var u=0,d=0;if(null==i||(u=a(i,l))!==(d=a(s,l))||o(i,s)<0^l>0){do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+l+4)%4)!==d)}else c.point(s[0],s[1])}function u(a,i){return e<=a&&a<=n&&t<=i&&i<=r}function d(e,t){u(e,t)&&s.point(e,t)}function p(){M.point=h,m&&m.push(v=[]),S=!0,k=!1,w=_=NaN}function f(){g&&(h(y,b),x&&k&&$.rejoin(),g.push($.buffer())),M.point=d,k&&s.lineEnd()}function h(e,t){e=Math.max(-Fs,Math.min(Fs,e)),t=Math.max(-Fs,Math.min(Fs,t));var n=u(e,t);if(m&&v.push([e,t]),S)y=e,b=t,x=n,S=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&k)s.point(e,t);else{var r={a:{x:w,y:_},b:{x:e,y:t}};C(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),A=!1):n&&(s.lineStart(),s.point(e,t),A=!1)}w=e,_=t,k=n}var g,m,v,y,b,x,w,_,k,S,A,T=s,$=Ot(),C=Ut(e,t,n,r),M={point:d,lineStart:p,lineEnd:f,polygonStart:function(){s=$,g=[],m=[],A=!0},polygonEnd:function(){s=T,g=lo.merge(g);var t=l([e,r]),n=A&&t,a=g.length;(n||a)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),a&&It(g,i,t,c,s),s.polygonEnd()),g=m=v=null}};return M}}function Vt(e){var t=0,n=Bo/3,r=ln(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*Bo/180,n=e[1]*Bo/180):[t/Bo*180,n/Bo*180]},a}function Gt(e,t){function n(e,t){var n=Math.sqrt(i-2*a*Math.sin(t))/a;return[n*Math.sin(e*=a),o-n*Math.cos(e)]}var r=Math.sin(e),a=(r+Math.sin(t))/2,i=1+r*(2*a-r),o=Math.sqrt(i)/a;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/a,ne((i-(e*e+n*n)*a*a)/(2*a))]},n}function Wt(){function e(e,t){Us+=a*e-r*t,r=e,a=t}var t,n,r,a;Ys.point=function(i,o){Ys.point=e,t=r=i,n=a=o},Ys.lineEnd=function(){e(t,n)}}function Yt(e,t){e<qs&&(qs=e),e>Gs&&(Gs=e),t<Vs&&(Vs=t),t>Ws&&(Ws=t)}function Xt(){function e(e,t){o.push("M",e,",",t,i)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function r(){s.point=e}function a(){o.push("Z")}var i=Qt(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return i=Qt(e),s},result:function l(){if(o.length){var l=o.join("");return o=[],l}}};return s}function Qt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Kt(e,t){Es+=e,Is+=t,++Ps}function Zt(){function e(e,r){var a=e-t,i=r-n,o=Math.sqrt(a*a+i*i);js+=o*(t+e)/2,Ds+=o*(n+r)/2,Ls+=o,Kt(t=e,n=r)}var t,n;Qs.point=function(r,a){Qs.point=e,Kt(t=r,n=a)}}function Jt(){Qs.point=Kt}function en(){function e(e,t){var n=e-r,i=t-a,o=Math.sqrt(n*n+i*i);js+=o*(r+e)/2,Ds+=o*(a+t)/2,Ls+=o,o=a*e-r*t,Os+=o*(r+e),Rs+=o*(a+t),Ns+=3*o,Kt(r=e,a=t)}var t,n,r,a;Qs.point=function(i,o){Qs.point=e,Kt(t=r=i,n=a=o)},Qs.lineEnd=function(){e(t,n)}}function tn(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Fo)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function a(){s.point=t}function i(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:a,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=a,s.point=t},pointRadius:function(e){return o=e,s},result:_};return s}function nn(e){function t(e){return(s?r:n)(e)}function n(t){return on(t,function(n,r){n=e(n,r),
t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,S.point=i,t.lineStart()}function i(n,r){var i=mt([n,r]),o=e(n,r);a(b,x,y,w,_,k,b=o[0],x=o[1],y=n,w=i[0],_=i[1],k=i[2],s,t),t.point(b,x)}function o(){S.point=n,t.lineEnd()}function l(){r(),S.point=c,S.lineEnd=u}function c(e,t){i(d=e,p=t),f=b,h=x,g=w,m=_,v=k,S.point=i}function u(){a(b,x,y,w,_,k,f,h,d,g,m,v,s,t),S.lineEnd=o,o()}var d,p,f,h,g,m,v,y,b,x,w,_,k,S={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function a(t,n,r,s,l,c,u,d,p,f,h,g,m,v){var y=u-t,b=d-n,x=y*y+b*b;if(x>4*i&&m--){var w=s+f,_=l+h,k=c+g,S=Math.sqrt(w*w+_*_+k*k),A=Math.asin(k/=S),T=wo(wo(k)-1)<No||wo(r-p)<No?(r+p)/2:Math.atan2(_,w),$=e(T,A),C=$[0],M=$[1],E=C-t,I=M-n,P=b*E-y*I;(P*P/x>i||wo((y*E+b*I)/x-.5)>.3||s*f+l*h+c*g<o)&&(a(t,n,r,s,l,c,C,M,T,w/=S,_/=S,k,m,v),v.point(C,M),a(C,M,T,w,_,k,u,d,p,f,h,g,m,v))}}var i=.5,o=Math.cos(30*qo),s=16;return t.precision=function(e){return arguments.length?(s=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function rn(e){var t=nn(function(t,n){return e([t*Vo,n*Vo])});return function(e){return cn(t(e))}}function an(e){this.stream=e}function on(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function sn(e){return ln(function(){return e})()}function ln(e){function t(e){return e=s(e[0]*qo,e[1]*qo),[e[0]*p+l,c-e[1]*p]}function n(e){return e=s.invert((e[0]-l)/p,(c-e[1])/p),e&&[e[0]*Vo,e[1]*Vo]}function r(){s=Mt(o=pn(v,y,x),i);var e=i(g,m);return l=f-e[0]*p,c=h+e[1]*p,a()}function a(){return u&&(u.valid=!1,u=null),t}var i,o,s,l,c,u,d=nn(function(e,t){return e=i(e,t),[e[0]*p+l,c-e[1]*p]}),p=150,f=480,h=250,g=0,m=0,v=0,y=0,x=0,w=Bs,_=b,k=null,S=null;return t.stream=function(e){return u&&(u.valid=!1),u=cn(w(o,d(_(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(w=null==e?(k=e,Bs):Ht((k=+e)*qo),a()):k},t.clipExtent=function(e){return arguments.length?(S=e,_=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):b,a()):S},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],r()):[f,h]},t.center=function(e){return arguments.length?(g=e[0]%360*qo,m=e[1]%360*qo,r()):[g*Vo,m*Vo]},t.rotate=function(e){return arguments.length?(v=e[0]%360*qo,y=e[1]%360*qo,x=e.length>2?e[2]%360*qo:0,r()):[v*Vo,y*Vo,x*Vo]},lo.rebind(t,d,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&n,r()}}function cn(e){return on(e,function(t,n){e.point(t*qo,n*qo)})}function un(e,t){return[e,t]}function dn(e,t){return[e>Bo?e-Fo:e<-Bo?e+Fo:e,t]}function pn(e,t,n){return e?t||n?Mt(hn(e),gn(t,n)):hn(e):t||n?gn(t,n):dn}function fn(e){return function(t,n){return t+=e,[t>Bo?t-Fo:t<-Bo?t+Fo:t,n]}}function hn(e){var t=fn(e);return t.invert=fn(-e),t}function gn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r+s*a;return[Math.atan2(l*i-u*o,s*r-c*a),ne(u*i+l*o)]}var r=Math.cos(e),a=Math.sin(e),i=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*i-l*o;return[Math.atan2(l*i+c*o,s*r+u*a),ne(u*r-s*a)]},n}function mn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(a,i,o,s){var l=o*t;null!=a?(a=vn(n,a),i=vn(n,i),(o>0?a<i:a>i)&&(a+=o*Fo)):(a=e+o*Fo,i=e-.5*l);for(var c,u=a;o>0?u>i:u<i;u-=l)s.point((c=_t([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function vn(e,t){var n=mt(t);n[0]-=e,wt(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-No)%(2*Math.PI)}function yn(e,t,n){var r=lo.range(e,t-No,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function bn(e,t,n){var r=lo.range(e,t-No,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function xn(e){return e.source}function wn(e){return e.target}function _n(e,t,n,r){var a=Math.cos(t),i=Math.sin(t),o=Math.cos(r),s=Math.sin(r),l=a*Math.cos(e),c=a*Math.sin(e),u=o*Math.cos(n),d=o*Math.sin(n),p=2*Math.asin(Math.sqrt(oe(r-t)+a*o*oe(n-e))),f=1/Math.sin(p),h=p?function(e){var t=Math.sin(e*=p)*f,n=Math.sin(p-e)*f,r=n*l+t*u,a=n*c+t*d,o=n*i+t*s;return[Math.atan2(a,r)*Vo,Math.atan2(o,Math.sqrt(r*r+a*a))*Vo]}:function(){return[e*Vo,t*Vo]};return h.distance=p,h}function kn(){function e(e,a){var i=Math.sin(a*=qo),o=Math.cos(a),s=wo((e*=qo)-t),l=Math.cos(s);Ks+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*i-n*o*l)*s),n*i+r*o*l),t=e,n=i,r=o}var t,n,r;Zs.point=function(a,i){t=a*qo,n=Math.sin(i*=qo),r=Math.cos(i),Zs.point=e},Zs.lineEnd=function(){Zs.point=Zs.lineEnd=_}}function Sn(e,t){function n(t,n){var r=Math.cos(t),a=Math.cos(n),i=e(r*a);return[i*a*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),a=t(r),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(e*i,r*o),Math.asin(r&&n*i/r)]},n}function An(e,t){function n(e,t){o>0?t<-Uo+No&&(t=-Uo+No):t>Uo-No&&(t=Uo-No);var n=o/Math.pow(a(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),a=function(e){return Math.tan(Bo/4+e/2)},i=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(a(t)/a(e)),o=r*Math.pow(a(e),i)/i;return i?(n.invert=function(e,t){var n=o-t,r=J(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Uo]},n):$n}function Tn(e,t){function n(e,t){var n=i-t;return[n*Math.sin(a*e),i-n*Math.cos(a*e)]}var r=Math.cos(e),a=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),i=r/a+e;return wo(a)<No?un:(n.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/a,i-J(a)*Math.sqrt(e*e+n*n)]},n)}function $n(e,t){return[e,Math.log(Math.tan(Bo/4+t/2))]}function Cn(e){var t,n=sn(e),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=i.apply(n,arguments);if(o===n){if(t=null==e){var s=Bo*r(),l=a();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function Mn(e,t){return[Math.log(Math.tan(Bo/4+t/2)),-e]}function En(e){return e[0]}function In(e){return e[1]}function Pn(e){for(var t=e.length,n=[0,1],r=2,a=2;a<t;a++){for(;r>1&&ee(e[n[r-2]],e[n[r-1]],e[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function jn(e,t){return e[0]-t[0]||e[1]-t[1]}function Dn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ln(e,t,n,r){var a=e[0],i=n[0],o=t[0]-a,s=r[0]-i,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,p=(s*(l-c)-d*(a-i))/(d*o-s*u);return[a+p*o,l+p*u]}function On(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Rn(){ar(this),this.edge=this.site=this.circle=null}function Nn(e){var t=ul.pop()||new Rn;return t.site=e,t}function zn(e){Xn(e),sl.remove(e),ul.push(e),ar(e)}function Bn(e){var t=e.circle,n=t.x,r=t.cy,a={x:n,y:r},i=e.P,o=e.N,s=[e];zn(e);for(var l=i;l.circle&&wo(n-l.circle.x)<No&&wo(r-l.circle.cy)<No;)i=l.P,s.unshift(l),zn(l),l=i;s.unshift(l),Xn(l);for(var c=o;c.circle&&wo(n-c.circle.x)<No&&wo(r-c.circle.cy)<No;)o=c.N,s.push(c),zn(c),c=o;s.push(c),Xn(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],tr(c.edge,l.site,c.site,a);l=s[0],c=s[d-1],c.edge=Jn(l.site,c.site,null,a),Yn(l),Yn(c)}function Fn(e){for(var t,n,r,a,i=e.x,o=e.y,s=sl._;s;)if(r=Hn(s,o)-i,r>No)s=s.L;else{if(a=i-Un(s,o),!(a>No)){r>-No?(t=s.P,n=s):a>-No?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Nn(e);if(sl.insert(t,l),t||n){if(t===n)return Xn(t),n=Nn(t.site),sl.insert(l,n),l.edge=n.edge=Jn(t.site,l.site),Yn(t),void Yn(n);if(!n)return void(l.edge=Jn(t.site,l.site));Xn(t),Xn(n);var c=t.site,u=c.x,d=c.y,p=e.x-u,f=e.y-d,h=n.site,g=h.x-u,m=h.y-d,v=2*(p*m-f*g),y=p*p+f*f,b=g*g+m*m,x={x:(m*y-f*b)/v+u,y:(p*b-g*y)/v+d};tr(n.edge,c,h,x),l.edge=Jn(c,e,null,x),n.edge=Jn(e,h,null,x),Yn(t),Yn(n)}}function Hn(e,t){var n=e.site,r=n.x,a=n.y,i=a-t;if(!i)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/i-1/c,p=u/c;return d?(-p+Math.sqrt(p*p-2*d*(u*u/(-2*c)-l+c/2+a-i/2)))/d+r:(r+s)/2}function Un(e,t){var n=e.N;if(n)return Hn(n,t);var r=e.site;return r.y===t?r.x:1/0}function qn(e){this.site=e,this.edges=[]}function Vn(e){for(var t,n,r,a,i,o,s,l,c,u,d=e[0][0],p=e[1][0],f=e[0][1],h=e[1][1],g=ol,m=g.length;m--;)if(i=g[m],i&&i.prepare())for(s=i.edges,l=s.length,o=0;o<l;)u=s[o].end(),r=u.x,a=u.y,c=s[++o%l].start(),t=c.x,n=c.y,(wo(r-t)>No||wo(a-n)>No)&&(s.splice(o,0,new nr(er(i.site,u,wo(r-d)<No&&h-a>No?{x:d,y:wo(t-d)<No?n:h}:wo(a-h)<No&&p-r>No?{x:wo(n-h)<No?t:p,y:h}:wo(r-p)<No&&a-f>No?{x:p,y:wo(t-p)<No?n:f}:wo(a-f)<No&&r-d>No?{x:wo(n-f)<No?t:d,y:f}:null),i.site,null)),++l)}function Gn(e,t){return t.angle-e.angle}function Wn(){ar(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,a=e.site,i=n.site;if(r!==i){var o=a.x,s=a.y,l=r.x-o,c=r.y-s,u=i.x-o,d=i.y-s,p=2*(l*d-c*u);if(!(p>=-zo)){var f=l*l+c*c,h=u*u+d*d,g=(d*f-c*h)/p,m=(l*h-u*f)/p,d=m+s,v=dl.pop()||new Wn;v.arc=e,v.site=a,v.x=g+o,v.y=d+Math.sqrt(g*g+m*m),v.cy=d,e.circle=v;for(var y=null,b=cl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}cl.insert(y,v),y||(ll=v)}}}}function Xn(e){var t=e.circle;t&&(t.P||(ll=t.N),cl.remove(t),dl.push(t),ar(t),e.circle=null)}function Qn(e){for(var t,n=il,r=Ut(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)t=n[a],(!Kn(t,e)||!r(t)||wo(t.a.x-t.b.x)<No&&wo(t.a.y-t.b.y)<No)&&(t.a=t.b=null,n.splice(a,1))}function Kn(e,t){var n=e.b;if(n)return!0;var r,a,i=e.a,o=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,p=u.x,f=u.y,h=d.x,g=d.y,m=(p+h)/2,v=(f+g)/2;if(g===f){if(m<o||m>=s)return;if(p>h){if(i){if(i.y>=c)return}else i={x:m,y:l};n={x:m,y:c}}else{if(i){if(i.y<l)return}else i={x:m,y:c};n={x:m,y:l}}}else if(r=(p-h)/(g-f),a=v-r*m,r<-1||r>1)if(p>h){if(i){if(i.y>=c)return}else i={x:(l-a)/r,y:l};n={x:(c-a)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-a)/r,y:c};n={x:(l-a)/r,y:l}}else if(f<g){if(i){if(i.x>=s)return}else i={x:o,y:r*o+a};n={x:s,y:r*s+a}}else{if(i){if(i.x<o)return}else i={x:s,y:r*s+a};n={x:o,y:r*o+a}}return e.a=i,e.b=n,!0}function Zn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Jn(e,t,n,r){var a=new Zn(e,t);return il.push(a),n&&tr(a,e,t,n),r&&tr(a,t,e,r),ol[e.i].edges.push(new nr(a,e,t)),ol[t.i].edges.push(new nr(a,t,e)),a}function er(e,t,n){var r=new Zn(e,null);return r.a=t,r.b=n,il.push(r),r}function tr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function nr(e,t,n){var r=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function rr(){this._=null}function ar(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ir(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function sr(e){for(;e.L;)e=e.L;return e}function lr(e,t){var n,r,a,i=e.sort(cr).pop();for(il=[],ol=new Array(e.length),sl=new rr,cl=new rr;;)if(a=ll,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(ol[i.i]=new qn(i),Fn(i),n=i.x,r=i.y),i=e.pop();else{if(!a)break;Bn(a.arc)}t&&(Qn(t),Vn(t));var o={cells:ol,edges:il};return sl=cl=il=ol=null,o}function cr(e,t){return t.y-e.y||t.x-e.x}function ur(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function dr(e){return e.x}function pr(e){return e.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(e,t,n,r,a,i){if(!e(t,n,r,a,i)){var o=.5*(n+a),s=.5*(r+i),l=t.nodes;l[0]&&hr(e,l[0],n,r,o,s),l[1]&&hr(e,l[1],o,r,a,s),l[2]&&hr(e,l[2],n,s,o,i),l[3]&&hr(e,l[3],o,s,a,i)}}function gr(e,t,n,r,a,i,o){var s,l=1/0;return function c(e,u,d,p,f){if(!(u>i||d>o||p<r||f<a)){if(h=e.point){var h,g=t-e.x,m=n-e.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=t-y,a=n-y,i=t+y,o=n+y,s=h}}for(var b=e.nodes,x=.5*(u+p),w=.5*(d+f),_=t>=x,k=n>=w,S=k<<1|_,A=S+4;S<A;++S)if(e=b[3&S])switch(3&S){case 0:c(e,u,d,x,w);break;case 1:c(e,x,d,p,w);break;case 2:c(e,u,w,x,f);break;case 3:c(e,x,w,p,f)}}}(e,r,a,i,o),s}function mr(e,t){e=lo.rgb(e),t=lo.rgb(t);var n=e.r,r=e.g,a=e.b,i=t.r-n,o=t.g-r,s=t.b-a;return function(e){return"#"+we(Math.round(n+i*e))+we(Math.round(r+o*e))+we(Math.round(a+s*e))}}function vr(e,t){var n,r={},a={};for(n in e)n in t?r[n]=xr(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in r)a[n]=r[n](e);return a}}function yr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function br(e,t){var n,r,a,i=fl.lastIndex=hl.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=fl.exec(e))&&(r=hl.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:yr(n,r)})),i=hl.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function xr(e,t){for(var n,r=lo.interpolators.length;--r>=0&&!(n=lo.interpolators[r](e,t)););return n}function wr(e,t){var n,r=[],a=[],i=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(xr(e[n],t[n]));for(;n<i;++n)a[n]=e[n];for(;n<o;++n)a[n]=t[n];return function(e){for(n=0;n<s;++n)a[n]=r[n](e);return a}}function _r(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function kr(e){return function(t){return 1-e(1-t)}}function Sr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Ar(e){return e*e}function Tr(e){return e*e*e}function $r(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Cr(e){return function(t){return Math.pow(t,e)}}function Mr(e){return 1-Math.cos(e*Uo)}function Er(e){return Math.pow(2,10*(e-1))}function Ir(e){return 1-Math.sqrt(1-e*e)}function Pr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Fo*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Fo/t)}}function jr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Dr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Lr(e,t){e=lo.hcl(e),t=lo.hcl(t);var n=e.h,r=e.c,a=e.l,i=t.h-n,o=t.c-r,s=t.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return de(n+i*e,r+o*e,a+s*e)+""}}function Or(e,t){e=lo.hsl(e),t=lo.hsl(t);var n=e.h,r=e.s,a=e.l,i=t.h-n,o=t.s-r,s=t.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return ce(n+i*e,r+o*e,a+s*e)+""}}function Rr(e,t){e=lo.lab(e),t=lo.lab(t);var n=e.l,r=e.a,a=e.b,i=t.l-n,o=t.a-r,s=t.b-a;return function(e){return fe(n+i*e,r+o*e,a+s*e)+""}}function Nr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function zr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Fr(t),a=Br(t,n),i=Fr(Hr(n,t,-a))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Vo,this.translate=[e.e,e.f],this.scale=[r,i],this.skew=i?Math.atan2(a,i)*Vo:0}function Br(e,t){return e[0]*t[0]+e[1]*t[1]}function Fr(e){var t=Math.sqrt(Br(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Ur(e){return e.length?e.pop()+",":""}function qr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:yr(e[0],t[0])},{i:a-2,x:yr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Vr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Ur(n)+"rotate(",null,")")-2,x:yr(e,t)})):t&&n.push(Ur(n)+"rotate("+t+")")}function Gr(e,t,n,r){e!==t?r.push({i:n.push(Ur(n)+"skewX(",null,")")-2,x:yr(e,t)}):t&&n.push(Ur(n)+"skewX("+t+")")}function Wr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push(Ur(n)+"scale(",null,",",null,")");r.push({i:a-4,x:yr(e[0],t[0])},{i:a-2,x:yr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Ur(n)+"scale("+t+")")}function Yr(e,t){var n=[],r=[];return e=lo.transform(e),t=lo.transform(t),qr(e.translate,t.translate,n,r),Vr(e.rotate,t.rotate,n,r),Gr(e.skew,t.skew,n,r),Wr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,a=-1,i=r.length;++a<i;)n[(t=r[a]).i]=t.x(e);return n.join("")}}function Xr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Qr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Kr(e){for(var t=e.source,n=e.target,r=Jr(t,n),a=[t];t!==r;)t=t.parent,a.push(t);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function Zr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Jr(e,t){if(e===t)return e;for(var n=Zr(e),r=Zr(t),a=n.pop(),i=r.pop(),o=null;a===i;)o=a,a=n.pop(),i=r.pop();return o}function ea(e){e.fixed|=2}function ta(e){e.fixed&=-7}function na(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ra(e){e.fixed&=-5}function aa(e,t,n){var r=0,a=0;if(e.charge=0,!e.leaf)for(var i,o=e.nodes,s=o.length,l=-1;++l<s;)i=o[l],null!=i&&(aa(i,t,n),e.charge+=i.charge,r+=i.charge*i.cx,a+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,a+=c*e.point.y}e.cx=r/e.charge,e.cy=a/e.charge}function ia(e,t){return lo.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=da,e}function oa(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(a=e.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function sa(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(e=r.pop());)t(e)}function la(e){return e.children}function ca(e){return e.value}function ua(e,t){return t.value-e.value}function da(e){return lo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function pa(e){return e.x}function fa(e){return e.y}function ha(e,t,n){e.y0=t,e.y=n}function ga(e){return lo.range(e.length)}function ma(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function va(e){for(var t,n=1,r=0,a=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>a&&(r=n,a=t);return r}function ya(e){return e.reduce(ba,0)}function ba(e,t){return e+t[1]}function xa(e,t){return wa(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function wa(e,t){for(var n=-1,r=+e[0],a=(e[1]-r)/t,i=[];++n<=t;)i[n]=a*n+r;return i}function _a(e){return[lo.min(e),lo.max(e)]}function ka(e,t){return e.value-t.value}function Sa(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Aa(e,t){e._pack_next=t,t._pack_prev=e}function Ta(e,t){var n=t.x-e.x,r=t.y-e.y,a=e.r+t.r;return.999*a*a>n*n+r*r}function $a(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(c=n.length)){var n,r,a,i,o,s,l,c,u=1/0,d=-(1/0),p=1/0,f=-(1/0);if(n.forEach(Ca),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(a=n[1],a.x=a.r,a.y=0,t(a),c>2))for(i=n[2],Ia(r,a,i),t(i),Sa(r,i),r._pack_prev=i,Sa(i,a),a=r._pack_next,o=3;o<c;o++){Ia(r,a,i=n[o]);var h=0,g=1,m=1;for(s=a._pack_next;s!==a;s=s._pack_next,g++)if(Ta(s,i)){h=1;break}if(1==h)for(l=r._pack_prev;l!==s._pack_prev&&!Ta(l,i);l=l._pack_prev,m++);h?(g<m||g==m&&a.r<r.r?Aa(r,a=s):Aa(r=l,a),o--):(Sa(r,i),a=i,t(i))}var v=(u+d)/2,y=(p+f)/2,b=0;for(o=0;o<c;o++)i=n[o],i.x-=v,i.y-=y,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,n.forEach(Ma)}}function Ca(e){e._pack_next=e._pack_prev=e}function Ma(e){delete e._pack_next,delete e._pack_prev}function Ea(e,t,n,r){var a=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,a)for(var i=-1,o=a.length;++i<o;)Ea(a[i],t,n,r)}function Ia(e,t,n){var r=e.r+n.r,a=t.x-e.x,i=t.y-e.y;if(r&&(a||i)){var o=t.r+n.r,s=a*a+i*i;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*a+c*i,n.y=e.y+l*i-c*a}else n.x=e.x+r,n.y=e.y}function Pa(e,t){return e.parent==t.parent?1:2}function ja(e){var t=e.children;return t.length?t[0]:e.t}function Da(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function La(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Oa(e){for(var t,n=0,r=0,a=e.children,i=a.length;--i>=0;)t=a[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ra(e,t,n){return e.a.parent===t.parent?e.a:n}function Na(e){return 1+lo.max(e,function(e){return e.y})}function za(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ba(e){var t=e.children;return t&&t.length?Ba(t[0]):e}function Fa(e){var t,n=e.children;return n&&(t=n.length)?Fa(n[t-1]):e}function Ha(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ua(e,t){var n=e.x+t[3],r=e.y+t[0],a=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return a<0&&(n+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function qa(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Va(e){return e.rangeExtent?e.rangeExtent():qa(e.range())}function Ga(e,t,n,r){var a=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(a(e))}}function Wa(e,t){var n,r=0,a=e.length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function Ya(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Al}function Xa(e,t,n,r){var a=[],i=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)a.push(n(e[o-1],e[o])),i.push(r(t[o-1],t[o]));return function(t){var n=lo.bisect(e,t,1,s)-1;return i[n](a[n](t))}}function Qa(e,t,n,r){function a(){var a=Math.min(e.length,t.length)>2?Xa:Ga,l=r?Qr:Xr;return o=a(e,t,l,n),s=a(t,e,l,xr),i}function i(e){return o(e)}var o,s;return i.invert=function(e){return s(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},i.range=function(e){return arguments.length?(t=e,a()):t},i.rangeRound=function(e){return i.range(e).interpolate(Nr)},i.clamp=function(e){return arguments.length?(r=e,a()):r},i.interpolate=function(e){return arguments.length?(n=e,a()):n},i.ticks=function(t){return ei(e,t)},i.tickFormat=function(t,n){return ti(e,t,n)},i.nice=function(t){return Za(e,t),a()},i.copy=function(){return Qa(e,t,n,r)},a()}function Ka(e,t){return lo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Za(e,t){return Wa(e,Ya(Ja(e,t)[2])),Wa(e,Ya(Ja(e,t)[2])),e}function Ja(e,t){null==t&&(t=10);var n=qa(e),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function ei(e,t){return lo.range.apply(lo,Ja(e,t))}function ti(e,t,n){var r=Ja(e,t);if(n){var a=fs.exec(n);if(a.shift(),"s"===a[8]){var i=lo.formatPrefix(Math.max(wo(r[0]),wo(r[1])));return a[7]||(a[7]="."+ni(i.scale(r[2]))),a[8]="f",n=lo.format(a.join("")),function(e){return n(i.scale(e))+i.symbol}}a[7]||(a[7]="."+ri(a[8],r)),n=a.join("")}else n=",."+ni(r[2])+"f";return lo.format(n)}function ni(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ri(e,t){var n=ni(t[2]);return e in Tl?Math.abs(n-ni(Math.max(wo(t[0]),wo(t[1]))))+ +("e"!==e):n-2*("%"===e)}function ai(e,t,n,r){function a(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function i(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(a(t))}return o.invert=function(t){return i(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(a)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(a)),o):t},o.nice=function(){var t=Wa(r.map(a),n?Math:Cl);return e.domain(t),r=t.map(i),o},o.ticks=function(){var e=qa(r),o=[],s=e[0],l=e[1],c=Math.floor(a(s)),u=Math.ceil(a(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var p=1;p<d;p++)o.push(i(c)*p);o.push(i(c))}else for(o.push(i(c));c++<u;)for(var p=d-1;p>0;p--)o.push(i(c)*p);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.tickFormat=function(e,n){if(!arguments.length)return $l;arguments.length<2?n=$l:"function"!=typeof n&&(n=lo.format(n));var r=Math.max(1,t*e/o.ticks().length);return function(e){var o=e/i(Math.round(a(e)));return o*t<t-.5&&(o*=t),o<=r?n(e):""}},o.copy=function(){return ai(e.copy(),t,n,r)},Ka(o,e)}function ii(e,t,n){function r(t){return e(a(t))}var a=oi(t),i=oi(1/t);return r.invert=function(t){return i(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(a)),r):n},r.ticks=function(e){return ei(n,e)},r.tickFormat=function(e,t){return ti(n,e,t)},r.nice=function(e){return r.domain(Za(n,e))},r.exponent=function(o){return arguments.length?(a=oi(t=o),i=oi(1/t),e.domain(n.map(a)),r):t},r.copy=function(){return ii(e.copy(),t,n)},Ka(r,e)}function oi(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function si(e,t){function n(n){return i[((a.get(n)||("range"===t.t?a.set(n,e.push(n)):NaN))-1)%i.length]}function r(t,n){return lo.range(e.length).map(function(e){return t+n*e})}var a,i,o;return n.domain=function(r){if(!arguments.length)return e;e=[],a=new u;for(var i,o=-1,s=r.length;++o<s;)a.has(i=r[o])||a.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,o=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],c=a[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+s);return i=r(l+u*s/2,u),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],c=a[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+s)|0;return i=r(l+Math.round(u*s/2+(c-l-(e.length-1+s)*u)/2),u),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=a[1]<a[0],u=a[c-0],d=a[1-c],p=(d-u)/(e.length-s+2*l);return i=r(u+p*l,p),c&&i.reverse(),o=p*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=a[1]<a[0],u=a[c-0],d=a[1-c],p=Math.floor((d-u)/(e.length-s+2*l));return i=r(u+Math.round((d-u-(e.length-s)*p)/2),p),c&&i.reverse(),o=Math.round(p*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return qa(t.a[0])},n.copy=function(){return si(e,t)},n.domain(e)}function li(e,t){function n(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=lo.quantile(e,n/r);return o}function o(e){if(!isNaN(e=+e))return t[lo.bisect(s,e)]}var s;return o.domain=function(t){return arguments.length?(e=t.map(a).filter(i).sort(r),n()):e},o.range=function(e){return arguments.length?(t=e,n()):t},o.quantiles=function(){return s},o.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},o.copy=function(){return li(e,t)},n()}function ci(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function a(){return i=n.length/(t-e),o=n.length-1,r}var i,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},r.range=function(e){return arguments.length?(n=e,a()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/i+e,[t,t+1/i]},r.copy=function(){return ci(e,t,n)},a()}function ui(e,t){function n(n){if(n<=n)return t[lo.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ui(e,t)},n}function di(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ei(e,t)},t.tickFormat=function(t,n){return ti(e,t,n)},t.copy=function(){return di(e)},t}function pi(){return 0}function fi(e){return e.innerRadius}function hi(e){return e.outerRadius}function gi(e){return e.startAngle}function mi(e){return e.endAngle}function vi(e){return e&&e.padAngle}function yi(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function bi(e,t,n,r,a){var i=e[0]-t[0],o=e[1]-t[1],s=(a?r:-r)/Math.sqrt(i*i+o*o),l=s*o,c=-s*i,u=e[0]+l,d=e[1]+c,p=t[0]+l,f=t[1]+c,h=(u+p)/2,g=(d+f)/2,m=p-u,v=f-d,y=m*m+v*v,b=n-r,x=u*f-p*d,w=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),_=(x*v-m*w)/y,k=(-x*m-v*w)/y,S=(x*v+m*w)/y,A=(-x*m+v*w)/y,T=_-h,$=k-g,C=S-h,M=A-g;return T*T+$*$>C*C+M*M&&(_=S,k=A),[[_-l,k-c],[_*n/b,k*n/b]]}function xi(e){function t(t){function o(){c.push("M",i(e(u),s))}for(var l,c=[],u=[],d=-1,p=t.length,f=$e(n),h=$e(r);++d<p;)a.call(this,l=t[d],d)?u.push([+f.call(this,l,d),+h.call(this,l,d)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=En,r=In,a=Et,i=wi,o=i.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=Dl.get(e)||wi).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function wi(e){return e.length>1?e.join("L"):e+"Z"}function _i(e){return e.join("L")+"Z"}function ki(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")}function Si(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("V",(r=e[t])[1],"H",r[0]);return a.join("")}function Ai(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r=e[t])[0],"V",r[1]);return a.join("")}function Ti(e,t){return e.length<4?wi(e):e[1]+Mi(e.slice(1,-1),Ei(e,t))}function $i(e,t){return e.length<3?_i(e):e[0]+Mi((e.push(e[0]),e),Ei([e[e.length-2]].concat(e,[e[1]]),t))}function Ci(e,t){return e.length<3?wi(e):e[0]+Mi(e,Ei(e,t))}function Mi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return wi(e);var n=e.length!=t.length,r="",a=e[0],i=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=e[1],l=2),t.length>1){s=t[1],i=e[l],l++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=e[l],s=t[c],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var u=e[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Ei(e,t){for(var n,r=[],a=(1-t)/2,i=e[0],o=e[1],s=1,l=e.length;++s<l;)n=i,i=o,o=e[s],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function Ii(e){if(e.length<3)return wi(e);var t=1,n=e.length,r=e[0],a=r[0],i=r[1],o=[a,a,a,(r=e[1])[0]],s=[i,i,i,r[1]],l=[a,",",i,"L",Li(Rl,o),",",Li(Rl,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Oi(l,o,s);return e.pop(),l.push("L",r),l.join("")}function Pi(e){if(e.length<4)return wi(e);for(var t,n=[],r=-1,a=e.length,i=[0],o=[0];++r<3;)t=e[r],i.push(t[0]),o.push(t[1]);for(n.push(Li(Rl,i)+","+Li(Rl,o)),--r;++r<a;)t=e[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Oi(n,i,o);return n.join("")}function ji(e){for(var t,n,r=-1,a=e.length,i=a+4,o=[],s=[];++r<4;)n=e[r%a],o.push(n[0]),s.push(n[1]);for(t=[Li(Rl,o),",",Li(Rl,s)],--r;++r<i;)n=e[r%a],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Oi(t,o,s);return t.join("")}function Di(e,t){var n=e.length-1;if(n)for(var r,a,i=e[0][0],o=e[0][1],s=e[n][0]-i,l=e[n][1]-o,c=-1;++c<=n;)r=e[c],a=c/n,r[0]=t*r[0]+(1-t)*(i+a*s),r[1]=t*r[1]+(1-t)*(o+a*l);return Ii(e)}function Li(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Oi(e,t,n){e.push("C",Li(Ll,t),",",Li(Ll,n),",",Li(Ol,t),",",Li(Ol,n),",",Li(Rl,t),",",Li(Rl,n))}function Ri(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ni(e){for(var t=0,n=e.length-1,r=[],a=e[0],i=e[1],o=r[0]=Ri(a,i);++t<n;)r[t]=(o+(o=Ri(a=i,i=e[t+1])))/2;return r[t]=o,r}function zi(e){for(var t,n,r,a,i=[],o=Ni(e),s=-1,l=e.length-1;++s<l;)t=Ri(e[s],e[s+1]),wo(t)<No?o[s]=o[s+1]=0:(n=o[s]/t,r=o[s+1]/t,a=n*n+r*r,a>9&&(a=3*t/Math.sqrt(a),o[s]=a*n,o[s+1]=a*r));for(s=-1;++s<=l;)a=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),i.push([a||0,o[s]*a||0]);return i}function Bi(e){return e.length<3?wi(e):e[0]+Mi(e,zi(e));
}function Fi(e){for(var t,n,r,a=-1,i=e.length;++a<i;)t=e[a],n=t[0],r=t[1]-Uo,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Hi(e){function t(t){function l(){g.push("M",s(e(v),d),u,c(e(m.reverse()),d),"Z")}for(var p,f,h,g=[],m=[],v=[],y=-1,b=t.length,x=$e(n),w=$e(a),_=n===r?function(){return f}:$e(r),k=a===i?function(){return h}:$e(i);++y<b;)o.call(this,p=t[y],y)?(m.push([f=+x.call(this,p,y),h=+w.call(this,p,y)]),v.push([+_.call(this,p,y),+k.call(this,p,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=En,r=En,a=0,i=In,o=Et,s=wi,l=s.key,c=s,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(a=i=e,t):i},t.y0=function(e){return arguments.length?(a=e,t):a},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Dl.get(e)||wi).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ui(e){return e.radius}function qi(e){return[e.x,e.y]}function Vi(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Uo;return[n*Math.cos(r),n*Math.sin(r)]}}function Gi(){return 64}function Wi(){return"circle"}function Yi(e){var t=Math.sqrt(e/Bo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Xi(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Qi(e,t,n){return To(e,ql),e.namespace=t,e.id=n,e}function Ki(e,t,n,r){var a=e.id,i=e.namespace;return q(e,"function"==typeof n?function(e,o,s){e[i][a].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[i][a].tween.set(t,n)}))}function Zi(e){return null==e&&(e=""),function(){this.textContent=e}}function Ji(e){return null==e?"__transition__":"__transition_"+e+"__"}function eo(e,t,n,r,a){function i(e){var t=g.delay;return c.t=t+l,t<=e?o(e-t):void(c.c=o)}function o(n){var a=h.active,i=h[a];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[a],i.event&&i.event.interrupt.call(e,e.__data__,i.index));for(var o in h)if(+o<r){var u=h[o];u.timer.c=null,u.timer.t=NaN,--h.count,delete h[o]}c.c=s,Pe(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),h.active=r,g.event&&g.event.start.call(e,e.__data__,t),f=[],g.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&f.push(r)}),p=g.ease,d=g.duration}function s(a){for(var i=a/d,o=p(i),s=f.length;s>0;)f[--s].call(e,o);if(i>=1)return g.event&&g.event.end.call(e,e.__data__,t),--h.count?delete h[r]:delete e[n],1}var l,c,d,p,f,h=e[n]||(e[n]={active:0,count:0}),g=h[r];g||(l=a.time,c=Pe(i,0,l),g=h[r]={tween:new u,time:l,timer:c,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++h.count)}function to(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function no(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function ro(e){return e.toISOString()}function ao(e,t,n){function r(t){return e(t)}function a(e,n){var r=e[1]-e[0],a=r/n,i=lo.bisect(Jl,a);return i==Jl.length?[t.year,Ja(e.map(function(e){return e/31536e6}),n)[2]]:i?t[a/Jl[i-1]<Jl[i]/a?i-1:i]:[nc,Ja(e,n)[2]]}return r.invert=function(t){return io(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(io)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,io(+n+1),t).length}var i=r.domain(),o=qa(i),s=null==e?a(o,10):"number"==typeof e&&a(o,e);return s&&(e=s[0],t=s[1]),r.domain(Wa(i,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=io(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=io(+t+1);return t}}:e))},r.ticks=function(e,t){var n=qa(r.domain()),i=null==e?a(n,10):"number"==typeof e?a(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],io(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ao(e.copy(),t,n)},Ka(r,e)}function io(e){return new Date(e)}function oo(e){return JSON.parse(e.responseText)}function so(e){var t=po.createRange();return t.selectNode(po.body),t.createContextualFragment(e.responseText)}var lo={version:"3.5.17"},co=[].slice,uo=function(e){return co.call(e)},po=this.document;if(po)try{uo(po.documentElement.childNodes)[0].nodeType}catch(fo){uo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),po)try{po.createElement("DIV").style.setProperty("opacity",0,"")}catch(ho){var go=this.Element.prototype,mo=go.setAttribute,vo=go.setAttributeNS,yo=this.CSSStyleDeclaration.prototype,bo=yo.setProperty;go.setAttribute=function(e,t){mo.call(this,e,t+"")},go.setAttributeNS=function(e,t,n){vo.call(this,e,t,n+"")},yo.setProperty=function(e,t,n){bo.call(this,e,t+"",n)}}lo.ascending=r,lo.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},lo.min=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&n>r&&(n=r)}return n},lo.max=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&r>n&&(n=r)}return n},lo.extent=function(e,t){var n,r,a,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},lo.sum=function(e,t){var n,r=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)i(n=+e[o])&&(r+=n);else for(;++o<a;)i(n=+t.call(e,e[o],o))&&(r+=n);return r},lo.mean=function(e,t){var n,r=0,o=e.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)i(n=a(e[s]))?r+=n:--l;else for(;++s<o;)i(n=a(t.call(e,e[s],s)))?r+=n:--l;if(l)return r/l},lo.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a},lo.median=function(e,t){var n,o=[],s=e.length,l=-1;if(1===arguments.length)for(;++l<s;)i(n=a(e[l]))&&o.push(n);else for(;++l<s;)i(n=a(t.call(e,e[l],l)))&&o.push(n);if(o.length)return lo.quantile(o.sort(r),.5)},lo.variance=function(e,t){var n,r,o=e.length,s=0,l=0,c=-1,u=0;if(1===arguments.length)for(;++c<o;)i(n=a(e[c]))&&(r=n-s,s+=r/++u,l+=r*(n-s));else for(;++c<o;)i(n=a(t.call(e,e[c],c)))&&(r=n-s,s+=r/++u,l+=r*(n-s));if(u>1)return l/(u-1)},lo.deviation=function(){var e=lo.variance.apply(this,arguments);return e?Math.sqrt(e):e};var xo=o(r);lo.bisectLeft=xo.left,lo.bisect=lo.bisectRight=xo.right,lo.bisector=function(e){return o(1===e.length?function(t,n){return r(e(t),n)}:e)},lo.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,a,i=n-t;i;)a=Math.random()*i--|0,r=e[i+t],e[i+t]=e[a+t],e[a+t]=r;return e},lo.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},lo.pairs=function(e){for(var t,n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=[t=a,a=e[++n]];return i},lo.transpose=function(e){if(!(a=e.length))return[];for(var t=-1,n=lo.min(e,s),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r},lo.zip=function(){return lo.transpose(arguments)},lo.keys=function(e){var t=[];for(var n in e)t.push(n);return t},lo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},lo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},lo.merge=function(e){for(var t,n,r,a=e.length,i=-1,o=0;++i<a;)o+=e[i].length;for(n=new Array(o);--a>=0;)for(r=e[a],t=r.length;--t>=0;)n[--o]=r[t];return n};var wo=Math.abs;lo.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,a=[],i=l(wo(n)),o=-1;if(e*=i,t*=i,n*=i,n<0)for(;(r=e+n*++o)>t;)a.push(r/i);else for(;(r=e+n*++o)<t;)a.push(r/i);return a},lo.map=function(e,t){var n=new u;if(e instanceof u)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,a=-1,i=e.length;if(1===arguments.length)for(;++a<i;)n.set(a,e[a]);else for(;++a<i;)n.set(t.call(e,r=e[a],a),r)}else for(var o in e)n.set(o,e[o]);return n};var _o="__proto__",ko="\0";c(u,{has:f,get:function(e){return this._[d(e)]},set:function(e,t){return this._[d(e)]=t},remove:h,keys:g,values:function ic(){var ic=[];for(var e in this._)ic.push(this._[e]);return ic},entries:function oc(){var oc=[];for(var e in this._)oc.push({key:p(e),value:this._[e]});return oc},size:m,empty:v,forEach:function(e){for(var t in this._)e.call(this,p(t),this._[t])}}),lo.nest=function(){function e(t,o,s){if(s>=i.length)return r?r.call(a,o):n?o.sort(n):o;for(var l,c,d,p,f=-1,h=o.length,g=i[s++],m=new u;++f<h;)(p=m.get(l=g(c=o[f])))?p.push(c):m.set(l,[c]);return t?(c=t(),d=function(n,r){c.set(n,e(t,r,s))}):(c={},d=function(n,r){c[n]=e(t,r,s)}),m.forEach(d),c}function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach(function(e,a){r.push({key:e,values:t(a,n)})}),a?r.sort(function(e,t){return a(e.key,t.key)}):r}var n,r,a={},i=[],o=[];return a.map=function(t,n){return e(n,t,0)},a.entries=function(n){return t(e(lo.map,n,0),0)},a.key=function(e){return i.push(e),a},a.sortKeys=function(e){return o[i.length-1]=e,a},a.sortValues=function(e){return n=e,a},a.rollup=function(e){return r=e,a},a},lo.set=function(e){var t=new y;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},c(y,{has:f,add:function(e){return this._[d(e+="")]=!0,e},remove:h,values:g,size:m,empty:v,forEach:function(e){for(var t in this._)e.call(this,p(t))}}),lo.behavior={},lo.rebind=function(e,t){for(var n,r=1,a=arguments.length;++r<a;)e[n=arguments[r]]=x(e,t,t[n]);return e};var So=["webkit","ms","moz","Moz","o","O"];lo.dispatch=function(){for(var e=new k,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=S(e);return e},k.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},lo.event=null,lo.requote=function(e){return e.replace(Ao,"\\$&")};var Ao=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,To={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},$o=function(e,t){return t.querySelector(e)},Co=function(e,t){return t.querySelectorAll(e)},Mo=function(e,t){var n=e.matches||e[w(e,"matchesSelector")];return(Mo=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&($o=function(e,t){return Sizzle(e,t)[0]||null},Co=Sizzle,Mo=Sizzle.matchesSelector),lo.selection=function(){return lo.select(po.documentElement)};var Eo=lo.selection.prototype=[];Eo.select=function(e){var t,n,r,a,i=[];e=M(e);for(var o=-1,s=this.length;++o<s;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(t.push(n=e.call(a,a.__data__,l,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return C(i)},Eo.selectAll=function(e){var t,n,r=[];e=E(e);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(t=uo(e.call(n,n.__data__,s,a))),t.parentNode=n);return C(r)};var Io="http://www.w3.org/1999/xhtml",Po={svg:"http://www.w3.org/2000/svg",xhtml:Io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};lo.ns={prefix:Po,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Po.hasOwnProperty(n)?{space:Po[n],local:e}:e}},Eo.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=lo.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(I(t,e[t]));return this}return this.each(I(e,t))},Eo.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=D(e)).length,a=-1;if(t=n.classList){for(;++a<r;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<r;)if(!j(e[a]).test(t))return!1;return!0}for(t in e)this.each(L(t,e[t]));return this}return this.each(L(e,t))},Eo.style=function(e,t,r){var a=arguments.length;if(a<3){if("string"!=typeof e){a<2&&(t="");for(r in e)this.each(R(r,e[r],t));return this}if(a<2){var i=this.node();return n(i).getComputedStyle(i,null).getPropertyValue(e)}r=""}return this.each(R(e,t,r))},Eo.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},Eo.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Eo.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Eo.append=function(e){return e=z(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Eo.insert=function(e,t){return e=z(e),t=M(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Eo.remove=function(){return this.each(B)},Eo.data=function(e,t){function n(e,n){var r,a,i,o=e.length,d=n.length,p=Math.min(o,d),f=new Array(d),h=new Array(d),g=new Array(o);if(t){var m,v=new u,y=new Array(o);for(r=-1;++r<o;)(a=e[r])&&(v.has(m=t.call(a,a.__data__,r))?g[r]=a:v.set(m,a),y[r]=m);for(r=-1;++r<d;)(a=v.get(m=t.call(n,i=n[r],r)))?a!==!0&&(f[r]=a,a.__data__=i):h[r]=F(i),v.set(m,!0);for(r=-1;++r<o;)r in y&&v.get(y[r])!==!0&&(g[r]=e[r])}else{for(r=-1;++r<p;)a=e[r],i=n[r],a?(a.__data__=i,f[r]=a):h[r]=F(i);for(;r<d;++r)h[r]=F(n[r]);for(;r<o;++r)g[r]=e[r]}h.update=f,h.parentNode=f.parentNode=g.parentNode=e.parentNode,s.push(h),l.push(f),c.push(g)}var r,a,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++i<o;)(a=r[i])&&(e[i]=a.__data__);return e}var s=V([]),l=C([]),c=C([]);if("function"==typeof e)for(;++i<o;)n(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<o;)n(r=this[i],e);return l.enter=function(){return s},l.exit=function(){return c},l},Eo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Eo.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=H(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return C(a)},Eo.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Eo.sort=function(e){e=U.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Eo.each=function(e){return q(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Eo.call=function(e){var t=uo(arguments);return e.apply(t[0]=this,t),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},Eo.size=function(){var e=0;return q(this,function(){++e}),e};var jo=[];lo.selection.enter=V,lo.selection.enter.prototype=jo,jo.append=Eo.append,jo.empty=Eo.empty,jo.node=Eo.node,jo.call=Eo.call,jo.size=Eo.size,jo.select=function(e){for(var t,n,r,a,i,o=[],s=-1,l=this.length;++s<l;){r=(a=this[s]).update,o.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(i=a[c])?(t.push(r[c]=n=e.call(a.parentNode,i.__data__,c,s)),n.__data__=i.__data__):t.push(null)}return C(o)},jo.insert=function(e,t){return arguments.length<2&&(t=G(this)),Eo.insert.call(this,e,t)},lo.select=function(t){var n;return"string"==typeof t?(n=[$o(t,po)],n.parentNode=po.documentElement):(n=[t],n.parentNode=e(t)),C([n])},lo.selectAll=function(e){var t;return"string"==typeof e?(t=uo(Co(e,po)),t.parentNode=po.documentElement):(t=uo(e),t.parentNode=null),C([t])},Eo.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(W(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(W(e,t,n))};var Do=lo.map({mouseenter:"mouseover",mouseleave:"mouseout"});po&&Do.forEach(function(e){"on"+e in po&&Do.remove(e)});var Lo,Oo=0;lo.mouse=function(e){return K(e,T())};var Ro=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;lo.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=T().changedTouches),t)for(var r,a=0,i=t.length;a<i;++a)if((r=t[a]).identifier===n)return K(e,r)},lo.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,n,i,o){return function(){function s(){var e,n,r=t(p,g);r&&(e=r[0]-b[0],n=r[1]-b[1],h|=e|n,b=r,f({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function l(){t(p,g)&&(v.on(i+m,null).on(o+m,null),y(h),f({type:"dragend"}))}var c,u=this,d=lo.event.target.correspondingElement||lo.event.target,p=u.parentNode,f=r.of(u,arguments),h=0,g=e(),m=".drag"+(null==g?"":"-"+g),v=lo.select(n(d)).on(i+m,s).on(o+m,l),y=Q(d),b=t(p,g);a?(c=a.apply(u,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],f({type:"dragstart"})}}var r=$(e,"drag","dragstart","dragend"),a=null,i=t(_,lo.mouse,n,"mousemove","mouseup"),o=t(Z,lo.touch,b,"touchmove","touchend");return e.origin=function(t){return arguments.length?(a=t,e):a},lo.rebind(e,r,"on")},lo.touches=function(e,t){return arguments.length<2&&(t=T().touches),t?uo(t).map(function(t){var n=K(e,t);return n.identifier=t.identifier,n}):[]};var No=1e-6,zo=No*No,Bo=Math.PI,Fo=2*Bo,Ho=Fo-No,Uo=Bo/2,qo=Bo/180,Vo=180/Bo,Go=Math.SQRT2,Wo=2,Yo=4;lo.interpolateZoom=function(e,t){var n,r,a=e[0],i=e[1],o=e[2],s=t[0],l=t[1],c=t[2],u=s-a,d=l-i,p=u*u+d*d;if(p<zo)r=Math.log(c/o)/Go,n=function(e){return[a+e*u,i+e*d,o*Math.exp(Go*e*r)]};else{var f=Math.sqrt(p),h=(c*c-o*o+Yo*p)/(2*o*Wo*f),g=(c*c-o*o-Yo*p)/(2*c*Wo*f),m=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Go,n=function(e){var t=e*r,n=ae(m),s=o/(Wo*f)*(n*ie(Go*t+m)-re(m));return[a+s*u,i+s*d,o*n/ae(Go*t+m)]}}return n.duration=1e3*r,n},lo.behavior.zoom=function(){function e(e){e.on(I,d).on(Qo+".zoom",f).on("dblclick.zoom",h).on(D,p)}function t(e){return[(e[0]-S.x)/S.k,(e[1]-S.y)/S.k]}function r(e){return[e[0]*S.k+S.x,e[1]*S.k+S.y]}function a(e){S.k=Math.max(C[0],Math.min(C[1],e))}function i(e,t){t=r(t),S.x+=e[0]-t[0],S.y+=e[1]-t[1]}function o(t,n,r,o){t.__chart__={x:S.x,y:S.y,k:S.k},a(Math.pow(2,o)),i(m=n,r),t=lo.select(t),M>0&&(t=t.transition().duration(M)),t.call(e.event)}function s(){w&&w.domain(x.range().map(function(e){return(e-S.x)/S.k}).map(x.invert)),k&&k.domain(_.range().map(function(e){return(e-S.y)/S.k}).map(_.invert))}function l(e){E++||e({type:"zoomstart"})}function c(e){s(),e({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function u(e){--E||(e({type:"zoomend"}),m=null)}function d(){function e(){s=1,i(lo.mouse(a),p),c(o)}function r(){d.on(P,null).on(j,null),f(s),u(o)}var a=this,o=L.of(a,arguments),s=0,d=lo.select(n(a)).on(P,e).on(j,r),p=t(lo.mouse(a)),f=Q(a);Ul.call(a),l(o)}function p(){function e(){var e=lo.touches(h);return f=S.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=t(e))}),e}function n(){var t=lo.event.target;lo.select(t).on(x,r).on(w,s),_.push(t);for(var n=lo.event.changedTouches,a=0,i=n.length;a<i;++a)m[n[a].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(c-b<500){var u=l[0];o(h,u,m[u.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),A()}b=c}else if(l.length>1){var u=l[0],d=l[1],p=u[0]-d[0],f=u[1]-d[1];v=p*p+f*f}}function r(){var e,t,n,r,o=lo.touches(h);Ul.call(h);for(var s=0,l=o.length;s<l;++s,r=null)if(n=o[s],r=m[n.identifier]){if(t)break;e=n,t=r}if(r){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=v&&Math.sqrt(u/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],a(d*f)}b=null,i(e,t),c(g)}function s(){if(lo.event.touches.length){for(var t=lo.event.changedTouches,n=0,r=t.length;n<r;++n)delete m[t[n].identifier];for(var a in m)return void e()}lo.selectAll(_).on(y,null),k.on(I,d).on(D,p),T(),u(g)}var f,h=this,g=L.of(h,arguments),m={},v=0,y=".zoom-"+lo.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,_=[],k=lo.select(h),T=Q(h);n(),l(g),k.on(I,null).on(D,n)}function f(){var e=L.of(this,arguments);y?clearTimeout(y):(Ul.call(this),g=t(m=v||lo.mouse(this)),l(e)),y=setTimeout(function(){y=null,u(e)},50),A(),a(Math.pow(2,.002*Xo())*S.k),i(m,g),c(e)}function h(){var e=lo.mouse(this),n=Math.log(S.k)/Math.LN2;o(this,e,t(e),lo.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,m,v,y,b,x,w,_,k,S={x:0,y:0,k:1},T=[960,500],C=Ko,M=250,E=0,I="mousedown.zoom",P="mousemove.zoom",j="mouseup.zoom",D="touchstart.zoom",L=$(e,"zoomstart","zoom","zoomend");return Qo||(Qo="onwheel"in po?(Xo=function(){return-lo.event.deltaY*(lo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in po?(Xo=function(){return lo.event.wheelDelta},"mousewheel"):(Xo=function(){return-lo.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=L.of(this,arguments),t=S;Fl?lo.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],a=m?m[0]:n/2,i=m?m[1]:r/2,o=lo.interpolateZoom([(a-S.x)/S.k,(i-S.y)/S.k,n/S.k],[(a-t.x)/t.k,(i-t.y)/t.k,n/t.k]);return function(t){var r=o(t),s=n/r[2];this.__chart__=S={x:a-r[0]*s,y:i-r[1]*s,k:s},c(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=S,l(e),c(e),u(e))})},e.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},s(),e):[S.x,S.y]},e.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:null},a(+t),s(),e):S.k},e.scaleExtent=function(t){return arguments.length?(C=null==t?Ko:[+t[0],+t[1]],e):C},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(T=t&&[+t[0],+t[1]],e):T},e.duration=function(t){return arguments.length?(M=+t,e):M},e.x=function(t){return arguments.length?(w=t,x=t.copy(),S={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(k=t,_=t.copy(),S={x:0,y:0,k:1},e):k},lo.rebind(e,L,"on")};var Xo,Qo,Ko=[0,1/0];lo.color=se,se.prototype.toString=function(){return this.rgb()+""},lo.hsl=le;var Zo=le.prototype=new se;Zo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new le(this.h,this.s,this.l/e)},Zo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new le(this.h,this.s,e*this.l)},Zo.rgb=function(){return ce(this.h,this.s,this.l)},lo.hcl=ue;var Jo=ue.prototype=new se;Jo.brighter=function(e){return new ue(this.h,this.c,Math.min(100,this.l+es*(arguments.length?e:1)))},Jo.darker=function(e){return new ue(this.h,this.c,Math.max(0,this.l-es*(arguments.length?e:1)))},Jo.rgb=function(){return de(this.h,this.c,this.l).rgb()},lo.lab=pe;var es=18,ts=.95047,ns=1,rs=1.08883,as=pe.prototype=new se;as.brighter=function(e){return new pe(Math.min(100,this.l+es*(arguments.length?e:1)),this.a,this.b)},as.darker=function(e){return new pe(Math.max(0,this.l-es*(arguments.length?e:1)),this.a,this.b)},as.rgb=function(){return fe(this.l,this.a,this.b)},lo.rgb=ye;var is=ye.prototype=new se;is.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,a=30;return t||n||r?(t&&t<a&&(t=a),n&&n<a&&(n=a),r&&r<a&&(r=a),new ye(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ye(a,a,a)},is.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ye(e*this.r,e*this.g,e*this.b)},is.hsl=function(){return ke(this.r,this.g,this.b)},is.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var os=lo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});os.forEach(function(e,t){os.set(e,be(t))}),lo.functor=$e,lo.xhr=Ce(b),lo.dsv=function(e,t){function n(e,n,i){arguments.length<3&&(i=n,n=null);var o=Me(e,t,null==n?r:a(n),i);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:a(e)):n},o}function r(e){return n.parse(e.responseText)}function a(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(a(e),n)}:a})},n.parseRows=function(e,t){function n(){if(u>=c)return o;if(a)return a=!1,i;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(a=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<c;){var r=e.charCodeAt(u++),s=1;if(10===r)a=!0;else if(13===r)a=!0,10===e.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return e.slice(t,u-s)}return e.slice(t)}for(var r,a,i={},o={},s=[],c=e.length,u=0,d=0;(r=n())!==o;){for(var p=[];r!==i&&r!==o;)p.push(r),r=n();t&&null==(p=t(p,d++))||s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new y,a=[];return t.forEach(function(e){for(var t in e)r.has(t)||a.push(r.add(t))}),[a.map(o).join(e)].concat(t.map(function(t){return a.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n},lo.csv=lo.dsv(",","text/csv"),lo.tsv=lo.dsv("\t","text/tab-separated-values");var ss,ls,cs,us,ds=this[w(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};lo.timer=function(){Pe.apply(this,arguments)},lo.timer.flush=function(){De(),Le()},lo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ps=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Re);lo.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=lo.round(e,Oe(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ps[8+n/3]};var fs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=lo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=lo.round(e,Oe(e,t))).toFixed(Math.max(0,Math.min(20,Oe(e*(1+1e-15),t))))}}),gs=lo.time={},ms=Date;Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vs.setUTCDate.apply(this._,arguments)},setDay:function(){vs.setUTCDay.apply(this._,arguments)},setFullYear:function(){vs.setUTCFullYear.apply(this._,arguments)},setHours:function(){vs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vs.setUTCSeconds.apply(this._,arguments)},setTime:function(){vs.setTime.apply(this._,arguments)}};var vs=Date.prototype;gs.year=Fe(function(e){return e=gs.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),gs.years=gs.year.range,gs.years.utc=gs.year.utc.range,gs.day=Fe(function(e){var t=new ms(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),gs.days=gs.day.range,gs.days.utc=gs.day.utc.range,gs.dayOfYear=function(e){var t=gs.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=gs[e]=Fe(function(e){return(e=gs.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=gs.year(e).getDay();return Math.floor((gs.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});gs[e+"s"]=n.range,gs[e+"s"].utc=n.utc.range,gs[e+"OfYear"]=function(e){var n=gs.year(e).getDay();return Math.floor((gs.dayOfYear(e)+(n+t)%7)/7)}}),gs.week=gs.sunday,gs.weeks=gs.sunday.range,gs.weeks.utc=gs.sunday.utc.range,gs.weekOfYear=gs.sundayOfYear;
var ys={"-":"",_:" ",0:"0"},bs=/^\s*\d+/,xs=/^%/;lo.locale=function(e){return{numberFormat:Ne(e),timeFormat:Ue(e)}};var ws=lo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});lo.format=ws.numberFormat,lo.geo={},ut.prototype={s:0,t:0,add:function(e){dt(e,this.t,_s),dt(_s.s,this.s,this),this.s?this.t+=_s.t:this.s=_s.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _s=new ut;lo.geo.stream=function(e,t){e&&ks.hasOwnProperty(e.type)?ks[e.type](e,t):pt(e,t)};var ks={Feature:function(e,t){pt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)pt(n[r].geometry,t)}},Ss={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ft(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)ft(n[r],t,0)},Polygon:function(e,t){ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)ht(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)pt(n[r],t)}};lo.geo.area=function(e){return As=0,lo.geo.stream(e,$s),As};var As,Ts=new ut,$s={sphere:function(){As+=4*Bo},point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ts.reset(),$s.lineStart=gt},polygonEnd:function(){var e=2*Ts;As+=e<0?4*Bo+e:e,$s.lineStart=$s.lineEnd=$s.point=_}};lo.geo.bounds=function(){function e(e,t){b.push(x=[u=e,p=e]),t<d&&(d=t),t>f&&(f=t)}function t(t,n){var r=mt([t*qo,n*qo]);if(v){var a=yt(v,r),i=[a[1],-a[0],0],o=yt(i,a);wt(o),o=_t(o);var l=t-h,c=l>0?1:-1,g=o[0]*Vo*c,m=wo(l)>180;if(m^(c*h<g&&g<c*t)){var y=o[1]*Vo;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(c*h<g&&g<c*t)){var y=-o[1]*Vo;y<d&&(d=y)}else n<d&&(d=n),n>f&&(f=n);m?t<h?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t):p>=u?(t<u&&(u=t),t>p&&(p=t)):t>h?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t)}else e(t,n);v=r,h=t}function n(){w.point=t}function r(){x[0]=u,x[1]=p,w.point=e,v=null}function a(e,n){if(v){var r=e-h;y+=wo(r)>180?r+(r>0?360:-360):r}else g=e,m=n;$s.point(e,n),t(e,n)}function i(){$s.lineStart()}function o(){a(g,m),$s.lineEnd(),wo(y)>No&&(u=-(p=180)),x[0]=u,x[1]=p,v=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,p,f,h,g,m,v,y,b,x,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=a,w.lineStart=i,w.lineEnd=o,y=0,$s.polygonStart()},polygonEnd:function(){$s.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,Ts<0?(u=-(p=180),d=-(f=90)):y>No?f=90:y<-No&&(d=-90),x[0]=u,x[1]=p}};return function(e){f=p=-(u=d=1/0),b=[],lo.geo.stream(e,w);var t=b.length;if(t){b.sort(l);for(var n,r=1,a=b[0],i=[a];r<t;++r)n=b[r],c(n[0],a)||c(n[1],a)?(s(a[0],n[1])>s(a[0],a[1])&&(a[1]=n[1]),s(n[0],a[1])>s(a[0],a[1])&&(a[0]=n[0])):i.push(a=n);for(var o,n,h=-(1/0),t=i.length-1,r=0,a=i[t];r<=t;a=n,++r)n=i[r],(o=s(a[1],n[0]))>h&&(h=o,u=n[0],p=a[1])}return b=x=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[p,f]]}}(),lo.geo.centroid=function(e){Cs=Ms=Es=Is=Ps=js=Ds=Ls=Os=Rs=Ns=0,lo.geo.stream(e,zs);var t=Os,n=Rs,r=Ns,a=t*t+n*n+r*r;return a<zo&&(t=js,n=Ds,r=Ls,Ms<No&&(t=Es,n=Is,r=Ps),a=t*t+n*n+r*r,a<zo)?[NaN,NaN]:[Math.atan2(n,t)*Vo,ne(r/Math.sqrt(a))*Vo]};var Cs,Ms,Es,Is,Ps,js,Ds,Ls,Os,Rs,Ns,zs={sphere:_,point:St,lineStart:Tt,lineEnd:$t,polygonStart:function(){zs.lineStart=Ct},polygonEnd:function(){zs.lineStart=Tt}},Bs=Dt(Et,Nt,Bt,[-Bo,-Bo/2]),Fs=1e9;lo.geo.clipExtent=function(){var e,t,n,r,a,i,o={stream:function(e){return a&&(a.valid=!1),a=i(e),a.valid=!0,a},extent:function(s){return arguments.length?(i=qt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),a&&(a.valid=!1,a=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(lo.geo.conicEqualArea=function(){return Vt(Gt)}).raw=Gt,lo.geo.albers=function(){return lo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},lo.geo.albersUsa=function(){function e(e){var i=e[0],o=e[1];return t=null,n(i,o),t||(r(i,o),t)||a(i,o),t}var t,n,r,a,i=lo.geo.albers(),o=lo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=lo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(e)},e.stream=function(e){var t=i.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),r.point(e,a)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),s.precision(t),e):i.precision()},e.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),s.scale(t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),u=+t[0],d=+t[1];return n=i.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=o.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+No,d+.12*c+No],[u-.214*c-No,d+.234*c-No]]).stream(l).point,a=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+No,d+.166*c+No],[u-.115*c-No,d+.234*c-No]]).stream(l).point,e},e.scale(1070)};var Hs,Us,qs,Vs,Gs,Ws,Ys={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Us=0,Ys.lineStart=Wt},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=_,Hs+=wo(Us/2)}},Xs={point:Yt,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Qs={point:Kt,lineStart:Zt,lineEnd:Jt,polygonStart:function(){Qs.lineStart=en},polygonEnd:function(){Qs.point=Kt,Qs.lineStart=Zt,Qs.lineEnd=Jt}};lo.geo.path=function(){function e(e){return e&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=a(i)),lo.geo.stream(e,o)),i.result()}function t(){return o=null,e}var n,r,a,i,o,s=4.5;return e.area=function(e){return Hs=0,lo.geo.stream(e,a(Ys)),Hs},e.centroid=function(e){return Es=Is=Ps=js=Ds=Ls=Os=Rs=Ns=0,lo.geo.stream(e,a(Qs)),Ns?[Os/Ns,Rs/Ns]:Ls?[js/Ls,Ds/Ls]:Ps?[Es/Ps,Is/Ps]:[NaN,NaN]},e.bounds=function(e){return Gs=Ws=-(qs=Vs=1/0),lo.geo.stream(e,a(Xs)),[[qs,Vs],[Gs,Ws]]},e.projection=function(e){return arguments.length?(a=(n=e)?e.stream||rn(e):b,t()):n},e.context=function(e){return arguments.length?(i=null==(r=e)?new Xt:new tn(e),"function"!=typeof s&&i.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),e):s},e.projection(lo.geo.albersUsa()).context(null)},lo.geo.transform=function(e){return{stream:function(t){var n=new an(t);for(var r in e)n[r]=e[r];return n}}},an.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},lo.geo.projection=sn,lo.geo.projectionMutator=ln,(lo.geo.equirectangular=function(){return sn(un)}).raw=un.invert=un,lo.geo.rotation=function(e){function t(t){return t=e(t[0]*qo,t[1]*qo),t[0]*=Vo,t[1]*=Vo,t}return e=pn(e[0]%360*qo,e[1]*qo,e.length>2?e[2]*qo:0),t.invert=function(t){return t=e.invert(t[0]*qo,t[1]*qo),t[0]*=Vo,t[1]*=Vo,t},t},dn.invert=un,lo.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=pn(-e[0]*qo,-e[1]*qo,0).invert,a=[];return n(null,null,1,{point:function(e,n){a.push(e=t(e,n)),e[0]*=Vo,e[1]*=Vo}}),{type:"Polygon",coordinates:[a]}}var t,n,r=[0,0],a=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=mn((t=+r)*qo,a*qo),e):t},e.precision=function(r){return arguments.length?(n=mn(t*qo,(a=+r)*qo),e):a},e.angle(90)},lo.geo.distance=function(e,t){var n,r=(t[0]-e[0])*qo,a=e[1]*qo,i=t[1]*qo,o=Math.sin(r),s=Math.cos(r),l=Math.sin(a),c=Math.cos(a),u=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},lo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return lo.range(Math.ceil(i/m)*m,a,m).map(p).concat(lo.range(Math.ceil(c/v)*v,l,v).map(f)).concat(lo.range(Math.ceil(r/h)*h,n,h).filter(function(e){return wo(e%m)>No}).map(u)).concat(lo.range(Math.ceil(s/g)*g,o,g).filter(function(e){return wo(e%v)>No}).map(d))}var n,r,a,i,o,s,l,c,u,d,p,f,h=10,g=h,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(f(l).slice(1),p(a).reverse().slice(1),f(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],c=+t[0][1],l=+t[1][1],i>a&&(t=i,i=a,a=t),c>l&&(t=c,c=l,l=t),e.precision(y)):[[i,c],[a,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(y)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(h=+t[0],g=+t[1],e):[h,g]},e.precision=function(t){return arguments.length?(y=+t,u=yn(s,o,90),d=bn(r,n,y),p=yn(c,l,90),f=bn(i,a,y),e):y},e.majorExtent([[-180,-90+No],[180,90-No]]).minorExtent([[-180,-80-No],[180,80+No]])},lo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||a.apply(this,arguments)]}}var t,n,r=xn,a=wn;return e.distance=function(){return lo.geo.distance(t||r.apply(this,arguments),n||a.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(a=t,n="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},lo.geo.interpolate=function(e,t){return _n(e[0]*qo,e[1]*qo,t[0]*qo,t[1]*qo)},lo.geo.length=function(e){return Ks=0,lo.geo.stream(e,Zs),Ks};var Ks,Zs={sphere:_,point:_,lineStart:kn,lineEnd:_,polygonStart:_,polygonEnd:_},Js=Sn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(lo.geo.azimuthalEqualArea=function(){return sn(Js)}).raw=Js;var el=Sn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},b);(lo.geo.azimuthalEquidistant=function(){return sn(el)}).raw=el,(lo.geo.conicConformal=function(){return Vt(An)}).raw=An,(lo.geo.conicEquidistant=function(){return Vt(Tn)}).raw=Tn;var tl=Sn(function(e){return 1/e},Math.atan);(lo.geo.gnomonic=function(){return sn(tl)}).raw=tl,$n.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Uo]},(lo.geo.mercator=function(){return Cn($n)}).raw=$n;var nl=Sn(function(){return 1},Math.asin);(lo.geo.orthographic=function(){return sn(nl)}).raw=nl;var rl=Sn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(lo.geo.stereographic=function(){return sn(rl)}).raw=rl,Mn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Uo]},(lo.geo.transverseMercator=function(){var e=Cn(Mn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Mn,lo.geom={},lo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,a=$e(n),i=$e(r),o=e.length,s=[],l=[];for(t=0;t<o;t++)s.push([+a.call(this,e[t],t),+i.call(this,e[t],t),t]);for(s.sort(jn),t=0;t<o;t++)l.push([s[t][0],-s[t][1]]);var c=Pn(s),u=Pn(l),d=u[0]===c[0],p=u[u.length-1]===c[c.length-1],f=[];for(t=c.length-1;t>=0;--t)f.push(e[s[c[t]][2]]);for(t=+d;t<u.length-p;++t)f.push(e[s[u[t]][2]]);return f}var n=En,r=In;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},lo.geom.polygon=function(e){return To(e,al),e};var al=lo.geom.polygon.prototype=[];al.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],a=0;++t<n;)e=r,r=this[t],a+=e[1]*r[0]-e[0]*r[1];return.5*a},al.centroid=function(e){var t,n,r=-1,a=this.length,i=0,o=0,s=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[i*e,o*e]},al.clip=function(e){for(var t,n,r,a,i,o,s=On(e),l=-1,c=this.length-On(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,a=this[l],i=t[(r=t.length-s)-1],n=-1;++n<r;)o=t[n],Dn(o,u,a)?(Dn(i,u,a)||e.push(Ln(i,o,u,a)),e.push(o)):Dn(i,u,a)&&e.push(Ln(i,o,u,a)),i=o;s&&e.push(e[0]),u=a}return e};var il,ol,sl,ll,cl,ul=[],dl=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Gn),t.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rr.prototype={insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=sr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(ir(this,n),e=n,n=e.U),n.C=!1,r.C=!0,or(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(or(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ir(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,a=e.U,i=e.L,o=e.R;if(n=i?o?sr(o):i:o,a?a.L===e?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=e.U,e=n.R,a.L=e,n.R=o,o.U=n):(n.U=a,a=n,e=n.R)):(r=e.C,e=n),e&&(e.U=a),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if(t=a.R,t.C&&(t.C=!1,a.C=!0,ir(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,or(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,ir(this,a),e=this._;break}}else if(t=a.L,t.C&&(t.C=!1,a.C=!0,or(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,or(this,a),e=this._;break}t.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},lo.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],a=s[0][1],i=s[1][0],o=s[1][1];return lr(n(e),s).cells.forEach(function(n,s){var l=n.edges,c=n.site,u=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=a&&c.y<=o?[[r,o],[i,o],[i,a],[r,a]]:[];u.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/No)*No,y:Math.round(o(e,t)/No)*No,i:t}})}var r=En,a=In,i=r,o=a,s=pl;return e?t(e):(t.links=function(e){return lr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return lr(n(e)).cells.forEach(function(n,r){for(var a,i,o=n.site,s=n.edges.sort(Gn),l=-1,c=s.length,u=s[c-1].edge,d=u.l===o?u.r:u.l;++l<c;)a=u,i=d,u=s[l].edge,d=u.l===o?u.r:u.l,r<i.i&&r<d.i&&ur(o,i,d)<0&&t.push([e[r],e[i.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(i=$e(r=e),t):r},t.y=function(e){return arguments.length?(o=$e(a=e),t):a},t.clipExtent=function(e){return arguments.length?(s=null==e?pl:e,t):s===pl?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===pl?null:s&&s[1]},t)};var pl=[[-1e6,-1e6],[1e6,1e6]];lo.geom.delaunay=function(e){return lo.geom.voronoi().triangles(e)},lo.geom.quadtree=function(e,t,n,r,a){function i(e){function i(e,t,n,r,a,i,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(wo(l-n)+wo(u-r)<.01)c(e,t,n,r,a,i,o,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,a,i,o,s),c(e,t,n,r,a,i,o,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,a,i,o,s)}function c(e,t,n,r,a,o,s,l){var c=.5*(a+s),u=.5*(o+l),d=n>=c,p=r>=u,f=p<<1|d;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=fr()),d?a=c:s=c,p?o=u:l=u,i(e,t,n,r,a,o,s,l)}var u,d,p,f,h,g,m,v,y,b=$e(s),x=$e(l);if(null!=t)g=t,m=n,v=r,y=a;else if(v=y=-(g=m=1/0),d=[],p=[],h=e.length,o)for(f=0;f<h;++f)u=e[f],u.x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),d.push(u.x),p.push(u.y);else for(f=0;f<h;++f){var w=+b(u=e[f],f),_=+x(u,f);w<g&&(g=w),_<m&&(m=_),w>v&&(v=w),_>y&&(y=_),d.push(w),p.push(_)}var k=v-g,S=y-m;k>S?y=m+k:v=g+S;var A=fr();if(A.add=function(e){i(A,e,+b(e,++f),+x(e,f),g,m,v,y)},A.visit=function(e){hr(e,A,g,m,v,y)},A.find=function(e){return gr(A,e[0],e[1],g,m,v,y)},f=-1,null==t){for(;++f<h;)i(A,e[f],d[f],p[f],g,m,v,y);--f}else e.forEach(A.add);return d=p=e=u=null,A}var o,s=En,l=In;return(o=arguments.length)?(s=dr,l=pr,3===o&&(a=n,r=t,n=t=0),i(e)):(i.x=function(e){return arguments.length?(s=e,i):s},i.y=function(e){return arguments.length?(l=e,i):l},i.extent=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),i):null==t?null:[[t,n],[r,a]]},i.size=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=n=0,r=+e[0],a=+e[1]),i):null==t?null:[r-t,a-n]},i)},lo.interpolateRgb=mr,lo.interpolateObject=vr,lo.interpolateNumber=yr,lo.interpolateString=br;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(fl.source,"g");lo.interpolate=xr,lo.interpolators=[function(e,t){var n="undefined"==typeof t?"undefined":_typeof(t);return("string"===n?os.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?mr:br:t instanceof se?mr:Array.isArray(t)?wr:"object"===n&&isNaN(t)?vr:yr)(e,t)}],lo.interpolateArray=wr;var gl=function(){return b},ml=lo.map({linear:gl,poly:Cr,quad:function(){return Ar},cubic:function(){return Tr},sin:function(){return Mr},exp:function(){return Er},circle:function(){return Ir},elastic:Pr,back:jr,bounce:function(){return Dr}}),vl=lo.map({"in":b,out:kr,"in-out":Sr,"out-in":function(e){return Sr(kr(e))}});lo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ml.get(n)||gl,r=vl.get(r)||b,_r(r(n.apply(null,co.call(arguments,1))))},lo.interpolateHcl=Lr,lo.interpolateHsl=Or,lo.interpolateLab=Rr,lo.interpolateRound=Nr,lo.transform=function(e){var t=po.createElementNS(lo.ns.prefix.svg,"g");return(lo.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new zr(n?n.matrix:yl)})(e)},zr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yl={a:1,b:0,c:0,d:1,e:0,f:0};lo.interpolateTransform=Yr,lo.layout={},lo.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Kr(e[n]));return t}},lo.layout.chord=function(){function e(){var e,c,d,p,f,h={},g=[],m=lo.range(i),v=[];for(n=[],r=[],e=0,p=-1;++p<i;){for(c=0,f=-1;++f<i;)c+=a[p][f];g.push(c),v.push(lo.range(i)),e+=c}for(o&&m.sort(function(e,t){return o(g[e],g[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(a[t][e],a[t][n])})}),e=(Fo-u*i)/e,c=0,p=-1;++p<i;){for(d=c,f=-1;++f<i;){var y=m[p],b=v[y][f],x=a[y][b],w=c,_=c+=x*e;h[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}r[y]={index:y,startAngle:d,endAngle:c,value:g[y]},c+=u}for(p=-1;++p<i;)for(f=p-1;++f<i;){var k=h[p+"-"+f],S=h[f+"-"+p];(k.value||S.value)&&n.push(k.value<S.value?{source:S,target:k}:{source:k,target:S})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,a,i,o,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(i=(a=e)&&a.length,n=r=null,c):a},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(o=e,n=r=null,c):o},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},lo.layout.force=function(){function e(e){return function(t,n,r,a){if(t.point!==e){var i=t.cx-e.x,o=t.cy-e.y,s=a-n,l=i*i+o*o;if(s*s/v<l){if(l<g){var c=t.charge/l;e.px-=i*c,e.py-=o*c}return!0}if(t.point&&l&&l<g){var c=t.pointCharge/l;e.px-=i*c,e.py-=o*c}}return!t.charge}}function t(e){e.px=lo.event.x,e.py=lo.event.y,l.resume()}var n,r,a,i,o,s,l={},c=lo.dispatch("start","tick","end"),u=[1,1],d=.9,p=bl,f=xl,h=-30,g=wl,m=.1,v=.64,y=[],x=[];return l.tick=function(){if((a*=.99)<.005)return n=null,c.end({type:"end",alpha:a=0}),!0;var t,r,l,p,f,g,v,b,w,_=y.length,k=x.length;for(r=0;r<k;++r)l=x[r],p=l.source,f=l.target,b=f.x-p.x,w=f.y-p.y,(g=b*b+w*w)&&(g=a*o[r]*((g=Math.sqrt(g))-i[r])/g,b*=g,w*=g,f.x-=b*(v=p.weight+f.weight?p.weight/(p.weight+f.weight):.5),f.y-=w*v,p.x+=b*(v=1-v),p.y+=w*v);if((v=a*m)&&(b=u[0]/2,w=u[1]/2,r=-1,v))for(;++r<_;)l=y[r],l.x+=(b-l.x)*v,l.y+=(w-l.y)*v;if(h)for(aa(t=lo.geom.quadtree(y),a,s),r=-1;++r<_;)(l=y[r]).fixed||t.visit(e(l));for(r=-1;++r<_;)l=y[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);c.tick({type:"tick",alpha:a})},l.nodes=function(e){return arguments.length?(y=e,l):y},l.links=function(e){return arguments.length?(x=e,l):x},l.size=function(e){return arguments.length?(u=e,l):u},l.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.friction=function(e){return arguments.length?(d=+e,l):d},l.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,l):h},l.chargeDistance=function(e){return arguments.length?(g=e*e,l):Math.sqrt(g)},l.gravity=function(e){return arguments.length?(m=+e,l):m},l.theta=function(e){return arguments.length?(v=e*e,l):Math.sqrt(v)},l.alpha=function(e){return arguments.length?(e=+e,a?e>0?a=e:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:a=0})):e>0&&(c.start({type:"start",alpha:a=e}),n=Pe(l.tick)),l):a},l.start=function(){function e(e,r){if(!n){for(n=new Array(a),l=0;l<a;++l)n[l]=[];for(l=0;l<c;++l){var i=x[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,s=n[t],l=-1,u=s.length;++l<u;)if(!isNaN(o=s[l][e]))return o;return Math.random()*r}var t,n,r,a=y.length,c=x.length,d=u[0],g=u[1];for(t=0;t<a;++t)(r=y[t]).index=t,r.weight=0;for(t=0;t<c;++t)r=x[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<a;++t)r=y[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(t=0;t<c;++t)i[t]=+p.call(this,x[t],t);else for(t=0;t<c;++t)i[t]=p;if(o=[],"function"==typeof f)for(t=0;t<c;++t)o[t]=+f.call(this,x[t],t);else for(t=0;t<c;++t)o[t]=f;if(s=[],"function"==typeof h)for(t=0;t<a;++t)s[t]=+h.call(this,y[t],t);else for(t=0;t<a;++t)s[t]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=lo.behavior.drag().origin(b).on("dragstart.force",ea).on("drag.force",t).on("dragend.force",ta)),arguments.length?void this.on("mouseover.force",na).on("mouseout.force",ra).call(r):r},lo.rebind(l,c,"on")};var bl=20,xl=1,wl=1/0;lo.layout.hierarchy=function(){function e(a){var i,o=[a],s=[];for(a.depth=0;null!=(i=o.pop());)if(s.push(i),(c=n.call(e,i,i.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=i,u.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return sa(a,function(e){var n,a;t&&(n=e.children)&&n.sort(t),r&&(a=e.parent)&&(a.value+=e.value)}),s}var t=ua,n=la,r=ca;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(oa(t,function(e){e.children&&(e.value=0)}),sa(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},lo.layout.partition=function(){function e(t,n,r,a){var i=t.children;if(t.x=n,t.y=t.depth*a,t.dx=r,t.dy=a,i&&(o=i.length)){var o,s,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)e(s=i[c],n,l=s.value*r,a),n+=l}}function t(e){var n=e.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,t(n[i]));return 1+r}function n(n,i){var o=r.call(this,n,i);return e(o[0],0,a[0],a[1]/t(o[0])),o}var r=lo.layout.hierarchy(),a=[1,1];return n.size=function(e){return arguments.length?(a=e,n):a},ia(n,r)},lo.layout.pie=function(){function e(o){var s,l=o.length,c=o.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof a?a.apply(this,arguments):a)-u,p=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),f=p*(d<0?-1:1),h=lo.sum(c),g=h?(d-l*f)/h:0,m=lo.range(l),v=[];return null!=n&&m.sort(n===_l?function(e,t){return c[t]-c[e]}:function(e,t){return n(o[e],o[t])}),m.forEach(function(e){v[e]={data:o[e],value:s=c[e],startAngle:u,endAngle:u+=s*g+f,padAngle:p}}),v}var t=Number,n=_l,r=0,a=Fo,i=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(a=t,e):a},e.padAngle=function(t){return arguments.length?(i=t,e):i},e};var _l={};lo.layout.stack=function(){function e(s,l){if(!(p=s.length))return s;var c=s.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),o.call(e,t,n)]})}),d=n.call(e,u,l);c=lo.permute(c,d),u=lo.permute(u,d);var p,f,h,g,m=r.call(e,u,l),v=c[0].length;for(h=0;h<v;++h)for(a.call(e,c[0][h],g=m[h],u[0][h][1]),f=1;f<p;++f)a.call(e,c[f][h],g+=u[f-1][h][1],u[f][h][1]);return s}var t=b,n=ga,r=ma,a=ha,i=pa,o=fa;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:kl.get(t)||ga,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Sl.get(t)||ma,e):r},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(a=t,e):a},e};var kl=lo.map({"inside-out":function(e){var t,n,r=e.length,a=e.map(va),i=e.map(ya),o=lo.range(r).sort(function(e,t){return a[e]-a[t]}),s=0,l=0,c=[],u=[];for(t=0;t<r;++t)n=o[t],s<l?(s+=i[n],c.push(n)):(l+=i[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return lo.range(e.length).reverse()},"default":ga}),Sl=lo.map({silhouette:function(e){var t,n,r,a=e.length,i=e[0].length,o=[],s=0,l=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<i;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,a,i,o,s,l,c,u=e.length,d=e[0],p=d.length,f=[];for(f[0]=l=c=0,n=1;n<p;++n){for(t=0,a=0;t<u;++t)a+=e[t][n][1];for(t=0,i=0,s=d[n][0]-d[n-1][0];t<u;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;i+=o*e[t][n][1]}f[n]=l-=a?i/a*s:0,l<c&&(c=l)}for(n=0;n<p;++n)f[n]-=c;return f},expand:function(e){var t,n,r,a=e.length,i=e[0].length,o=1/a,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];if(r)for(t=0;t<a;t++)e[t][n][1]/=r;else for(t=0;t<a;t++)e[t][n][1]=o}for(n=0;n<i;++n)s[n]=0;return s},zero:ma});lo.layout.histogram=function(){function e(e,i){for(var o,s,l=[],c=e.map(n,this),u=r.call(this,c,i),d=a.call(this,u,c,i),i=-1,p=c.length,f=d.length-1,h=t?1:1/p;++i<f;)o=l[i]=[],o.dx=d[i+1]-(o.x=d[i]),o.y=0;if(f>0)for(i=-1;++i<p;)s=c[i],s>=u[0]&&s<=u[1]&&(o=l[lo.bisect(d,s,1,f)-1],o.y+=h,o.push(e[i]));return l}var t=!0,n=Number,r=_a,a=xa;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=$e(t),e):r},e.bins=function(t){return arguments.length?(a="number"==typeof t?function(e){return wa(e,t)}:$e(t),e):a},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},lo.layout.pack=function(){function e(e,i){var o=n.call(this,e,i),s=o[0],l=a[0],c=a[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,sa(s,function(e){e.r=+u(e.value)}),sa(s,$a),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;sa(s,function(e){e.r+=d}),sa(s,$a),sa(s,function(e){e.r-=d})}return Ea(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,n=lo.layout.hierarchy().sort(ka),r=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ia(e,n)},lo.layout.tree=function(){function e(e,a){var u=o.call(this,e,a),d=u[0],p=t(d);if(sa(p,n),p.parent.m=-p.z,oa(p,r),c)oa(d,i);else{var f=d,h=d,g=d;oa(d,function(e){e.x<f.x&&(f=e),e.x>h.x&&(h=e),e.depth>g.depth&&(g=e)});var m=s(f,h)/2-f.x,v=l[0]/(h.x+s(h,f)/2+m),y=l[1]/(g.depth||1);oa(d,function(e){e.x=(e.x+m)*v,e.y=e.depth*y})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var a,i=t.children,o=0,s=i.length;o<s;++o)r.push((i[o]=a={_:i[o],parent:t,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Oa(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+s(e._,r._));e.parent.A=a(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e,t,n){if(t){for(var r,a=e,i=e,o=t,l=a.parent.children[0],c=a.m,u=i.m,d=o.m,p=l.m;o=Da(o),a=ja(a),o&&a;)l=ja(l),i=Da(i),i.a=e,r=o.z+d-a.z-c+s(o._,a._),r>0&&(La(Ra(o,e,n),e,r),c+=r,u+=r),d+=o.m,c+=a.m,p+=l.m,u+=i.m;o&&!Da(i)&&(i.t=o,i.m+=d-u),a&&!ja(l)&&(l.t=a,l.m+=c-p,n=e)}return n}function i(e){e.x*=l[0],e.y=e.depth*l[1]}var o=lo.layout.hierarchy().sort(null).value(null),s=Pa,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=null==(l=t)?i:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,e):c?l:null},ia(e,o)},lo.layout.cluster=function(){function e(e,i){var o,s=t.call(this,e,i),l=s[0],c=0;sa(l,function(e){var t=e.children;t&&t.length?(e.x=za(t),e.y=Na(t)):(e.x=o?c+=n(e,o):0,e.y=0,o=e)});var u=Ba(l),d=Fa(l),p=u.x-n(u,d)/2,f=d.x+n(d,u)/2;return sa(l,a?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(f-p)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=lo.layout.hierarchy().sort(null).value(null),n=Pa,r=[1,1],a=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=null==(r=t),e):a?null:r},e.nodeSize=function(t){return arguments.length?(a=null!=(r=t),e):a?r:null},ia(e,t)},lo.layout.treemap=function(){function e(e,t){for(var n,r,a=-1,i=e.length;++a<i;)r=(n=e[a]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var i=n.children;if(i&&i.length){var o,s,l,c=d(n),u=[],p=i.slice(),h=1/0,g="slice"===f?c.dx:"dice"===f?c.dy:"slice-dice"===f?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(p,c.dx*c.dy/n.value),u.area=0;(l=p.length)>0;)u.push(o=p[l-1]),u.area+=o.area,"squarify"!==f||(s=r(u,g))<=h?(p.pop(),h=s):(u.area-=u.pop().area,a(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,h=1/0);u.length&&(a(u,g,c,!0),u.length=u.area=0),i.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){
var i,o=d(t),s=r.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(a(l,i.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,a=0,i=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<i&&(i=n),n>a&&(a=n));return r*=r,t*=t,r?Math.max(t*a*h/r,r/(t*i*h)):1/0}function a(e,t,n,r){var a,i=-1,o=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++i<o;)a=e[i],a.x=s,a.y=c,a.dy=u,s+=a.dx=Math.min(n.x+n.dx-s,u?l(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++i<o;)a=e[i],a.x=s,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?l(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function i(r){var a=o||s(r),i=a[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,o&&s.revalue(i),e([i],i.dx*i.dy/i.value),(o?n:t)(i),p&&(o=a),a}var o,s=lo.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=Ha,p=!1,f="squarify",h=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(c=e,i):c},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?Ha(t):Ua(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ua(t,e)}if(!arguments.length)return u;var r;return d=null==(u=e)?Ha:"function"===(r="undefined"==typeof e?"undefined":_typeof(e))?t:"number"===r?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(l=e?Math.round:Number,i):l!=Number},i.sticky=function(e){return arguments.length?(p=e,o=null,i):p},i.ratio=function(e){return arguments.length?(h=e,i):h},i.mode=function(e){return arguments.length?(f=e+"",i):f},ia(i,s)},lo.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,a;do n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r;while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=lo.random.normal.apply(lo,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=lo.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},lo.scale={};var Al={floor:b,ceil:b};lo.scale.linear=function(){return Qa([0,1],[0,1],xr,!1)};var Tl={s:1,g:1,p:1,r:1,e:1};lo.scale.log=function(){return ai(lo.scale.linear().domain([0,1]),10,!0,[1,10])};var $l=lo.format(".0e"),Cl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};lo.scale.pow=function(){return ii(lo.scale.linear(),1,[0,1])},lo.scale.sqrt=function(){return lo.scale.pow().exponent(.5)},lo.scale.ordinal=function(){return si([],{t:"range",a:[[]]})},lo.scale.category10=function(){return lo.scale.ordinal().range(Ml)},lo.scale.category20=function(){return lo.scale.ordinal().range(El)},lo.scale.category20b=function(){return lo.scale.ordinal().range(Il)},lo.scale.category20c=function(){return lo.scale.ordinal().range(Pl)};var Ml=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xe),El=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xe),Il=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xe),Pl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xe);lo.scale.quantile=function(){return li([],[])},lo.scale.quantize=function(){return ci(0,1,[0,1])},lo.scale.threshold=function(){return ui([.5],[0,1])},lo.scale.identity=function(){return di([0,1])},lo.svg={},lo.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=o.apply(this,arguments)-Uo,d=s.apply(this,arguments)-Uo,p=Math.abs(d-u),f=u>d?0:1;if(c<e&&(h=c,c=e,e=h),p>=Ho)return t(c,f)+(e?t(e,1-f):"")+"Z";var h,g,m,v,y,b,x,w,_,k,S,A,T=0,$=0,C=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=i===jl?Math.sqrt(e*e+c*c):+i.apply(this,arguments),f||($*=-1),c&&($=ne(m/c*Math.sin(v))),e&&(T=ne(m/e*Math.sin(v)))),c){y=c*Math.cos(u+$),b=c*Math.sin(u+$),x=c*Math.cos(d-$),w=c*Math.sin(d-$);var M=Math.abs(d-u-2*$)<=Bo?0:1;if($&&yi(y,b,x,w)===f^M){var E=(u+d)/2;y=c*Math.cos(E),b=c*Math.sin(E),x=w=null}}else y=b=0;if(e){_=e*Math.cos(d-T),k=e*Math.sin(d-T),S=e*Math.cos(u+T),A=e*Math.sin(u+T);var I=Math.abs(u-d+2*T)<=Bo?0:1;if(T&&yi(_,k,S,A)===1-f^I){var P=(u+d)/2;_=e*Math.cos(P),k=e*Math.sin(P),S=A=null}}else _=k=0;if(p>No&&(h=Math.min(Math.abs(c-e)/2,+a.apply(this,arguments)))>.001){g=e<c^f?0:1;var j=h,D=h;if(p<Bo){var L=null==S?[_,k]:null==x?[y,b]:Ln([y,b],[S,A],[x,w],[_,k]),O=y-L[0],R=b-L[1],N=x-L[0],z=w-L[1],B=1/Math.sin(Math.acos((O*N+R*z)/(Math.sqrt(O*O+R*R)*Math.sqrt(N*N+z*z)))/2),F=Math.sqrt(L[0]*L[0]+L[1]*L[1]);D=Math.min(h,(e-F)/(B-1)),j=Math.min(h,(c-F)/(B+1))}if(null!=x){var H=bi(null==S?[_,k]:[S,A],[y,b],c,j,f),U=bi([x,w],[_,k],c,j,f);h===j?C.push("M",H[0],"A",j,",",j," 0 0,",g," ",H[1],"A",c,",",c," 0 ",1-f^yi(H[1][0],H[1][1],U[1][0],U[1][1]),",",f," ",U[1],"A",j,",",j," 0 0,",g," ",U[0]):C.push("M",H[0],"A",j,",",j," 0 1,",g," ",U[0])}else C.push("M",y,",",b);if(null!=S){var q=bi([y,b],[S,A],e,-D,f),V=bi([_,k],null==x?[y,b]:[x,w],e,-D,f);h===D?C.push("L",V[0],"A",D,",",D," 0 0,",g," ",V[1],"A",e,",",e," 0 ",f^yi(V[1][0],V[1][1],q[1][0],q[1][1]),",",1-f," ",q[1],"A",D,",",D," 0 0,",g," ",q[0]):C.push("L",V[0],"A",D,",",D," 0 0,",g," ",q[0])}else C.push("L",_,",",k)}else C.push("M",y,",",b),null!=x&&C.push("A",c,",",c," 0 ",M,",",f," ",x,",",w),C.push("L",_,",",k),null!=S&&C.push("A",e,",",e," 0 ",I,",",1-f," ",S,",",A);return C.push("Z"),C.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=fi,r=hi,a=pi,i=jl,o=gi,s=mi,l=vi;return e.innerRadius=function(t){return arguments.length?(n=$e(t),e):n},e.outerRadius=function(t){return arguments.length?(r=$e(t),e):r},e.cornerRadius=function(t){return arguments.length?(a=$e(t),e):a},e.padRadius=function(t){return arguments.length?(i=t==jl?jl:$e(t),e):i},e.startAngle=function(t){return arguments.length?(o=$e(t),e):o},e.endAngle=function(t){return arguments.length?(s=$e(t),e):s},e.padAngle=function(t){return arguments.length?(l=$e(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Uo;return[Math.cos(t)*e,Math.sin(t)*e]},e};var jl="auto";lo.svg.line=function(){return xi(b)};var Dl=lo.map({linear:wi,"linear-closed":_i,step:ki,"step-before":Si,"step-after":Ai,basis:Ii,"basis-open":Pi,"basis-closed":ji,bundle:Di,cardinal:Ci,"cardinal-open":Ti,"cardinal-closed":$i,monotone:Bi});Dl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ll=[0,2/3,1/3,0],Ol=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];lo.svg.line.radial=function(){var e=xi(Fi);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Si.reverse=Ai,Ai.reverse=Si,lo.svg.area=function(){return Hi(b)},lo.svg.area.radial=function(){var e=Hi(Fi);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},lo.svg.chord=function(){function e(e,s){var l=t(this,i,e,s),c=t(this,o,e,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,c)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var a=t.call(e,n,r),i=s.call(e,a,r),o=l.call(e,a,r)-Uo,u=c.call(e,a,r)-Uo;return{r:i,a0:o,a1:u,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Bo)+",1 "+t}function a(e,t,n,r){return"Q 0,0 "+r}var i=xn,o=wn,s=Ui,l=gi,c=mi;return e.radius=function(t){return arguments.length?(s=$e(t),e):s},e.source=function(t){return arguments.length?(i=$e(t),e):i},e.target=function(t){return arguments.length?(o=$e(t),e):o},e.startAngle=function(t){return arguments.length?(l=$e(t),e):l},e.endAngle=function(t){return arguments.length?(c=$e(t),e):c},e},lo.svg.diagonal=function(){function e(e,a){var i=t.call(this,e,a),o=n.call(this,e,a),s=(i.y+o.y)/2,l=[i,{x:i.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=xn,n=wn,r=qi;return e.source=function(n){return arguments.length?(t=$e(n),e):t},e.target=function(t){return arguments.length?(n=$e(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},lo.svg.diagonal.radial=function(){var e=lo.svg.diagonal(),t=qi,n=e.projection;return e.projection=function(e){return arguments.length?n(Vi(t=e)):t},e},lo.svg.symbol=function(){function e(e,r){return(Nl.get(t.call(this,e,r))||Yi)(n.call(this,e,r))}var t=Wi,n=Gi;return e.type=function(n){return arguments.length?(t=$e(n),e):t},e.size=function(t){return arguments.length?(n=$e(t),e):n},e};var Nl=lo.map({circle:Yi,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Bl)),n=t*Bl;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/zl),n=t*zl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/zl),n=t*zl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});lo.svg.symbolTypes=Nl.keys();var zl=Math.sqrt(3),Bl=Math.tan(30*qo);Eo.transition=function(e){for(var t,n,r=Fl||++Vl,a=Ji(e),i=[],o=Hl||{time:Date.now(),ease:$r,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&eo(n,u,a,r,o),t.push(n)}return Qi(i,a,r)},Eo.interrupt=function(e){return this.each(null==e?Ul:Xi(Ji(e)))};var Fl,Hl,Ul=Xi(Ji()),ql=[],Vl=0;ql.call=Eo.call,ql.empty=Eo.empty,ql.node=Eo.node,ql.size=Eo.size,lo.transition=function(e,t){return e&&e.transition?Fl?e.transition(t):e:lo.selection().transition(e)},lo.transition.prototype=ql,ql.select=function(e){var t,n,r,a=this.id,i=this.namespace,o=[];e=M(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),eo(n,u,i,a,r[i][a]),t.push(n)):t.push(null)}return Qi(o,i,a)},ql.selectAll=function(e){var t,n,r,a,i,o=this.id,s=this.namespace,l=[];e=E(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],p=-1,f=d.length;++p<f;)if(r=d[p]){i=r[s][o],n=e.call(r,r.__data__,p,c),l.push(t=[]);for(var h=-1,g=n.length;++h<g;)(a=n[h])&&eo(a,h,s,o,i),t.push(a)}return Qi(l,s,o)},ql.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=H(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]);for(var n=this[i],s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return Qi(a,this.namespace,this.id)},ql.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):q(this,null==t?function(t){t[r][n].tween.remove(e)}:function(a){a[r][n].tween.set(e,t)})},ql.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function a(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=o(n,e),function(e){this.setAttribute(s,t(e))})})}function i(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Yr:xr,s=lo.ns.qualify(e);return Ki(this,"attr."+e,t,s.local?i:a)},ql.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(a));return r&&function(e){this.setAttribute(a,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(a.space,a.local));return r&&function(e){this.setAttributeNS(a.space,a.local,r(e))}}var a=lo.ns.qualify(e);return this.tween("attr."+e,a.local?r:n)},ql.style=function(e,t,r){function a(){this.style.removeProperty(e)}function i(t){return null==t?a:(t+="",function(){var a,i=n(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(a=xr(i,t),function(t){this.style.setProperty(e,a(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof e){o<2&&(t="");for(r in e)this.style(r,e[r],t);return this}r=""}return Ki(this,"style."+e,t,i)},ql.styleTween=function(e,t,r){function a(a,i){var o=t.call(this,a,i,n(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,a)},ql.text=function(e){return Ki(this,"text",e,Zi)},ql.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ql.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=lo.ease.apply(lo,arguments)),q(this,function(r){r[n][t].ease=e}))},ql.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:q(this,"function"==typeof e?function(r,a,i){r[n][t].delay=+e.call(r,r.__data__,a,i)}:(e=+e,function(r){r[n][t].delay=e}))},ql.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:q(this,"function"==typeof e?function(r,a,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,a,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},ql.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Hl,i=Fl;try{Fl=n,q(this,function(t,a,i){Hl=t[r][n],e.call(t,t.__data__,a,i)})}finally{Hl=a,Fl=i}}else q(this,function(a){var i=a[r][n];(i.event||(i.event=lo.dispatch("start","end","interrupt"))).on(e,t)});return this},ql.transition=function(){for(var e,t,n,r,a=this.id,i=++Vl,o=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(e=[]);for(var t=this[l],u=0,d=t.length;u<d;u++)(n=t[u])&&(r=n[o][a],eo(n,u,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Qi(s,o,i)},lo.svg.axis=function(){function e(e){e.each(function(){var e,c=lo.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),p=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,f=null==t?d.tickFormat?d.tickFormat.apply(d,s):b:t,h=c.selectAll(".tick").data(p,d),g=h.enter().insert("g",".domain").attr("class","tick").style("opacity",No),m=lo.transition(h.exit()).style("opacity",No).remove(),v=lo.transition(h.order()).style("opacity",1),y=Math.max(a,0)+o,x=Va(d),w=c.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),lo.transition(w));g.append("line"),g.append("text");var k,S,A,T,$=g.select("line"),C=v.select("line"),M=h.select("text").text(f),E=g.select("text"),I=v.select("text"),P="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=to,k="x",A="y",S="x2",T="y2",M.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+P*i+"V0H"+x[1]+"V"+P*i)):(e=no,k="y",A="x",S="y2",T="x2",M.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),_.attr("d","M"+P*i+","+x[0]+"H0V"+x[1]+"H"+P*i)),$.attr(T,P*a),E.attr(A,P*y),C.attr(S,0).attr(T,P*a),I.attr(k,0).attr(A,P*y),d.rangeBand){var j=d,D=j.rangeBand()/2;u=d=function(e){return j(e)+D}}else u.rangeBand?u=d:m.call(e,d,u);g.call(e,u,d),v.call(e,d,d)})}var t,n=lo.scale.linear(),r=Gl,a=6,i=6,o=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Wl?t+"":Gl,e):r},e.ticks=function(){return arguments.length?(s=uo(arguments),e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(a=+t,i=+arguments[n-1],e):a},e.innerTickSize=function(t){return arguments.length?(a=+t,e):a},e.outerTickSize=function(t){return arguments.length?(i=+t,e):i},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Gl="bottom",Wl={top:1,right:1,bottom:1,left:1};lo.svg.brush=function(){function e(n){n.each(function(){var n=lo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=n.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(g,b);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Yl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,d=lo.transition(n),p=lo.transition(o);c&&(l=Va(c),p.attr("x",l[0]).attr("width",l[1]-l[0]),r(d)),u&&(l=Va(u),p.attr("y",l[0]).attr("height",l[1]-l[0]),a(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+p[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function a(e){e.select(".extent").attr("y",p[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==lo.event.keyCode&&(M||(b=null,I[0]-=d[1],I[1]-=p[1],M=2),A())}function g(){32==lo.event.keyCode&&2==M&&(I[0]+=d[1],I[1]+=p[1],M=0,A())}function m(){var e=lo.mouse(w),n=!1;x&&(e[0]+=x[0],e[1]+=x[1]),M||(lo.event.altKey?(b||(b=[(d[0]+d[1])/2,(p[0]+p[1])/2]),I[0]=d[+(e[0]<b[0])],I[1]=p[+(e[1]<b[1])]):b=null),$&&v(e,c,0)&&(r(S),n=!0),C&&v(e,u,1)&&(a(S),n=!0),n&&(t(S),k({type:"brush",mode:M?"move":"resize"}))}function v(e,t,n){var r,a,i=Va(t),l=i[0],c=i[1],u=I[n],g=n?p:d,m=g[1]-g[0];if(M&&(l-=u,c-=m+u),r=(n?h:f)?Math.max(l,Math.min(c,e[n])):e[n],M?a=(r+=u)+m:(b&&(u=Math.max(l,Math.min(c,2*b[n]-r))),u<r?(a=r,r=u):a=u),g[0]!=r||g[1]!=a)return n?s=null:o=null,g[0]=r,g[1]=a,!0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),lo.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),k({type:"brushend"})}var b,x,w=this,_=lo.select(lo.event.target),k=l.of(w,arguments),S=lo.select(w),T=_.datum(),$=!/^(n|s)$/.test(T)&&c,C=!/^(e|w)$/.test(T)&&u,M=_.classed("extent"),E=Q(w),I=lo.mouse(w),P=lo.select(n(w)).on("keydown.brush",i).on("keyup.brush",g);if(lo.event.changedTouches?P.on("touchmove.brush",m).on("touchend.brush",y):P.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),M)I[0]=d[0]-I[0],I[1]=p[0]-I[1];else if(T){var j=+/w$/.test(T),D=+/^n/.test(T);x=[d[1-j]-I[0],p[1-D]-I[1]],I[0]=d[j],I[1]=p[D]}else lo.event.altKey&&(b=I.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),lo.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),m()}var o,s,l=$(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],p=[0,0],f=!0,h=!0,g=Xl[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:d,y:p,i:o,j:s},n=this.__chart__||t;this.__chart__=t,Fl?lo.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,d=n.x,p=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(d,t.x),r=wr(p,t.y);return o=s=null,function(a){d=t.x=n(a),p=t.y=r(a),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,g=Xl[!c<<1|!u],e):c},e.y=function(t){return arguments.length?(u=t,g=Xl[!c<<1|!u],e):u},e.clamp=function(t){return arguments.length?(c&&u?(f=!!t[0],h=!!t[1]):c?f=!!t:u&&(h=!!t),e):c&&u?[f,h]:c?f:u?h:null},e.extent=function(t){var n,r,a,i,l;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),u&&(a=t[0],i=t[1],c&&(a=a[1],i=i[1]),s=[a,i],u.invert&&(a=u(a),i=u(i)),i<a&&(l=a,a=i,i=l),a==p[0]&&i==p[1]||(p=[a,i])),e):(c&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(l=n,n=r,r=l))),u&&(s?(a=s[0],i=s[1]):(a=p[0],i=p[1],u.invert&&(a=u.invert(a),i=u.invert(i)),i<a&&(l=a,a=i,i=l))),c&&u?[[n,a],[r,i]]:c?[n,r]:u&&[a,i])},e.clear=function(){return e.empty()||(d=[0,0],p=[0,0],o=s=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&p[0]==p[1]},lo.rebind(e,l,"on")};var Yl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ql=gs.format=ws.timeFormat,Kl=Ql.utc,Zl=Kl("%Y-%m-%dT%H:%M:%S.%LZ");Ql.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ro:Zl,ro.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ro.toString=Zl.toString,gs.second=Fe(function(e){return new ms(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),gs.seconds=gs.second.range,gs.seconds.utc=gs.second.utc.range,gs.minute=Fe(function(e){return new ms(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),gs.minutes=gs.minute.range,gs.minutes.utc=gs.minute.utc.range,gs.hour=Fe(function(e){var t=e.getTimezoneOffset()/60;return new ms(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),gs.hours=gs.hour.range,gs.hours.utc=gs.hour.utc.range,gs.month=Fe(function(e){return e=gs.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),gs.months=gs.month.range,gs.months.utc=gs.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ec=[[gs.second,1],[gs.second,5],[gs.second,15],[gs.second,30],[gs.minute,1],[gs.minute,5],[gs.minute,15],[gs.minute,30],[gs.hour,1],[gs.hour,3],[gs.hour,6],[gs.hour,12],[gs.day,1],[gs.day,2],[gs.week,1],[gs.month,1],[gs.month,3],[gs.year,1]],tc=Ql.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Et]]),nc={range:function(e,t,n){return lo.range(Math.ceil(e/n)*n,+t,n).map(io)},floor:b,ceil:b};ec.year=gs.year,gs.scale=function(){return ao(lo.scale.linear(),ec,tc)};var rc=ec.map(function(e){return[e[0].utc,e[1]]}),ac=Kl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Et]]);rc.year=gs.year.utc,gs.scale.utc=function(){return ao(lo.scale.linear(),rc,ac)},lo.text=Ce(function(e){return e.responseText}),lo.json=function(e,t){return Me(e,"application/json",oo,t)},lo.html=function(e,t){return Me(e,"text/html",so,t)},lo.xml=Ce(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=lo,define(lo)):"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t.exports?t.exports=lo:this.d3=lo}()},{}],14:[function(e,t,n){!function(r,a){"use strict";"function"==typeof define&&define.amd?define(["moment"],a):"object"===("undefined"==typeof n?"undefined":_typeof(n))?t.exports=a(e("./../../moment/moment.js")):a(r.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,a=e.split("."),i=a[0],o=a[1]||"",s=1,l=0,c=1;for(45===e.charCodeAt(0)&&(r=1,c=-1),r;r<i.length;r++)n=t(i.charCodeAt(r)),l=60*l+n;for(r=0;r<o.length;r++)s/=60,n=t(o.charCodeAt(r)),l+=n*s;return l*c}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function a(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function i(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function o(e){var t=e.split("|"),n=t[2].split(" "),o=t[3].split(""),s=t[4].split(" ");return r(n),r(o),r(s),a(s,o.length),{name:t[0],abbrs:i(t[1].split(" "),o),offsets:i(n,o),untils:s}}function s(e){e&&this._set(o(e))}function l(e){return(e||"").toLowerCase().replace(/\//g,"_")}function c(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|")[0],r=l(n),w[r]=e[t],k[r]=n}function u(e,t){e=l(e);var n,r=w[e];return r instanceof s?r:"string"==typeof r?(r=new s(r),w[e]=r,r):_[e]&&t!==u&&(n=u(_[e],u))?(r=w[e]=new s,r._set(n),r.name=k[e],r):null}function d(){var e,t=[];for(e in k)k.hasOwnProperty(e)&&(w[e]||w[_[e]])&&k[e]&&t.push(k[e]);return t.sort()}function p(e){var t,n,r,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=l(n[0]),a=l(n[1]),_[r]=a,k[r]=n[0],_[a]=r,k[a]=n[1]}function f(e){c(e.zones),p(e.links),v.dataVersion=e.version}function h(e){return h.didShowError||(h.didShowError=!0,m("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!u(e)}function g(e){return!(!e._a||void 0!==e._tzm)}function m(e){"undefined"!=typeof console&&"function"==typeof console.error}function v(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],a=u(r),i=e.utc.apply(null,n);return a&&!e.isMoment(t)&&g(i)&&i.add(a.parse(i),"minutes"),i.tz(r),i}function y(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function b(e){return function(){return this._z=null,e.apply(this,arguments)}}if(void 0!==e.tz)return m("Moment Timezone "+e.tz.version+" was already loaded "+(e.tz.dataVersion?"with data from ":"without any data")+e.tz.dataVersion),e;var x="0.4.1",w={},_={},k={},S=e.version.split("."),A=+S[0],T=+S[1];(A<2||2===A&&T<6)&&m("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,a,i=+e,o=this.offsets,s=this.untils,l=s.length-1;for(a=0;a<l;a++)if(t=o[a],n=o[a+1],r=o[a?a-1:a],t<n&&v.moveAmbiguousForward?t=n:t>r&&v.moveInvalidForward&&(t=r),i<s[a]-6e4*t)return o[a];return o[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},v.version=x,v.dataVersion="",v._zones=w,v._links=_,v._names=k,v.add=c,v.link=p,v.load=f,v.zone=u,v.zoneExists=h,v.names=d,v.Zone=s,v.unpack=o,v.unpackBase60=n,v.needsOffset=g,v.moveInvalidForward=!0,v.moveAmbiguousForward=!1;var $=e.fn;e.tz=v,e.defaultZone=null,e.updateOffset=function(t,n){var r,a=e.defaultZone;void 0===t._z&&(a&&g(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(a.parse(t),"minutes")),t._z=a),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},$.tz=function(t){return t?(this._z=u(t),this._z?e.updateOffset(this):m("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},$.zoneName=y($.zoneName),$.zoneAbbr=y($.zoneAbbr),$.utc=b($.utc),e.tz.setDefault=function(t){return(A<2||2===A&&T<9)&&m("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?u(t):null,e};var C=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(C)?(C.push("_z"),C.push("_a")):C&&(C._z=null),f({version:"2015g",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],
links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),e})},{"./../../moment/moment.js":16}],15:[function(e,t,n){!function(r,a){"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"undefined"!=typeof t?a(e("../moment")):"function"==typeof define&&define.amd?define(["moment"],a):a(r.moment)}(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}});return t})},{"../moment":16}],16:[function(e,t,n){!function(e,r){"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return On.apply(null,arguments)}function r(e){On=e}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return Ee(e,t,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(e){return null==e._pf&&(e._pf=u()),e._pf}function p(e){if(null==e._isValid){var t=d(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=c(NaN);return null!=e?l(d(t),e):d(t).userInvalidated=!0,t}function h(e,t){var n,r,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=d(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Nn.length>0)for(n in Nn)r=Nn[n],a=t[r],"undefined"!=typeof a&&(e[r]=a);return e}function g(e){h(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),zn===!1&&(zn=!0,n.updateOffset(this),zn=!1)}function m(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return e<0?Math.ceil(e):Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function b(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&o++;return o+i}function x(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function _(e){for(var t,n,r,a,i=0;i<e.length;){for(a=w(e[i]).split("-"),t=a.length,n=w(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=k(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&b(a,n,!0)>=t-1)break;t--}i++}return null}function k(n){var r=null;if(!Bn[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Rn._abbr,e("./locale/"+n),S(r)}catch(a){}return Bn[n]}function S(e,t){var n;return e&&(n="undefined"==typeof t?T(e):A(e,t),n&&(Rn=n)),Rn._abbr}function A(e,t){return null!==t?(t.abbr=e,Bn[e]=Bn[e]||new x,Bn[e].set(t),S(e),Bn[e]):(delete Bn[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Rn;if(!a(e)){if(t=k(e))return t;e=[e]}return _(e)}function $(e,t){var n=e.toLowerCase();Fn[n]=Fn[n+"s"]=Fn[t]=e}function C(e){return"string"==typeof e?Fn[e]||Fn[e.toLowerCase()]:void 0}function M(e){var t,n,r={};for(n in e)s(e,n)&&(t=C(n),t&&(r[t]=e[n]));return r}function E(e,t){return function(r){return null!=r?(P(this,e,r),n.updateOffset(this,t),this):I(this,e)}}function I(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function P(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function j(e,t){var n;if("object"===("undefined"==typeof e?"undefined":_typeof(e)))for(n in e)this.set(n,e[n]);else if(e=C(e),"function"==typeof this[e])return this[e](t);return this}function D(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}function L(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(Vn[e]=a),t&&(Vn[t[0]]=function(){return D(a.apply(this,arguments),t[1],t[2])}),n&&(Vn[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function O(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,r=e.match(Hn);for(t=0,n=r.length;t<n;t++)Vn[r[t]]?r[t]=Vn[r[t]]:r[t]=O(r[t]);return function(a){var i="";for(t=0;t<n;t++)i+=r[t]instanceof Function?r[t].call(a,e):r[t];return i}}function N(e,t){return e.isValid()?(t=z(t,e.localeData()),qn[t]=qn[t]||R(t),qn[t](e)):e.localeData().invalidDate()}function z(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Un.lastIndex=0;r>=0&&Un.test(e);)e=e.replace(Un,n),Un.lastIndex=0,r-=1;return e}function B(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function F(e,t,n){or[e]=B(t)?t:function(e){return e&&n?n:t}}function H(e,t){return s(or,e)?or[e](t._strict,t._locale):new RegExp(U(e))}function U(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)sr[e[n]]=r}function V(e,t){q(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function G(e,t,n){null!=t&&s(sr,e)&&sr[e](t,n._a,n,e)}function W(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Y(e){return this._months[e.month()]}function X(e){return this._monthsShort[e.month()]}function Q(e,t,n){var r,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Z(e){return null!=e?(K(this,e),n.updateOffset(this,!0),this):I(this,"Month")}function J(){return W(this.year(),this.month())}function ee(e){var t,n=e._a;return n&&d(e).overflow===-2&&(t=n[cr]<0||n[cr]>11?cr:n[ur]<1||n[ur]>W(n[lr],n[cr])?ur:n[dr]<0||n[dr]>24||24===n[dr]&&(0!==n[pr]||0!==n[fr]||0!==n[hr])?dr:n[pr]<0||n[pr]>59?pr:n[fr]<0||n[fr]>59?fr:n[hr]<0||n[hr]>999?hr:-1,d(e)._overflowDayOfYear&&(t<lr||t>ur)&&(t=ur),d(e).overflow=t),e}function te(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function ne(e,t){var n=!0;return l(function(){return n&&(te(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function re(e,t){vr[e]||(te(t),vr[e]=!0)}function ae(e){var t,n,r=e._i,a=yr.exec(r);if(a){for(d(e).iso=!0,t=0,n=br.length;t<n;t++)if(br[t][1].exec(r)){e._f=br[t][0];break}for(t=0,n=xr.length;t<n;t++)if(xr[t][1].exec(r)){e._f+=(a[6]||" ")+xr[t][0];break}r.match(rr)&&(e._f+="Z"),ke(e)}else e._isValid=!1}function ie(e){var t=wr.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(ae(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function oe(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);return e<1970&&s.setFullYear(e),s}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function le(e){return ce(e)?366:365}function ce(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return ce(this.year())}function de(e,t,n){var r,a=n-t,i=n-e.day();return i>a&&(i-=7),i<a-7&&(i+=7),r=Ie(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function pe(e){return de(e,this._week.dow,this._week.doy).week}function fe(){return this._week.dow}function he(){return this._week.doy}function ge(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function me(e){var t=de(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ve(e,t,n,r,a){var i,o=6+a-r,s=se(e,0,1+o),l=s.getUTCDay();return l<a&&(l+=7),n=null!=n?1*n:a,i=1+o+7*(t-1)-l+n,{year:i>0?e:e-1,dayOfYear:i>0?i:le(e-1)+i}}function ye(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function be(e,t,n){return null!=e?e:null!=t?t:n}function xe(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function we(e){var t,n,r,a,i=[];if(!e._d){for(r=xe(e),e._w&&null==e._a[ur]&&null==e._a[cr]&&_e(e),e._dayOfYear&&(a=be(e._a[lr],r[lr]),e._dayOfYear>le(a)&&(d(e)._overflowDayOfYear=!0),n=se(a,0,e._dayOfYear),e._a[cr]=n.getUTCMonth(),e._a[ur]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[dr]&&0===e._a[pr]&&0===e._a[fr]&&0===e._a[hr]&&(e._nextDay=!0,e._a[dr]=0),e._d=(e._useUTC?se:oe).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[dr]=24)}}function _e(e){var t,n,r,a,i,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,o=4,n=be(t.GG,e._a[lr],de(Ie(),1,4).year),r=be(t.W,1),a=be(t.E,1)):(i=e._locale._week.dow,o=e._locale._week.doy,n=be(t.gg,e._a[lr],de(Ie(),i,o).year),r=be(t.w,1),null!=t.d?(a=t.d,a<i&&++r):a=null!=t.e?t.e+i:i),s=ve(n,r,a,o,i),e._a[lr]=s.year,e._dayOfYear=s.dayOfYear}function ke(e){if(e._f===n.ISO_8601)return void ae(e);e._a=[],d(e).empty=!0;var t,r,a,i,o,s=""+e._i,l=s.length,c=0;for(a=z(e._f,e._locale).match(Hn)||[],t=0;t<a.length;t++)i=a[t],r=(s.match(H(i,e))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&d(e).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Vn[i]?(r?d(e).empty=!1:d(e).unusedTokens.push(i),G(i,r,e)):e._strict&&!r&&d(e).unusedTokens.push(i);d(e).charsLeftOver=l-c,s.length>0&&d(e).unusedInput.push(s),d(e).bigHour===!0&&e._a[dr]<=12&&e._a[dr]>0&&(d(e).bigHour=void 0),e._a[dr]=Se(e._locale,e._a[dr],e._meridiem),we(e),ee(e)}function Se(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Ae(e){var t,n,r,a,i;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)i=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],ke(t),p(t)&&(i+=d(t).charsLeftOver,i+=10*d(t).unusedTokens.length,d(t).score=i,(null==r||i<r)&&(r=i,n=t));l(e,n||t)}function Te(e){if(!e._d){var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],we(e)}}function $e(e){var t=new g(ee(Ce(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ce(e){var t=e._i,n=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new g(ee(t)):(a(n)?Ae(e):n?ke(e):i(t)?e._d=t:Me(e),e))}function Me(e){var t=e._i;void 0===t?e._d=new Date:i(t)?e._d=new Date((+t)):"string"==typeof t?ie(e):a(t)?(e._a=o(t.slice(0),function(e){return parseInt(e,10)}),we(e)):"object"===("undefined"==typeof t?"undefined":_typeof(t))?Te(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Ee(e,t,n,r,a){var i={};return"boolean"==typeof n&&(r=n,n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,$e(i)}function Ie(e,t,n,r){return Ee(e,t,n,r,!1)}function Pe(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Ie();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function je(){var e=[].slice.call(arguments,0);return Pe("isBefore",e)}function De(){var e=[].slice.call(arguments,0);return Pe("isAfter",e)}function Le(e){var t=M(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=T(),this._bubble()}function Oe(e){return e instanceof Le}function Re(e,t){L(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)})}function Ne(e){var t=(e||"").match(rr)||[],n=t[t.length-1]||[],r=(n+"").match(Tr)||["-",0,0],a=+(60*r[1])+y(r[2]);return"+"===r[0]?a:-a}function ze(e,t){var r,a;return t._isUTC?(r=t.clone(),a=(m(e)||i(e)?+e:+Ie(e))-+r,r._d.setTime(+r._d+a),n.updateOffset(r,!1),r):Ie(e).local()}function Be(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Fe(e,t){var r,a=this._offset||0;return null!=e?("string"==typeof e&&(e=Ne(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(r=Be(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?rt(this,Ze(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Be(this)}function He(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ue(e){return this.utcOffset(0,e)}function qe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Be(this),"m")),this}function Ve(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ne(this._i)),this}function Ge(e){return e=e?Ie(e).utcOffset():0,(this.utcOffset()-e)%60===0}function We(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=Ce(e),e._a){var t=e._isUTC?c(e._a):Ie(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xe(){return!this._isUTC}function Qe(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Ze(e,t){var n,r,a,i=e,o=null;return Oe(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(o=$r.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:y(o[ur])*n,h:y(o[dr])*n,m:y(o[pr])*n,s:y(o[fr])*n,ms:y(o[hr])*n}):(o=Cr.exec(e))?(n="-"===o[1]?-1:1,i={y:Je(o[2],n),M:Je(o[3],n),d:Je(o[4],n),h:Je(o[5],n),m:Je(o[6],n),s:Je(o[7],n),w:Je(o[8],n)}):null==i?i={}:"object"===("undefined"==typeof i?"undefined":_typeof(i))&&("from"in i||"to"in i)&&(a=tt(Ie(i.from),Ie(i.to)),i={},i.ms=a.milliseconds,i.M=a.months),r=new Le(i),Oe(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Je(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function et(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tt(e,t){var n;return t=ze(t,e),e.isBefore(t)?n=et(e,t):(n=et(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nt(e,t){return function(n,r){var a,i;return null===r||isNaN(+r)||(re(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,a=Ze(n,r),rt(this,a,e),this}}function rt(e,t,r,a){var i=t._milliseconds,o=t._days,s=t._months;a=null==a||a,i&&e._d.setTime(+e._d+i*r),o&&P(e,"Date",I(e,"Date")+o*r),s&&K(e,I(e,"Month")+s*r),a&&n.updateOffset(e,o||s)}function at(e,t){var n=e||Ie(),r=ze(n,this).startOf("day"),a=this.diff(r,"days",!0),i=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse";return this.format(t&&t[i]||this.localeData().calendar(i,this,Ie(n)))}function it(){return new g(this)}function ot(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ie(e),+this>+e):(n=m(e)?+e:+Ie(e),n<+this.clone().startOf(t))}function st(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Ie(e),+this<+e):(n=m(e)?+e:+Ie(e),+this.clone().endOf(t)<n)}function lt(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ct(e,t){var n;return t=C(t||"millisecond"),"millisecond"===t?(e=m(e)?e:Ie(e),+this===+e):(n=+Ie(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ut(e,t,n){var r,a,i=ze(e,this),o=6e4*(i.utcOffset()-this.utcOffset());return t=C(t),"year"===t||"month"===t||"quarter"===t?(a=dt(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-i,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?a:v(a)}function dt(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return t-i<0?(n=e.clone().add(a-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),r=(t-i)/(n-i)),-(a+r)}function pt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ft(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(e){var t=N(this,e||n.defaultFormat);return this.localeData().postformat(t)}function gt(e,t){return this.isValid()?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.from(Ie(),e)}function vt(e,t){return this.isValid()?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yt(e){return this.to(Ie(),e)}function bt(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function xt(){return this._locale}function wt(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _t(e){return e=C(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function kt(){return+this._d-6e4*(this._offset||0)}function St(){return Math.floor(+this/1e3)}function At(){return this._offset?new Date((+this)):this._d}function Tt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $t(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ct(){return p(this)}function Mt(){return l({},d(this))}function Et(){return d(this).overflow}function It(e,t){L(0,[e,e.length],0,t)}function Pt(e,t,n){return de(Ie([e,11,31+t-n]),t,n).week}function jt(e){
var t=de(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Dt(e){var t=de(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Lt(){return Pt(this.year(),1,4)}function Ot(){var e=this.localeData()._week;return Pt(this.year(),e.dow,e.doy)}function Rt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function zt(e){return this._weekdays[e.day()]}function Bt(e){return this._weekdaysShort[e.day()]}function Ft(e){return this._weekdaysMin[e.day()]}function Ht(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(n=Ie([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ut(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Vt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gt(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Wt(e,t){return t._meridiemParse}function Yt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qt(e,t){t[hr]=y(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Zt(){return this._isUTC?"Coordinated Universal Time":""}function Jt(e){return Ie(1e3*e)}function en(){return Ie.apply(null,arguments).parseZone()}function tn(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function nn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rn(){return this._invalidDate}function an(e){return this._ordinal.replace("%d",e)}function on(e){return e}function sn(e,t,n,r){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,r):a.replace(/%d/i,e)}function ln(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function cn(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(e,t,n,r){var a=T(),i=c().set(r,t);return a[n](i,e)}function dn(e,t,n,r,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return un(e,t,n,a);var i,o=[];for(i=0;i<r;i++)o[i]=un(e,i,n,a);return o}function pn(e,t){return dn(e,t,"months",12,"month")}function fn(e,t){return dn(e,t,"monthsShort",12,"month")}function hn(e,t){return dn(e,t,"weekdays",7,"day")}function gn(e,t){return dn(e,t,"weekdaysShort",7,"day")}function mn(e,t){return dn(e,t,"weekdaysMin",7,"day")}function vn(){var e=this._data;return this._milliseconds=Kr(this._milliseconds),this._days=Kr(this._days),this._months=Kr(this._months),e.milliseconds=Kr(e.milliseconds),e.seconds=Kr(e.seconds),e.minutes=Kr(e.minutes),e.hours=Kr(e.hours),e.months=Kr(e.months),e.years=Kr(e.years),this}function yn(e,t,n,r){var a=Ze(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function bn(e,t){return yn(this,e,t,1)}function xn(e,t){return yn(this,e,t,-1)}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function _n(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,l=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*wn(Sn(s)+o),o=0,s=0),l.milliseconds=i%1e3,e=v(i/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,n=v(t/60),l.hours=n%24,o+=v(n/24),a=v(kn(o)),s+=a,o-=wn(Sn(a)),r=v(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function kn(e){return 4800*e/146097}function Sn(e){return 146097*e/4800}function An(e){var t,n,r=this._milliseconds;if(e=C(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+kn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Sn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Tn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function $n(e){return function(){return this.as(e)}}function Cn(e){return e=C(e),this[e+"s"]()}function Mn(e){return function(){return this._data[e]}}function En(){return v(this.days()/7)}function In(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function Pn(e,t,n){var r=Ze(e).abs(),a=fa(r.as("s")),i=fa(r.as("m")),o=fa(r.as("h")),s=fa(r.as("d")),l=fa(r.as("M")),c=fa(r.as("y")),u=a<ha.s&&["s",a]||1===i&&["m"]||i<ha.m&&["mm",i]||1===o&&["h"]||o<ha.h&&["hh",o]||1===s&&["d"]||s<ha.d&&["dd",s]||1===l&&["M"]||l<ha.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,In.apply(null,u)}function jn(e,t){return void 0!==ha[e]&&(void 0===t?ha[e]:(ha[e]=t,!0))}function Dn(e){var t=this.localeData(),n=Pn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ln(){var e,t,n,r=ga(this._milliseconds)/1e3,a=ga(this._days),i=ga(this._months);e=v(r/60),t=v(e/60),r%=60,e%=60,n=v(i/12),i%=12;var o=n,s=i,l=a,c=t,u=e,d=r,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var On,Rn,Nn=n.momentProperties=[],zn=!1,Bn={},Fn={},Hn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Un=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qn={},Vn={},Gn=/\d/,Wn=/\d\d/,Yn=/\d{3}/,Xn=/\d{4}/,Qn=/[+-]?\d{6}/,Kn=/\d\d?/,Zn=/\d{1,3}/,Jn=/\d{1,4}/,er=/[+-]?\d{1,6}/,tr=/\d+/,nr=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,ar=/[+-]?\d+(\.\d{1,3})?/,ir=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,or={},sr={},lr=0,cr=1,ur=2,dr=3,pr=4,fr=5,hr=6;L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),$("month","M"),F("M",Kn),F("MM",Kn,Wn),F("MMM",ir),F("MMMM",ir),q(["M","MM"],function(e,t){t[cr]=y(e)-1}),q(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[cr]=a:d(n).invalidMonth=e});var gr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vr={};n.suppressDeprecationWarnings=!1;var yr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],xr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wr=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),$("year","y"),F("Y",nr),F("YY",Kn,Wn),F("YYYY",Jn,Xn),F("YYYYY",er,Qn),F("YYYYYY",er,Qn),q(["YYYYY","YYYYYY"],lr),q("YYYY",function(e,t){t[lr]=2===e.length?n.parseTwoDigitYear(e):y(e)}),q("YY",function(e,t){t[lr]=n.parseTwoDigitYear(e)}),n.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var _r=E("FullYear",!1);L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),F("w",Kn),F("ww",Kn,Wn),F("W",Kn),F("WW",Kn,Wn),V(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=y(e)});var kr={dow:0,doy:6};L("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),F("DDD",Zn),F("DDDD",Yn),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),n.ISO_8601=function(){};var Sr=ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return e<this?this:e}),Ar=ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return e>this?this:e});Re("Z",":"),Re("ZZ",""),F("Z",rr),F("ZZ",rr),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ne(e)});var Tr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var $r=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Cr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ze.fn=Le.prototype;var Mr=nt(1,"add"),Er=nt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ir=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),F("G",nr),F("g",nr),F("GG",Kn,Wn),F("gg",Kn,Wn),F("GGGG",Jn,Xn),F("gggg",Jn,Xn),F("GGGGG",er,Qn),F("ggggg",er,Qn),V(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=y(e)}),V(["gg","GG"],function(e,t,r,a){t[a]=n.parseTwoDigitYear(e)}),L("Q",0,0,"quarter"),$("quarter","Q"),F("Q",Gn),q("Q",function(e,t){t[cr]=3*(y(e)-1)}),L("D",["DD",2],"Do","date"),$("date","D"),F("D",Kn),F("DD",Kn,Wn),F("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),q(["D","DD"],ur),q("Do",function(e,t){t[ur]=y(e.match(Kn)[0],10)});var Pr=E("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),F("d",Kn),F("e",Kn),F("E",Kn),F("dd",ir),F("ddd",ir),F("dddd",ir),V(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:d(n).invalidWeekday=e}),V(["d","e","E"],function(e,t,n,r){t[r]=y(e)});var jr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");L("H",["HH",2],0,"hour"),L("h",["hh",2],0,function(){return this.hours()%12||12}),Gt("a",!0),Gt("A",!1),$("hour","h"),F("a",Wt),F("A",Wt),F("H",Kn),F("h",Kn),F("HH",Kn,Wn),F("hh",Kn,Wn),q(["H","HH"],dr),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[dr]=y(e),d(n).bigHour=!0});var Or=/[ap]\.?m?\.?/i,Rr=E("Hours",!0);L("m",["mm",2],0,"minute"),$("minute","m"),F("m",Kn),F("mm",Kn,Wn),q(["m","mm"],pr);var Nr=E("Minutes",!1);L("s",["ss",2],0,"second"),$("second","s"),F("s",Kn),F("ss",Kn,Wn),q(["s","ss"],fr);var zr=E("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),$("millisecond","ms"),F("S",Zn,Gn),F("SS",Zn,Wn),F("SSS",Zn,Yn);var Br;for(Br="SSSS";Br.length<=9;Br+="S")F(Br,tr);for(Br="S";Br.length<=9;Br+="S")q(Br,Qt);var Fr=E("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var Hr=g.prototype;Hr.add=Mr,Hr.calendar=at,Hr.clone=it,Hr.diff=ut,Hr.endOf=_t,Hr.format=ht,Hr.from=gt,Hr.fromNow=mt,Hr.to=vt,Hr.toNow=yt,Hr.get=j,Hr.invalidAt=Et,Hr.isAfter=ot,Hr.isBefore=st,Hr.isBetween=lt,Hr.isSame=ct,Hr.isValid=Ct,Hr.lang=Ir,Hr.locale=bt,Hr.localeData=xt,Hr.max=Ar,Hr.min=Sr,Hr.parsingFlags=Mt,Hr.set=j,Hr.startOf=wt,Hr.subtract=Er,Hr.toArray=Tt,Hr.toObject=$t,Hr.toDate=At,Hr.toISOString=ft,Hr.toJSON=ft,Hr.toString=pt,Hr.unix=St,Hr.valueOf=kt,Hr.year=_r,Hr.isLeapYear=ue,Hr.weekYear=jt,Hr.isoWeekYear=Dt,Hr.quarter=Hr.quarters=Rt,Hr.month=Z,Hr.daysInMonth=J,Hr.week=Hr.weeks=ge,Hr.isoWeek=Hr.isoWeeks=me,Hr.weeksInYear=Ot,Hr.isoWeeksInYear=Lt,Hr.date=Pr,Hr.day=Hr.days=Ut,Hr.weekday=qt,Hr.isoWeekday=Vt,Hr.dayOfYear=ye,Hr.hour=Hr.hours=Rr,Hr.minute=Hr.minutes=Nr,Hr.second=Hr.seconds=zr,Hr.millisecond=Hr.milliseconds=Fr,Hr.utcOffset=Fe,Hr.utc=Ue,Hr.local=qe,Hr.parseZone=Ve,Hr.hasAlignedHourOffset=Ge,Hr.isDST=We,Hr.isDSTShifted=Ye,Hr.isLocal=Xe,Hr.isUtcOffset=Qe,Hr.isUtc=Ke,Hr.isUTC=Ke,Hr.zoneAbbr=Kt,Hr.zoneName=Zt,Hr.dates=ne("dates accessor is deprecated. Use date instead.",Pr),Hr.months=ne("months accessor is deprecated. Use month instead",Z),Hr.years=ne("years accessor is deprecated. Use year instead",_r),Hr.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",He);var Ur=Hr,qr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Vr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Gr="Invalid date",Wr="%d",Yr=/\d{1,2}/,Xr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Qr=x.prototype;Qr._calendar=qr,Qr.calendar=tn,Qr._longDateFormat=Vr,Qr.longDateFormat=nn,Qr._invalidDate=Gr,Qr.invalidDate=rn,Qr._ordinal=Wr,Qr.ordinal=an,Qr._ordinalParse=Yr,Qr.preparse=on,Qr.postformat=on,Qr._relativeTime=Xr,Qr.relativeTime=sn,Qr.pastFuture=ln,Qr.set=cn,Qr.months=Y,Qr._months=gr,Qr.monthsShort=X,Qr._monthsShort=mr,Qr.monthsParse=Q,Qr.week=pe,Qr._week=kr,Qr.firstDayOfYear=he,Qr.firstDayOfWeek=fe,Qr.weekdays=zt,Qr._weekdays=jr,Qr.weekdaysMin=Ft,Qr._weekdaysMin=Lr,Qr.weekdaysShort=Bt,Qr._weekdaysShort=Dr,Qr.weekdaysParse=Ht,Qr.isPM=Yt,Qr._meridiemParse=Or,Qr.meridiem=Xt,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=ne("moment.lang is deprecated. Use moment.locale instead.",S),n.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",T);var Kr=Math.abs,Zr=$n("ms"),Jr=$n("s"),ea=$n("m"),ta=$n("h"),na=$n("d"),ra=$n("w"),aa=$n("M"),ia=$n("y"),oa=Mn("milliseconds"),sa=Mn("seconds"),la=Mn("minutes"),ca=Mn("hours"),ua=Mn("days"),da=Mn("months"),pa=Mn("years"),fa=Math.round,ha={s:45,m:45,h:22,d:26,M:11},ga=Math.abs,ma=Le.prototype;ma.abs=vn,ma.add=bn,ma.subtract=xn,ma.as=An,ma.asMilliseconds=Zr,ma.asSeconds=Jr,ma.asMinutes=ea,ma.asHours=ta,ma.asDays=na,ma.asWeeks=ra,ma.asMonths=aa,ma.asYears=ia,ma.valueOf=Tn,ma._bubble=_n,ma.get=Cn,ma.milliseconds=oa,ma.seconds=sa,ma.minutes=la,ma.hours=ca,ma.days=ua,ma.weeks=En,ma.months=da,ma.years=pa,ma.humanize=Dn,ma.toISOString=Ln,ma.toString=Ln,ma.toJSON=Ln,ma.locale=bt,ma.localeData=xt,ma.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ln),ma.lang=Ir,L("X",0,0,"unix"),L("x",0,0,"valueOf"),F("x",nr),F("X",ar),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(y(e))}),n.version="2.10.6",r(Ie),n.fn=Ur,n.min=je,n.max=De,n.utc=c,n.unix=Jt,n.months=pn,n.isDate=i,n.locale=S,n.invalid=f,n.duration=Ze,n.isMoment=m,n.weekdays=hn,n.parseZone=en,n.localeData=T,n.isDuration=Oe,n.monthsShort=fn,n.weekdaysMin=mn,n.defineLocale=A,n.weekdaysShort=gn,n.normalizeUnits=C,n.relativeTimeThreshold=jn;var va=n;return va})},{}],17:[function(e,t,n){!function(e,t){"use strict";return"function"==typeof define&&define.amd?void define(["angular"],function(e){return t(e)}):t(e)}(window.angular||null,function(e){"use strict";var t=e.module("ngTable",[]);return t.value("ngTableDefaults",{params:{},settings:{}}),t.factory("NgTableParams",["$q","$log","ngTableDefaults",function(t,n,r){var a=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i=function(i,o){var s=this,l=function(){u.debugMode&&n.debug&&n.debug.apply(this,arguments)};this.data=[],this.parameters=function(t,n){if(n=n||!1,e.isDefined(t)){for(var r in t){var i=t[r];if(n&&r.indexOf("[")>=0){for(var o=r.split(/\[(.*)\]/).reverse(),s="",u=0,d=o.length;d>u;u++){var p=o[u];if(""!==p){var f=i;i={},i[s=p]=a(f)?parseFloat(f):f}}"sorting"===s&&(c[s]={}),c[s]=e.extend(c[s]||{},i[s])}else c[r]=a(t[r])?parseFloat(t[r]):t[r]}return l("ngTable: set parameters",c),this}return c},this.settings=function(t){return e.isDefined(t)?(e.isArray(t.data)&&(t.total=t.data.length),u=e.extend(u,t),l("ngTable: set settings",u),this):u},this.page=function(t){return e.isDefined(t)?this.parameters({page:t}):c.page},this.total=function(t){return e.isDefined(t)?this.settings({total:t}):u.total},this.count=function(t){return e.isDefined(t)?this.parameters({count:t,page:1}):c.count},this.filter=function(t){return e.isDefined(t)?this.parameters({filter:t,page:1}):c.filter},this.sorting=function(t){if(2==arguments.length){var n={};return n[t]=arguments[1],this.parameters({sorting:n}),this}return e.isDefined(t)?this.parameters({sorting:t}):c.sorting},this.isSortBy=function(t,n){return e.isDefined(c.sorting[t])&&e.equals(c.sorting[t],n)},this.orderBy=function(){var e=[];for(var t in c.sorting)e.push(("asc"===c.sorting[t]?"+":"-")+t);return e},this.getData=function(t,n){return t.resolve(e.isArray(this.data)&&e.isObject(n)?this.data.slice((n.page()-1)*n.count(),n.page()*n.count()):[]),t.promise},this.getGroups=function(n,r){var a=t.defer();return a.promise.then(function(t){var a={};e.forEach(t,function(t){var n=e.isFunction(r)?r(t):t[r];a[n]=a[n]||{data:[]},a[n].value=n,a[n].data.push(t)});var i=[];for(var o in a)i.push(a[o]);l("ngTable: refresh groups",i),n.resolve(i)}),this.getData(a,s)},this.generatePagesArray=function(e,t,n,r){var a,i,o,s,l;if(r=r&&6>r?6:r,l=[],s=Math.ceil(t/n),s>1){l.push({type:"prev",number:Math.max(1,e-1),active:e>1}),l.push({type:"first",number:1,active:e>1,current:1===e}),i=Math.round((u.paginationMaxBlocks-u.paginationMinBlocks)/2),o=Math.max(2,e-i),a=Math.min(s-1,e+2*i-(e-o)),o=Math.max(2,o-(2*i-(a-o)));for(var c=o;a>=c;)l.push(c===o&&2!==c||c===a&&c!==s-1?{type:"more",active:!1}:{type:"page",number:c,active:e!==c,current:e===c}),c++;l.push({type:"last",number:s,active:e!==s,current:e===s}),l.push({type:"next",number:Math.min(s,e+1),active:s>e})}return l},this.url=function(t){t=t||!1;var n=t?[]:{};for(var r in c)if(c.hasOwnProperty(r)){var a=c[r],i=encodeURIComponent(r);if("object"==("undefined"==typeof a?"undefined":_typeof(a))){for(var o in a)if(!e.isUndefined(a[o])&&""!==a[o]){var s=i+"["+encodeURIComponent(o)+"]";t?n.push(s+"="+a[o]):n[s]=a[o]}}else e.isFunction(a)||e.isUndefined(a)||""===a||(t?n.push(i+"="+encodeURIComponent(a)):n[i]=encodeURIComponent(a))}return n},this.reload=function(){var e=t.defer(),n=this,r=null;if(u.$scope)return u.$loading=!0,r=u.groupBy?u.getGroups(e,u.groupBy,this):u.getData(e,this),l("ngTable: reload data"),r||(r=e.promise),r.then(function(e){return u.$loading=!1,l("ngTable: current scope",u.$scope),u.groupBy?(n.data=e,u.$scope&&(u.$scope.$groups=e)):(n.data=e,u.$scope&&(u.$scope.$data=e)),u.$scope&&(u.$scope.pages=n.generatePagesArray(n.page(),n.total(),n.count()),u.$scope.$emit("ngTableAfterReloadData")),e})},this.reloadPages=function(){var e=this;u.$scope.pages=e.generatePagesArray(e.page(),e.total(),e.count())};var c=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};e.extend(c,r.params);var u={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span",getGroups:this.getGroups,getData:this.getData};return e.extend(u,r.settings),this.settings(o),this.parameters(i,!0),this};return i}]),t.factory("ngTableParams",["NgTableParams",function(e){return e}]),t.controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn",function(t,n,r,a,i,o,s,l){function c(){t.params.$params.page=1}var u=!0;t.$filterRow={},t.$loading=!1,t.hasOwnProperty("params")||(t.params=new n,t.params.isNullInstance=!0),t.params.settings().$scope=t;var d=function(){var e=0;return function(t,n){r.cancel(e),e=r(t,n)}}();t.$watch("params.$params",function(n,r){if(n!==r){if(t.params.settings().$scope=t,e.equals(n.filter,r.filter))t.params.reload();else{var a=u?e.noop:c;d(function(){a(),t.params.reload()},t.params.settings().filterDelay)}t.params.isNullInstance||(u=!1)}},!0),this.compileDirectiveTemplates=function(){if(!s.hasClass("ng-table")){t.templates={header:o.templateHeader?o.templateHeader:"ng-table/header.html",pagination:o.templatePagination?o.templatePagination:"ng-table/pager.html"},s.addClass("ng-table");var n=null;0===s.find("> thead").length&&(n=e.element(document.createElement("thead")).attr("ng-include","templates.header"),s.prepend(n));var r=e.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});s.after(r),n&&i(n)(t),i(r)(t)}},this.loadFilterData=function(n){e.forEach(n,function(n){var r;return r=n.filterData(t,{$column:n}),r?e.isObject(r)&&e.isObject(r.promise)?(delete n.filterData,r.promise.then(function(t){e.isArray(t)||e.isFunction(t)||e.isObject(t)?e.isArray(t)&&t.unshift({title:"-",id:""}):t=[],n.data=t})):n.data=r:void delete n.filterData})},this.buildColumns=function(e){return e.map(function(e){return l.buildColumn(e,t)})},this.setupBindingsToInternalScope=function(n){var r=a(n);t.$watch(r,function(n){e.isUndefined(n)||(t.paramsModel=r,t.params=n)},!1),o.showFilter&&t.$parent.$watch(o.showFilter,function(e){t.show_filter=e}),o.disableFilter&&t.$parent.$watch(o.disableFilter,function(e){t.$filterRow.disabled=e})},t.sortBy=function(e,n){var r=e.sortable&&e.sortable();if(r){var a=t.params.settings().defaultSort,i="asc"===a?"desc":"asc",o=t.params.sorting()&&t.params.sorting()[r]&&t.params.sorting()[r]===a,s=n.ctrlKey||n.metaKey?t.params.sorting():{};s[r]=o?i:a,t.params.parameters({sorting:s})}}}]),t.factory("ngTableColumn",[function(){function t(t,r){var a=Object.create(t);for(var i in n)void 0===a[i]&&(a[i]=n[i]),e.isFunction(a[i])||!function(e){a[e]=function(){return t[e]}}(i),function(e){var n=a[e];a[e]=function(){return 0===arguments.length?n.call(t,r):n.apply(t,arguments)}}(i);return a}var n={"class":function(){return""},filter:function(){return!1},filterData:e.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return""},sortable:function(){return!1},show:function(){return!0},title:function(){return""},titleAlt:function(){return""}};return{buildColumn:t}}]),t.directive("ngTable",["$q","$parse",function(t,n){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var r=[],a=0,i=null;return e.forEach(e.element(t.find("tr")),function(t){t=e.element(t),t.hasClass("ng-table-group")||i||(i=t)}),i?(e.forEach(i.find("td"),function(t){var i=e.element(t);if(!i.attr("ignore-cell")||"true"!==i.attr("ignore-cell")){var o=function(e){return i.attr("x-data-"+e)||i.attr("data-"+e)||i.attr(e)},s=function(t){var a=o(t);return a?function(t,i){return n(a)(t,e.extend(i||{},{$columns:r}))}:void 0},l=o("title-alt")||o("title");l&&i.attr("data-title-text","{{"+l+"}}"),r.push({id:a++,title:s("title"),titleAlt:s("title-alt"),headerTitle:s("header-title"),sortable:s("sortable"),"class":s("header-class"),filter:s("filter"),headerTemplateURL:s("header"),filterData:s("filter-data"),show:i.attr("ng-show")?function(e){return n(i.attr("ng-show"))(e)}:void 0})}}),function(e,t,n,a){e.$columns=r=a.buildColumns(r),a.setupBindingsToInternalScope(n.ngTable),a.loadFilterData(r),a.compileDirectiveTemplates()}):void 0}}}]),t.directive("ngTableDynamic",["$parse",function(){function t(e){if(!e||e.indexOf(" with ")>-1){var t=e.split(/\s+with\s+/);return{tableParams:t[0],columns:t[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")}return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(n){var r;return e.forEach(e.element(n.find("tr")),function(t){t=e.element(t),t.hasClass("ng-table-group")||r||(r=t)}),r?(e.forEach(r.find("td"),function(t){var n=e.element(t),r=function(e){return n.attr("x-data-"+e)||n.attr("data-"+e)||n.attr(e)},a=r("title");a||n.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var i=n.attr("ng-show");i||n.attr("ng-show","$columns[$index].show(this)")}),function(e,n,r,a){var i=t(r.ngTableDynamic);a.setupBindingsToInternalScope(i.tableParams),a.compileDirectiveTemplates(),e.$watchCollection(i.columns,function(t){e.$columns=a.buildColumns(t),a.loadFilterData(e.$columns)})}):void 0}}}]),t.directive("ngTablePagination",["$compile",function(t){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,r){var a=n.params.settings();a.$scope.$on("ngTableAfterReloadData",function(){var e=n.params.page(),t=n.params.total(),r=n.params.count(),i=a.paginationMaxBlocks;n.pages=n.params.generatePagesArray(e,t,r,i)},!0),n.$watch("templateUrl",function(a){if(!e.isUndefined(a)){var i=e.element(document.createElement("div"));i.attr({"ng-include":"templateUrl"}),r.append(i),t(i)(n)}})}}}]),e.module("ngTable").run(["$templateCache",function(e){e.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{name}}"> </select>'),e.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{name}}"> </select>'),e.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control"/>'),e.put("ng-table/header.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns | orderBy:\'position\'" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-show="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" ng-show="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-show="template" ng-include="template"></div> </th> </tr> <tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns | orderBy:\'position\'" ng-show="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-if="filter.indexOf(\'/\') !==-1" ng-include="filter"></div> <div ng-if="filter.indexOf(\'/\')===-1" ng-include="\'ng-table/filters/\' + filter + \'.html\'"></div> </div> </th> </tr> '),e.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ')}]),t})},{}],18:[function(e,t,n){!function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],r=angular.module("ngTagsInput",[]);r.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(r,a,i,o,s,l){function c(e,t,n,r){var a,i,s,c,u={};return a=function(t){return l.safeToString(t[e.displayProperty])},i=function(t,n){t[e.displayProperty]=n},s=function(t){var r=a(t),i=r&&r.length>=e.minLength&&r.length<=e.maxLength&&e.allowedTagsPattern.test(r)&&!l.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return o.when(i&&n({$tag:t})).then(l.promisifyValue)},c=function(e){return o.when(r({$tag:e})).then(l.promisifyValue)},u.items=[],u.addText=function(e){var t={};return i(t,e),u.add(t)},u.add=function(n){var r=a(n);return e.replaceSpacesWithDashes&&(r=l.replaceSpacesWithDashes(r)),i(n,r),s(n).then(function(){u.items.push(n),t.trigger("tag-added",{$tag:n})})["catch"](function(){r&&t.trigger("invalid-tag",{$tag:n})})},u.remove=function(e){var n=u.items[e];return c(n).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},u.select=function(e){e<0?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.clearSelection(),u}function u(e){return n.indexOf(e)!==-1}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,r){e.events=l.simplePubSub(),s.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],
maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),e.tagList=new c(e.options,e.events,l.handleUndefinedResult(e.onTagAdding,!0),l.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){r.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,o,s){var c,u,d=[e.enter,e.comma,e.space,e.backspace,e["delete"],e.left,e.right],p=t.tagList,f=t.events,h=t.options,g=n.find("input"),m=["minTags","maxTags","allowLeftoverText"];c=function(){s.$setValidity("maxTags",p.items.length<=h.maxTags),s.$setValidity("minTags",p.items.length>=h.minTags),s.$setValidity("leftoverText",!(!t.hasFocus&&!h.allowLeftoverText)||!t.newTag.text())},u=function(){r(function(){g[0].focus()})},s.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,void f.trigger("input-change",e)):t.text||""},invalid:null},t.track=function(e){return e[h.keyProperty||h.displayProperty]},t.getTagClass=function(e,n){var r=e===p.selected;return[t.tagClass({$tag:e,$index:n,$selected:r}),{selected:r}]},t.$watch("tags",function(e){e?(p.items=l.makeObjectArray(e,h.displayProperty),t.tags=p.items):p.items=[]}),t.$watch("tags.length",function(){c(),s.$validate()}),o.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){f.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,f.trigger("input-focus"))},blur:function(){r(function(){var e=a.prop("activeElement"),r=e===g[0],i=n[0].contains(e);!r&&i||(t.hasFocus=!1,f.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):i.clipboardData.getData("Text")},f.trigger("input-paste",e)}},host:{click:function(){t.disabled||u()}},tag:{click:function(e){f.trigger("tag-clicked",{$tag:e})}}},f.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=p.items,s.$setDirty(),u()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){m.indexOf(e.name)!==-1&&c()}).on("input-change",function(){p.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),s.$setValidity("leftoverText",!0)}).on("input-blur",function(){h.addOnBlur&&!h.addFromAutocompleteOnly&&p.addText(t.newTag.text()),n.triggerHandler("blur"),c()}).on("input-keydown",function(n){var r,a,i,o,s=n.keyCode,c={};l.isModifierOn(n)||d.indexOf(s)===-1||(c[e.enter]=h.addOnEnter,c[e.comma]=h.addOnComma,c[e.space]=h.addOnSpace,r=!h.addFromAutocompleteOnly&&c[s],a=(s===e.backspace||s===e["delete"])&&p.selected,o=s===e.backspace&&0===t.newTag.text().length&&h.enableEditingLastTag,i=(s===e.backspace||s===e.left||s===e.right)&&0===t.newTag.text().length&&!h.enableEditingLastTag,r?p.addText(t.newTag.text()):o?(p.selectPrior(),p.removeSelected().then(function(e){e&&t.newTag.text(e[h.displayProperty])})):a?p.removeSelected():i&&(s===e.left||s===e.backspace?p.selectPrior():s===e.right&&p.selectNext()),(r||i||a||o)&&n.preventDefault())}).on("input-paste",function(e){if(h.addOnPaste){var t=e.getTextData(),n=t.split(h.pasteSplitPattern);n.length>1&&(n.forEach(function(e){p.addText(e)}),e.preventDefault())}})}}}]),r.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,r,a){var i=a.registerTagItem(),o=i.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){i.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),r.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,r,a,i,o){function s(e,t,n){var r,i,s,l={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},r=function(e,n){return e.filter(function(e){return!o.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=o.replaceSpacesWithDashes(e),n=o.replaceSpacesWithDashes(n)),o.defaultComparer(e,n)})})},l.reset=function(){i=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=o.debounce(function(n,c){l.query=n;var u=a.when(e({$query:n}));i=u,u.then(function(e){u===i&&(e=o.makeObjectArray(e.data||e,s()),e=r(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){e<0?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),r=n.parent(),a=n.prop("offsetTop"),i=n.prop("offsetHeight"),o=r.prop("clientHeight"),s=r.prop("scrollTop");a<s?r.prop("scrollTop",a):a+i>o+s&&r.prop("scrollTop",a+i-o)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=o.simplePubSub(),i.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,r,a){var i,s=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=a.registerAutocomplete(),d=t.options,p=t.events;d.tagsInput=u.getOptions(),i=function(e){return e&&e.length>=d.minLength||!e&&d.loadOnEmpty},t.templateScope=u.getTemplateScope(),t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),e=!0),e},t.track=function(e){return e[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var r=e===c.selected;return[t.matchClass({$match:e,$index:n,$selected:r}),{selected:r}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){i(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();d.loadOnFocus&&i(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var r=n.keyCode,a=!1;if(!o.isModifierOn(n)&&s.indexOf(r)!==-1)return c.visible?r===e.down?(c.selectNext(),a=!0):r===e.up?(c.selectPrior(),a=!0):r===e.escape?(c.reset(),a=!0):r!==e.enter&&r!==e.tab||(a=t.addSuggestion()):r===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),a=!0),a?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),p.on("suggestion-selected",function(e){l(n,e)})}}}]),r.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,r,a,i){var o=i.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,o.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),r.directive("tiTranscludeAppend",function(){return function(e,t,n,r,a){a(function(e){t.append(e)})}}),r.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,a){var i,o,s=e.getTextAutosizeThreshold();i=angular.element('<span class="input"></span>'),i.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(i),o=function(e){var t,a=e;return angular.isString(a)&&0===a.length&&(a=r.placeholder),a&&(i.text(a),i.css("display",""),t=i.prop("offsetWidth"),i.css("display","none")),n.css("width",t?t+s+"px":""),e},a.$parsers.unshift(o),a.$formatters.unshift(o),r.$observe("placeholder",function(e){a.$modelValue||o(e)})}}}]),r.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){try{n.$set(t,e)}catch(r){}})},!0)}}),r.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(r){var a={};return a[String]=function(e){return e},a[Number]=function(e){return parseInt(e,10)},a[Boolean]=function(e){return"true"===e.toLowerCase()},a[RegExp]=function(e){return new RegExp(e)},{load:function(n,i,o,s){var l=function(){return!0};i.options={},angular.forEach(s,function(s,c){var u,d,p,f,h,g;u=s[0],d=s[1],p=s[2]||l,f=a[u],h=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:d},g=function(e){i.options[c]=e&&p(e)?f(e):h()},t[n]&&t[n][c]?o.$observe(c,function(e){g(e),i.events.trigger("option-change",{name:c,newValue:e})}):g(o[c]&&r(o[c])(i.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),r.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var r;return function(){var a=arguments;e.cancel(r),r=e(function(){t.apply(null,a)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var r={};r[t]=e,n.push(r)}),n},n.findInObjectArray=function(e,t,r,a){var i=null;return a=a||n.defaultComparer,e.some(function(e){if(a(e[r],t[r]))return i=e,!0}),i},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!t)return e;e=n.encodeHTML(e),t=n.encodeHTML(t);var a=new RegExp("&[^;]+;|"+r(t),"gi");return e.replace(a,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,r){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]);var a=r?[].unshift:[].push;a.call(e[t],n)}),this},trigger:function(t,r){var a=e[t]||[];return a.every(function(e){return n.handleUndefinedResult(e,!0)(r)}),this}}},n}]),r.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}()},{}],19:[function(e,t,n){var r;r=angular.module("infinite-scroll",[]),r.value("THROTTLE_MILLISECONDS",null),r.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,r){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(a,i,o){var s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,_,k,S,A;return A=angular.element(t),x=null,w=null,c=null,u=null,v=!0,S=!1,k=null,l=!1,m=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},y=function(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+b(e)},b=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},g=function(){var t,r,o,s,d;return u===A?(t=m(u)+b(u[0].document.documentElement),o=y(i)+m(i)):(t=m(u),r=0,void 0!==y(u)&&(r=y(u)),o=y(i)-r+m(i)),S&&(o=m((i[0].ownerDocument||i[0].document).documentElement)),s=o-t,d=s<=m(u)*x+1,d?(c=!0,w?a.$$phase||e.$$phase?a.infiniteScroll():a.$apply(a.infiniteScroll):void 0):(l&&n.cancel(l),c=!1)},_=function(e,t){var r,a,i;return i=null,a=0,r=function(){var t;return a=(new Date).getTime(),n.cancel(i),i=null,e.call(),t=null},function(){var o,s;return o=(new Date).getTime(),s=t-(o-a),s<=0?(clearTimeout(i),n.cancel(i),i=null,a=o,e.call()):i?void 0:i=n(r,s,1)}},null!=r&&(g=_(g,r)),a.$on("$destroy",function(){if(u.unbind("scroll",g),null!=k)return k(),k=null}),f=function(e){return x=parseFloat(e)||0},a.$watch("infiniteScrollDistance",f),f(a.infiniteScrollDistance),p=function(e){if(w=!e,w&&c)return c=!1,g()},a.$watch("infiniteScrollDisabled",p),p(a.infiniteScrollDisabled),h=function(e){return S=e},a.$watch("infiniteScrollUseDocumentBottom",h),h(a.infiniteScrollUseDocumentBottom),s=function(e){if(null!=u&&u.unbind("scroll",g),u=e,null!=e)return u.bind("scroll",g)},s(A),a.infiniteScrollListenForEvent&&(k=e.$on(a.infiniteScrollListenForEvent,g)),d=function(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return s(e);throw new Exception("invalid infinite-scroll-container attribute.")}},a.$watch("infiniteScrollContainer",d),d(a.infiniteScrollContainer||[]),null!=o.infiniteScrollParent&&s(angular.element(i.parent())),null!=o.infiniteScrollImmediateCheck&&(v=a.$eval(o.infiniteScrollImmediateCheck)),l=n(function(){if(v)return g()},0)}}}])},{}],20:[function(e,t,n){!function(e,n,r){function a(e){var t=k(),n=t.querySelector("h2"),r=t.querySelector("p"),a=t.querySelector("button.cancel"),i=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:M(e.title).split("\n").join("<br>"),r.innerHTML=e.html?e.text:M(e.text||"").split("\n").join("<br>"),e.text&&I(r),e.customClass)$(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var o=t.getAttribute("data-custom-class");C(t,o),t.setAttribute("data-custom-class","")}if(j(t.querySelectorAll(".sa-icon")),e.type&&!p()){for(var s=!1,c=0;c<w.length;c++)if(e.type===w[c]){s=!0;break}if(!s)return f("Unknown alert type: "+e.type),!1;var u,d=["success","error","warning","info"];d.indexOf(e.type)!==-1&&(u=t.querySelector(".sa-icon.sa-"+e.type),I(u));var h=S();switch(e.type){case"success":$(u,"animate"),$(u.querySelector(".sa-tip"),"animateSuccessTip"),$(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":$(u,"animateErrorIcon"),$(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":$(u,"pulseWarning"),$(u.querySelector(".sa-body"),"pulseWarningIns"),$(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":h.setAttribute("type",e.inputType),$(t,"show-input"),setTimeout(function(){h.focus(),h.addEventListener("keyup",y.resetInputError)},400)}}if(e.imageUrl){var g=t.querySelector(".sa-icon.sa-custom");g.style.backgroundImage="url("+e.imageUrl+")",I(g);var m=80,v=80;if(e.imageSize){var b=e.imageSize.toString().split("x"),x=b[0],_=b[1];x&&_?(m=x,v=_):f("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}g.setAttribute("style",g.getAttribute("style")+"width:"+m+"px; height:"+v+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?a.style.display="inline-block":j(a),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?i.style.display="inline-block":j(i),e.cancelButtonText&&(a.innerHTML=M(e.cancelButtonText)),e.confirmButtonText&&(i.innerHTML=M(e.confirmButtonText)),e.confirmButtonColor&&(i.style.backgroundColor=e.confirmButtonColor,l(i,e.confirmButtonColor)),t.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var A=!!e.doneFunction;t.setAttribute("data-has-done-function",A),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)}function i(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,a="#";for(r=0;r<3;r++)n=parseInt(e.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),a+=("00"+n).substr(n.length);return a}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function l(e,t){var n=s(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function c(){var e=k();O(A(),10),I(e),$(e,"showSweetAlert"),C(e,"hideSweetAlert"),h=n.activeElement;var t=e.querySelector("button.confirm");t.focus(),setTimeout(function(){$(e,"visible")},500);var r=e.getAttribute("data-timer");"null"!==r&&""!==r&&(e.timeout=setTimeout(function(){v.close()},r))}function u(){var e=k(),t=S();C(e,"show-input"),t.value="",t.setAttribute("type",_.inputType),y.resetInputError()}function d(){var e=k();e.style.marginTop=L(k())}function p(){return!(!e.attachEvent||e.addEventListener)}function f(t){e.console&&e.console.log("SweetAlert: "+t)}var h,g,m,v,y,b=".sweet-alert",x=".sweet-overlay",w=["error","warning","info","success","input","prompt"],_={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text"},k=function F(){var e=n.querySelector(b);return e||(B(),e=F()),e},S=function(){var e=k();if(e)return e.querySelector("input")},A=function(){return n.querySelector(x)},T=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},$=function(e,t){T(e,t)||(e.className+=" "+t)},C=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(T(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},M=function(e){var t=n.createElement("div");return t.appendChild(n.createTextNode(e)),t.innerHTML},E=function(e){e.style.opacity="",e.style.display="block"},I=function(e){if(e&&!e.length)return E(e);for(var t=0;t<e.length;++t)E(e[t])},P=function(e){e.style.opacity="",e.style.display="none"},j=function(e){if(e&&!e.length)return P(e);for(var t=0;t<e.length;++t)P(e[t])},D=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},L=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},O=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,r=function a(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(a,t)};r()}e.style.display="block"},R=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,r=function a(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(a,t):e.style.display="none"};r()},N=function(t){if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});t.dispatchEvent(r)}else if(n.createEvent){var a=n.createEvent("MouseEvents");a.initEvent("click",!1,!1),t.dispatchEvent(a)}else n.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},z=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)},B=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /><div class="sa-input-error"></div></fieldset> <div class="sa-error-container"><div class="icon">!</div> <p>Not valid!</p></div> <button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',t=n.createElement("div");for(t.innerHTML=e;t.firstChild;)n.body.appendChild(t.firstChild)};v=y=function(){function t(e){var t=y;return"undefined"!=typeof t[e]?t[e]:_[e]}function s(){var e=!0;T(M,"show-input")&&(e=M.querySelector("input").value,e||(e="")),b.doneFunction(e),b.closeOnConfirm&&v.close()}function p(){var e=String(b.doneFunction).replace(/\s/g,""),t="function("===e.substring(0,9)&&")"!==e.substring(9,10);t&&b.doneFunction(!1),b.closeOnCancel&&v.close()}function h(t){var n=t||e.event,a=n.keyCode||n.which;if([9,13,32,27].indexOf(a)!==-1){for(var i=n.target||n.srcElement,o=-1,s=0;s<O.length;s++)if(i===O[s]){o=s;break}9===a?(i=o===-1?j:o===O.length-1?O[0]:O[o+1],z(n),i.focus(),b.confirmButtonColor&&l(i,b.confirmButtonColor)):13===a?("INPUT"===i.tagName&&(i=j,j.focus()),i=o===-1?j:r):27===a&&b.allowEscapeKey===!0?(i=L,N(i,n)):i=r}}var y=arguments[0];if($(n.body,"stop-scrolling"),u(),arguments[0]===r)return f("SweetAlert expects at least 1 attribute!"),!1;var b=o({},_);switch(_typeof(arguments[0])){case"string":b.title=arguments[0],b.text=arguments[1]||"",b.type=arguments[2]||"";break;case"object":if(arguments[0].title===r)return f('Missing "title" argument!'),!1;b.title=arguments[0].title;for(var x=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType"],w=x.length,S=0;S<w;S++){var C=x[S];b[C]=t(C)}b.confirmButtonText=b.showCancelButton?"Confirm":_.confirmButtonText,b.confirmButtonText=t("confirmButtonText"),b.doneFunction=arguments[1]||null;break;default:return f('Unexpected type of argument! Expected "string" or "object", got '+_typeof(arguments[0])),!1}a(b),d(),c();for(var M=k(),E=function(t){var n=t||e.event,r=n.target||n.srcElement,a=r.className.indexOf("confirm")!==-1,o=r.className.indexOf("sweet-overlay")!==-1,l=T(M,"visible"),c=b.doneFunction&&"true"===M.getAttribute("data-has-done-function");switch(n.type){case"mouseover":a&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.04));break;case"mouseout":a&&b.confirmButtonColor&&(r.style.backgroundColor=b.confirmButtonColor);break;case"mousedown":a&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.14));break;case"mouseup":a&&b.confirmButtonColor&&(r.style.backgroundColor=i(b.confirmButtonColor,-.04));break;case"focus":var u=M.querySelector("button.confirm"),d=M.querySelector("button.cancel");a?d.style.boxShadow="none":u.style.boxShadow="none";break;case"click":a&&c&&l?s():c&&l||o?p():D(M,r)&&"BUTTON"===r.tagName&&v.close()}},I=M.querySelectorAll("button"),P=0;P<I.length;P++)I[P].onclick=E,I[P].onmouseover=E,I[P].onmouseout=E,I[P].onmousedown=E,I[P].onmouseup=E,I[P].onfocus=E;A().onclick=E;var j=M.querySelector("button.confirm"),L=M.querySelector("button.cancel"),O=M.querySelectorAll("button[tabindex]");g=e.onkeydown,e.onkeydown=h,e.onfocus=function(){e.setTimeout(function(){m!==r&&(m.focus(),m=r)},0)}},v.setDefaults=y.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("userParams has to be a object");o(_,e)},v.close=y.close=function(){var t=k();R(A(),5),R(t,5),C(t,"showSweetAlert"),$(t,"hideSweetAlert"),C(t,"visible");var a=t.querySelector(".sa-icon.sa-success");C(a,"animate"),C(a.querySelector(".sa-tip"),"animateSuccessTip"),C(a.querySelector(".sa-long"),"animateSuccessLong");var i=t.querySelector(".sa-icon.sa-error");C(i,"animateErrorIcon"),C(i.querySelector(".sa-x-mark"),"animateXMark");var o=t.querySelector(".sa-icon.sa-warning");C(o,"pulseWarning"),C(o.querySelector(".sa-body"),"pulseWarningIns"),C(o.querySelector(".sa-dot"),"pulseWarningIns"),C(n.body,"stop-scrolling"),e.onkeydown=g,h&&h.focus(),m=r,clearTimeout(t.timeout)},v.showInputError=y.showInputError=function(e){var t=k(),n=t.querySelector(".sa-input-error");$(n,"show");var r=t.querySelector(".sa-error-container");$(r,"show"),r.querySelector("p").innerHTML=e,t.querySelector("input").focus()},v.resetInputError=y.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=k(),n=t.querySelector(".sa-input-error");C(n,"show");var r=t.querySelector(".sa-error-container");C(r,"show")},"function"==typeof define&&define.amd?define(function(){return v}):"undefined"!=typeof t&&t.exports?t.exports=v:"undefined"!=typeof e&&(e.sweetAlert=e.swal=v)}(window,document)},{}],21:[function(e,t,n){!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)},toSeparator:function(t){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return n?n:e[t]?void 0:t}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,a){a(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var r;return function(){var a=this,i=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(a,i)},n)}}}]),n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,r,a){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,i){if(!i.repeat)throw n("repeat","Expected 'repeat' expression.");var o=i.groupBy,s=i.groupFilter;if(o){var l=r.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var c=t.parse(i.repeat),u=r.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",c.repeatExpression(o)).attr("ng-if","$select.open");var d=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);
d.attr("uis-transclude-append","");var p=a.document.addEventListener?u:d;return p.attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,n,r,a){a.parseRepeatAttr(r.repeat,o,s),a.disableChoiceExpression=r.uiDisableChoice,a.onHighlightCallback=r.onHighlight,a.dropdownPosition=r.position?r.position.toLowerCase():e.dropdownPosition,t.$on("$destroy",function(){u.remove()}),t.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,!r.minimumInputLength||a.search.length>=r.minimumInputLength?a.refresh(r.refresh):a.items=[]}),r.$observe("refreshDelay",function(){var n=t.$eval(r.refreshDelay);a.refreshDelay=void 0!==n?n:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(t,n,r,a,i,o,s,l,c,u,d){function p(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var r,a=Object(e),i=a.length>>>0,o=0;o<i;o++)if(r=a[o],t.call(n,r,o,a))return o;return-1}function f(){(v.resetSearchInput||void 0===v.resetSearchInput&&l.resetSearchInput)&&(v.search=y,v.selected&&v.items.length&&!v.multiple&&(v.activeIndex=p(v.items,function(e){return angular.equals(this,e)},v.selected)))}function h(e,t){var n,r,a=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&a.push(e[r]);return a}function g(t){var n=!0;switch(t){case e.DOWN:!v.open&&v.multiple?v.activate(!1,!0):v.activeIndex<v.items.length-1&&v.activeIndex++;break;case e.UP:!v.open&&v.multiple?v.activate(!1,!0):(v.activeIndex>0||0===v.search.length&&v.tagging.isActivated&&v.activeIndex>-1)&&v.activeIndex--;break;case e.TAB:v.multiple&&!v.open||v.select(v.items[v.activeIndex],!0);break;case e.ENTER:v.open&&(v.tagging.isActivated||v.activeIndex>=0)?v.select(v.items[v.activeIndex],v.skipFocusser):v.activate(!1,!0);break;case e.ESC:v.close();break;default:n=!1}return n}function m(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw s("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(v.activeIndex<0)){var r=t[v.activeIndex],a=r.offsetTop+r.clientHeight-e[0].scrollTop,i=e[0].offsetHeight;a>i?e[0].scrollTop+=a-i:a<r.clientHeight&&(v.isGrouped&&0===v.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-a)}}var v=this,y="";if(v.placeholder=l.placeholder,v.searchEnabled=l.searchEnabled,v.sortable=l.sortable,v.refreshDelay=l.refreshDelay,v.paste=l.paste,v.removeSelected=!1,v.closeOnSelect=!0,v.skipFocusser=!1,v.search=y,v.activeIndex=0,v.items=[],v.open=!1,v.focus=!1,v.disabled=!1,v.selected=void 0,v.dropdownPosition="auto",v.focusser=void 0,v.resetSearchInput=!0,v.multiple=void 0,v.disableChoiceExpression=void 0,v.tagging={isActivated:!1,fct:void 0},v.taggingTokens={isActivated:!1,tokens:void 0},v.lockChoiceExpression=void 0,v.clickTriggeredSelect=!1,v.$filter=a,v.$element=n,v.$animate=function(){try{return u.get("$animate")}catch(e){return null}}(),v.searchInput=n.querySelectorAll("input.ui-select-search"),1!==v.searchInput.length)throw s("searchInput","Expected 1 input.ui-select-search but got '{0}'.",v.searchInput.length);v.isEmpty=function(){return angular.isUndefined(v.selected)||null===v.selected||""===v.selected||v.multiple&&0===v.selected.length},v.activate=function(e,a){if(!v.disabled&&!v.open){a||f(),t.$broadcast("uis:activate"),v.open=!0,v.activeIndex=v.activeIndex>=v.items.length?0:v.activeIndex,v.activeIndex===-1&&v.taggingLabel!==!1&&(v.activeIndex=0);var i=n.querySelectorAll(".ui-select-choices-content"),o=n.querySelectorAll(".ui-select-search");if(v.$animate&&v.$animate.enabled(i[0])){var s=function l(t,n){"start"===n&&0===v.items.length?(v.$animate.off("removeClass",o[0],l),r(function(){v.focusSearchInput(e)})):"close"===n&&(v.$animate.off("enter",i[0],l),r(function(){v.focusSearchInput(e)}))};v.items.length>0?v.$animate.on("enter",i[0],s):v.$animate.on("removeClass",o[0],s)}else r(function(){v.focusSearchInput(e),!v.tagging.isActivated&&v.items.length>1&&m()})}},v.focusSearchInput=function(e){v.search=e||v.search,v.searchInput[0].focus()},v.findGroupByName=function(e){return v.groups&&v.groups.filter(function(t){return t.name===e})[0]},v.parseRepeatAttr=function(e,n,r){function a(e){var a=t.$eval(n);if(v.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(a)?a(e):e[a],n=v.findGroupByName(t);n?n.items.push(e):v.groups.push({name:t,items:[e]})}),r){var i=t.$eval(r);angular.isFunction(i)?v.groups=i(v.groups):angular.isArray(i)&&(v.groups=h(v.groups,i))}v.items=[],v.groups.forEach(function(e){v.items=v.items.concat(e.items)})}function i(e){v.items=e}v.setItemsFn=n?a:i,v.parserResult=o.parse(e),v.isGrouped=!!n,v.itemProperty=v.parserResult.itemName;var l=v.parserResult.source,u=function(){var e=l(t);t.$uisSource=Object.keys(e).map(function(t){var n={};return n[v.parserResult.keyName]=t,n.value=e[t],n})};v.parserResult.keyName&&(u(),v.parserResult.source=c("$uisSource"+v.parserResult.filters),t.$watch(l,function(e,t){e!==t&&u()},!0)),v.refreshItems=function(e){e=e||v.parserResult.source(t);var n=v.selected;if(v.isEmpty()||angular.isArray(n)&&!n.length||!v.removeSelected)v.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.every(function(t){return!angular.equals(e,t)})});v.setItemsFn(r)}"auto"!==v.dropdownPosition&&"up"!==v.dropdownPosition||t.calculateDropdownPos()},t.$watchCollection(v.parserResult.source,function(e){if(void 0===e||null===e)v.items=[];else{if(!angular.isArray(e))throw s("items","Expected an array but got '{0}'.",e);v.refreshItems(e),angular.isDefined(v.ngModel.$modelValue)&&(v.ngModel.$modelValue=null)}})};var b;v.refresh=function(e){void 0!==e&&(b&&r.cancel(b),b=r(function(){t.$eval(e)},v.refreshDelay))},v.isActive=function(e){if(!v.open)return!1;var t=v.items.indexOf(e[v.itemProperty]),n=t==v.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(v.onHighlightCallback)&&e.$eval(v.onHighlightCallback),n)},v.isDisabled=function(e){if(v.open){var t,n=v.items.indexOf(e[v.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(v.disableChoiceExpression)&&(t=v.items[n],r=!!e.$eval(v.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},v.select=function(e,n,a){if(void 0===e||!e._uiSelectChoiceDisabled){if(!v.items&&!v.search&&!v.tagging.isActivated)return;if(!e||!e._uiSelectChoiceDisabled){if(v.tagging.isActivated){if(v.taggingLabel===!1)if(v.activeIndex<0){if(e=void 0!==v.tagging.fct?v.tagging.fct(v.search):v.search,!e||angular.equals(v.items[0],e))return}else e=v.items[v.activeIndex];else if(0===v.activeIndex){if(void 0===e)return;if(void 0!==v.tagging.fct&&"string"==typeof e){if(e=v.tagging.fct(e),!e)return}else"string"==typeof e&&(e=e.replace(v.taggingLabel,"").trim())}if(v.selected&&angular.isArray(v.selected)&&v.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void v.close(n)}t.$broadcast("uis:select",e);var i={};i[v.parserResult.itemName]=e,r(function(){v.onSelectCallback(t,{$item:e,$model:v.parserResult.modelMapper(t,i)})}),v.closeOnSelect&&v.close(n),a&&"click"===a.type&&(v.clickTriggeredSelect=!0)}}},v.close=function(e){v.open&&(v.ngModel&&v.ngModel.$setTouched&&v.ngModel.$setTouched(),f(),v.open=!1,t.$broadcast("uis:close",e))},v.setFocus=function(){v.focus||v.focusInput[0].focus()},v.clear=function(e){v.select(void 0),e.stopPropagation(),r(function(){v.focusser[0].focus()},0,!1)},v.toggle=function(e){v.open?(v.close(),e.preventDefault(),e.stopPropagation()):v.activate()},v.isLocked=function(e,t){var n,r=v.selected[t];return r&&!angular.isUndefined(v.lockChoiceExpression)&&(n=!!e.$eval(v.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var x=null,w=!1;v.sizeSearchInput=function(){var e=v.searchInput[0],n=v.searchInput.parent().parent()[0],a=function(){return n.clientWidth*!!e.offsetParent},i=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return n<50&&(n=t),v.searchInput.css("width",n+"px"),!0};v.searchInput.css("width","10px"),r(function(){null!==x||i(a())||(x=t.$watch(angular.noop,function(){w||(w=!0,t.$$postDigest(function(){w=!1,i(a())&&(x(),x=null)}))}))})},v.searchInput.on("keydown",function(n){var a=n.which;~[e.ENTER,e.ESC].indexOf(a)&&(n.preventDefault(),n.stopPropagation()),t.$apply(function(){var t=!1;if((v.items.length>0||v.tagging.isActivated)&&(g(a),v.taggingTokens.isActivated)){for(var i=0;i<v.taggingTokens.tokens.length;i++)v.taggingTokens.tokens[i]===e.MAP[n.keyCode]&&v.search.length>0&&(t=!0);t&&r(function(){v.searchInput.triggerHandler("tagged");var t=v.search.replace(e.MAP[n.keyCode],"").trim();v.tagging.fct&&(t=v.tagging.fct(t)),t&&v.select(t,!0)})}}),e.isVerticalMovement(a)&&v.items.length>0&&m(),a!==e.ENTER&&a!==e.ESC||(n.preventDefault(),n.stopPropagation())}),v.searchInput.on("paste",function(t){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),n=v.search+n,n&&n.length>0)if(v.taggingTokens.isActivated){for(var r=[],a=0;a<v.taggingTokens.tokens.length;a++){var i=e.toSeparator(v.taggingTokens.tokens[a])||v.taggingTokens.tokens[a];if(n.indexOf(i)>-1){r=n.split(i);break}}if(0===r.length&&(r=[n]),r.length>0){var o=v.search;angular.forEach(r,function(e){var t=v.tagging.fct?v.tagging.fct(e):e;t&&v.select(t,!0)}),v.search=o||y,t.preventDefault(),t.stopPropagation()}}else v.paste&&(v.paste(n),v.search=y,t.preventDefault(),t.stopPropagation())}),v.searchInput.on("tagged",function(){r(function(){f()})});var _=i(function(){v.sizeSearchInput()},50);angular.element(d).bind("resize",_),t.$on("$destroy",function(){v.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",_)})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,a,i,o){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(a,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var c="{"+l[1]+", "+l[2]+"}";s.ngClass=c,a.attr("ng-class",c)}return angular.isDefined(s.multiple)?a.append("<ui-select-multiple/>").removeAttr("multiple"):a.append("<ui-select-single/>"),s.inputId&&(a.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(a,s,l,c,u){function d(e){if(h.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n;if(h.skipFocusser)n=!0;else{var r=["input","button","textarea","select"],i=angular.element(e.target).controller("uiSelect");n=i&&i!==h,n||(n=~r.indexOf(e.target.tagName.toLowerCase()))}h.close(n),a.$digest()}h.clickTriggeredSelect=!1}}function p(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function f(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y,h.setFocus())}var h=c[0],g=c[1];h.generatedId=t.generateId(),h.baseTitle=l.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.focusserId="focusser-"+h.generatedId,h.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?i(l.closeOnSelect)():t.closeOnSelect}(),a.$watch("skipFocusser",function(){var e=a.$eval(l.skipFocusser);h.skipFocusser=void 0!==e?e:t.skipFocusser}),h.onSelectCallback=i(l.onSelect),h.onRemoveCallback=i(l.onRemove),h.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0,h.ngModel=g,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),a.$watch("searchEnabled",function(){var e=a.$eval(l.searchEnabled);h.searchEnabled=void 0!==e?e:t.searchEnabled}),a.$watch("sortable",function(){var e=a.$eval(l.sortable);h.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){h.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=a.$eval(l.resetSearchInput);h.resetSearchInput=void 0===e||e}),l.$observe("paste",function(){h.paste=a.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=a.$eval(l.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else h.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?h.taggingLabel=!1:h.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&o(function(){h.setFocus()}),angular.isDefined(l.focusOn)&&a.$on(l.focusOn,function(){o(function(){h.setFocus()})}),e.on("click",d),a.$on("$destroy",function(){e.off("click",d)}),u(a,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var a=t.querySelectorAll(".ui-select-choices");if(a.removeAttr("ui-select-choices"),a.removeAttr("data-ui-select-choices"),1!==a.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",a.length);s.querySelectorAll(".ui-select-choices").replaceWith(a);var i=t.querySelectorAll(".ui-select-no-choice");i.removeAttr("ui-select-no-choice"),i.removeAttr("data-ui-select-no-choice"),1==i.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(i)});var m=a.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(a.$watch("$select.open",function(e){e?p():f()}),a.$on("$destroy",function(){f()}));var v=null,y="",b=null,x="direction-up";a.$watch("$select.open",function(){"auto"!==h.dropdownPosition&&"up"!==h.dropdownPosition||a.calculateDropdownPos()});var w=function(e,t){e=e||r(s),t=t||r(b),b[0].style.position="absolute",b[0].style.top=t.height*-1+"px",s.addClass(x)},_=function(e,t){s.removeClass(x),e=e||r(s),t=t||r(b),b[0].style.position="",b[0].style.top=""};a.calculateDropdownPos=function(){if(h.open){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===b.length)return;b[0].style.opacity=0,o(function(){if("up"===h.dropdownPosition)w();else{s.removeClass(x);var t=r(s),n=r(b),a=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>a+e[0].documentElement.clientHeight?w(t,n):_(t,n)}b[0].style.opacity=1})}else{if(null===b||0===b.length)return;b[0].style.position="",b[0].style.top="",s.removeClass(x)}}}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var r=n.parent(),a=t(r,"theme")||e.theme,i=angular.isDefined(t(r,"multiple"));return a+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,a){function i(e){a.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}a.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){a.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",i),i(r.allowClear),a.multiple&&a.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,a=e.$select;angular.isUndefined(a.selected)&&(a.selected=[]),e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){a.refreshItems(),a.sizeSearchInput()},r.removeChoice=function(n){var i=a.selected[n];if(!i._uiSelectChoiceLocked){var o={};o[a.parserResult.itemName]=i,a.selected.splice(n,1),r.activeMatchIndex=-1,a.sizeSearchInput(),t(function(){a.onRemoveCallback(e,{$item:i,$model:a.parserResult.modelMapper(e,o)})}),r.updateModel()}},r.getPlaceholder=function(){if(!a.selected||!a.selected.length)return a.placeholder}}],controllerAs:"$selectMultiple",link:function(r,a,i,o){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~f.activeMatchIndex?u:o;case e.RIGHT:return~f.activeMatchIndex&&l!==o?c:(d.activate(),!1);case e.BACKSPACE:return~f.activeMatchIndex?(f.removeChoice(l),u):o;case e.DELETE:return!!~f.activeMatchIndex&&(f.removeChoice(f.activeMatchIndex),l)}}var r=s(d.searchInput[0]),a=d.selected.length,i=0,o=a-1,l=f.activeMatchIndex,c=f.activeMatchIndex+1,u=f.activeMatchIndex-1,p=l;return!(r>0||d.search.length&&t==e.RIGHT)&&(d.close(),p=n(),d.selected.length&&p!==!1?f.activeMatchIndex=Math.min(o,Math.max(i,p)):f.activeMatchIndex=-1,!0)}function c(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),a=0;a<r.length;a++)if(void 0===d.tagging.fct)r[a]+" "+d.taggingLabel===t&&(n=a);else{var i=r[a];angular.isObject(i)&&(i.isTag=!0),angular.equals(i,t)&&(n=a)}return n}var d=o[0],p=r.ngModel=o[1],f=r.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$isEmpty=function(e){return!e||0===e.length},p.$parsers.unshift(function(){for(var e,t={},n=[],a=d.selected.length-1;a>=0;a--)t={},t[d.parserResult.itemName]=d.selected[a],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult&&d.parserResult.source(r,{$select:{search:""}}),a={};if(!n)return e;var i=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(a[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(r,a),d.parserResult.trackByExp){var s=/(\w*)\./.exec(d.parserResult.trackByExp),l=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(s&&s.length>0&&s[1]==d.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return i.unshift(e[o]),!0}if(angular.equals(t,n))return i.unshift(e[o]),!0}return!1}};if(!e)return i;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||i.unshift(e[s]);return i}),r.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(angular.isDefined(p.$modelValue)&&(p.$modelValue=null),f.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,f.refreshComponent(),r.$evalAsync()},r.$on("uis:select",function(e,t){d.selected.length>=d.limit||(d.selected.push(t),f.updateModel())}),r.$on("uis:activate",function(){f.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=l(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,a,i,o,s=angular.copy(d.items),l=angular.copy(d.items),p=!1,f=-1;if(void 0!==d.tagging.fct){if(i=d.$filter("filter")(s,{isTag:!0}),i.length>0&&(o=i[0]),s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),l.some(function(e){return angular.equals(e,n)})||d.selected.some(function(e){return angular.equals(e,n)}))return void r.$evalAsync(function(){d.activeIndex=0,d.items=s});n&&(n.isTag=!0)}else{if(i=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),i.length>0&&(o=i[0]),a=s[0],void 0!==a&&s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(c(l.concat(d.selected)))return void(p&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(c(l))return void(p&&(d.items=l.slice(1,l.length)))}p&&(f=u(d.selected,n)),f>-1?s=s.slice(f+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),r.$evalAsync(function(){if(d.activeIndex=0,d.items=s,d.isGrouped){var e=n?s.slice(1):s;d.setItemsFn(e),n&&(d.items.unshift(n),d.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),d.searchInput.on("blur",function(){n(function(){f.activeMatchIndex=-1})})}}}]),n.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,a,i,o){var s=o[0],l=o[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult&&s.parserResult.source(r,{$select:{search:""}}),a={};if(n){var i=function(n){return a[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,a),t===e};if(s.selected&&i(s.selected))return s.selected;for(var o=n.length-1;o>=0;o--)if(i(n[o]))return n[o]}return e}),r.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(c)(r),s.focusser=c,s.focusInput=c,a.parent().append(c),c.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),c.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),c.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),c.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(c.val()),c.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,r,a,i){if(null===t[a.uiSelectSort])throw n("sort","Expected a list to sort");var o=i[0],s=i[1],l=angular.extend({axis:"horizontal"},t.$eval(a.uiSelectSortOptions)),c=l.axis,u="dragging",d="dropping",p="dropping-before",f="dropping-after";t.$watch(function(){return o.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),r.on("dragend",function(){m(u)});var h,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m=function(e){angular.forEach(o.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===c?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===c?"offsetHeight":"offsetWidth"]/2?(m(f),r.addClass(p)):(m(p),r.addClass(f))},y=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(h),h=e(function(){b(n)},20)},b=function(e){var n=t.$eval(a.uiSelectSort),i=n[e],o=null;o=r.hasClass(p)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,g.apply(n,[e,o]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:i,from:e,to:o})}),m(d),m(p),m(f),r.off("drop",y)};r.on("dragenter",function(){r.hasClass(u)||(r.addClass(d),r.on("dragover",v),r.on("drop",y))}),r.on("dragleave",function(e){e.target==r&&(m(d),m(p),m(f),r.off("dragover",v),r.off("drop",y))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r;if(r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var a=r[5],i="";if(r[3]){a=r[5].replace(/(^\()|(\)$)/g,"");var o=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(i=o[1],a=a.replace(i,""))}return{itemName:r[4]||r[2],keyName:r[3],source:t(a),filters:i,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),
e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}])},{}],22:[function(e,t,n){"use strict";function r(){angular.bootstrap(document,["insights"])}function a(){var e=document.querySelectorAll(".tools-menu .col-sm-4:first-child a");[].forEach.call(e,function(e){e.target="_self"})}var i="undefined"!=typeof window.chrometwo_ready;"undefined"==typeof window.angular&&e("./../bower_components/angular/angular.js"),e("./../bower_components/angular-resource/angular-resource.js"),e("./../bower_components/angular-animate/angular-animate.js"),e("./../bower_components/angular-ui-router/release/angular-ui-router.js"),e("./../bower_components/angular-sanitize/angular-sanitize.js"),e("./../bower_components/angular-scroll/angular-scroll.js"),e("./../bower_components/angular-gettext/dist/angular-gettext.js"),e("./../bower_components/angular-cookies/angular-cookies.js"),e("./../bower_components/ui-select/dist/select.js"),e("./../bower_components/angular-gravatar/build/angular-gravatar.js"),e("./../bower_components/ng-table/dist/ng-table.min.js"),e("./../bower_components/angular-datepicker/dist/angular-datepicker.js"),e("./../bower_components/ng-tags-input/ng-tags-input.js"),e("./../bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js"),e("./components/ui-bootstrap-custom"),e("./api"),e("./services"),e("./constants"),e("./providers"),e("./states"),e("./components"),e("./templates");var o=["insights.api","insights.services","insights.constants","insights.providers","insights.components","insights.states","insights.templates","ui.router","ui.bootstrap","ngResource","ngAnimate","gettext","ngTable","duScroll","ngCookies","ui.select","ngSanitize","ui.gravatar","datePicker","ngTagsInput","infinite-scroll"];i&&(e("./../bower_components/angular-loading-bar/build/loading-bar.js"),o.push("angular-loading-bar")),angular.module("insights",o),angular.module("insights").value("duScrollBottomSpy",!0),i?(angular.module("insights").run(e("./portal/boot")),angular.module("insights").factory("Email",e("./portal/emailOptIn")),angular.module("insights").config(e("./portal/config")),angular.module("insights").config(e("./portal/base_routes")),angular.module("insights").config(e("./portal/routes")),window.chrometwo_ready(function(){r(),a()})):angular.module("insights").config(e("./base_routes")),angular.module("insights").run(e("./boot")),angular.module("insights").config(e("./routes")),angular.module("insights").config(e("./config")),angular.module("ui.select").run(["$animate",function(e){var t=e.enabled;e.enabled=function(e){return(!e||!e.className.includes("ui-select-choices"))&&t(e)}}])},{"./../bower_components/angular-animate/angular-animate.js":1,"./../bower_components/angular-cookies/angular-cookies.js":2,"./../bower_components/angular-datepicker/dist/angular-datepicker.js":3,"./../bower_components/angular-gettext/dist/angular-gettext.js":4,"./../bower_components/angular-gravatar/build/angular-gravatar.js":5,"./../bower_components/angular-loading-bar/build/loading-bar.js":6,"./../bower_components/angular-resource/angular-resource.js":7,"./../bower_components/angular-sanitize/angular-sanitize.js":8,"./../bower_components/angular-scroll/angular-scroll.js":9,"./../bower_components/angular-ui-router/release/angular-ui-router.js":10,"./../bower_components/angular/angular.js":11,"./../bower_components/ng-table/dist/ng-table.min.js":17,"./../bower_components/ng-tags-input/ng-tags-input.js":18,"./../bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js":19,"./../bower_components/ui-select/dist/select.js":21,"./api":37,"./base_routes":51,"./boot":52,"./components":105,"./components/ui-bootstrap-custom":173,"./config":177,"./constants":181,"./portal/base_routes":188,"./portal/boot":189,"./portal/config":190,"./portal/emailOptIn":191,"./portal/routes":192,"./providers":194,"./routes":195,"./services":211,"./states":245,"./templates":259}],23:[function(e,t,n){"use strict";function r(e,t,n){var r=t.apiRoot;return{getProducts:function(){var t=r+"account/products"+n.current();return e.get(t)}}}r.$inject=["$http","InsightsConfig","AccountService"];var a=e("./");a.factory("Account",r)},{"./":37}],24:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot;return{get:function(){return e.get(n+"account/settings")},update:function(t){return e.post(n+"account/settings",t)}}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("AccountSettings",r)},{"./":37}],25:[function(e,t,n){"use strict";function r(e,t,n,r,a){function o(){var t=e.get(s+"acks?include=rule"+r.current("&")).success(function(e){l.length=0,Array.prototype.push.apply(l,e),angular.extend(c,i(l,"rule_id"))});return t}var s=a.apiRoot,l=[],c={},u=!1;return n.$on("reload:data",o),{init:function(){u||(o(),u=!0)},acks:l,ackMap:c,createAck:function(n){var a=t.defer();return e.post(s+"acks"+r.current(),{rule_id:n.rule_id||n.id}).success(function(e){l.push(e),c[e.rule_id]=e,a.resolve(e)}),a.promise},deleteAck:function(t){return e["delete"](s+"acks/"+t.id+r.current()).success(function(){for(var e=l.length,n=0;n<e;n++)if(l[n].id===t.id)return l.splice(n,1),void delete c[t.rule_id]})},reload:o}}r.$inject=["$http","$q","$rootScope","AccountService","InsightsConfig"];var a=e("./"),i=e("lodash/collection/indexBy");a.factory("Ack",r)},{"./":37,"lodash/collection/indexBy":282}],26:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot;return{reports:function(){return e.get(n+"analytics/reports")},systems:function(){return e.get(n+"analytics/systems")}}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("Analytic",r)},{"./":37}],27:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot,r={};return r.getAnnouncements=function(t){var r=i(n+"announcements");return t&&r.addSearch(t),e.get(r.toString())},r.byId=function(t){return e.get(n+"announcements/"+t)},r.bySlug=function(t){return e.get(n+"announcements/"+t)},r.createAnnouncement=function(t){return e.post(n+"announcements?internal=true",t)},r.updateAnnouncement=function(t){return e.put(n+"announcements/"+t.id,t)},r.deleteAnnouncement=function(t){return e["delete"](n+"announcements/"+t.id)},r.acknowledge=function(t){return e.post(n+"announcements/"+t.id+"/ack")},r}r.$inject=["$http","InsightsConfig"];var a=e("./"),i=e("urijs");a.factory("Announcement",r)},{"./":37,urijs:669}],28:[function(e,t,n){"use strict";function r(e,t,n){var r=n.apiRoot;return{getArticles:function(){return e.get(r+"articles")},get:function(t){return e.get(r+"articles/"+(t||n.overviewKey))},update:function(t,a){return e.put(r+"articles/"+(t||n.overviewKey),a)},preview:function(t){return e.post(r+"articles/preview",t)}}}r.$inject=["$http","AccountService","InsightsConfig"];var a=e("./");a.factory("Article",r)},{"./":37}],29:[function(e,t,n){"use strict";function r(e){var t={};return t.subscribe=function(){var t=i("/api").segment("redhat_node").segment("2184921").segment("subscribe").toString();return e.post(t).then(function(e){return e.data})},t}r.$inject=["$http"];var a=e("./"),i=e("urijs");a.factory("Blog",r)},{"./":37,urijs:669}],30:[function(e,t,n){"use strict";function r(e,t,n,r){var a,i,o=n.apiRoot;return t.$on("reload:data",function(){a=null}),{clusters:i,getClusters:function(){if(a)return a;var n=o+"systems?type=cluster&product=osp"+r.current("&");return a=e.get(n).then(function(e){return i=e.data,t.$broadcast("clusters:loaded",i),e})},getClusterReports:function(t){return e.get(o+"reports?system_id="+t+"&type=all&product=osp")}}}r.$inject=["$http","$rootScope","InsightsConfig","AccountService"];var a=e("./");a.factory("Cluster",r)},{"./":37}],31:[function(e,t,n){"use strict";function r(e,t,n){var r=t.apiRoot;return{getDigest:function(t){var a=r+"digests/"+t+n.current();return e.get(a)},getDigestsByType:function(t){var a=r+"digests?remote_branch=-1&digest_type_id="+t+n.current("&");return e.get(a)}}}r.$inject=["$http","InsightsConfig","AccountService"];var a=e("./");a.factory("Digest",r)},{"./":37}],32:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot,r={};return r.getEvaluationStatus=function(){var t=i(n).segment("evaluation").segment("status").toString();return e.get(t).then(function(e){return e.data})},r.activate=function(t){var r=i(n).segment("evaluation").toString();return e.post(r,{type:t}).then(function(e){return e.data})},r}r.$inject=["$http","InsightsConfig"];var a=e("./"),i=e("urijs");a.factory("Evaluation",r)},{"./":37,urijs:669}],33:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot,r={};return r.create=function(t){var r=i(n).segment("evaluation_invite").toString();return e.post(r,t).then(function(e){return e.data})},r.getAll=function(){var t=i(n).segment("evaluation_invite").toString();return e.get(t).then(function(e){return e.data})},r}r.$inject=["$http","InsightsConfig"];var a=e("./"),i=e("urijs");a.factory("EvaluationInvite",r)},{"./":37,urijs:669}],34:[function(e,t,n){"use strict";function r(e,t,n,r){return{getReports:function(e,a,o,s){var l=i(t.apiRoot);l.segment("exports"),l.segment("reports"),e&&l.addSearch("topic",e),a&&l.addSearch("rules",a),o&&l.addSearch("group",o),void 0!==s&&l.addSearch("stale",s),l.addSearch(n.queryParam()),r.location.assign(l.toString())},getSystems:function(e,a,o){var s=i(t.apiRoot);s.segment("exports"),s.segment("systems"),e&&s.addSearch("group",e),void 0!==a&&s.addSearch("stale",a),o&&s.addSearch("search",o),s.addSearch(n.queryParam()),r.location.assign(s.toString())}}}r.$inject=["$http","InsightsConfig","AccountService","$window"];var a=e("./"),i=e("urijs");a.factory("Export",r)},{"./":37,urijs:669}],35:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot;return{sendFeedback:function(t){var r=n+"feedback";return e.post(r,t)}}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("Feedback",r)},{"./":37}],36:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(){return e.get(c+"groups?include=systems"+a.current("&")).success(function(e){u.length=0,Array.prototype.push.apply(u,e)})}function o(e,t){for(var n=u.length,r=0;r<n;r++)if(u[r].id===e.id)for(var a=u[r].systems.length,i=0;i<a;i++)if(u[r].systems[i].system_id===t.system_id)return void u[r].systems.splice(i,1)}function s(t,n){return o(t,n),e["delete"](c+"groups/"+t.id+"/systems/"+n.system_id+a.current())}function l(e){for(var t=u.length,n=0;n<t;n++)if(u[n].id===e.id)return void u.splice(n,1)}var c=r.apiRoot,u=[],d={},p=!1;return n.$on("reload:data",i),{init:function(){p||(i(),p=!0)},groups:u,current:function(){return d},appendCurrentGroup:function(e){var t=d;return t&&t.id&&(e+="&group="+t.id),e},setCurrent:function(e){d=e?e:{}},removeSystem:s,removeSystems:function(e,n){var r=[];return angular.forEach(n,function(t){r.push(s(e,{system_id:t}))}),t.all(r)},addSystems:function(t,n){return t.systems||(t.systems=[]),Array.prototype.push.apply(t.systems,n),e.put(c+"groups/"+t.id+"/systems"+a.current(),n)},createGroup:function(n){var r=t.defer();return e.post(c+"groups"+a.current(),n).then(function(e){n.display_name="";var t=e.data;201===e.status&&(t.systems=[],u.push(t)),r.resolve(t)}),r.promise},deleteGroup:function(t){return l(t),e["delete"](c+"groups/"+t.id+a.current())},reload:i,queryParam:function(){return d&&d.id?{group:d.id}:{}}}}r.$inject=["$http","$q","$rootScope","InsightsConfig","AccountService"];var a=e("./");a.factory("Group",r)},{"./":37}],37:[function(e,t,n){"use strict";t.exports=angular.module("insights.api",[]),function(){var t=e("./index.js");return t.account=e("./account.js"),t.account_settings=e("./account_settings.js"),t.ack=e("./ack.js"),t.analytic=e("./analytic.js"),t.announcement=e("./announcement.js"),t.article=e("./article.js"),t.blog=e("./blog.js"),t.cluster=e("./cluster.js"),t.digest=e("./digest.js"),t.evaluation=e("./evaluation.js"),t.evaluation_invite=e("./evaluation_invite.js"),t["export"]=e("./export.js"),t.feedback=e("./feedback.js"),t.group=e("./group.js"),t.index=e("./index.js"),t.maintenance=e("./maintenance.js"),t.messaging=e("./messaging.js"),t.permission=e("./permission.js"),t.plugin=e("./plugin.js"),t.report=e("./report.js"),t.rule=e("./rule.js"),t.stats=e("./stats.js"),t.subset=e("./subset.js"),t.system=e("./system.js"),t.topic=e("./topic.js"),t.user=e("./user.js"),t.user_permissions=e("./user_permissions.js"),t.user_settings=e("./user_settings.js"),t}()},{"./account.js":23,"./account_settings.js":24,"./ack.js":25,"./analytic.js":26,"./announcement.js":27,"./article.js":28,"./blog.js":29,"./cluster.js":30,"./digest.js":31,"./evaluation.js":32,"./evaluation_invite.js":33,"./export.js":34,"./feedback.js":35,"./group.js":36,"./index.js":37,"./maintenance.js":38,"./messaging.js":39,"./permission.js":40,"./plugin.js":41,"./report.js":42,"./rule.js":43,"./stats.js":44,"./subset.js":45,"./system.js":46,"./topic.js":47,"./user.js":48,"./user_permissions.js":49,"./user_settings.js":50}],38:[function(e,t,n){"use strict";function r(e,t,n,r,a,s){function l(t){return e.get(c+"maintenance?filter="+t+n.current("&")).success(a.readArray(a.readPlan))}var c=t.apiRoot,u={};return u.getFutureMaintenancePlans=function(){return l("future")},u.getPastMaintenancePlans=function(){return l("past")},u.getOverdueMaintenancePlans=function(){return l("overdue")},u.getMaintenancePlans=function(){return e.get(c+"maintenance"+n.current()).then(function(e){return e.data.forEach(a.readPlan),e.data})},u.getMaintenancePlan=function(t){return e.get(c+"maintenance/"+t+n.current()).success(a.readPlan)},u.silence=function(e){return u.updatePlan(e.maintenance_id,{silenced:!0})},u.createPlan=function(t){return e.post(c+"maintenance"+n.current(),t)},u.updatePlan=function(t,r){return e.put(c+"maintenance/"+t+n.current(),r).then(function(){s.$broadcast("maintenance:planChanged",t)})},u.deletePlan=function(t){return e["delete"](c+"maintenance/"+t.maintenance_id+n.current()).then(function(){s.$broadcast("maintenance:planDeleted",t.maintenance_id)})},u.addAction=function(t,r){return e.post(c+"maintenance/"+t+"/actions?report="+r+n.current("&"))},u.deleteAction=function(t,r){return e["delete"](c+"maintenance/"+t+"/actions/"+r+n.current())},u.deleteActions=function(t,r){var a={"delete":i(r,"id")};return e.put(c+"maintenance/"+t+n.current(),a)},u.exportPlan=function(e){var t=c+"maintenance/"+e+"?accept=csv"+n.current("&");r.location.assign(t)},u.generatePlaybook=function(t,r){r=r||{};var a=o(c);return a.segment("maintenance"),a.segment(String(t)),a.segment("playbook"),a.addSearch(n.queryParam()),e.post(a.toString(),r)},u.SUGGESTION=Object.freeze({PROPOSED:"proposed",ACCEPTED:"accepted",REJECTED:"rejected"}),u}r.$inject=["$http","InsightsConfig","AccountService","$window","DataUtils","$rootScope"];var a=e("./"),i=e("lodash/collection/map"),o=e("urijs");a.factory("Maintenance",r)},{"./":37,"lodash/collection/map":283,urijs:669}],39:[function(e,t,n){"use strict";function r(e,t){function n(){return e.get(i+"messaging/campaigns")}function r(t){return e.post(i+"messaging/users",t)}function a(){return e.post(i+"messaging/optin",{autoOptedIn:!0})}var i=t.apiRoot;return{getCampaigns:n,saveCampaigns:r,saveOptedIn:a}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("Messaging",r)},{"./":37}],40:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot+"permissions/:permissionId",r={permissionId:"@id"},a=e(n,r);return a.init=function(){a.initial=a.query().$promise},a}r.$inject=["$resource","InsightsConfig"];var a=e("./");a.factory("Permission",r)},{"./":37}],41:[function(e,t,n){"use strict";function r(e,t){return{update:function(n,r){return e.put(t.apiRoot+"plugins/"+n,r)}}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("Plugin",r)},{"./":37}],42:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l){var c,u=r.apiRoot;return t.$on("reload:data",function(){c=null}),{groupByHost:function(){return e.get(u+"reports?accept=host"+a.current("&"))},exportReports:function(e){var t=r.apiPrefix+"v1/",o=t+"reports?accept=csv"+a.current("&");e&&(o+="&category="+e),o=i.appendCurrentGroup(o),n.location.assign(o)},ruleReports:function(t,n){t=encodeURIComponent(t);var r=n?"rule_id=":"rule=",o=u+"reports?"+r+t+a.current("&");return o=i.appendCurrentGroup(o),n&&(o+="&"+n+"=true"),o=s.appendProductToUrl(o,"all"),e.get(o)},headReports:function(t){var n=u+"reports";return n+=a.current("?"),n=o.addQueryToUrl(n,t),e.head(n)},getAllReports:function(){return e.get(u+"reports?type=all&expand=system,rule"+a.current("&")).then(function(e){return e.data.resources.forEach(l.readReport),e.data.resources})},getReportsLatest:function(t){var n=u+"reports";return n+=a.current("?"),n=o.addQueryToUrl(n,t),e.get(n)},getReports:function(t){return t=t||"rhel",e.get(u+"reports?product="+t+a.current("&")).success(l.readArray(l.readReport))}}}r.$inject=["$http","$rootScope","$window","InsightsConfig","AccountService","Group","Utils","PreferenceService","DataUtils"];var a=e("./");a.factory("Report",r)},{"./":37}],43:[function(e,t,n){"use strict";function r(e,t,n,r,a,o){var s=t.apiRoot;return{getRulesLatest:function(t){var r=s+"rules";return r+=n.current("?"),r=a.addQueryToUrl(r,t),e.get(r)},plugins:function(){return e.get(s+"rules?plugins=true")},summary:function(){var t=s+"rules?summary=true"+n.current("&");return t=r.appendProductToUrl(t,"all"),e.get(t)},admin:function(){return e.get(s+"rules/admin?internal=true")},create:function(t){return e.post(s+"rules?internal=true",t)},update:function(e){throw new Error("updates not supported")},"delete":function(t){var n=encodeURIComponent(t.rule_id);return e["delete"](s+"rules/"+n+"?internal=true")},preview:function(t,n){return e.post(s+"rules/preview?internal=true",{rule:t,debug:n})},byId:function(t,n){return t=encodeURIComponent(t),e.get(s+"rules/"+t,{cache:n!==!0})},getAvailableTags:function(){return e.get(s+"rules/tags")},deleteTag:function(t){return e["delete"](s+"rules/tags/"+encodeURIComponent(t))},updateTag:function(e){throw new Error("updates not supported")},exportRules:function(){o.location.assign(s+"rules/admin?internal=true&accept=csv")},listAnsibleResolutions:function(t,n){var r=i(s);return r.segment("rules"),r.segment(t),r.segment("ansible-resolutions"),r.segment(String(n)),e.get(r.toString())}}}r.$inject=["$http","InsightsConfig","AccountService","PreferenceService","Utils","$window"];var a=e("./"),i=e("urijs");a.factory("Rule",r)},{"./":37,urijs:669}],44:[function(e,t,n){"use strict";function r(e,t,n,r){function a(e,a,o){var s=i(t.apiRoot);return s.segment("stats"),e&&s.segment(e),s.addSearch(n.queryParam()),o||s.addSearch(r.queryParam()),a&&s.addSearch(a),s.toString()}return{getAll:function(t){return e.get(a(null,t))},getSystems:function(t){return e.get(a("systems",t))},getRules:function(t,n){return e.get(a("rules",t,n))}}}r.$inject=["$http","InsightsConfig","AccountService","Group"];var a=e("./"),i=e("urijs");a.factory("Stats",r)},{"./":37,urijs:669}],45:[function(e,t,n){"use strict";function r(e,t,n,r){var a=t.apiRoot;return{create:function(t,r){var o=i(a);return o.segment("subsets"),o.addSearch(n.queryParam()),e.post(o.toString(),{branch_id:t,system_ids:r})},getRulesWithHits:function(t){var o=i(a);return o.segment("subsets"),o.segment(t),o.segment("rules"),o.addSearch("report_count","gt0"),o.addSearch(n.queryParam()),e.get(o.toString()).success(function(e){e.resources.forEach(r.readRule)})}}}r.$inject=["$http","InsightsConfig","AccountService","DataUtils"];var a=e("./"),i=e("urijs");a.factory("Subset",r)},{"./":37,urijs:669}],46:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,l,c,u,d){function p(e){return e.product_code===c.docker.code?e.role===c.docker.roles.host.code?(e.imageClass=c.docker.roles.host.icon,e.displayName=c.docker.roles.host.fullName,e.displayNameShort=c.docker.shortName2+" "+c.docker.roles.host.shortName):e.role===c.docker.roles.container.code?(e.imageClass=c.docker.roles.container.icon,e.displayName=c.docker.roles.container.fullName,e.displayNameShort=c.docker.roles.container.shortName):e.role===c.docker.roles.image.code&&(e.imageClass=c.docker.roles.image.icon,e.displayName=c.docker.roles.image.fullName,e.displayNameShort=c.docker.shortName2+" "+c.docker.roles.image.shortName):e.product_code===c.ocp.code?e.role===c.ocp.roles.cluster.code?(e.imageClass=c.ocp.roles.cluster.icon,e.displayName=c.ocp.roles.cluster.fullName,e.displayNameShort=c.ocp.shortName+" "+c.ocp.roles.cluster.shortName):e.role===c.ocp.roles.master.code?(e.imageClass=c.ocp.roles.master.icon,e.displayName=c.ocp.roles.master.fullName,e.displayNameShort=c.ocp.shortName+" "+c.ocp.roles.master.shortName):e.role===c.ocp.roles.node.code&&(e.imageClass=c.ocp.roles.node.icon,e.displayName=c.ocp.roles.node.fullName,e.displayNameShort=c.ocp.shortName+" "+c.ocp.roles.node.shortName):e.product_code===c.osp.code?e.role===c.osp.roles.controller.code?(e.imageClass=c.osp.roles.controller.icon,e.displayName=c.osp.roles.controller.fullName,e.displayNameShort=c.osp.shortName+" "+c.osp.roles.controller.shortName):e.role===c.osp.roles.compute.code?(e.imageClass=c.osp.roles.compute.icon,e.displayName=c.osp.roles.compute.fullName,e.displayNameShort=c.osp.shortName+" "+c.osp.roles.compute.shortName):e.role===c.osp.roles.director.code?(e.imageClass=c.osp.roles.director.icon,e.displayName=c.osp.roles.director.fullName,e.displayNameShort=c.osp.shortName+" "+c.osp.roles.director.shortName):e.role===c.osp.roles.cluster.code&&(e.imageClass=c.osp.roles.cluster.icon,e.displayName=c.osp.roles.cluster.fullName,e.displayNameShort=c.osp.shortName+" "+c.osp.roles.cluster.shortName):e.product_code===c.rhev.code?e.role===c.rhev.roles.manager.code?(e.imageClass=c.rhev.roles.manager.icon,e.displayName=c.rhev.roles.manager.fullName,e.displayNameShort=c.rhev.shortName+" "+c.rhev.roles.manager.shortName):e.role===c.rhev.roles.hypervisor.code?(e.imageClass=c.rhev.roles.hypervisor.icon,e.displayName=c.rhev.roles.hypervisor.fullName,e.displayNameShort=c.rhev.shortName+" "+c.rhev.roles.hypervisor.shortName):e.role===c.rhev.roles.cluster.code&&(e.imageClass=c.rhev.roles.cluster.icon,e.displayName=c.rhev.roles.cluster.fullName,e.displayNameShort=c.rhev.shortName+" "+c.rhev.roles.cluster.shortName):e.product_code===c.rhel.code&&(e.imageClass=c.rhel.icon,e.displayName=c.rhel.fullName,e.displayNameShort=c.rhel.shortName),e}function f(e){for(var t=0;t<e.length;t++)e[t]=p(e[t]);return e}var h,g,m=r.apiRoot;return n.$on("reload:data",function(){h=null}),{ackStaleSystems:function(){var t=m+"systems/stale/ack";return t+=a.current("?"),e.put(t)},getSingleSystem:function(t){var n=m+"systems/"+t;return n+=a.current("?"),e.get(n)},getSystemTypes:function(){var t=m+"system_types";return e.get(t).then(function(e){return f(e.data),e})},getSystems:function(){var t;return h?h:(t=m+"systems"+a.current(),h=e.get(t))},getSystemLinks:function(t,n){var r=m+"systems/"+encodeURIComponent(t)+"/links";return r+=a.current("?"),r=s.addQueryToUrl(r,n),e.get(r)},headSystemsLatest:function(t){var n=m+"systems";return n+=a.current("?"),n=s.addQueryToUrl(n,t),e.head(n)},getSystemsLatest:function(t){var n=m+"systems";return n+=a.current("?"),n=s.addQueryToUrl(n,t),e.get(n)},getSystemStatus:function(t){var n;return!t&&g?g:(n=m+"systems/status"+a.current(),n=u.appendProductToUrl(n,"machine"),g=e.get(n))},getSystemSummary:function(t){var n,r=m+"systems?summary=true"+a.current("&");return r=u.appendProductToUrl(r,"machine"),n=o.current(),n&&n.id&&(r+="&group="+n.id),r=s.addQueryToUrl(r,t),e.get(r)},getSystemReports:function(t){return e.get(m+"systems/"+encodeURIComponent(t)+"/reports"+a.current()).success(function(e){e.reports.forEach(function(e){return d.readRule(e.rule)})})},getSystemMetadata:function(t){return e.get(m+"systems/"+encodeURIComponent(t)+"/metadata"+a.current())},deleteSystem:function(t){return g=null,e["delete"](m+"systems/"+encodeURIComponent(t)+a.current())},populateOCPDeployments:function(){var e={product_code:"ocp",role:"cluster"};return this.getSystemsLatest(e).then(function(e){var t,n;e&&e.data&&e.data.resources&&(n=e.data.resources,n.splice(0,0,{display_name:"All Deployments",system_id:"all"}),l.setOCPDeployments(n),l.getSelectedOCPDeployment().system_id?(t=i(l.getOCPDeployments(),{system_id:l.getSelectedOCPDeployment().system_id}),l.setSelectedOCPDeployment(t)):l.setSelectedOCPDeployment(n[0]))})},populateOSPDeployments:function(){var e={product_code:"osp",role:"cluster"};return this.getSystemsLatest(e).then(function(e){var t,n;e&&e.data&&e.data.resources&&(n=e.data.resources,n.splice(0,0,{display_name:"All Deployments",system_id:"all"}),l.setOSPDeployments(n),l.getSelectedOSPDeployment().system_id?(t=i(l.getOSPDeployments(),{system_id:l.getSelectedOSPDeployment().system_id}),l.setSelectedOSPDeployment(t)):l.setSelectedOSPDeployment(n[0]))})},populateDockerHosts:function(){var e={product_code:"docker",role:"host"};return this.getSystemsLatest(e).then(function(e){var t,n;e&&e.data&&e.data.resources&&(n=e.data.resources,n.splice(0,0,{hostname:"All Hosts",system_id:"all"}),l.setDockerHosts(n),l.getSelectedDockerHost().system_id?(t=i(l.getDockerHosts(),{system_id:l.getSelectedDockerHost().system_id}),l.setSelectedDockerHost(t)):l.setSelectedDockerHost(n[0]))})},getProductSpecificData:function(){var e;return"docker"===l.getSelectedProduct()?this.populateDockerHosts():"osp"===l.getSelectedProduct()?this.populateOSPDeployments():(e=t.defer(),e.resolve(),e.promise)}}}r.$inject=["$http","$q","$rootScope","InsightsConfig","AccountService","Group","Utils","FilterService","Products","PreferenceService","DataUtils"];var a=e("./"),i=e("lodash/collection/find");a.factory("System",r)},{"./":37,"lodash/collection/find":277}],47:[function(e,t,n){"use strict";function r(e,t,n,r,a){var o="topics",s=n.apiRoot;return{getAll:function(t,n){var l=t?t:{},c=i(s+o+r.current()).addSearch(l);return angular.isDefined(n)&&c.addSearch("limit",n),c.addSearch(a.queryParam()),e.get(c.toString())},admin:function(){return e.get(s+o+"/admin")},get:function(t,n){var l=i(s+o+"/"+t+r.current());return n&&l.addSearch("product",n),l.addSearch(a.queryParam()),e.get(l.toString())},create:function(t){return e.post(s+o,t)},update:function(t){return e.put(s+o+"/"+t.id,t)},preview:function(t){return e.post(s+o+"/preview",t)},remove:function(t){return e["delete"](s+o+"/"+t)}}}r.$inject=["$http","$q","InsightsConfig","AccountService","Group"];var a=e("./"),i=e("urijs");a.factory("Topic",r)},{"./":37,urijs:669}],48:[function(e,t,n){"use strict";function r(e,t,n,r,a,s){function l(){return r.absUrl().indexOf("insightsbeta")>-1}function c(){t.get(a.apiRoot+"me").success(function(t){angular.extend(d,t),d.permissions=i(d.permissions,"code"),d.is_super=d.is_internal,d.current_entitlements&&d.current_entitlements.unlimitedRHEL&&(d.current_entitlements.systemLimitReached=!1),null!==window.localStorage.getItem("insights:user:isInternal")&&d.is_super===!0&&(d.is_internal="true"===window.localStorage.getItem("insights:user:isInternal")),d.loaded=!0,s.set("loaded",!0,!1),o.tryFakeUser(d),e.$broadcast("user:loaded"),"true"===window.localStorage.getItem("tapi:demo")&&(d.is_internal=!1,d.demo_mode=!0),u.resolve(d)})}var u,d={loaded:!1};return{init:function(){return angular.isDefined(u)||(u=n.defer(),c()),u.promise},current:d,asyncCurrent:function(e){return d&&d.loaded?e(d):void(u&&u.promise&&u.promise.then(e))},isOnOSPWhitelist:function(){var e=!1;return!!l()&&(d&&d.current_entitlements&&(e=d.current_entitlements.whitelist.osp),e)}}}r.$inject=["$rootScope","$http","$q","$location","InsightsConfig","PreferenceService"];var a=e("./"),i=e("lodash/collection/indexBy"),o={};o.tryFakeUser=function(e){var t;try{t=JSON.parse(window.localStorage.getItem("insights:fake:entitlements")),void 0!==t&&null!==t&&(e.current_entitlements=t)}catch(n){}},a.factory("User",r)},{"./":37,"lodash/collection/indexBy":282}],49:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot+"user_permissions/:userPermissionId",r={userPermissionId:"@id"},a=e(n,r);return a.init=function(){a.initial=a.query().$promise},a}r.$inject=["$resource","InsightsConfig"];var a=e("./");a.service("UserPermissions",r)},{"./":37}],50:[function(e,t,n){"use strict";function r(e,t){var n=t.apiRoot;return{update:function(t){return e.post(n+"me/settings",t)}}}r.$inject=["$http","InsightsConfig"];var a=e("./");a.factory("UserSettings",r)},{"./":37}],51:[function(e,t,n){"use strict";function r(e){e.state("app",{templateUrl:"js/states/base/base.html","abstract":!0,controller:"AppCtrl"}),e.state("info",{templateUrl:"js/states/base/info.html","abstract":!0})}r.$inject=["$stateProvider"],t.exports=r},{}],52:[function(e,t,n){"use strict";function r(e,t,n,r,o,s,l,c){e.$on("$stateChangeSuccess",function(){t.clearHttpError()}),c.checkAndRedirect();var u=o.coerce(r.get("rh_locale"));n.setCurrentLanguage(u),i.locale(u),r.get("locale_debug")&&(n.debug=!0),u&&"en"!==u&&n.loadRemote("translations/"+u+"/"+u+".json"),a.process(s.get(),l)}r.$inject=["$rootScope","AlertService","gettextCatalog","$cookies","CoercionService","$state","InsightsConfig","BetaRedirectService"];var a=e("./state_customizer"),i=e("./../bower_components/moment/moment.js");e("./../bower_components/moment/locale/ja"),t.exports=r},{"./../bower_components/moment/locale/ja":15,"./../bower_components/moment/moment.js":16,"./state_customizer":234}],53:[function(e,t,n){"use strict";function r(e,t,n,r,a){var i=window.sessionStorage.getItem(n.acctKey);e.showAccountSelector=function(){var t=e.user,n=a.PERMS;return!(!t||!t.permissions)&&(!!t.permissions[n.SU]||!!t.permissions[n.ACCOUNT_SWITCHER])},e.Utils=r,e.accountChange=function(e){e&&(window.sessionStorage.setItem(n.acctKey,e),window.location.reload())},e.reset=function(){
e.user&&(e.account_number=e.user.account_number,e.user.is_internal&&(e.account_number=""+e.user.account_number),e.accountChange(e.account_number))},"true"===window.localStorage.getItem("tapi:demo")&&(i="6"),i&&(e.account_number=i),t.asyncCurrent(function(){e.user=t.current,e.isInternal!==e.user.is_internal&&(e.isInternal=e.user.is_internal),i||(e.account_number=e.user.account_number)}),e.changeInternal=function(){e.user.isInternal=e.isInternal,window.localStorage.setItem("insights:user:isInternal",JSON.stringify(e.user.isInternal)),window.location.reload()}}function a(){return{templateUrl:"js/components/accountSelect/accountSelect.html",restrict:"E",controller:r}}r.$inject=["$scope","User","InsightsConfig","Utils","PermissionService"];var i=e("../");i.directive("accountSelect",a)},{"../":105}],54:[function(e,t,n){"use strict";function r(e,t,n){e.myActions=n.actions,t.$on("$stateChangeStart",function(){n.clear()})}function a(){return{templateUrl:"js/components/actionbar/actionbar.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$rootScope","ActionbarService"];var i=e("../");i.directive("actionbar",a)},{"../":105}],55:[function(e,t,n){"use strict";function r(e,t){e.loading=t.vars.loading,e.getTotal=t.getTotal,e.isActions=t.isActions,e.getCategory=t.getCategory}function a(){return{templateUrl:"js/components/actions/actions.html",restrict:"E",replace:!0,scope:{},controller:r}}r.$inject=["$scope","RhaTelemetryActionsService"];var i=e("../");i.directive("rhaTelemetryActions",a)},{"../":105}],56:[function(e,t,n){"use strict";function r(e,t,n){e.goBack=function(){"app.actions-rule"===t.current.name?t.go("app.topic",{id:n.category}):"app.topic"===t.current.name&&t.go("app.actions")},e.$on("telemetry:esc",function(t){t.defaultPrevented||e.goBack()})}function a(){return{restrict:"EC",scope:{},controller:r}}r.$inject=["$scope","$state","$stateParams"];var i=e("../../");i.directive("actionsBack",a)},{"../../":105}],57:[function(e,t,n){"use strict";function r(e,t,n){e.crumbs=n.crumbs,e.getCrumbs=n.get,e.crumbClick=function(e){t.go(e.state,e.params)}}function a(){return{templateUrl:"js/components/actions/actionsBreadcrumbs/actionsBreadcrumbs.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$state","ActionsBreadcrumbs"];var i=e("../../");i.directive("actionsBreadcrumbs",a)},{"../../":105}],58:[function(e,t,n){"use strict";function r(e,t,n,r){e.getLoadingDetails=r.getLoadingDetails,e.getData=r.getData,e.getRule=r.getRule,e.arcClick=r.arcClick,e.ackAction=r.ackAction,e.isActions=r.isActions,e.getTitle=function(){var e=r.isActions()?"Actions":r.getCategory();return e},e.isSystemAlert=function(e){if(e&&e.id)return n.systemAlerts[e.id]}}function a(){return{templateUrl:"js/components/actions/actionsCategory/actionsCategory.html",restrict:"E",scope:{},controller:r}}r.$inject=["$scope","$location","InsightsConfig","RhaTelemetryActionsService"];var i=e("../../");i.directive("actionsCategory",a)},{"../../":105}],59:[function(e,t,n){"use strict";function r(e,t,n,r){e.isActions=r.isActions,e.getLoadingDetails=r.getLoadingDetails,e.getData=r.getData,e.getRule=r.getRule,e.arcClick=r.arcClick,e.ackAction=r.ackAction,e.getTitle=function(){var e=r.isActions()?"Actions":r.getCategory();return e},e.isSystemAlert=function(e){if(e&&e.id)return n.systemAlerts[e.id]}}function a(){return{templateUrl:"js/components/actions/actionsDetails/actionsDetails.html",restrict:"EC",scope:{},controller:r}}r.$inject=["$scope","$location","InsightsConfig","RhaTelemetryActionsService"];var i=e("../../");i.directive("actionsDetails",a)},{"../../":105}],60:[function(e,t,n){"use strict";function r(e,t){e.getShowFilters=t.getShowFilters,e.getSelectedProduct=t.getSelectedProduct,e.validSummaryFields=["product","group","severity","osp_deployment","docker_host"]}function a(){return{templateUrl:"js/components/actions/actionsFilters/actionsFilters.html",restrict:"E",controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../");i.directive("actionsFilters",a)},{"../../":105}],61:[function(e,t,n){"use strict";function r(e,t,n,r,a,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,_,k,S,A,T,$,C){function M(e){return function(){var t=s.checkboxes.getSelected(s.ruleSystems);if(s.setNoSystemsSelected(0===t.length),t.length)return e.apply(null,arguments)}}function E(){s.loading=!0;var e=x.populateDetails().then(function(){var e=x.getRuleDetails();e&&(s.ruleDetails=e,d.setCrumb({label:e.description,params:{category:c.category,rule:e.rule_id}},2)),x.setIsScrolling(!0),x.resetPaging(),x.orderRuleSystems(s.predicate,s.reverse),s.ruleSystems=x.getRuleSystemsPage(),s.allSystems=x.getRuleSystems(),x.setIsScrolling(!1)}),t=k.get(c.category).success(function(e){d.setCrumb({label:e.title,state:"app.topic",params:{id:e.slug?e.slug:e.id}},1)}),n=w.getProductSpecificData();r.all([e,_.getSystemTypesAsync(),t,n])["finally"](function(){s.loading=!1,P.initialDisplay()})}var I=c.category,P={};s.allSystems=[],s.getListType=h.getType,s.listTypes=h.types(),s.noSystemsSelected=!1,s.permalink=m.make,s.ruleSystems=[],s.QuickFilters=y,s.config=f,s.predicate="toString",s.reverse=!1,p.parseBrowserQueryParams(),p.setShowFilters(!1),p.setSearchTerm(""),s.doScroll=function(){x.nextPage(),x.setIsScrolling(!0),s.ruleSystems=s.ruleSystems.concat(x.getRuleSystemsPage()),x.setIsScrolling(!1)},s.disableScroll=function(){var e=!1;return(x.getIsScrolling()||!s.ruleSystems||s.ruleSystems.length>=x.getTotalRuleSystems())&&(e=!0),e},s.setNoSystemsSelected=function(e){s.noSystemsSelected=e,e&&u(function(){s.permalink("noSystemsSelected",!0,50,500)},100)},s.$on("group:change",E),s.$on("filterService:doFilter",function(){"app.actions-rule"===l.current.name&&E()}),d.init(c),x.setCategory(I),x.setRule(c.rule),s.getReportDetails=x.getReportDetails,s.loading=!0,s.loadingSystems=!0,s.ospRuleResolution="",s.search={filters:["system_id","hostname","display_name"].map(function(e){return function(t,n){return String(o(t,e)).includes(n)}}),doFilter:function(e){e?s.ruleSystems=s.allSystems.filter(function(t){return s.search.filters.some(function(n){return n(t,e)})}):s.ruleSystems=s.allSystems}},s.checkboxes=new A.Checkboxes("system_id"),s.$watchCollection("checkboxes.items",function(){s.checkboxes.update(s.ruleSystems),s.checkboxes.totalChecked>0&&(s.noSystemsSelected=!1)}),s.plans=g.plans,s.showSystem=function(e){var t=x.getClusterAffectedSystems();return"string"==typeof e&&t&&t.hasOwnProperty(e)&&(e=t[e]),"function"==typeof f.actionsShowSystem?f.actionsShowSystem(e):void n.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return e},rule:function(){return!1}}})},s.systemToString=function(e){return A.getSystemDisplayName(e)},P.initialDisplay=function(){var e=t.search(),n=e.machine;if(n){var r=i(s.allSystems,{system_id:n});r&&s.showSystem(r)}},P.initCtrl=function(){S.asyncCurrent(function(){s.isInternal=S.current.is_internal}),E()},a.$on("productFilter:change",function(){"app.actions-rule"===l.current.name&&E()}),s.$on("account:change",E),f.authenticate&&!v.get("loaded")?a.$on("user:loaded",P.initCtrl):P.initCtrl(),s.addToPlan=M(function(e){var t=s.checkboxes.getSelected(s.ruleSystems);if(t.length){var n=x.getRuleDetails();g.showMaintenanceModal(null,t,n,e)}}),s.sort=function(e){s.loading=!0,s.reverse=!s.reverse,s.predicate!==e&&(s.reverse=!1,"last_check_in"===e&&(s.reverse=!0)),s.predicate=e,x.setIsScrolling(!0),x.resetPaging(),x.orderRuleSystems(s.predicate,s.reverse),s.ruleSystems=x.getRuleSystemsPage(),x.setIsScrolling(!1),s.loading=!1},f.allowExport&&T.addExportAction(function(){$.getReports(null,c.rule,C.current().id)})}r.$inject=["$filter","$location","$modal","$q","$rootScope","$scope","$state","$stateParams","$timeout","ActionsBreadcrumbs","FilterService","InsightsConfig","ListTypeService","MaintenanceService","PermalinkService","PreferenceService","QuickFilters","Report","RhaTelemetryActionsService","System","SystemsService","Topic","User","Utils","ActionbarService","Export","Group"];var a=e("../../"),i=e("lodash/collection/find"),o=e("lodash/object/get");a.controller("ActionsRuleCtrl",r)},{"../../":105,"lodash/collection/find":277,"lodash/object/get":397}],62:[function(e,t,n){"use strict";function r(e,t,n,r){e.getShowFilters=t.getShowFilters,e.getSelectedProduct=t.getSelectedProduct,e.validSummaryFields=["product","group","osp_deployment","docker_host"],e.resetFilters=function(){t.clearAll(),r.setCurrent({}),e.$emit("group:change",{}),e.$broadcast(n.filters.reset)}}function a(){return{templateUrl:"js/components/actions/actionsRuleFilters/actionsRuleFilters.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","FilterService","Events","Group"];var i=e("../../");i.directive("actionsRuleFilters",a)},{"../../":105}],63:[function(e,t,n){"use strict";function r(e){e.loaded=!1,e.ruleCount={total:0,info:0,warn:0,error:0,critical:0},e.max=0,e.$watch("stats.rules",function(t){t&&(e.ruleCount=t,e.max=Math.max(t.info,t.warn,t.error,t.critical),e.loaded=!0)},!0)}function a(){return{templateUrl:"js/components/actions/severitySummary/severitySummary.html",restrict:"E",scope:{stats:"="},controller:r}}r.$inject=["$scope"];var i=e("../../");i.directive("severitySummary",a)},{"../../":105}],64:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/actions/systemSummary/systemSummary.html",restrict:"E",scope:{stats:"="},link:function(e){e.loaded=!1,e.ratio=0,e.$watch("stats.systems",function(t){t&&t.total&&(e.ratio=100*t.affected/t.total,e.loaded=!0)},!0)}}}var a=e("../../");a.directive("systemSummary",r)},{"../../":105}],65:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l){e.params={showAll:!0},a.init(e.params),e.announcements=a.announcements,e.canCreate=!1,e.permalink=o.make,n.announcementId&&r(function(){e.permalink(n.announcementId.toString(),10,30)},100),e.reload=function(){a.reload(e.params)},e.ackAnnouncement=function(e){a.acknowledge(e)},e.editAnnouncement=function(e){t.go("app.edit-announcement",{id:e.id})},e.deleteAnnouncement=function(e){l.swal({title:"Are you sure?",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(t){t&&a.deleteAnnouncement(e)})},i.asyncCurrent(function(t){e.canCreate=t&&t.is_internal&&s.has(t,s.PERMS.CREATE_ANNOUNCEMENT)})}function a(){return{templateUrl:"js/components/announcements/announcementsScroll/announcementsScroll.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$state","$stateParams","$timeout","AnnouncementService","User","PermalinkService","PermissionService","SweetAlert"];var i=e("../../");i.directive("announcementsScroll",a)},{"../../":105}],66:[function(e,t,n){"use strict";function r(e,t){var n=t.getString("Use the Planner to generate an Ansible Playbook."),r=t.getString("This rule has Ansible support."),a=t.getString("This rules does not have Ansible support");e.$watch("value",function(t){t?e.icon="images/l_ansible-blue.svg":e.icon="images/l_ansible-unsupported.svg",(e.showTooltip||void 0===e.showTooltip)&&(t?(e.tooltip=r,(e.showPlannerLine||void 0===e.showPlannerLine)&&(e.tooltip+=" "+n)):e.tooltip=a)})}function a(){return{scope:{value:"=",showTooltip:"=",showPlannerLine:"="},templateUrl:"js/components/ansibleIcon/ansibleIcon.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","gettextCatalog"];var i=e("../");i.directive("ansibleIcon",a)},{"../":105}],67:[function(e,t,n){"use strict";function r(e,t){e.switchVersion=function(e){e?t.goToBeta():t.goToStable()},e.switchStatus=function(e){window.localStorage.setItem("betaOptIn",e)},e.leaveBeta=function(){e.switchStatus(!1),e.switchVersion(!1)},e.isOnBeta=function(){return window.insightsGlobal.isBeta},e.isOptedIn=function(){return JSON.parse(window.localStorage.getItem("betaOptIn"))}}function a(){return{templateUrl:"js/components/betaSwitchButton/betaSwitchButton.html",restrict:"E",controller:r,replace:!0}}r.$inject=["$scope","BetaRedirectService"];var i=e("../");i.directive("betaSwitchButton",a)},{"../":105}],68:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(){t.loadingAnnouncements=!0,a.init().then(function(){t.items=a.announcements.slice(0,a.announcements.length<7?a.announcements.length:6),t.unackedCount=a.unseen.count,t.loadingAnnouncements=!1})}switch(t.loadingAnnouncements=!0,t.selectAnnouncement=function(e){n.go("app.announcements",{announcementId:e.id})},t.ack=function(e){t.loadingAnnouncements=!0,a.acknowledge(e).then(function(){t.selectAnnouncement(e),t.loadingAnnouncements=!1})},t.type){case"announcements":i()}e.$on("announcement:changed",function(){i()})}function a(){return{templateUrl:"js/components/bullhorn/bullhorn.html",restrict:"E",replace:!0,scope:{type:"@type",icon:"@icon"},controller:r}}r.$inject=["$rootScope","$scope","$state","Announcement","AnnouncementService"];var i=e("../");i.directive("bullhorn",a)},{"../":105}],69:[function(e,t,n){"use strict";function r(e,t,n,r){var a={},i={};a.toggleContent=function(){e.collapsed=!e.collapsed},e.collapsed=!angular.isDefined(e.initCollapsed)||Boolean(e.initCollapsed),t.generateAccessors(e,i),e.toggleContent=function(){e.expandable&&r.when(e.onToggle({ctx:{collapsing:!e.collapsed}})).then(a.toggleContent)},e.$on(n.cards.expandAll,function(){e.collapsed&&e.toggleContent()}),e.$on(n.cards.collapseAll,function(){e.collapsed||e.toggleContent()}),this.api=e}function a(e,t,n,r){e.card=r.api}function i(e,t,n,r){e.card=r.api}function o(e,t,n,r){e.card=r.api}function s(){return{templateUrl:"js/components/card/card.html",restrict:"E",replace:!0,transclude:!0,controller:r,scope:{expandable:"@",initCollapsed:"=",onToggle:"&"},link:function(e,t){function n(e,t,n,r){e.$watch(n,function(e){e?t.addClass(r):t.removeClass(r)})}n(e,t,"!collapsed","expanded"),n(e,t,"expandable","content-block-expandable")}}}function l(){return{templateUrl:"js/components/card/cardHeader.html",restrict:"E",replace:!0,transclude:!0,link:a,require:"^card"}}function c(){return{templateUrl:"js/components/card/cardContent.html",restrict:"E",replace:!0,transclude:!0,link:i,require:"^card"}}function u(){return{templateUrl:"js/components/card/cardFooter.html",restrict:"E",replace:!0,transclude:!0,link:o,require:"^card"}}r.$inject=["$scope","Utils","Events","$q"],a.$inject=["scope","element","attrs","card"],i.$inject=["scope","element","attrs","card"],o.$inject=["scope","element","attrs","card"];var d=e("../");d.directive("card",s),d.directive("cardHeader",l),d.directive("cardContent",c),d.directive("cardFooter",u)},{"../":105}],70:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,u,d,p,f,h,g){e.getSystemName=r.getSystemDisplayName,e.hostnameTitle=null,e.selected=!1,e.plans=h.plans.all,e.showMaintenanceModal=h.showMaintenanceModal,e.config=g,e.systemHostnameHover=function(t){var n=t.relatedTarget;!e.hostnameTitle&&n.offsetWidth<n.scrollWidth&&(e.hostnameTitle=e.system.hostname)},e.toggleContent=function(t){if(!t.collapsing){var n={includeSelf:!1};e.loading=!0,i.getSystemLinks(e.system.system_id,n).then(function(t){var n,r;t&&t.data&&t.data.resources&&d.getSystemTypesAsync().then(function(a){e.links=t.data.resources,n=c(e.links,function(e){return e.system_type_id}),r=[o(a,{product_code:u.osp.code,role:u.osp.roles.cluster.code}),o(a,{product_code:u.rhev.code,role:u.rhev.roles.cluster.code}),o(a,{product_code:u.ocp.code,role:u.ocp.roles.cluster.code}),o(a,{product_code:u.osp.code,role:u.osp.roles.director.code}),o(a,{product_code:u.rhev.code,role:u.rhev.roles.manager.code}),o(a,{product_code:u.ocp.code,role:u.ocp.roles.master.code}),o(a,{product_code:u.docker.code,role:u.docker.roles.host.code}),o(a,{product_code:u.osp.code,role:u.osp.roles.compute.code}),o(a,{product_code:u.osp.code,role:u.osp.roles.controller.code}),o(a,{product_code:u.rhev.code,role:u.rhev.roles.hypervisor.code}),o(a,{product_code:u.docker.code,role:u.docker.roles.container.code}),o(a,{product_code:u.docker.code,role:u.docker.roles.image.code}),o(a,{product_code:u.ocp.code,role:u.ocp.roles.node.code}),o(a,{product_code:u.rhel.code,role:u.rhel.roles.host.code})],e.linkGroups=l(n,function(e,t){var n=s(r,{id:parseInt(t)});return{priority:n,system_type_id:t,members:e}})})}).then(function(){e.loading=!1})}},e.getGroupPriority=function(e){return e.priority},e.hasFamilyMembers=function(){return!!(e.links&&e.links.length>0)},e.showActions=function(){a.showSystemModal(e.system)},e.unregister=function(){d.unregisterSelectedSystems([e.system])},n.asyncCurrent(function(){e.isInternal=n.current.is_internal})}function a(){return{templateUrl:"js/components/card/systemCard/systemCard.html",restrict:"E",replace:!0,controller:r,scope:{rule:"=",system:"=",checkboxes:"=",selectableVal:"=selectable",checkboxTooltipExp:"&checkboxTooltip"},link:function(e,t,n){var r="Select System";n.checkboxTooltip?e.checkboxTooltip=e.checkboxTooltipExp({defaultTooltip:r}):e.checkboxTooltip=r,angular.isDefined(e.selectableVal)?e.selectable=e.selectableVal:e.selectable=!0}}}r.$inject=["$scope","$modal","User","Utils","InventoryService","System","Products","SystemsService","$q","AnsibleService","MaintenanceService","InsightsConfig"];var i=e("../../"),o=e("lodash/collection/find"),s=e("lodash/array/findIndex"),l=e("lodash/collection/map"),c=e("lodash/collection/groupBy");i.animation(".slide",["$timeout",function(e){var t="ng-hide",n="no-border-bottom";return{beforeAddClass:function(e,r,a){r===t?jQuery(e).slideUp(a):r===n&&jQuery(e).addClass(n)},removeClass:function(r,a,i){function o(){jQuery(r).css("overflow","visible"),i()}a===t?jQuery(r).hide().slideDown(o):a===n&&(jQuery(r).addClass(n),e(function(){jQuery(r).removeClass(n)},399))}}}]),i.directive("systemCard",a)},{"../../":105,"lodash/array/findIndex":267,"lodash/collection/find":277,"lodash/collection/groupBy":280,"lodash/collection/map":283}],71:[function(e,t,n){"use strict";function r(){return{scope:{category:"="},templateUrl:"js/components/categoryIcon/categoryIcon.html",restrict:"E",replace:!0}}var a=e("../");a.directive("categoryIcon",r)},{"../":105}],72:[function(e,t,n){"use strict";function r(e,t,n){function r(){return"true"===window.localStorage.getItem("tapi:demo")}e.user=t.current,e.tmp={apiPrefix:n.apiPrefix,apiVersion:n.apiVersion,entitlements:{}},e.presets={apiPrefix:{"default":n.defaultApiPrefix,local:"local/"},apiVersions:["v1","v2","v3"],entitlements:{paid:{unlimitedRHEL:!1,whitelist:{rhel:!1,osp:!1},totalRHEL:32,skus:[{skuName:"MCT3292",quantity:2,system_count:1,unlimited:!1}],activeSystemCount:1,systemLimitReached:!1},paidWithFewSystems:{unlimitedRHEL:!1,whitelist:{rhel:!1,osp:!1},totalRHEL:9,skus:[{skuName:"MCT3292",quantity:2,system_count:1,unlimited:!1}],activeSystemCount:1,systemLimitReached:!1},unpaid:{activeSystemCount:1,skus:[{skuName:"SER0482",quantity:2,system_count:0,unlimited:!1}],systemLimitReached:!1,totalRHEL:8,unlimitedRHEL:!1,whitelist:{osp:!1,rhel:!1}},unpaidSystemLimitReached:{activeSystemCount:10,skus:[{skuName:"SER0482",quantity:2,system_count:0,unlimited:!1}],systemLimitReached:!0,totalRHEL:10,unlimitedRHEL:!1,whitelist:{osp:!1,rhel:!1}},whitelisted:{whitelist:{rhel:!0,osp:!0}}}},e.getPretty=function(e){return JSON.stringify(e,null,2)},e.setEntitlements=function(){e.user.current_entitlements=e.presets.entitlements[e.tmp.tmpEnt],window.localStorage.setItem("insights:fake:entitlements",JSON.stringify(e.user.current_entitlements))},e.setEntitlementsByKey=function(t){var n;try{n=JSON.parse(e.tmp.entitlements[t]),e.user.current_entitlements[t]=n}catch(r){}},e.save=function(){window.localStorage.setItem("insights:apiVersion",e.tmp.apiVersion),window.localStorage.setItem("insights:apiPrefix",e.tmp.apiPrefix),window.location.reload()},e.injectNewKey=function(){e.user.current_entitlements[e.newKey]={}},e.getDemoModeButtonText=function(){return r()?"Disable Demo Mode":"Enable Demo Mode"},e.demoModeButtonOnClick=function(){r()?window.localStorage.setItem("tapi:demo",!1):window.localStorage.setItem("tapi:demo",!0),window.location.reload()}}function a(){return{templateUrl:"js/components/config/dev/dev.html",restrict:"E",scope:!1,controller:r}}r.$inject=["$scope","User","InsightsConfig"];var i=e("../../");i.directive("configDev",a)},{"../../":105}],73:[function(e,t,n){"use strict";function r(e,t){t.init(),e.isCreating=!1,e.groups=t.groups}function a(){return{templateUrl:"js/components/config/groups/groups.html",restrict:"EA",scope:!1,controller:r}}r.$inject=["$scope","Group"];var i=e("../../");i.directive("configGroups",a)},{"../../":105}],74:[function(e,t,n){"use strict";function r(e,t){t.init(),e.acks=t.acks,e["delete"]=t.deleteAck}function a(){return{templateUrl:"js/components/config/hidden/hidden.html",restrict:"EA",scope:{},controller:r}}r.$inject=["$scope","Ack"];var i=e("../../");i.directive("configHidden",a)},{"../../":105}],75:[function(e,t,n){"use strict";function r(e,t){t.getCampaigns().success(function(t){e.campaigns=t}),e.save=function(n){t.saveCampaigns(e.campaigns).then(function(){n.$setPristine()})}}function a(){return{templateUrl:"js/components/config/messaging/messaging.html",restrict:"EA",scope:{},controller:r}}r.$inject=["$scope","Messaging"];var i=e("../../");i.directive("configMessaging",a)},{"../../":105}],76:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){var c={};e.newPermission={},c.swalConfig={title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!0},c.removeAll=function(n){var a=[];n.forEach(function(e){a.push(r["delete"]({userPermissionId:e.id}).$promise)}),t.all(a)["finally"](function(){e.init()})},e.isCreating=!1,e.addNewPermission=function(){var t;e.newPermission.permission_id=e.tmpPermission.id,t=new r(e.newPermission),t.$save()["finally"](function(){e.init()})},e.removeSingle=function(t){e.removeAll([{id:t.id}])},e.removeAll=function(e){var t=c.swalConfig;e[0].sso_username===i.current.sso_username&&(t=JSON.parse(JSON.stringify(c.swalConfig)),t.text="Delete yourself?? Remember... no dumb here!"),n.swal(t,function(t){t&&c.removeAll(e)})},e.init=function(){a.query().$promise.then(function(t){e.permissions=t}),r.query().$promise.then(function(t){e.users=l(s(t,"sso_username")),e.userMap=o(t,function(e){return e.sso_username})})},e.init()}function a(){return{templateUrl:"js/components/config/permissions/permissions.html",restrict:"EA",scope:!1,controller:r}}r.$inject=["$scope","$q","SweetAlert","UserPermissions","Permission","User"];var i=e("../../"),o=e("lodash/collection/groupBy"),s=e("lodash/collection/map"),l=e("lodash/array/uniq");i.directive("configPermissions",a)},{"../../":105,"lodash/array/uniq":273,"lodash/collection/groupBy":280,"lodash/collection/map":283}],77:[function(e,t,n){"use strict";function r(e,t){e.loading=!0,t.get().success(function(t){e.settings=t})["finally"](function(){e.loading=!1}),e.save=function(){e.loading=!0,t.update(e.settings)["catch"](function(){window.alert("Only an org admin is allowed to change this setting")})["finally"](function(){e.loading=!1})}}function a(){return{templateUrl:"js/components/config/settings/settings.html",restrict:"EA",scope:{},controller:r}}r.$inject=["$scope","AccountSettings"];var i=e("../../");i.directive("configSettings",a)},{"../../":105}],78:[function(e,t,n){"use strict";function r(e){var t=window.jQuery,n=s.select("[digest-key="+e.digestKey+"] .digest-graph").append("div").style({width:"100%",height:"400px"}).node();o.newPlot(n,e.digest.data,e.digest.layout,e.digest.options),window.addEventListener("resize",function(){o.Plots.resize(n)}),t('a[data-toggle="tab"]').on("shown.bs.tab",function(){o.Plots.resize(n)}),e.toggleTrace=function(e){e.enable=!e.enabled;var t=!!e.enabled||"legendonly";o.restyle(n,"visible",[t],[e.index])},l.initTraces(e,n)}function a(){return{templateUrl:"js/components/digest/digestGraph.html",restrict:"E",controller:r,replace:!0,scope:{dropDown:"@",digest:"=",digestKey:"@",width:"@",chartType:"@"}}}r.$inject=["$scope"];var i=e("../"),o=e("plotly.js/lib/index-basic"),s=o.d3,l={};l.initTraces=function(e){var t=window.jQuery("#metrics g.traces");e.traces=[],e.digest.data.forEach(function(n,r){var a={index:r,legendElement:window.jQuery(t[r]),name:n.name,enabled:!0};e.traces.push(a),a.legendElement.click(function(){a.enabled=!a.enabled,e.$apply()})})},i.directive("digestGraph",a)},{"../":105,"plotly.js/lib/index-basic":414}],79:[function(e,t,n){"use strict";function r(e,t){return{restrict:"AC",link:function(){t.on("keydown",function(t){27===t.keyCode&&e.$broadcast("telemetry:esc")})}}}r.$inject=["$rootScope","$document"];var a=e("../");a.directive("escKey",r)},{"../":105}],80:[function(e,t,n){"use strict";function r(e,t){e.expand=!0,e.onClick=function(){var n=e.expand?t.cards.expandAll:t.cards.collapseAll;e.$broadcast(n),e.expand=!e.expand}}function a(){return{templateUrl:"js/components/expandAllButton/expandAllButton.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","Events"];var i=e("../");i.directive("expandAllButton",a)},{"../":105}],81:[function(e,t,n){"use strict";function r(e,t,n,r,a){e.openFeedbackPage=function(){a.asyncCurrent(function(e){r.open({templateUrl:"js/components/feedback/feedbackModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"ng-animate-enabled",controller:"feedbackModalCtrl",resolve:{feedbackInfo:function(){return{fromPage:n.url(),fromState:t.current.name,user:e}}}})})}}function a(){return{templateUrl:"js/components/feedback/feedbackButton.html",restrict:"E",controller:r,replace:!0}}r.$inject=["$scope","$state","$location","$modal","User"];var i=e("../");i.directive("feedbackButton",a)},{"../":105}],82:[function(e,t,n){"use strict";function r(e,t,n,r){e.feedbackInfo=n,e.isError=!1,e.setEmailOverride=function(){e.emailOverride=!0},e.isCommentPopulated=function(){return""!==e.comment&&void 0!==e.comment},e.submitForm=function(){var t={comment:e.comment,email:e.feedbackInfo.user.email,from_page:n.fromPage};r.sendFeedback(t).success(function(){e.close()})["catch"](function(){e.isError=!0})},e.close=function(){t.dismiss("close")}}r.$inject=["$scope","$modalInstance","feedbackInfo","Feedback"];var a=e("../");a.controller("feedbackModalCtrl",r)},{"../":105}],83:[function(e,t,n){"use strict";function r(e,t){e.actionsButtons=[{label:"With Actions",stateKey:"inventoryWithActions",icon:"yes-action",toggleCallback:t.doFilter},{label:"Without Actions",stateKey:"inventoryWithoutActions",icon:"no-action",toggleCallback:t.doFilter}]}function a(){return{templateUrl:"js/components/filterComponents/actionsMultiButton/actionsMultiButton.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../");i.directive("actionsMultiButton",a)},{"../../":105}],84:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(){if(e.selected=o(e.options,{withActions:r.getState("inventoryWithActions"),withoutActions:r.getState("inventoryWithoutActions")}),!e.selected)throw new Error("Invalid system health selector state: "+r.getState("inventoryWithActions")+":"+r.getState("inventoryWithoutActions"))}e.options=[{id:"all",label:t.getString("All"),withActions:!0,withoutActions:!0},{id:"affected",label:t.getString("Affected"),withActions:!0,withoutActions:!1},{id:"healthy",label:t.getString("Healthy"),withActions:!1,withoutActions:!0}],e.select=function(t){e.selected=t,r.setState("inventoryWithActions",t.withActions),r.setState("inventoryWithoutActions",t.withoutActions),a.doFilter()},i(),e.$on(n.filters.reset,function(){e.select(o(e.options,function(e){return"all"===e.id}))})}function a(){return{templateUrl:"js/components/filterComponents/actionsSelect/actionsSelect.html",restrict:"E",controller:r,scope:{}}}r.$inject=["$scope","gettextCatalog","Events","MultiButtonService","FilterService"];var i=e("../../"),o=e("lodash/collection/find");i.directive("actionsSelect",a)},{"../../":105,"lodash/collection/find":277}],85:[function(e,t,n){"use strict";function r(e,t,n){var r=e.key||"categoryFilters";e.categoryButtons=[],t.forEach(function(t){e.categoryButtons.push({label:t,stateKey:r+t,icon:["category-icon",t.toLowerCase()],toggleCallback:function(){n.doFilter(),e.onClick()}})})}function a(){return{templateUrl:"js/components/filterComponents/categoryMultiButton/categoryMultiButton.html",restrict:"E",controller:r,scope:{key:"=?",onClick:"&"}}}r.$inject=["$scope","Categories","FilterService"];var i=e("../../");i.directive("categoryMultiButton",a)},{"../../":105}],86:[function(e,t,n){"use strict";function r(e,t,n,r){function a(){if(e.selected=o(e.options,{online:r.getOnline(),offline:r.getOffline()}),!e.selected)throw new Error("Invalid online selector state: "+r.getOnline()+":"+r.getOffline())}e.options=[{id:"all",label:t.getString("All"),online:!0,offline:!0},{id:"online",label:t.getString("Checking In"),online:!0,offline:!1},{id:"offline",label:t.getString("Stale"),online:!1,offline:!0}],e.select=function(t){e.selected=t,r.setOnline(t.online),r.setOffline(t.offline),r.doFilter()},a(),e.$on(n.filters.reset,function(){e.select(o(e.options,function(e){return"all"===e.id}))})}function a(){return{templateUrl:"js/components/filterComponents/checkInSelect/checkInSelect.html",restrict:"E",controller:r,scope:{}}}r.$inject=["$scope","gettextCatalog","Events","FilterService"];var i=e("../../"),o=e("lodash/collection/find");i.directive("checkInSelect",a)},{"../../":105,"lodash/collection/find":277}],87:[function(e,t,n){"use strict";function r(e,t){e.getShowFilters=t.getShowFilters,e.toggleShowFilters=t.toggleShowFilters}function a(){return{templateUrl:"js/components/filterComponents/filterButton/filterButton.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../");i.directive("filterButton",a)},{"../../":105}],88:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s){function l(t){return e.validFields.indexOf(t)!==-1}function c(e){return e.length>0&&(e+=", "),e}e.fields=[],e.summaryLabels={platform:"Platform",host:"Host",actions:"Actions",group:"Group",types:"Types",cluster:"Deployment",category:"Category",severity:"Severity",offline:"Offline"},e.getSummaryText=function(){var a,u,d="",p="",f="",h=r.current().display_name,g=n.getSelectedProduct(),m="";return e.fields=[],e.validFields||(e.validFields=[]),l("product")&&!n.getRHELOnly()&&(n.getSelectedProduct()===o.rhel.code?e.fields.push({name:e.summaryLabels.platform,value:o.rhel.shortName}):n.getSelectedProduct()===o.osp.code?(e.fields.push({name:e.summaryLabels.platform,value:o.osp.shortName}),a=n.getSelectedOSPDeployment(),a&&l("osp_deployment")&&(f="all"===a.system_id?"All Deployments":a.display_name?a.display_name:a.hostname?a.hostname:a.system_id,e.fields.push({name:o.osp.roles.cluster.shortName,value:f}))):n.getSelectedProduct()===o.ocp.code?e.fields.push({name:e.summaryLabels.platform,value:o.ocp.shortName}):n.getSelectedProduct()===o.rhev.code?e.fields.push({name:e.summaryLabels.platform,value:o.rhev.shortName}):n.getSelectedProduct()===o.docker.code?(e.fields.push({name:e.summaryLabels.platform,value:o.docker.shortName}),u=n.getSelectedDockerHost(),u&&l("docker_host")&&(p="all"===u.system_id?"All Hosts":u.display_name?u.display_name:u.hostname?u.hostname:u.system_id,e.fields.push({name:e.summaryLabels.host,value:p}))):"all"===n.getSelectedProduct()&&e.fields.push({name:e.summaryLabels.platform,value:"All"})),l("actions")&&(t.getState("inventoryWithActions")&&t.getState("inventoryWithoutActions")?e.fields.push({name:e.summaryLabels.actions,value:"With or Without"}):t.getState("inventoryWithActions")?e.fields.push({name:e.summaryLabels.actions,value:"With"}):t.getState("inventoryWithoutActions")&&e.fields.push({name:e.summaryLabels.actions,value:"Without"})),l("group")&&(h?e.fields.push({name:e.summaryLabels.group,value:h}):e.fields.push({name:e.summaryLabels.group,value:"All"})),l("category")&&s.forEach(function(n){t.getState("categoryFilters"+n)&&e.fields.push({name:e.summaryLabels.category,value:n})}),l("severity")&&i.forEach(function(n){t.getState("severityFilters"+n)&&e.fields.push({
name:e.summaryLabels.severity,value:n})}),l("role")&&g!==o.rhel.code&&"all"!==g&&(g===o.osp.code?(t.getState("inventoryOSPCluster")&&(m=c(m),m+=o.osp.roles.cluster.shortName),t.getState("inventoryOSPDirector")&&(m=c(m),m+=o.osp.roles.director.shortName),t.getState("inventoryOSPCompute")&&(m=c(m),m+=o.osp.roles.compute.shortName),t.getState("inventoryOSPController")&&(m=c(m),m+=o.osp.roles.controller.shortName)):g===o.ocp.code?(t.getState("inventoryOCPCluster")&&(m=c(m),m+=o.ocp.roles.cluster.shortName),t.getState("inventoryOCPMasters")&&(m=c(m),m+=o.osp.roles.master.shortName),t.getState("inventoryOCPNodes")&&(m=c(m),m+=o.ocp.roles.node.shortName)):g===o.rhev.code?(t.getState("inventoryRHEVHypervisors")&&(m=c(m),m+=o.rhev.roles.hypervisor.shortName),t.getState("inventoryRHEVManagers")&&(m=c(m),m+=o.rhev.roles.manager.shortName),t.getState("inventoryRHEVDeployments")&&(m=c(m),m+=o.rhev.roles.cluster.shortName)):g===o.docker.code&&(t.getState("inventoryDockerHosts")&&(m=c(m),m+=o.docker.roles.host.shortName),t.getState("inventoryDockerImages")&&(m=c(m),m+=o.docker.roles.image.shortName),t.getState("inventoryDockerContainers")&&(m=c(m),m+=o.docker.roles.container.shortName)),e.fields.push({name:e.summaryLabels.types,value:m})),l("offline")&&n.getOffline()&&e.fields.push({name:e.summaryLabels.offline,value:"Yes"}),d},e.$on("filterService:doFilter",e.getSummaryText),e.$on(a.filters.populatedProducts,e.getSummaryText),e.getSummaryText()}function a(){return{templateUrl:"js/components/filterComponents/filterSummary/filterSummary.html",restrict:"E",controller:r,scope:{validFields:"="}}}r.$inject=["$scope","MultiButtonService","FilterService","Group","Events","Severities","Products","Categories"];var i=e("../../");i.directive("filterSummary",a)},{"../../":105}],89:[function(e,t,n){"use strict";function r(){}function a(){return{templateUrl:"js/components/filterComponents/hideIgnoredToggle/hideIgnoredToggle.html",restrict:"E",controller:r}}var i=e("../../");i.directive("hideIgnoredToggle",a)},{"../../":105}],90:[function(e,t,n){"use strict";function r(e,t){e.getSelectedDockerHost=t.getSelectedDockerHost,e.getDockerHosts=t.getDockerHosts,e.doSelectDockerHost=function(e){t.setSelectedDockerHost(e),"all"===t.getSelectedDockerHost().system_id?t.setParentNode(null):t.setParentNode(e.system_id),t.doFilter()}}function a(){return{templateUrl:"js/components/filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../../../");i.directive("dockerHostSelect",a)},{"../../../../":105}],91:[function(e,t,n){"use strict";function r(e,t){e.dockerNodeTypes=[{label:"Hosts",stateKey:"inventoryDockerHosts",icon:"fa-ship",toggleCallback:function(){t.setRolesQueryParam("host","inventoryDockerHosts"),t.doFilter()}},{label:"Containers",stateKey:"inventoryDockerContainers",icon:"fa-cube",toggleCallback:function(){t.setRolesQueryParam("container","inventoryDockerContainers"),t.doFilter()}},{label:"Images",stateKey:"inventoryDockerImages",icon:"fa-archive",toggleCallback:function(){t.setRolesQueryParam("image","inventoryDockerImages"),t.doFilter()}}]}function a(){return{templateUrl:"js/components/filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../../../");i.directive("dockerTypeMultiButton",a)},{"../../../../":105}],92:[function(e,t,n){"use strict";function r(e,t,n,r){e.getSelectedOSPDeployment=r.getSelectedOSPDeployment,e.getOSPDeployments=r.getOSPDeployments,e.doSelectOSPDeployment=function(e){r.setSelectedOSPDeployment(e),r.doFilter()}}function a(){return{templateUrl:"js/components/filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$rootScope","InventoryService","FilterService"];var i=e("../../../../");i.directive("ospDeploymentSelect",a)},{"../../../../":105}],93:[function(e,t,n){"use strict";function r(e,t,n){e.ospNodeTypes=[{label:"Deployment",stateKey:"inventoryOSPCluster",icon:n.osp.roles.cluster.icon,toggleCallback:function(){t.setRolesQueryParam("cluster","inventoryOSPCluster"),t.doFilter()}},{label:"Director",stateKey:"inventoryOSPDirector",icon:n.osp.roles.director.icon,toggleCallback:function(){t.setRolesQueryParam("director","inventoryOSPDirector"),t.doFilter()}},{label:"Compute",stateKey:"inventoryOSPCompute",icon:n.osp.roles.compute.icon,toggleCallback:function(){t.setRolesQueryParam("compute","inventoryOSPCompute"),t.doFilter()}},{label:"Controller",stateKey:"inventoryOSPController",icon:n.osp.roles.controller.icon,toggleCallback:function(){t.setRolesQueryParam("controller","inventoryOSPController"),t.doFilter()}}]}function a(){return{templateUrl:"js/components/filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.html",restrict:"E",controller:r}}r.$inject=["$scope","FilterService","Products"];var i=e("../../../../");i.directive("ospTypeMultiButton",a)},{"../../../../":105}],94:[function(e,t,n){"use strict";function r(e,t,n){e.rhevNodeTypes=[{label:"Deployments",stateKey:"inventoryRHEVDeployments",icon:n.rhev.roles.deployment.icon,toggleCallback:function(){t.setRolesQueryParam("cluster","inventoryRHEVDeployments"),t.doFilter()}},{label:"Managers",stateKey:"inventoryRHEVManagers",icon:n.rhev.roles.manager.icon,toggleCallback:function(){t.setRolesQueryParam("manager","inventoryRHEVManagers"),t.doFilter()}},{label:"Hypervisors",stateKey:"inventoryRHEVHypervisors",icon:n.rhev.roles.hypervisor.icon,toggleCallback:function(){t.setRolesQueryParam("hypervisor","inventoryRHEVHypervisors"),t.doFilter()}}]}function a(){return{templateUrl:"js/components/filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.html",restrict:"E",controller:r}}r.$inject=["$scope","FilterService","Products"];var i=e("../../../../");i.directive("rhevTypeMultiButton",a)},{"../../../../":105}],95:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s){function l(){s.setRolesQueryParam("manager","inventoryRHEVManagers"),s.setRolesQueryParam("hypervisor","inventoryRHEVHypervisors")}function c(){s.setRolesQueryParam("host","inventoryDockerHosts"),s.setRolesQueryParam("container","inventoryDockerContainers"),s.setRolesQueryParam("image","inventoryDockerImages")}function u(){s.setRolesQueryParam("director","inventoryOSPDirector"),s.setRolesQueryParam("cluster","inventoryOSPCluster"),s.setRolesQueryParam("compute","inventoryOSPCompute"),s.setRolesQueryParam("controller","inventoryOSPController")}function d(){s.setRolesQueryParam("director","inventoryOCPDirector"),s.setRolesQueryParam("master","inventoryOCPMaster"),s.setRolesQueryParam("node","inventoryOCPNodes")}function p(){n.getProducts().then(function(n){e.products=n.data,n.data&&n.data.length<=1?s.setRHELOnly(!0):(s.setRHELOnly(!1),e.products.splice(0,0,"all")),t.$broadcast(r.filters.populatedProducts)})}e.products=[],e.getSelectedProduct=s.getSelectedProduct,e.getRHELOnly=s.getRHELOnly,e.getProductLabel=function(e){return"all"===e?"All Platforms":e===o.rhel.code?o.rhel.fullName:e===o.osp.code?o.osp.fullName:e===o.rhev.code?o.rhev.fullName:e===o.ocp.code?o.ocp.fullName:e===o.docker.code?o.docker.fullName:void 0},e.doSelectProduct=function(e){s.setSelectedProduct(e),t.$broadcast(r.checkboxes.reset),e===o.rhev.code?(s.setParentNode(null),l(),s.doFilter()):e===o.docker.code?a.populateDockerHosts().then(function(){c(),s.doFilter()}):e===o.ocp.code?a.populateOCPDeployments().then(function(){d(),s.doFilter()}):e===o.osp.code?a.populateOSPDeployments().then(function(){u(),s.doFilter()}):(s.setParentNode(null),s.doFilter())},t.$on("reload:data",p),p()}function a(){return{templateUrl:"js/components/filterComponents/productSelect/productSelect.html",restrict:"E",controller:r}}r.$inject=["$scope","$rootScope","Account","Events","System","SystemsService","Products","FilterService"];var i=e("../../");i.directive("productSelect",a)},{"../../":105}],96:[function(e,t,n){"use strict";function r(e,t,n){function r(t){e.onChange({state:t})}var a="rule-admin-state",i="insights:"+a;e.ruleStateButtons=t.map(function(e){var t=e.replace(" ","-");return{label:e,stateKey:a+t,icon:t+"-rule-state-icon",toggleCallback:function(){window.localStorage.setItem(i,t),r(t)}}}),e.ruleStateButtons.forEach(function(e){n.initState(e.stateKey)});var o=window.localStorage.getItem(i)||"all";n.setState(a+o,!0),r(o)}function a(){return{templateUrl:"js/components/filterComponents/ruleStateMultiButton/ruleStateMultiButton.html",restrict:"E",controller:r,scope:{onChange:"&"}}}r.$inject=["$scope","RuleStates","MultiButtonService"];var i=e("../../");i.directive("ruleStateMultiButton",a)},{"../../":105}],97:[function(e,t,n){"use strict";function r(e,t,n){function r(){e.onSearch&&e.onSearch({model:e.model||""})}function a(){if(e.throttle){var t=parseInt(e.throttle);if(isNaN(t))throw new Error("Unknown throttle value "+e.throttle);return t}return s}function i(t){return function(){var n=e.$root.$$phase;"$apply"===n||"$digest"===n?t():e.$apply(t)}}e.placeholder=e.placeholder||t.getString("Search…"),e.keyPressed=function(t){13===t.keyCode&&(e.change.cancel&&e.change.cancel(),r())};var l=a();0===l?e.change=r:e.change=o(i(r),l,{leading:!1,trailing:!0}),e.$on(n.filters.reset,function(){e.model=""})}function a(){return{templateUrl:"js/components/filterComponents/searchBox/searchBox.html",restrict:"E",replace:!0,controller:r,scope:{placeholder:"@",model:"=?ngModel",onSearch:"&?",throttle:"@"}}}r.$inject=["$scope","gettextCatalog","Events"];var i=e("../../"),o=e("lodash/function/throttle"),s=500;i.directive("searchBox",a)},{"../../":105,"lodash/function/throttle":292}],98:[function(e,t,n){"use strict";function r(e,t,n,r,a){e.severityButtons=[];var i=!1;n.forEach(function(t){e.severityButtons.push({label:t,icon:t+"-severity-icon",stateKey:"severityFilters"+t,toggleCallback:r.doFilter}),a.getState("severityFilters"+t)&&(a.setState("severityFilters"+t,!0),i=!0)}),i||a.setState("severityFiltersAll",!0)}function a(){return{templateUrl:"js/components/filterComponents/severityMultiButton/severityMultiButton.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$location","Severities","FilterService","MultiButtonService"];var i=e("../../");i.directive("severityMultiButton",a)},{"../../":105}],99:[function(e,t,n){"use strict";function r(e){return function(t){return e.trustAsHtml(t)}}function a(){function e(e){return e.toString().toLowerCase().replace(/\b([a-z])/g,function(e){return e.toUpperCase()})}return function(t){var n=[];return t=void 0===t||null===t?"":t,Array.isArray(t)?(angular.forEach(t,function(t){n.push(e(t))}),n):e(t)}}function i(){return function(e,t,n){return e?e!==t||n?e===t&&n?"sort-desc":"":"sort-asc":""}}function o(){return function(e,t,n){var r=m(e,t);return n?r.reverse():r}}function s(){return function(e,t){return t=parseInt(t,10),e?e.slice(t):[]}}function l(){return function(e){return e?e.replace("Red Hat Enterprise Linux","RHEL"):e}}function c(){return function(e){return e=isNaN(e)?0:Math.max(0,Math.min(1,e)),{width:Math.round(100*e)+"%"}}}function u(){return function(e){return e.isCheckingIn?"text-success":"text-danger"}}function d(){return function(e,t,n){var r=b(e);return n&&(r=r.tz(n)),r.format(t)}}function p(e){return function(t,n){function r(e){return e&&"string"!=typeof e&&(e=e.toString()),e&&e.toLowerCase().indexOf(n.toLowerCase())>-1}function a(e){return function(t){return r(t[e])}}function i(e,t){return function(n){return x(n[e],t).some(r)}}if(!t||!y(t))return[];if(!n)return t;var o=[a("maintenance_id"),a("name"),function(t){return r(e("date")(t.start,"fullDate"))},i("systems","hostname"),i("systems","display_name"),i("rules","description"),i("rules","rule_id")];return t.filter(function(e){return o.some(function(t){return t(e)})})}}function f(){return function(e){return b(e).fromNow()}}function h(e){return function(t){return e.getSystemDisplayName(t)}}r.$inject=["$sce"],p.$inject=["$filter"],h.$inject=["Utils"];var g=e("../"),m=e("lodash/collection/sortBy"),v=e("lodash/lang/isEmpty"),y=e("lodash/lang/isArray"),b=e("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),x=e("lodash/collection/map");g.filter("trust_html",r),g.filter("titlecase",a),g.filter("sortClass",i),g.filter("productShortName",l),g.filter("orderObjectBy",o),g.filter("offset",s),g.filter("toWidth",c),g.filter("checkInStyle",u),g.filter("searchMaintenancePlans",p),g.filter("moment",d),g.filter("getSystemDisplayName",h),g.filter("isEmpty",function(){return v}),g.filter("timeAgo",f)},{"../":105,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/collection/map":283,"lodash/collection/sortBy":288,"lodash/lang/isArray":386,"lodash/lang/isEmpty":387}],100:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/gettingStartedTabs/gettingStartedTabs.html",restrict:"ECA",replace:!0}}var a=e("../");a.directive("gettingStartedTabs",r)},{"../":105}],101:[function(e,t,n){"use strict";function r(e,t,n,r){e.isCollapsed=!1,e.deleteGroup=function(e){var a=r.getString("You will not be able to recover <code>{{name}}</code>",{name:e.display_name});t.swal({title:"Are you sure?",text:a,type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(t){t&&n.deleteGroup(e)})}}function a(){return{templateUrl:"js/components/group/views/group.html",restrict:"E",controller:r}}r.$inject=["$scope","SweetAlert","Group","gettextCatalog"];var i=e("../");i.directive("group",a)},{"../":105}],102:[function(e,t,n){"use strict";function r(e,t,n,r){e.create=function(a){e.isCreating=!0,t.createGroup(a).then(function(t){e.isCreating=!1,t&&t.id&&r(function(){n.scrollTo(document.getElementById("group-"+t.id),20,300)},0)},function(){e.isCreating=!1}),e.newGroup={display_name:""}},e.newGroup={display_name:""}}function a(){return{templateUrl:"js/components/group/views/form.html",restrict:"EC",controller:r}}r.$inject=["$scope","Group","$document","$timeout"];var i=e("../");i.directive("groupForm",a)},{"../":105}],103:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(){e.disabled=s(l,a.current.name)}n.init(),e.groups=n.groups,e.group=n.current(),e.$on("$stateChangeSuccess",i),i(),e.triggerChange=function(r){e.group=r,n.setCurrent(r),t.$broadcast("group:change",r)},e.$on("account:change",function(){e.triggerChange(null)}),e.isGroupSelected=function(){return!o(e.group)},e.$on(r.filters.reset,function(){e.group=n.current()})}function a(){return{templateUrl:"js/components/groupSelect/groupSelect.html",restrict:"E",replace:!0,controller:r,scope:{round:"="}}}r.$inject=["$scope","$rootScope","Group","Events","$state"];var i=e("../"),o=e("lodash/lang/isEmpty"),s=e("lodash/collection/includes"),l=["app.config","app.digests","app.overview","app.rules"];i.directive("groupSelect",a)},{"../":105,"lodash/collection/includes":281,"lodash/lang/isEmpty":387}],104:[function(e,t,n){"use strict";function r(){return{restrict:"A",link:function(e,t,n){e.$watch(n.ngIndeterminate,function(e){t.prop("indeterminate",!!e)})}}}var a=e("../");a.directive("ngIndeterminate",r)},{"../":105}],105:[function(e,t,n){"use strict";t.exports=angular.module("insights.components",[]),function(){var t=e("./index.js");return t.accountSelect={"accountSelect.directive":e("./accountSelect/accountSelect.directive.js")},t.actionbar={"actionbar.directive":e("./actionbar/actionbar.directive.js")},t.actions={"actions.directive":e("./actions/actions.directive.js"),actionsBack:{"actionsBack.directive":e("./actions/actionsBack/actionsBack.directive.js")},actionsBreadcrumbs:{"actionsBreadcrumbs.directive":e("./actions/actionsBreadcrumbs/actionsBreadcrumbs.directive.js")},actionsCategory:{"actionsCategory.directive":e("./actions/actionsCategory/actionsCategory.directive.js")},actionsDetails:{"actionsDetails.directive":e("./actions/actionsDetails/actionsDetails.directive.js")},actionsFilters:{"actionsFilters.directive":e("./actions/actionsFilters/actionsFilters.directive.js")},actionsRule:{"actionsRule.controller":e("./actions/actionsRule/actionsRule.controller.js")},actionsRuleFilters:{"actionsRuleFilters.controller":e("./actions/actionsRuleFilters/actionsRuleFilters.controller.js")},severitySummary:{"severitySummary.directive":e("./actions/severitySummary/severitySummary.directive.js")},systemSummary:{"systemSummary.directive":e("./actions/systemSummary/systemSummary.directive.js")}},t.announcements={announcementsScroll:{"announcementsScroll.directive":e("./announcements/announcementsScroll/announcementsScroll.directive.js")}},t.ansibleIcon={"ansibleIcon.directive":e("./ansibleIcon/ansibleIcon.directive.js")},t.betaSwitchButton={"betaSwitchButton.directive":e("./betaSwitchButton/betaSwitchButton.directive.js")},t.bullhorn={"bullhorn.directive":e("./bullhorn/bullhorn.directive.js")},t.card={"card.directive":e("./card/card.directive.js"),systemCard:{"systemCard.directive":e("./card/systemCard/systemCard.directive.js")}},t.categoryIcon={"categoryIcon.directive":e("./categoryIcon/categoryIcon.directive.js")},t.config={dev:{"dev.directive":e("./config/dev/dev.directive.js")},groups:{"groups.directive":e("./config/groups/groups.directive.js")},hidden:{"hidden.directive":e("./config/hidden/hidden.directive.js")},messaging:{"messaging.directive":e("./config/messaging/messaging.directive.js")},permissions:{"permissions.directive":e("./config/permissions/permissions.directive.js")},settings:{"settings.directive":e("./config/settings/settings.directive.js")}},t.digest={"digestGraph.directive":e("./digest/digestGraph.directive.js")},t.escKey={"escKey.directive":e("./escKey/escKey.directive.js")},t.expandAllButton={"expandAllButton.directive":e("./expandAllButton/expandAllButton.directive.js")},t.feedback={"feedbackButton.directive":e("./feedback/feedbackButton.directive.js"),"feedbackModal.directive":e("./feedback/feedbackModal.directive.js")},t.filterComponents={actionsMultiButton:{"actionsMultiButton.directive":e("./filterComponents/actionsMultiButton/actionsMultiButton.directive.js")},actionsSelect:{"actionsSelect.directive":e("./filterComponents/actionsSelect/actionsSelect.directive.js")},categoryMultiButton:{"categoryMultiButton.directive":e("./filterComponents/categoryMultiButton/categoryMultiButton.directive.js")},checkInSelect:{"checkInSelect.directive":e("./filterComponents/checkInSelect/checkInSelect.directive.js")},filterButton:{"filterButton.directive":e("./filterComponents/filterButton/filterButton.directive.js")},filterSummary:{"filterSummary.directive":e("./filterComponents/filterSummary/filterSummary.directive.js")},hideIgnoredToggle:{"hideIgnoredToggle.directive":e("./filterComponents/hideIgnoredToggle/hideIgnoredToggle.directive.js")},productFilters:{docker:{dockerHostSelect:{"dockerHostSelect.directive":e("./filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.directive.js")},dockerTypeMultiButton:{"dockerTypeMultiButton.directive":e("./filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.directive.js")}},osp:{ospDeploymentSelect:{"ospDeploymentSelect.directive":e("./filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.directive.js")},ospTypeMultiButton:{"ospTypeMultiButton.directive":e("./filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.directive.js")}},rhev:{rhevTypeMultiButton:{"rhevTypeMultiButton.directive":e("./filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.directive.js")}}},productSelect:{"productSelect.directive":e("./filterComponents/productSelect/productSelect.directive.js")},ruleStateMultiButton:{"ruleStateMultiButton.directive":e("./filterComponents/ruleStateMultiButton/ruleStateMultiButton.directive.js")},searchBox:{"searchBox.directive":e("./filterComponents/searchBox/searchBox.directive.js")},severityMultiButton:{"severityMultiButton.directive":e("./filterComponents/severityMultiButton/severityMultiButton.directive.js")}},t.filters={filters:e("./filters/filters.js")},t.gettingStartedTabs={"gettingStartedTabs.directive":e("./gettingStartedTabs/gettingStartedTabs.directive.js")},t.group={"group.directive":e("./group/group.directive.js"),"groupForm.directive":e("./group/groupForm.directive.js")},t.groupSelect={"groupSelect.directive":e("./groupSelect/groupSelect.directive.js")},t.indeterminate={"indeterminate.directive":e("./indeterminate/indeterminate.directive.js")},t.index=e("./index.js"),t.insightsLogo={"insightsLogo.directive":e("./insightsLogo/insightsLogo.directive.js")},t.insightsTagline={"insightsTagline.directive":e("./insightsTagline/insightsTagline.directive.js")},t.inventory={inventoryActions:{"inventoryActions.directive":e("./inventory/inventoryActions/inventoryActions.directive.js")},inventoryFilters:{"inventoryFilters.directive":e("./inventory/inventoryFilters/inventoryFilters.directive.js")},system:{"system.directive":e("./inventory/system/system.directive.js")}},t.linkGroup={"linkGroup.directive":e("./linkGroup/linkGroup.directive.js")},t.listType={"listType.controller":e("./listType/listType.controller.js"),"listType.directive":e("./listType/listType.directive.js")},t.maintenance={maintenanceCategorySelect:{"maintenanceCategorySelect.directive":e("./maintenance/maintenanceCategorySelect/maintenanceCategorySelect.directive.js")},maintenanceModal:{"maintenanceModal.directive":e("./maintenance/maintenanceModal/maintenanceModal.directive.js")},maintenancePlan:{"maintenancePlan.directive":e("./maintenance/maintenancePlan/maintenancePlan.directive.js")},maintenancePlaybook:{"maintenancePlaybook.controller":e("./maintenance/maintenancePlaybook/maintenancePlaybook.controller.js")},maintenanceTable:{"maintenanceTable.controller":e("./maintenance/maintenanceTable/maintenanceTable.controller.js"),"maintenanceTable.directive":e("./maintenance/maintenanceTable/maintenanceTable.directive.js"),"maintenanceTableFooter.directive":e("./maintenance/maintenanceTable/maintenanceTableFooter.directive.js")}},t.misc={trimmedText:{"trimmedText.directive":e("./misc/trimmedText/trimmedText.directive.js")}},t.mitigationTrend={"mitigationTrend.directive":e("./mitigationTrend/mitigationTrend.directive.js")},t.multiButton={"multiButton.directive":e("./multiButton/multiButton.directive.js")},t.namespace={"namespace.directive":e("./namespace/namespace.directive.js")},t.notifications={"notifications.directive":e("./notifications/notifications.directive.js")},t.overview={articleModal:{articleModal:e("./overview/articleModal/articleModal.js")},widgets:{actionsLite:{"actionsLite.directive":e("./overview/widgets/actionsLite/actionsLite.directive.js")},goals:{goalsBar:{"goalsBar.directive":e("./overview/widgets/goals/goalsBar/goalsBar.directive.js")},goalsGauge:{"goalsGauge.directive":e("./overview/widgets/goals/goalsGauge/goalsGauge.directive.js")},"goalsLite.directive":e("./overview/widgets/goals/goalsLite.directive.js")},handcraftedContent:{"handcraftedContent.directive":e("./overview/widgets/handcraftedContent/handcraftedContent.directive.js")},highPrio:{"highPrio.directive":e("./overview/widgets/highPrio/highPrio.directive.js")},maintenancePlanLite:{"maintenancePlanLite.directive":e("./overview/widgets/maintenancePlanLite/maintenancePlanLite.directive.js"),maintenancePlanLiteTable:{"maintenancePlanLiteTable.directive":e("./overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.directive.js")}},newSystems:{"newSystems.directive":e("./overview/widgets/newSystems/newSystems.directive.js")}}},t.platformFilter={"platformFilter.directive":e("./platformFilter/platformFilter.directive.js")},t.recommendedKbase={"recommendedKbase.directive":e("./recommendedKbase/recommendedKbase.directive.js")},t.relativeHash={"relativeHash.directive":e("./relativeHash/relativeHash.directive.js")},t.rhDonut={"rhDonut.directive":e("./rhDonut/rhDonut.directive.js")},t.rule={ruleBreadcrumb:{"ruleBreadcrumb.directive":e("./rule/ruleBreadcrumb/ruleBreadcrumb.directive.js")},ruleFilter:{"ruleFilter.directive":e("./rule/ruleFilter/ruleFilter.directive.js")},ruleGroupCard:{"ruleGroupCard.directive":e("./rule/ruleGroupCard/ruleGroupCard.directive.js")},ruleListSimple:{"ruleListSimple.directive":e("./rule/ruleListSimple/ruleListSimple.directive.js")},ruleReason:{"ruleReason.directive":e("./rule/ruleReason/ruleReason.directive.js")},ruleResolution:{"ruleResolution.directive":e("./rule/ruleResolution/ruleResolution.directive.js")},ruleSummaries:{"ruleSummaries.directive":e("./rule/ruleSummaries/ruleSummaries.directive.js")},ruleSummary:{"ruleSummary.directive":e("./rule/ruleSummary/ruleSummary.directive.js")},ruleToggle:{"ruleToggle.directive":e("./rule/ruleToggle/ruleToggle.directive.js")}},t.ruleStateIcon={"ruleStateIcon.directive":e("./ruleStateIcon/ruleStateIcon.directive.js")},t.severities={severities:e("./severities/severities.js")},t.severityIcon={"allSeverityIcons.directive":e("./severityIcon/allSeverityIcons.directive.js"),"severityIcon.directive":e("./severityIcon/severityIcon.directive.js")},t.sideNav={actionsSideNav:{"actionsSideNav.directive":e("./sideNav/actionsSideNav/actionsSideNav.directive.js")},"sideNav.directive":e("./sideNav/sideNav.directive.js")},t.simpleSelect={"simpleSelect.directive":e("./simpleSelect/simpleSelect.directive.js")},t.statusIcon={"statusIcon.directive":e("./statusIcon/statusIcon.directive.js")},t.stickyNav={"stickyNav.directive":e("./stickyNav/stickyNav.directive.js")},t.system={addSystemModal:{"addSystemModal.controller":e("./system/addSystemModal/addSystemModal.controller.js")},systemModal:{"systemModal.controller":e("./system/systemModal/systemModal.controller.js")},systemSummaryTable:{"systemSummaryTable.directive":e("./system/systemSummaryTable/systemSummaryTable.directive.js")},systemTable:{"systemTable.directive":e("./system/systemTable/systemTable.directive.js")}},t.systemMetadata={"systemMetadata.directive":e("./systemMetadata/systemMetadata.directive.js")},t.targetBlank={"targetBlank.directive":e("./targetBlank/targetBlank.directive.js")},t.timeRange={"timeRange.directive":e("./timeRange/timeRange.directive.js")},t.topbar={alerts:{"alerts.directive":e("./topbar/alerts/alerts.directive.js")},"topbar.directive":e("./topbar/topbar.directive.js")},t.topics={otherTopic:{"otherTopic.directive":e("./topics/otherTopic/otherTopic.directive.js")},topicAdminHelpBar:{"topicAdminHelpBar.directive":e("./topics/topicAdminHelpBar/topicAdminHelpBar.directive.js")},topicDetails:{"topicDetails.directive":e("./topics/topicDetails/topicDetails.directive.js")},topicPreviewModal:{topicPreviewModal:e("./topics/topicPreviewModal/topicPreviewModal.js")},topicRuleList:{"topicRuleList.directive":e("./topics/topicRuleList/topicRuleList.directive.js")}},t.typeIcon={"typeIcon.directive":e("./typeIcon/typeIcon.directive.js")},t["ui-bootstrap-custom"]=e("./ui-bootstrap-custom.js"),t.userInfo={"userInfo.directive":e("./userInfo/userInfo.directive.js")},t.validators={kbaseSolution:{"kbaseSolution.directive":e("./validators/kbaseSolution/kbaseSolution.directive.js")}},t.yesNo={"yesNo.directive":e("./yesNo/yesNo.directive.js")},t}()},{"./accountSelect/accountSelect.directive.js":53,"./actionbar/actionbar.directive.js":54,"./actions/actions.directive.js":55,"./actions/actionsBack/actionsBack.directive.js":56,"./actions/actionsBreadcrumbs/actionsBreadcrumbs.directive.js":57,"./actions/actionsCategory/actionsCategory.directive.js":58,"./actions/actionsDetails/actionsDetails.directive.js":59,"./actions/actionsFilters/actionsFilters.directive.js":60,"./actions/actionsRule/actionsRule.controller.js":61,"./actions/actionsRuleFilters/actionsRuleFilters.controller.js":62,"./actions/severitySummary/severitySummary.directive.js":63,"./actions/systemSummary/systemSummary.directive.js":64,"./announcements/announcementsScroll/announcementsScroll.directive.js":65,"./ansibleIcon/ansibleIcon.directive.js":66,"./betaSwitchButton/betaSwitchButton.directive.js":67,"./bullhorn/bullhorn.directive.js":68,"./card/card.directive.js":69,"./card/systemCard/systemCard.directive.js":70,"./categoryIcon/categoryIcon.directive.js":71,"./config/dev/dev.directive.js":72,"./config/groups/groups.directive.js":73,"./config/hidden/hidden.directive.js":74,"./config/messaging/messaging.directive.js":75,"./config/permissions/permissions.directive.js":76,"./config/settings/settings.directive.js":77,"./digest/digestGraph.directive.js":78,"./escKey/escKey.directive.js":79,"./expandAllButton/expandAllButton.directive.js":80,"./feedback/feedbackButton.directive.js":81,"./feedback/feedbackModal.directive.js":82,"./filterComponents/actionsMultiButton/actionsMultiButton.directive.js":83,"./filterComponents/actionsSelect/actionsSelect.directive.js":84,"./filterComponents/categoryMultiButton/categoryMultiButton.directive.js":85,"./filterComponents/checkInSelect/checkInSelect.directive.js":86,"./filterComponents/filterButton/filterButton.directive.js":87,"./filterComponents/filterSummary/filterSummary.directive.js":88,"./filterComponents/hideIgnoredToggle/hideIgnoredToggle.directive.js":89,"./filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.directive.js":90,"./filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.directive.js":91,"./filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.directive.js":92,"./filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.directive.js":93,"./filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.directive.js":94,"./filterComponents/productSelect/productSelect.directive.js":95,"./filterComponents/ruleStateMultiButton/ruleStateMultiButton.directive.js":96,"./filterComponents/searchBox/searchBox.directive.js":97,"./filterComponents/severityMultiButton/severityMultiButton.directive.js":98,"./filters/filters.js":99,"./gettingStartedTabs/gettingStartedTabs.directive.js":100,"./group/group.directive.js":101,"./group/groupForm.directive.js":102,"./groupSelect/groupSelect.directive.js":103,"./indeterminate/indeterminate.directive.js":104,"./index.js":105,"./insightsLogo/insightsLogo.directive.js":106,"./insightsTagline/insightsTagline.directive.js":107,"./inventory/inventoryActions/inventoryActions.directive.js":108,"./inventory/inventoryFilters/inventoryFilters.directive.js":109,"./inventory/system/system.directive.js":110,"./linkGroup/linkGroup.directive.js":111,"./listType/listType.controller.js":112,"./listType/listType.directive.js":113,"./maintenance/maintenanceCategorySelect/maintenanceCategorySelect.directive.js":114,"./maintenance/maintenanceModal/maintenanceModal.directive.js":115,"./maintenance/maintenancePlan/maintenancePlan.directive.js":116,"./maintenance/maintenancePlaybook/maintenancePlaybook.controller.js":117,"./maintenance/maintenanceTable/maintenanceTable.controller.js":118,"./maintenance/maintenanceTable/maintenanceTable.directive.js":119,"./maintenance/maintenanceTable/maintenanceTableFooter.directive.js":120,"./misc/trimmedText/trimmedText.directive.js":121,"./mitigationTrend/mitigationTrend.directive.js":122,"./multiButton/multiButton.directive.js":123,"./namespace/namespace.directive.js":124,"./notifications/notifications.directive.js":125,"./overview/articleModal/articleModal.js":126,"./overview/widgets/actionsLite/actionsLite.directive.js":127,"./overview/widgets/goals/goalsBar/goalsBar.directive.js":128,"./overview/widgets/goals/goalsGauge/goalsGauge.directive.js":129,"./overview/widgets/goals/goalsLite.directive.js":130,"./overview/widgets/handcraftedContent/handcraftedContent.directive.js":131,"./overview/widgets/highPrio/highPrio.directive.js":132,"./overview/widgets/maintenancePlanLite/maintenancePlanLite.directive.js":133,"./overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.directive.js":134,"./overview/widgets/newSystems/newSystems.directive.js":135,
"./platformFilter/platformFilter.directive.js":136,"./recommendedKbase/recommendedKbase.directive.js":137,"./relativeHash/relativeHash.directive.js":138,"./rhDonut/rhDonut.directive.js":139,"./rule/ruleBreadcrumb/ruleBreadcrumb.directive.js":140,"./rule/ruleFilter/ruleFilter.directive.js":141,"./rule/ruleGroupCard/ruleGroupCard.directive.js":142,"./rule/ruleListSimple/ruleListSimple.directive.js":143,"./rule/ruleReason/ruleReason.directive.js":144,"./rule/ruleResolution/ruleResolution.directive.js":145,"./rule/ruleSummaries/ruleSummaries.directive.js":146,"./rule/ruleSummary/ruleSummary.directive.js":147,"./rule/ruleToggle/ruleToggle.directive.js":148,"./ruleStateIcon/ruleStateIcon.directive.js":149,"./severities/severities.js":150,"./severityIcon/allSeverityIcons.directive.js":151,"./severityIcon/severityIcon.directive.js":152,"./sideNav/actionsSideNav/actionsSideNav.directive.js":153,"./sideNav/sideNav.directive.js":154,"./simpleSelect/simpleSelect.directive.js":155,"./statusIcon/statusIcon.directive.js":156,"./stickyNav/stickyNav.directive.js":157,"./system/addSystemModal/addSystemModal.controller.js":158,"./system/systemModal/systemModal.controller.js":159,"./system/systemSummaryTable/systemSummaryTable.directive.js":160,"./system/systemTable/systemTable.directive.js":161,"./systemMetadata/systemMetadata.directive.js":162,"./targetBlank/targetBlank.directive.js":163,"./timeRange/timeRange.directive.js":164,"./topbar/alerts/alerts.directive.js":165,"./topbar/topbar.directive.js":166,"./topics/otherTopic/otherTopic.directive.js":167,"./topics/topicAdminHelpBar/topicAdminHelpBar.directive.js":168,"./topics/topicDetails/topicDetails.directive.js":169,"./topics/topicPreviewModal/topicPreviewModal.js":170,"./topics/topicRuleList/topicRuleList.directive.js":171,"./typeIcon/typeIcon.directive.js":172,"./ui-bootstrap-custom.js":173,"./userInfo/userInfo.directive.js":174,"./validators/kbaseSolution/kbaseSolution.directive.js":175,"./yesNo/yesNo.directive.js":176}],106:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/insightsLogo/insightsLogo.html",restrict:"EC",replace:!0}}var a=e("../");a.directive("insightsLogo",r)},{"../":105}],107:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/insightsTagline/insightsTagline.html",restrict:"EC",replace:!0}}var a=e("../");a.directive("insightsTagline",r)},{"../":105}],108:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,p,f,h,g,m,v,y){e.getTotal=n.getTotal,e.listTypes=v.types(),e.listType=v.getType,e.config=y,e.plans=i.plans,e.getSortLabel=function(t){var n=o(e.sortItems,{field:t});return n.label},e.$watch("checkboxes.items",function(){var t=e.systemsToAction();t.length&&!e.isUnregistrableSelected()?e.unregisterButtonTooltip=h.getString("Selected systems cannot be unregistered alone. Remove their respective deployment."):e.unregisterButtonTooltip=null},!0),e.doUnregisterSelected=function(){function t(){a.unregisterSelectedSystems(r[0])}var n=e.systemsToAction(),r=s(n,e.canUnregisterSystem);if(r[1].length){var i=c(r[1],"system_type_id");i=u(i,function(e){var t=e[0];return{name:m[t.product_code].roles[t.role].fullName,count:e.length}}),g.renderTemplate(d,{roles:i,validCount:r[0].length}).then(function(e){var t=l(p.DEFAULT_WARNING_OPTS);return t.title=h.getPlural(r[1].length,"1 system cannot be unregistered","{{count}} systems cannot be unregistered",{count:r[1].length}),t.text=e,p.swal(t)}).then(function(e){e&&f(t,200)})}else t()},e.isUnregistrableSelected=function(){return e.systemsToAction().filter(e.canUnregisterSystem).length>0},e.isFixableSelected=function(){return e.systemsToAction().some(function(e){return e.report_count})},e.sortItems=[{field:"toString",label:h.getString("Name")},{field:"created_at",label:h.getString("Registration Date")},{field:"last_check_in",label:h.getString("Last Check In")},{field:"report_count",label:h.getString("Number of Actions")},{field:"system_type_id",label:h.getString("Type")}],e.getSortDirection=n.getSortDirection,e.getSortField=n.getSortField,e.sortLabel="Hostname",e.getSortType=function(){var e=n.getSortField();return"created_at"===e||"last_check_in"===e?"num":"report_count"===e?"amount":"alpha"},e.doSort=function(t){n.setSortField(t.field),e.sortLabel=t.label,"hostname"===t.field?n.setSortDirection("ASC"):n.setSortDirection("DESC"),r.doFilter()},e.toggleSortDirection=function(){"ASC"===n.getSortDirection()?n.setSortDirection("DESC"):n.setSortDirection("ASC"),r.doFilter()},e.getSortIconClasses=function(){return{"fa-sort-alpha-asc":"ASC"===e.getSortDirection()&&"alpha"===e.getSortType(),"fa-sort-alpha-desc":"DESC"===e.getSortDirection()&&"alpha"===e.getSortType(),"fa-sort-numeric-asc":"ASC"===e.getSortDirection()&&"num"===e.getSortType(),"fa-sort-numeric-desc":"DESC"===e.getSortDirection()&&"num"===e.getSortType(),"fa-sort-amount-asc":"ASC"===e.getSortDirection()&&"amount"===e.getSortType(),"fa-sort-amount-desc":"DESC"===e.getSortDirection()&&"amount"===e.getSortType()}},e.addToPlan=function(t){var n=e.systemsToAction();n.length&&i.showMaintenanceModal(null,n,null,t)},e.systemsToAction=function(){return e.reallyAllSelected?e.allSystems.filter(function(t){return!e.checkboxes.items.hasOwnProperty(t.system_id)||e.checkboxes.items.hasOwnProperty(t.system_id)&&e.checkboxes.items[t.system_id]===!0}):e.checkboxes.getSelected(e.systems)}}function a(){return{templateUrl:"js/components/inventory/inventoryActions/inventoryActions.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$rootScope","InventoryService","FilterService","SystemsService","MaintenanceService","SweetAlert","$timeout","gettextCatalog","TemplateService","Products","ListTypeService","InsightsConfig"];var i=e("../../"),o=e("lodash/collection/find"),s=e("lodash/collection/partition"),l=e("lodash/lang/clone"),c=e("lodash/collection/groupBy"),u=e("lodash/collection/map"),d="js/components/inventory/inventoryActions/unregisterConflict.html";i.directive("inventoryActions",a)},{"../../":105,"lodash/collection/find":277,"lodash/collection/groupBy":280,"lodash/collection/map":283,"lodash/collection/partition":284,"lodash/lang/clone":382}],109:[function(e,t,n){"use strict";function r(e,t,n,r,a){e.getShowFilters=n.getShowFilters,e.getSelectedProduct=n.getSelectedProduct,e.filter=n,e.MultiButtonService=a,e.validSummaryFields=["product","actions","group","osp_deployment","docker_host","role","offline"],e.doShowEnvironmentFilters=function(){var e=!1,t=["osp","rhev","docker","ocp"];return t.indexOf(n.getSelectedProduct())!==-1&&(e=!0),e},e.resetFilters=function(){n.clearAll(),r.setCurrent({}),e.$emit("group:change",{}),e.$broadcast(t.filters.reset)}}function a(){return{templateUrl:"js/components/inventory/inventoryFilters/inventoryFilters.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","Events","FilterService","Group","MultiButtonService"];var i=e("../../");i.directive("inventoryFilters",a)},{"../../":105}],110:[function(e,t,n){"use strict";function r(){}function a(){return{templateUrl:"js/components/inventory/system/system.html",restrict:"E",replace:!0,controller:r}}var i=e("../../");i.directive("system",a)},{"../../":105}],111:[function(e,t,n){"use strict";function r(e,t,n,r){e.collapsed=!0,e.toggleCollapsed=function(){e.collapsed=!e.collapsed},e.hasReports=function(){var t=!1;return e.group.forEach(function(e){e.report_count>0&&!t&&(t=!0)}),t},r.getSystemTypeAsync(e.typeid).then(function(t){var n="";t&&(n=e.group.length+" "+t.displayName,1!==e.group.length&&(n+="s")),e.linkGroupText=n}),e.getLinkReportCount=function(e){var t=e.report_count,n="";return void 0!==t&&null!==t&&(n=t+" Action",1!==t&&(n+="s")),n},e.getLinkStatus=function(e){return e.report_count>0?'["fa-exclamation-circle", "fail"]':'["fa-check-circle", "success"]'},e.getLinkName=function(e){return void 0!==e.display_name&&null!==e.display_name&&""!==e.display_name?e.display_name:e.hostname},e.goToSystem=function(e){n.showSystemModal(e)}}function a(){return{templateUrl:"js/components/linkGroup/linkGroup.html",restrict:"E",controller:r,scope:{group:"=",typeid:"="}}}r.$inject=["$scope","$state","InventoryService","SystemsService"];var i=e("../");i.directive("linkGroup",a)},{"../":105}],112:[function(e,t,n){},{}],113:[function(e,t,n){"use strict";function r(e,t){e.setListType=t.setType,e.getListType=t.getType,e.listTypes=t.types()}function a(){return{templateUrl:"js/components/listType/listType.html",restrict:"E",replace:!0,transclude:!0,controller:r}}r.$inject=["$scope","ListTypeService"];var i=e("../");i.directive("listType",a)},{"../":105}],114:[function(e,t,n){"use strict";function r(e,t,n){e.plans=n.plans,e.options=[{id:"suggested",label:t.getString("Suggestions")},{id:"past",label:t.getString("Past plans")},{id:"unscheduled",label:t.getString("Not scheduled plans")},{id:"future",label:t.getString("Future plans")}],e.select=function(t){e.onSelect({category:t.id})},e.$watch("category",function(t){e.selected=o(e.options,{id:t})})}function a(){return{templateUrl:"js/components/maintenance/maintenanceCategorySelect/maintenanceCategorySelect.html",restrict:"E",controller:r,replace:!0,scope:{category:"=",onSelect:"&"}}}r.$inject=["$scope","gettextCatalog","MaintenanceService"];var i=e("../../"),o=e("lodash/collection/find");i.directive("maintenanceCategorySelect",a)},{"../../":105,"lodash/collection/find":277}],115:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,p,f,h,g,m,v,y,b,x,w){function _(e,t){var n=e.getAvailableActions;e.getAvailableActions=function(){return n.call(e).then(function(e){return e.forEach(function(e){e.selected=t(e)}),e})}}function k(){var t=null;if(e.mode===d.system){var n=r;!e.newPlan&&e.selected.plan&&e.selected.plan.systems&&(n=o(e.selected.plan.systems,{system_id:r.system_id})||n),t=p.actionTableParams(n,e.getPlan(),n.actions,e.loader),a&&_(t,function(e){return e.rule.rule_id===a.rule_id})}else if(e.mode===d.rule){var l=a;!e.newPlan&&e.selected.plan&&e.selected.plan.rules&&(l=o(e.selected.plan.rules,{id:a.rule_id})||l),t=p.systemTableParams(l,e.getPlan(),l.actions,e.loader);var c=s(i,"system_id"),f=t.getAvailableActions;t.getAvailableActions=function(){return f.call(t).then(function(e){return e.filter(function(e){return e.system.system_id in c})})},_(t,u(!0)),t.getActions=u([])}var h=t.update;return t.update=function(n){return e.selected.plan&&!e.newPlan?h.call(t,n):p.plans.create({name:e.newPlanAlias,add:n}).then(function(t){return e.selected.plan=t,t})},t}function S(){e.fixableSystems=e.systems.filter(function(e){return e.report_count>0});var t=l(e.fixableSystems,"system_id"),n=w.create(null,t).then(function(e){return w.getRulesWithHits(e.data.hash).then(function(e){return l(e.data.resources,function(e){return{id:e.rule_id,display:e.description,mid:e.rule_id,rule:e,done:!1}})})});return{getActions:function(){return[]},getAvailableActions:function(){return n},implicitOrder:{predicate:"rule.severityNum",reverse:!0},save:function(n){var r=c(l(n,function(e){return l(t,function(t){return{system_id:t,rule_id:e.rule.rule_id}})})),a={name:e.newPlanAlias,add:r};return!e.newPlan&&e.selected.plan?p.plans.update(e.selected.plan,a):p.plans.create(a).then(function(t){return e.selected.plan=t,t})}}}if(e.MODES=d,e.tableEdit=!0,e.newPlan=x,!a&&i)1===i.length?(r=i[0],i=!1,e.mode=d.system):e.mode=d.multi;else if(a&&i)e.mode=d.rule;else{if(!r)throw new Error("Invalid parameters "+r+", "+a+", "+i);e.mode=d.system}e.plans=p.plans,e.system=r,e.loader=new h.Loader,e.selected={},e.rule=a,e.systems=i,e.getPlan=function(){return!e.newPlan&&e.selected.plan?e.selected.plan:{}},e.$watchGroup(["selected.plan","newPlan"],function(){e.plan=e.newPlan?{}:e.selected.plan,i&&!a?e.tableParams=S():e.tableParams=k()}),e.close=function(){n.dismiss("close")},e.postSave=function(){e.close(),g.go("app.maintenance",{maintenance_id:e.selected.plan.maintenance_id})},e.$watch("plans.all",function(){p.plans.future&&(e.availablePlans=p.plans.future.concat(p.plans.unscheduled),!e.selected.plan&&e.availablePlans.length&&(e.selected.plan=e.availablePlans[0]))}),e.planGroupFn=function(e){return e.start?m.getString("Future plans"):m.getString("Not scheduled plans")},e.planOrderFn=function(e){return e.sort(function(e,t){return e.name?t.name?e.items.length-t.items.length:1:-1}),e},e.getPlanName=function(e){return e.name&&e.name.length?e.name:m.getString("Unnamed plan")},p.plans.load(!1),v.suppressEscNavigation(n)}function a(){return{templateUrl:"js/components/maintenance/maintenanceModal/maintenanceModal.html",restrict:"E",controller:r,replace:!0}}r.$inject=["$scope","$rootScope","$modalInstance","system","rule","systems","MaintenanceService","System","Utils","$state","gettextCatalog","ModalUtils","$q","DataUtils","newPlan","Subset"];var i=e("../../"),o=e("lodash/collection/find"),s=e("lodash/collection/indexBy"),l=e("lodash/collection/map"),c=e("lodash/array/flatten"),u=e("lodash/utility/constant"),d={rule:"rule",system:"system",multi:"multi"};i.directive("maintenanceModal",a),i.controller("maintenanceModalCtrl",r)},{"../../":105,"lodash/array/flatten":268,"lodash/collection/find":277,"lodash/collection/indexBy":282,"lodash/collection/map":283,"lodash/utility/constant":406}],116:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,g,m,v,y,b,x,w,_){function k(e,t){return t?c(n.plan.rules,{id:e.rule_id}):c(n.plan.systems,{system_id:e.system_id})}function S(t,r){e.open({templateUrl:"js/components/maintenance/maintenancePlaybook/maintenancePlaybook.html",windowClass:"modal-playbook modal-wizard ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"MaintenancePlaybook",resolve:{plan:function(){return n.plan},questions:function(){return t},unsupportedRules:function(){return r}}})}function A(){n.error=null,n.ansibleSupport=p(n.plan.actions,"rule.ansible")}n.pager=new _.Pager(10),n.loader=new _.Loader,n.exportPlan=y.exportPlan,n.error=null,n.editDateTooltip=i.getString("Date, time and duration of a maintenance window can be defined here. If a maintenance window for this plan is set then Insights will verify that all the actions in this plan are resolved once the window ends. Insights will warn you this plan is not fully resolved when the maintenance window ends.");var T=i.getString("Current Group");n.editBasic=new n.BasicEditHandler(n.plan,y,_,n.loader.bind(function(e,t,r,a,i){return n.plan.description=t,y.updatePlan(n.plan.maintenance_id,{name:e,description:t,start:r,end:a}).then(function(){i.active=!1,n.plan.end!==a||n.plan.start!==r?n.loadPlans(!0).then(function(){n.scrollToPlan(n.plan.maintenance_id)}):(n.plan.name=e,i.plan=n.plan)})})),n.removeActions=n.loader.bind(function(e){return b.plans.update(n.plan,{"delete":l(e,"id")})}),n.silence=n.loader.bind(function(){n.plan.silenced=!0,y.silence(n.plan).then(function(){n.edit.isActive(n.plan.maintenance_id)&&n.edit.toggle(n.plan.maintenance_id)})}),n["delete"]=function(){x.swal({title:i.getString("Are you sure?"),text:i.getString("You will not be able to recover this maintenance plan"),type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},n.loader.bind(function(e){if(e)return n.edit.deactivate(n.plan.maintenance_id),y.deletePlan(n.plan)}))},n.showSystemModal=b.showSystemModal,n.addSystem=new a(n),n.addRule=new a(n),n.systemTableParams=b.systemTableParams,n.actionTableParams=b.actionTableParams,n.getAvailableRules=function(){return n.available.rules.filter(function(e){var t=e.report_count,r=n.plan.actions.filter(function(t){return!t.done&&t.rule&&t.rule.id===e.rule_id});return r.length<t})},n.getAvailableSystems=function(){return n.available.systems.filter(function(e){var t=e.report_count,r=n.plan.actions.filter(function(t){return t.system&&t.system.system_id===e.system_id});return r.length<t})},n.tableParams=function(e,t,r){var a=k(e,t),i=a?a.actions:[],o=r?n.loader:void 0;return t?b.systemTableParams(a||e,n.plan,i,o):b.actionTableParams(a||e,n.plan,i,o)},n.minimize=function(){r(function(){n.error=null,n.edit.deactivate(n.plan.maintenance_id)})},n["export"]=function(){y.exportPlan(n.plan.maintenance_id)},n.generatePlaybook=function(){y.generatePlaybook(n.plan.maintenance_id).then(function(e){if(200===e.status){var t=e.headers("content-disposition"),n=d(t).filename.replace(/"/g,""),r=new Blob([e.data],{type:e.headers("content-type")});u.saveAs(r,n)}},function(e){400===e.status?e.data.error.key===o.AmbiguousResolution?S(e.data.error.details,null):e.data.error.key===o.UnsupportedRule?S(null,e.data.error.details):e.data.error.key===o.MaintenanceNothingToFix||e.data.error.key===o.MaintenanceEmpty?n.error=g.NoActions:n.error=g.GeneralFailure:n.error=g.GeneralFailure})},n.dateChanged=function(e,t,r){r&&n.editBasic.dateChanged(t)},n.minimize=function(){n.editBasic.active&&n.editBasic.toggle(),n.error=null,n.edit.deactivate(n.plan.maintenance_id)},n.$on("telemetry:esc",function(e){e.defaultPrevented||n.edit.isActive(n.plan.maintenance_id)&&!n.editBasic.active&&(n.error=null,n.edit.deactivate(n.plan.maintenance_id))}),n.update=n.loader.bind(function(e){return n.error=null,y.updatePlan(n.plan.maintenance_id,e)}),n.hidden=function(e){function r(){var r={hidden:e};n.plan.suggestion===y.SUGGESTION.REJECTED&&(r.suggestion=y.SUGGESTION.PROPOSED),n.update(r).then(function(){s(n.plan,r),t.$broadcast("maintenance:planChanged",n.plan.maintenance_id)})}e?r():x.swal({title:i.getString("Are you sure?"),text:i.getString("You are about to send a plan suggestion to the customer."),type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(e){e&&r()})},n.accept=function(){var e={suggestion:y.SUGGESTION.ACCEPTED};n.update(e).then(function(){s(n.plan,e),t.$broadcast("maintenance:planChanged",n.plan.maintenance_id),n.scrollToPlan(n.plan.maintenance_id)})},n.reject=function(){var e={suggestion:y.SUGGESTION.REJECTED};n.update(e).then(function(){s(n.plan,e),n.plan.hidden=!0,t.$broadcast("maintenance:planChanged",n.plan.maintenance_id),b.plans.suggested.length||n.setCategory("unscheduled")})},n.isReadOnly=function(){return n.plan.isReadOnly()&&!n.isInternal},n.registerGroupChangeListener=function(e){var r=t.$on("group:change",function(){e.refreshItems&&e.refreshItems()});n.$on("$destroy",r)},n.groupBySystemType=function(e){var t=v.current();return void 0!==t.display_name&&c(t.systems,{system_id:e.system_id})?T+": "+t.display_name:f(w.getSystemTypeUnsafe(e.system_type_id),"displayName")},n.groupFilter=function(e){return h(e,function(e){var t=e.name.startsWith(T)?0:1;return t+"-"+e.name})},n.$watch("plan.actions",A)}function a(e){var t=this;t.reset(),e.$watch("edit.isActive(plan.maintenance_id)",function(){t.reset()})}function i(e){function t(t,n){for(var r=e[0].getElementsByClassName(n),a=0;a<r.length;a++)if(r.item(a).contains(t.target))return!0}return{templateUrl:"js/components/maintenance/maintenancePlan/maintenancePlan.html",restrict:"E",controller:r,replace:!0,link:function(n,r){function a(a){if(!n.editBasic.active&&!(t(a,"modal")||t(a,"sweet-alert")||t(a,"top-bar")||a.target.classList.contains("action")||a.target.parentElement&&a.target.parentElement.classList.contains("action"))){var i=r[0].contains(a.target),o=e[0].body.contains(a.target),s=n.edit.isActive(n.plan.maintenance_id);s&&e[0].getElementsByClassName("ui-select-choices-row").length||(s&&!i&&o||!s&&i)&&n.edit.toggle(n.plan.maintenance_id)}}e.on("click",a),n.$on("$destroy",function(){e.off("click",a)})}}}r.$inject=["$modal","$rootScope","$scope","$timeout","gettextCatalog","AnsibleAPIErrors","AnsibleErrors","DataUtils","Group","Maintenance","MaintenanceService","SweetAlert","SystemsService","Utils"],i.$inject=["$document"];var o=e("../../"),s=e("lodash/object/assign"),l=e("lodash/collection/map"),c=e("lodash/collection/find"),u=e("file-saver"),d=e("parse-http-header"),p=e("lodash/collection/some"),f=e("lodash/object/get"),h=e("lodash/collection/sortBy");a.prototype.reset=function(){this.selected=null},o.directive("maintenancePlan",i)},{"../../":105,"file-saver":264,"lodash/collection/find":277,"lodash/collection/map":283,"lodash/collection/some":287,"lodash/collection/sortBy":288,"lodash/object/assign":395,"lodash/object/get":397,"parse-http-header":409}],117:[function(e,t,n){"use strict";function r(e,t,n,r,a,d,p,f,h,g,m,v,y){function b(){t.error=null,t.plan=r,t.currentQuestion=null,t.listLimit=t.MINIMUM_NUMBER_OF_ITEMS,y.getSystemTypesAsync().then(function(){null===d?(h.init(a,t.plan,!1),t.questions=h.questions,w()):x(),_()})}function x(){t.rulesWithoutPlays=[],d.forEach(function(e){var n=t.plan.rules.find(function(t){return t.id===e.rule_id}),r={rule_id:e.rule_id,system_type:y.getSystemTypeUnsafe(e.system_type_id),description:n.description,category:n.category,severity:n.severity,actions:n.actions};t.rulesWithoutPlays.push(r)})}function w(){var e=u(t.plan.actions,!1,function(e){return e.rule.rule_id+":"+e.system.system_type_id});void 0!==t.rulesWithoutPlays&&t.rulesWithoutPlays.length>0&&(e=e.filter(function(e){return!l(t.rulesWithoutPlays,function(t){return e.system.system_type_id===t.system_type.id&&e.rule.rule_id===t.rule_id})}));var n=e.map(function(e){return{rule_id:e.rule.rule_id,category:e.rule.category,description:e.rule.description,system_type:y.getSystemTypeUnsafe(e.system.system_type_id)}});s(n,function(e){a&&l(a,{rule_id:e.rule_id,system_type_id:e.system_type.id})?e.solution=function(){var t=h.getResolution(e.rule_id,e.system_type.id);if(void 0!==t)return t.description}:v.listAnsibleResolutions(e.rule_id,e.system_type.id).success(function(t){if(1!==t.length)throw new Error("Unexpected number of resolutions "+("("+t.length+") for "+e.rule_id+", ")+(""+e.system_type.id));e.solution=c(t[0].description)})}),t.rulesWithPlays=n}function _(){null!==d?t.step=t.RULES_WITHOUT_PLAYS:(t.step=t.RESOLVE_QUESTIONS,S(0))}function k(){var e=t.currentQuestion.resolutions.find(function(e){return e.resolution_type===t.currentQuestion.resolution_type});h.saveResolution(t.currentQuestion.rule_id,t.currentQuestion.system_type_id,t.currentQuestion.resolution_type,t.currentQuestion.index,e.description)}function S(e){var n=t.plan.rules.find(function(n){return n.id===t.questions[e].rule_id});t.currentQuestion=t.questions[e],t.currentQuestion.index=e,t.currentQuestion.resolution_type=h.getResolutionType(t.currentQuestion),t.currentQuestion.system_type=y.getSystemTypeUnsafe(t.currentQuestion.system_type_id),t.currentQuestion.systemsAffected=n.actions.filter(function(e){return e.system.system_type_id===t.currentQuestion.system_type_id}),t.currentQuestion.rule={rule_id:t.currentQuestion.rule_id,category:n.category,description:n.description}}function A(){if(null===t.currentQuestion)S(0);else if(t.currentQuestion.index<t.questions.length-1){var e=t.currentQuestion.index+1;S(e)}else t.currentQuestion=null}t.RULES_WITHOUT_PLAYS=0,t.RESOLVE_QUESTIONS=1,t.SUMMARY=2,t.MINIMUM_NUMBER_OF_ITEMS=5,t.close=function(){e.dismiss("close")},t.goToStep=function(e){t.listLimit=t.MINIMUM_NUMBER_OF_ITEMS,t.step===t.RESOLVE_QUESTIONS&&void 0!==t.currentQuestion.resolution_type&&k(),e===t.questions.length?(t.step=t.SUMMARY,t.currentQuestion=null):(t.step=t.RESOLVE_QUESTIONS,S(e))},t.nextStep=function(){t.listLimit=t.MINIMUM_NUMBER_OF_ITEMS,t.error=null,t.step===t.RESOLVE_QUESTIONS&&void 0!==t.currentQuestion.resolution_type&&k(),null===t.step?_():(t.step=t.RESOLVE_QUESTIONS,A(),null===t.currentQuestion&&(t.step=t.SUMMARY))},t.prevStep=function(){if(t.listLimit=t.MINIMUM_NUMBER_OF_ITEMS,t.error=null,t.step===t.RESOLVE_QUESTIONS&&void 0!==t.currentQuestion.resolution_type&&k(),t.step===t.SUMMARY)t.step=t.RESOLVE_QUESTIONS,S(t.questions.length-1);else if(0===t.currentQuestion.index)t.step=t.RULES_WITHOUT_PLAYS,t.currentQuestion=null;else{var e=t.currentQuestion.index-1;S(e)}},t.validateQuestions=function(){return h.hasAllQuestionsAnswered()},t.downloadPlaybook=function(){t.validateQuestions?t.generatePlaybook(t.plan.maintenance_id,h.getFormattedResolutions()):t.error=f.AnswerAllQuestions},t.generatePlaybook=function(e,n){null!==n&&void 0!==n||(n={ignoreUnsupported:!0}),g.generatePlaybook(e,n).then(function(e){if(200===e.status){var n=e.headers("content-disposition"),r=o(n).filename.replace(/"/g,""),a=new Blob([e.data],{type:e.headers("content-type")});i.saveAs(a,r),t.close()}},function(e){400===e.status&&(e.data.error.key===p.AmbiguousResolution?(a=e.data.error.details,d=null,b()):e.data.error.key===p.MaintenanceNothingToFix||e.data.error.key===p.MaintenanceEmpty?t.error=f.NoActions:t.error=f.GeneralFailure)})},b(),m.suppressEscNavigation(e)}r.$inject=["$modalInstance","$scope","$timeout","plan","questions","unsupportedRules","AnsibleAPIErrors","AnsibleErrors","AnsibleService","Maintenance","ModalUtils","Rule","SystemsService"];var a=e("../../"),i=e("file-saver"),o=e("parse-http-header"),s=e("lodash/collection/forEach"),l=e("lodash/collection/some"),c=e("lodash/utility/constant"),u=e("lodash/array/uniq");a.controller("MaintenancePlaybook",r)},{"../../":105,"file-saver":264,"lodash/array/uniq":273,"lodash/collection/forEach":279,"lodash/collection/some":287,"lodash/utility/constant":406,"parse-http-header":409}],118:[function(e,t,n){"use strict";function r(e,t,n,r,a,c){function u(){e.item&&(f.params=e.paramsCallback(),f.savedActions=f.params.getActions(),e.checkboxes.items={},f.savedActions.forEach(function(t){e.checkboxes.items[t.id]=!0,angular.isDefined(t._type)||(t._type=r.MAINTENANCE_ACTION_TYPE.PLANNED)}),h())}function d(){f.orderedActions=t("orderBy")(f.filteredActions,["_type",f.sorter.reverse?"-"+f.sorter.predicate:f.sorter.predicate]),f.pager.reset(),f.page()}function p(){var t=f.actions.filter(function(t){return t._type!==r.MAINTENANCE_ACTION_TYPE.PLANNED&&e.checkboxes.isChecked(t.id)}),n=f.actions.filter(function(t){return t._type===r.MAINTENANCE_ACTION_TYPE.PLANNED&&!e.checkboxes.isChecked(t.id)});return f.params.save(t,n).then(function(){if(e.edit=!1,e.onSave)return e.onSave()})}var f=this;f.params=e.paramsCallback(),f.pager=new n.Pager,f.sorter=new n.Sorter(f.params.implicitOrder,d),f.showSystemModal=r.showSystemModal,f.loader=new n.Loader((!1)),e.checkboxes=new n.Checkboxes,e.checkboxRowClick=function(t,n){e.edit&&e.checkboxes.rowClick(t,n)},e.checkboxUpdate=function(){e.checkboxes.update(f.filteredActions)},e.$watchCollection("checkboxes.items",e.checkboxUpdate),e.checkboxChecked=function(){if(e.checkboxes.checked){var t=s(f.filteredActions,"_type")[r.MAINTENANCE_ACTION_TYPE.PLANNED_ELSEWHERE];if(t)return a.swal({title:c.getString("Select overlapping actions?"),text:c.getPlural(t,"This selection contains an action that  is already part of another plan. Do you want to include this action?","This selection contains {{count}} actions that are already part of another plan. Do you want to include these actions?",{count:t}),type:"info",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No"},function(t){var n=f.filteredActions;t||(n=l(n,{_type:r.MAINTENANCE_ACTION_TYPE.PLANNED_ELSEWHERE})),e.checkboxes.checkboxChecked(e.checkboxes.checked,n)})}e.checkboxes.checkboxChecked(e.checkboxes.checked,f.filteredActions)},e.$watchGroup(["item","edit"],function(){f.filter={},u()});var h=f.loader.bind(function(){if(f.actions=f.savedActions,f.doFilter(),e.edit)return f.params.getAvailableActions().then(function(t){var n=o(f.savedActions,"id");t=t.filter(function(e){return!(e.id in n)}),t.forEach(function(t){angular.isDefined(t._type)||(t._type=r.MAINTENANCE_ACTION_TYPE.AVAILABLE),t.selected&&(e.checkboxes.items[t.id]=!0)}),f.actions=f.savedActions.concat(t),f.doFilter()})});f.doFilter=function(){i(f.filter)?f.filteredActions=f.actions:f.filteredActions=t("filter")(f.actions,f.filter),e.checkboxUpdate(),d()},f.page=function(){f.pager.update();var e=t("offset")(f.orderedActions,f.pager.offset);e=t("limitTo")(e,f.pager.perPage),f.data=e},f.params.loader?f.save=f.params.loader.bind(p):f.save=f.loader.bind(p),f.cancel=function(){if(e.edit=!1,e.onCancel)return e.onCancel()}}r.$inject=["$scope","$filter","Utils","MaintenanceService","SweetAlert","gettextCatalog"];var a=e("../../"),i=e("lodash/lang/isEmpty"),o=e("lodash/collection/indexBy"),s=e("lodash/collection/countBy"),l=e("lodash/collection/reject");a.controller("MaintenanceTableCtrl",r)},{"../../":105,"lodash/collection/countBy":274,"lodash/collection/indexBy":282,"lodash/collection/reject":286,"lodash/lang/isEmpty":387}],119:[function(e,t,n){"use strict";function r(e){return function(){return{restrict:"E",controller:"MaintenanceTableCtrl",controllerAs:"table",scope:{paramsCallback:"&params",edit:"=",item:"=",onSave:"&",onCancel:"&"},templateUrl:"js/components/maintenance/maintenanceTable/"+e,replace:!0}}}var a=e("../../");a.directive("maintenanceTableSystems",r("maintenanceTableSystems.html")),a.directive("maintenanceTableActions",r("maintenanceTableActions.html")),a.directive("maintenanceTableMulti",r("maintenanceTableMulti.html"))},{"../../":105}],120:[function(e,t,n){"use strict";var r=e("../../");r.directive("maintenanceTableFooter",function(){return{restrict:"A",templateUrl:"js/components/maintenance/maintenanceTable/maintenanceTableFooter.html"}})},{"../../":105}],121:[function(e,t,n){"use strict";function r(e){e.showTooltip=!1,e.text.length>e.length?(e.trimmedText=e.text.slice(0,e.length)+"…",e.showTooltip=!0):e.trimmedText=e.text}function a(){return{templateUrl:"js/components/misc/trimmedText/trimmedText.html",restrict:"E",replace:!0,transclude:!0,controller:r,scope:{length:"@",text:"@"}}}r.$inject=["$scope"];var i=e("../../");i.directive("trimmedText",a)},{"../../":105}],122:[function(e,t,n){"use strict";function r(){o.generate({bindto:".mitigation-chart",size:{width:400,height:300},data:{columns:[["Security",30,200,100,400,150,250],["Availability",50,20,10,40,15,25],["Stability",130,150,200,300,200,100],["Performance",230,190,300,500,300,400]],type:"spline"}})}function a(){return{templateUrl:"js/components/mitigationTrend/mitigationTrend.html",restrict:"E",controller:r,replace:!0}}var i=e("../"),o=e("./../../../bower_components/c3/c3.js");i.directive("mitigationTrend",a)},{"../":105,"./../../../bower_components/c3/c3.js":12}],123:[function(e,t,n){"use strict";function r(e,t){e.oneButtonSelected=!1,e.showDenyClickCursor=function(n){return!(!e.oneButtonSelected||!t.getState(n.stateKey))},e.getButtonJqueryId=function(t){return"#"+e.getButtonId(t)+".btn"},e.getButtonId=function(e){return"rha-multibutton-"+e.stateKey},e.getButtonIconClass=function(e){return e.icon},e.getButtonClass=function(t){var n="";return e.buttonHasIconClass(t)&&(n=e.getButtonIconClass(t)),n},e.buttonHasIconClass=function(e){return!!e.icon},e.lastButtonSelected=function(n){var r=0,a=null,i=!1;return e.buttons.forEach(function(e){t.getState(e.stateKey)&&(a=e,r+=1)}),1===r&&a&&n&&n.stateKey===a.stateKey&&(i=!0),i},e.toggleButton=function(n){if(e.multiselect||t.getState(n.stateKey)){if(e.multiselect)if(e.allownone||!e.lastButtonSelected(n))t.setState(n.stateKey,!t.getState(n.stateKey));else if(e.lastButtonSelected(n))return void jQuery(e.getButtonJqueryId(n)).button("toggle")}else e.buttons.forEach(function(r){r.stateKey!==n.stateKey&&t.getState(r.stateKey)&&(jQuery(e.getButtonJqueryId(r)).button("toggle"),t.setState(r.stateKey,!1))}),t.setState(n.stateKey,!0);n.toggleCallback&&n.toggleCallback(n.stateKey)}}function a(e){return{templateUrl:"js/components/multiButton/multiButton.html",restrict:"E",replace:!0,controller:r,scope:{buttons:"=",multiselect:"=",allownone:"="},link:function(t){var n=function(e){return"rha-multibutton-"+e.stateKey},r=function(e){return"#"+n(e)+".btn"},a=function(){t.buttons.forEach(function(t){e.getState(t.stateKey)&&jQuery(r(t)).button("toggle")})},i=function o(){jQuery(r(t.buttons[0])).button?a():window.setTimeout(function(){o()},50)};window.setTimeout(i,0)}}}r.$inject=["$scope","MultiButtonService"],a.$inject=["MultiButtonService"];var i=e("../");i.directive("multiButton",a)},{"../":105}],124:[function(e,t,n){"use strict";function r(e,t){var n=this;e.$on("$stateChangeSuccess",function(){n.current="insights-"+t.current.name.replace(/\./g,"-");
})}function a(){return{restrict:"A",controller:r,controllerAs:"insightsNamespacer"}}r.$inject=["$scope","$state"];var i=e("../");i.directive("insightsNamespacer",a)},{"../":105}],125:[function(e,t,n){"use strict";function r(e,t,n,r){e.alerts=n.alerts,e.dismiss=function(n,a){e.alerts.splice(n,1),"http"===a&&t.current.actions?r.reload():"http"===a&&t.reload()}}function a(){return{templateUrl:"js/components/notifications/notifications.html",restrict:"C",replace:!0,controller:r}}r.$inject=["$scope","$state","AlertService","RhaTelemetryActionsService"];var i=e("../");i.directive("rhaNotifications",a)},{"../":105}],126:[function(e,t,n){"use strict";function r(e,t,n,r,a,s){e.selected={},e.close=function(){n.dismiss("close")},e.save=function(){t.update(e.selected.article.id,e.article).then(e.close)},e.preview=function(){r.preview(e.article).then(function(t){e.previewData=t.data})},e.load=function(t){r.get(t).then(function(t){e.article=i(t.data,["title","content"])})},r.getArticles().then(function(t){var n={id:a.overviewKey};e.articles=t.data,o(e.articles,n)||(e.articles.push(n),e.selected.article=n)}),e.$watch("selected.article",function(t){t&&t.id&&(e.load(t.id),e.previewData=null)}),e.selected.article=t.article,s.suppressEscNavigation(n)}r.$inject=["$scope","OverviewService","$modalInstance","Article","InsightsConfig","ModalUtils"];var a=e("../../"),i=e("lodash/object/pick"),o=e("lodash/collection/find");a.controller("ArticleModalCtrl",r)},{"../../":105,"lodash/collection/find":277,"lodash/object/pick":402}],127:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,s){var l={};e.loader=new i.Loader((!1)),e.categories=a.filter(function(e){return"all"!==e}).map(function(e){return{id:e,label:o(e),count:0}}),l.refresh=e.loader.bind(function(){var r=e.categories.map(function(e){return n.get(e.id).then(function(t){e.count=t.data.affectedSystemCount,e.title=s.getPlural(e.count,"1 system affected by {{id}} issues","{{count}} systems affected by {{id}} issues",e)})});return t.all(r)}),e.$on("account:change",l.refresh),l.refresh()}function a(){return{templateUrl:"js/components/overview/widgets/actionsLite/actionsLite.html",restrict:"E",replace:!0,controller:r,scope:{}}}r.$inject=["$scope","$q","Topic","HttpHeaders","Categories","Utils","gettextCatalog"];var i=e("../../../"),o=e("lodash/string/capitalize");i.directive("actionsLite",a)},{"../../../":105,"lodash/string/capitalize":404}],128:[function(e,t,n){"use strict";function r(e,t){e.buildBar=function(n){e.chartMax=n.chartMax,e.goalsBar=o.generate({bindto:t[0].getElementsByClassName("bar-chart-wrapper")[0],size:{height:200,width:100},bar:{width:{ratio:.5},expand:!0},data:{columns:[["maxSystems",n.chartMax],["systemsRegistered",n.systemCount<=n.chartMax?n.systemCount:n.chartMax]],type:"bar"},axis:{x:{show:!1},y:{show:!1}},legend:{show:!1},grid:{x:{show:!0},y:{show:!0}},tooltip:{format:{},contents:function(e){var t;return t='<div class="'+this.CLASS.tooltip+'"><text class="goal-bar-tooltip">Register more systems to complete the goal</text></div>',e[1].value!=e[0].value?t:""}}}),e.$watch("systemCount",function(t){void 0!==t&&e.goalsBar.load({columns:[["maxSystems",e.chartMax],["systemsRegistered",t<=e.chartMax?t:e.chartMax]]})})}}function a(){return{templateUrl:"js/components/goals/goalsBar/goalsBar.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$element"];var i=e("../../../../"),o=e("./../../../../../../bower_components/c3/c3.js");i.directive("goalsBar",a)},{"../../../../":105,"./../../../../../../bower_components/c3/c3.js":12}],129:[function(e,t,n){"use strict";function r(e,t){e.buildGauge=function(n){n.getGaugeNumber().then(function(r){e.goalsGauge=s.putGaugeOnPage(t,r,n.getGaugeMax()),s.updateScope(e,r,n.getGaugeMax())}),e.$on("account:change",function(){e.gaugeMax=n.getGaugeMax(),n.getGaugeNumber().then(function(t){e.goalsGauge.load({columns:[["systems",t]]}),s.updateScope(e,t,n.getGaugeMax())})})}}function a(){return{templateUrl:"js/components/overview/widgets/goals/goalsGauge/goalsGauge.html",restrict:"E",replace:!0,scope:!0,controller:r}}r.$inject=["$scope","$element"];var i=e("../../../../"),o=e("./../../../../../../bower_components/c3/c3.js"),s={};s.putGaugeOnPage=function(e,t,n){return o.generate({bindto:e[0].getElementsByClassName("chart-wrapper")[0],size:{height:80,width:80},gauge:{width:10,max:n,expand:!0,label:{format:function(e){return e+"/"+n},show:!1},fullCircle:!0,startingAngle:-Math.PI/2},data:{columns:[["systems",t]],type:"gauge"},color:{pattern:["#FF0000","#F97600","#F6C600","#0095DB"],threshold:{values:[n/4,2*n/4,3*n/4,n]}}})},s.updateScope=function(e,t,n){e.gaugeNumber=t,e.gaugeMax=n},i.directive("goalsGauge",a)},{"../../../../":105,"./../../../../../../bower_components/c3/c3.js":12}],130:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){var s={};e.gettingStartedLink=n.gettingStartedLink,s.getSevCount=function(e,t){return o(t,function(t,n){return n.severity===e?t+1:0},0)},s.getActionsData=function(){var t=[];e.actionsLoading=!0;var n=i.getRules().then(function(t){e.securityErrors=t.data.security,e.stabilityErrors=t.data.stability}),a=i.getSystems().then(function(t){e.systemCount=t.data.total});t.push(n),t.push(a),r.all(t)["finally"](function(){e.actionsLoading=!1})},e.$on("account:change",function(){s.getActionsData()}),s.getActionsData()}function a(){return{templateUrl:"js/components/overview/widgets/goals/goalsLite.html",restrict:"E",controller:r,replace:!0}}r.$inject=["$scope","HttpHeaders","InsightsConfig","$q","Report","Stats"];var i=e("../../../"),o=e("lodash/collection/reduce");i.directive("goalsLite",a)},{"../../../":105,"lodash/collection/reduce":285}],131:[function(e,t,n){"use strict";function r(e,t,n){e.accountNumber=t.number,e.overview=n}function a(){return{templateUrl:"js/components/overview/widgets/handcraftedContent/handcraftedContent.html",restrict:"E",replace:!0,scope:{},controller:r}}r.$inject=["$scope","AccountService","OverviewService"];var i=e("../../../");i.directive("handcraftedContent",a)},{"../../../":105}],132:[function(e,t,n){"use strict";function r(e,t){e.loading=!0,e.refresh=function(){e.loading=!0,e.items={},t.getSystemStatus(!0).then(function(t){t.data&&t.data.stale&&(e.items.staleSystems=t.data.stale),e.loading=!1})},e.itemCount=function(){return Object.keys(e.items).length},e.$on("account:change",e.refresh),e.refresh()}function a(){return{templateUrl:"js/components/overview/widgets/highPrio/highPrio.html",restrict:"E",replace:!0,scope:{},controller:r}}r.$inject=["$scope","System"];var i=e("../../../");i.directive("highPrio",a)},{"../../../":105}],133:[function(e,t,n){"use strict";function r(e,t,n,r){e.MaintenanceService=n,e.plans=n.plans,e.duration=function(e,t){return o.duration(o(t).diff(o(e))).asMinutes()},e.silence=function(e){return e.silenced=!0,t.silence(e)},e.getFirstSuggestion=function(){return s(n.plans.suggested,{hidden:!1})},e.openPlan=function(e){r.go("app.maintenance",{maintenance_id:e.maintenance_id})}}function a(){return{templateUrl:"js/components/overview/widgets/maintenancePlanLite/maintenancePlanLite.html",restrict:"E",replace:!0,scope:!0,controller:r}}r.$inject=["$scope","Maintenance","MaintenanceService","$state"];var i=e("../../../"),o=e("./../../../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),s=e("lodash/collection/find");i.directive("maintenancePlanLite",a)},{"../../../":105,"./../../../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/collection/find":277}],134:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.html",restrict:"E",replace:!0,scope:!0,link:function(e,t,n){e.plans=e.$parent.$eval(n.plans),angular.isDefined(n.overdue)&&(e.overdue=e.$parent.$eval(n.overdue))}}}var a=e("../../../../");a.directive("maintenancePlanLiteTable",r)},{"../../../../":105}],135:[function(e,t,n){"use strict";function r(e,t,n,r){e.loader=new n.Loader((!1)),e.showSystemModal=r.showSystemModal;var a=e.loader.bind(function(){return t.populateNewestSystems().then(function(){e.systems=t.getNewestSystems()})});e.$on("account:change",a),a()}function a(){return{templateUrl:"js/components/overview/widgets/newSystems/newSystems.html",restrict:"E",replace:!0,scope:{},controller:r}}r.$inject=["$scope","SystemsService","Utils","InventoryService"];var i=e("../../../");i.directive("newSystems",a)},{"../../../":105}],136:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l,c,u){function d(){return[{product:r.rhel,displayName:r.rhel.fullName,doFilter:function(){t.setSelectedProduct(r.rhel.code)}},{product:r.docker,displayName:r.docker.fullName,subFilters:[{displayName:r.docker.roles.host.shortName,doFilter:function(){t.setSelectedProduct(r.docker.code),n.setState("inventoryDockerContainers",!1),n.setState("inventoryDockerImages",!1),n.setState("inventoryDockerHosts",!0)}},{displayName:r.docker.roles.container.shortName,doFilter:function(){t.setSelectedProduct(r.docker.code),n.setState("inventoryDockerContainers",!0),n.setState("inventoryDockerImages",!1),n.setState("inventoryDockerHosts",!1)}},{displayName:r.docker.roles.image.shortName,doFilter:function(){t.setSelectedProduct(r.docker.code),n.setState("inventoryDockerContainers",!1),n.setState("inventoryDockerImages",!0),n.setState("inventoryDockerHosts",!1)}}],doFilter:function(){t.setSelectedProduct(r.docker.code),n.setState("inventoryDockerContainers",!0),n.setState("inventoryDockerImages",!0),n.setState("inventoryDockerHosts",!0)}},{product:r.ocp,displayName:r.ocp.fullName,subFilters:[{displayName:r.ocp.roles.cluster.shortName,doFilter:function(){t.setSelectedProduct(r.ocp.code),n.setState("inventoryOCPMasters",!1),n.setState("inventoryOCPNodes",!1),n.setState("inventoryOCPClusters",!0)}},{displayName:r.ocp.roles.master.shortName,doFilter:function(){t.setSelectedProduct(r.ocp.code),n.setState("inventoryOCPMasters",!0),n.setState("inventoryOCPNodes",!1),n.setState("inventoryOCPClusters",!1)}},{displayName:r.ocp.roles.node.shortName,doFilter:function(){t.setSelectedProduct(r.ocp.code),n.setState("inventoryOCPMasters",!1),n.setState("inventoryOCPNodes",!0),n.setState("inventoryOCPClusters",!1)}}],doFilter:function(){t.setSelectedProduct(r.ocp.code),n.setState("inventoryOCPMasters",!0),n.setState("inventoryOCPNodes",!0),n.setState("inventoryOCPClusters",!0)}},{product:r.rhev,displayName:r.rhev.fullName,subFilters:[{displayName:r.rhev.roles.cluster.shortName,doFilter:function(){t.setSelectedProduct(r.rhev.code),n.setState("inventoryRHEVManagers",!1),n.setState("inventoryRHEVHypervisors",!1),n.setState("inventoryRHEVClusters",!0)}},{displayName:r.rhev.roles.manager.shortName,doFilter:function(){t.setSelectedProduct(r.rhev.code),n.setState("inventoryRHEVManagers",!0),n.setState("inventoryRHEVHypervisors",!1),n.setState("inventoryRHEVClusters",!1)}},{displayName:r.rhev.roles.hypervisor.shortName,doFilter:function(){t.setSelectedProduct(r.rhev.code),n.setState("inventoryRHEVManagers",!1),n.setState("inventoryRHEVHypervisors",!0),n.setState("inventoryRHEVClusters",!1)}}],doFilter:function(){t.setSelectedProduct(r.rhev.code),n.setState("inventoryRHEVManagers",!0),n.setState("inventoryRHEVHypervisors",!0),n.setState("inventoryRHEVClusters",!0)}},{product:r.osp,displayName:r.osp.fullName,subFilters:[{displayName:r.osp.roles.cluster.shortName,doFilter:function(){t.setSelectedProduct(r.osp.code),n.setState("inventoryOSPCluster",!0),n.setState("inventoryOSPDirector",!1),n.setState("inventoryOSPCompute",!1),n.setState("inventoryOSPController",!1)}},{displayName:r.osp.roles.director.shortName,doFilter:function(){t.setSelectedProduct(r.osp.code),n.setState("inventoryOSPCluster",!1),n.setState("inventoryOSPDirector",!0),n.setState("inventoryOSPCompute",!1),n.setState("inventoryOSPController",!1)}},{displayName:r.osp.roles.compute.shortName,doFilter:function(){t.setSelectedProduct(r.osp.code),n.setState("inventoryOSPCluster",!1),n.setState("inventoryOSPDirector",!1),n.setState("inventoryOSPCompute",!0),n.setState("inventoryOSPController",!1)}},{displayName:r.osp.roles.controller.shortName,doFilter:function(){t.setSelectedProduct(r.osp.code),n.setState("inventoryOSPCluster",!1),n.setState("inventoryOSPDirector",!1),n.setState("inventoryOSPCompute",!1),n.setState("inventoryOSPController",!0)}}],doFilter:function(){t.setSelectedProduct(r.osp.code),n.setState("inventoryOSPCluster",!0),n.setState("inventoryOSPDirector",!0),n.setState("inventoryOSPCompute",!0),n.setState("inventoryOSPController",!0)}}]}function p(t){function n(t,n){return function(r){e.summaryCounts[t][n]=r.headers(s.resourceCount)}}var o=[];for(var l in r)if(t.includes(l))for(var u=0;u<a.length;u++){var d=a[u];if("all"!==d){var p=r[l].code;e.summaryCounts[p]={};var f=i.headReports({product_code:p,category:d}).then(n(p,d));o.push(f)}}return c.all(o).then(function(){e.loadingSummary=!1})}function f(t){function n(t,n){return o.headSystemsLatest({product_code:t,role:n}).then(function(r){e.summaryCounts[t][n]=r.headers(s.resourceCount)})}var a=[];for(var i in r)if(t.includes(i)){e.summaryCounts[i]={};var l=r[i].roles;for(var u in l)a.push(n(i,u))}return c.all(a).then(function(){e.loadingSummary=!1})}function h(t){e.summaryType===l.summaryTypes.systems?f(t):e.summaryType===l.summaryTypes.categories&&p(t)}function g(){e.platforms=[],u.getPlatforms().then(function(t){var n=d();e.platforms=n.filter(function(e){return t.includes(e.product.code)}),h(t)}),e.getSelectedProduct=t.getSelectedProduct}e.summaryTypes=l.summaryTypes,e.loadingSummary=!0,e.summaryCounts={},e.$on("group:change",g),e.$on("account:change",g),e.getSummaryItems=function(t){var n=[];if(e.summaryType===l.summaryTypes.systems)for(var a in r[t].roles){var i=r[t].roles[a];n.push(e.summaryCounts[t][i.code]+" "+i.shortName+"s")}else e.summaryType===l.summaryTypes.categories&&(n.push(e.summaryCounts[t].stability+" Stability"),n.push(e.summaryCounts[t].performance+" Performance"),n.push(e.summaryCounts[t].security+" Security"),n.push(e.summaryCounts[t].availability+" Availability"));return n},e.getFilterIconClass=function(e){return e.icon},e.getPlatform=function(e){return r[e]},e.selectFilter=function(e){e.active=!0,e.doFilter(),t.doFilter()},e.viewAll=function(){t.setSelectedProduct("all"),n.setState("inventoryRHEVManagers",!0),n.setState("inventoryRHEVHypervisors",!0),n.setState("inventoryRHEVClusters",!0),n.setState("inventoryDockerContainers",!0),n.setState("inventoryDockerImages",!0),n.setState("inventoryDockerHosts",!0),n.setState("inventoryOSPCluster",!0),n.setState("inventoryOSPDirector",!0),n.setState("inventoryOSPCompute",!0),n.setState("inventoryOSPController",!0),t.doFilter()},e.selectSubFilter=function(t){e.selectFilter(t)},e.getImage=function(){var t=e.getSelectedProduct();return!(!t||"all"===t)&&"images/l_"+t+".svg"},g()}function a(){return{templateUrl:"js/components/platformFilter/platformFilter.html",restrict:"E",replace:!0,controller:r,scope:{summaryType:"="}}}r.$inject=["$scope","FilterService","MultiButtonService","Products","Categories","Report","System","HttpHeaders","QuickFilters","$q","PlatformService"];var i=e("../");i.directive("platformFilter",a)},{"../":105}],137:[function(e,t,n){"use strict";function r(e,t,n,r){n.fetchRelatedSolution&&(e.showLabel=!angular.isDefined(e.showLabelParam)||e.showLabelParam,e.loading=!1,e.node&&(o[e.node]?(e.solution={},e.solution.viewUri=o[e.node].viewUri,e.solution.title=e.kcsTitle||o[e.node].title):(e.loading=!0,r.searchById(e.node).then(function(t){t.length&&(e.solution={},e.solution.viewUri=t[0].viewUri||t[0].view_uri,e.solution.title=e.kcsTitle||t[0].title,o[e.node]={title:t[0].title,viewUri:e.solution.viewUri})})["finally"](function(){e.loading=!1}))))}function a(){return{scope:{node:"=",showLabelParam:"=showLabel",kcsTitle:"@"},templateUrl:"js/components/recommendedKbase/recommendedKbase.html",restrict:"EC",controller:r}}r.$inject=["$scope","$http","InsightsConfig","StrataService"];var i=e("../"),o={};i.directive("recommendedKbase",a)},{"../":105}],138:[function(e,t,n){"use strict";function r(e){return{link:function(t,n,r){r.href?(a(n,r.href),t.$watch(function(){return window.location.pathname},function(){a(n,r.href)})):i(n,r),r.permalink&&n.bind("click",function(t){t.ctrlKey||t.metaKey||(t.stopPropagation(),e.make(r.href,!0))})}}}function a(e,t){e[0].href=window.location.pathname+t}function i(e,t){var n=t.$observe("href",function(t){a(e,t),n()})}r.$inject=["PermalinkService"];var o=e("../");o.directive("relativeHash",r)},{"../":105}],139:[function(e,t,n){"use strict";function r(e){return o.generate({bindto:".rha-telemetry-donut",size:{width:320,height:320},pie:{label:{threshold:.07}},data:{columns:[],colors:{Availability:"#1F77B4",Performance:"#2c96cb",Security:"#6d868d",Stability:"#46b631"},type:"pie"},legend:{show:!1},tooltip:{format:{name:e,value:function(e,t){if(t>=.07)return e;var n=s.format("0.3p");return e+" ("+n(t)+")"}}}})}function a(e,t,n,a,i,o){return{restrict:"C",replace:!0,link:function(t){n.setDonutChart(r(n.mapName));var a=o.filter(function(e){return"all"!==e}),s=function(t){function r(e){var t=e.replace(/[|._]/g,"-");return".c3-arc-"+t}function o(t,n){s.load({columns:t,unload:n,done:function(){angular.forEach(t,function(t){var n=t[0],a=r(n),o=document.querySelector(a);angular.element(o).on("touchend click",function(){e.go("app.topic",{id:n.toLowerCase(),product:i.getSelectedProduct()})})})}})}if(t){var s=n.getDonutChart(),c=a.map(function(e){return[l(e),t[e]]}).filter(function(e){return e[1]>0});o(c,a.map(l))}};t.$on("filterService:doFilter",s),t.$watch("stats.rules",s,!0)}}}a.$inject=["$state","$timeout","RhaTelemetryActionsService","Stats","FilterService","Categories"];var i=e("../"),o=e("./../../../bower_components/c3/c3.js"),s=e("./../../../bower_components/d3/d3.js"),l=e("lodash/string/capitalize");i.directive("rhaTelemetryDonut",a)},{"../":105,"./../../../bower_components/c3/c3.js":12,"./../../../bower_components/d3/d3.js":13,"lodash/string/capitalize":404}],140:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/rule/ruleBreadcrumb/ruleBreadcrumb.html",restrict:"ECA"}}var a=e("../../");a.directive("ruleBreadcrumb",r)},{"../../":105}],141:[function(e,t,n){"use strict";function r(e,t){e.getShowFilters=t.getShowFilters,e.getSelectedProduct=t.getSelectedProduct,e.filter=t,e.validSummaryFields=["product","category","osp_deployment","docker_host","role"]}function a(){return{templateUrl:"js/components/rule/ruleFilter/ruleFilter.html",restrict:"E",controller:r}}r.$inject=["$scope","FilterService"];var i=e("../../");i.directive("ruleFilter",a)},{"../../":105}],142:[function(e,t,n){"use strict";function r(e,t,n,r){function a(t){l&&(t.keyCode===o&&e.previous(),t.keyCode===s&&e.next())}function i(){e.swapping=!0,t(function(){e.swapping=!1},0)}var l=!1;e.config=r,e.setActive=function(e){l=e},n.on("keydown",a),e.$on("$destroy",function(){n.off("keydown",a)}),e.index=0,e.$watch("plugin",function(t){t&&(e.rule=t.rules[e.index])}),e.hasNext=function(){return e.index+1<e.plugin.rules.length},e.next=function(){e.hasNext()&&(e.index++,e.rule=e.plugin.rules[e.index],i())},e.hasPrevious=function(){return e.index>0},e.previous=function(){e.hasPrevious()&&(e.index--,e.rule=e.plugin.rules[e.index],i())}}function a(){return{templateUrl:"js/components/rule/ruleGroupCard/ruleGroupCard.html",restrict:"E",scope:{plugin:"="},controller:r}}r.$inject=["$scope","$timeout","$document","InsightsConfig"];var i=e("../../"),o=37,s=39;i.directive("ruleGroupCard",a)},{"../../":105}],143:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/rule/ruleListSimple/ruleListSimple.html",restrict:"E",scope:{rules:"=",onDelete:"&",onSelect:"&",order:"="},link:function(e,t,n){e.readOnly=!n.onDelete,e.$watch("rules",function(){e.limit=10})}}}var a=e("../../");a.directive("ruleListSimple",r)},{"../../":105}],144:[function(e,t,n){"use strict";function r(){return{templateUrl:"js/components/rule/ruleReason/ruleReason.html",restrict:"EC"}}var a=e("../../");a.directive("ruleReason",r)},{"../../":105}],145:[function(e,t,n){"use strict";function r(e,t){t.getSystemNameFromId=function(t){var n=e.getSystemNames();return n&&n.hasOwnProperty(t)?n[t]:t}}function a(){return{templateUrl:"js/components/rule/ruleResolution/ruleResolution.html",restrict:"EC",replace:!0,controller:r}}r.$inject=["RhaTelemetryActionsService","$scope"];var i=e("../../");i.directive("ruleResolution",a)},{"../../":105}],146:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){function o(){e.loading.isLoading=!0,r.getSystemReports(e.machineId).success(function(t){angular.extend(e.system,t),e.rule_id&&e.system.reports.sort(function(t,n){return t.rule_id===e.rule_id?-1:n.rule_id===e.rule_id?1:0}),e.loading.isLoading=!1}).error(function(t,n,r,a){i.getReportsErrorCallback&&(e.errorMessage=i.getReportsErrorCallback(t,n,r,a)),e.loading.isLoading=!1})}e.getLoadingMessage=function(){var t="Loading report(s)";return e.system.hostname&&(t=t+" for "+e.system.hostname),t+"…"},e.rule?e.rule_id=e.rule:e.rule_id=t.rule,e.machineId&&!e.system.__fake&&(e.rule_id&&(e.ruleFilter=!0),e.system&&(e.system.reports=[],o()))}function a(){return{controller:r,templateUrl:"js/components/rule/ruleSummaries/ruleSummaries.html",restrict:"EC",scope:{system:"=",machineId:"=",rule:"=",ruleFilter:"=",loading:"="}}}r.$inject=["$scope","$stateParams","$location","System","Report","InsightsConfig"];var i=e("../../");i.directive("ruleSummaries",a)},{"../../":105}],147:[function(e,t,n){"use strict";function r(e,t){e.config=t,e.show={moreInfo:!1},e.initCollapsed=!1,e.ruleFilter&&e.ruleId&&e.ruleId!==e.report.rule_id&&(e.initCollapsed=!0),e.resetShowMore=function(t){t.collapsing&&(e.show.moreInfo=!1)}}function a(){return{controller:r,templateUrl:"js/components/rule/ruleSummary/ruleSummary.html",restrict:"EC",scope:{report:"=",rule:"=",ruleId:"=",ruleFilter:"=",loading:"="}}}r.$inject=["$scope","InsightsConfig"];var i=e("../../");i.directive("ruleSummary",a)},{"../../":105}],148:[function(e,t,n){"use strict";function r(e,t,n,r){function a(){e.text=r.getString("Permanently Ignore Rule"),e.rule&&e.rule.ack_id&&(e.text=r.getString("Unignore Rule"))}e.ackAction=function(){e.rule&&e.rule.ack_id?(t.deleteAck({id:e.rule.ack_id}),e.rule.ack_id=null):t.createAck(e.rule).then(function(t){e.rule.ack_id=t.id})},e.isSystemAlert=function(e){return n.systemAlerts[e]},a(),e.$watch("rule.ack_id",a)}function a(){return{templateUrl:"js/components/rule/ruleToggle/ruleToggle.html",restrict:"E",scope:{rule:"="},controller:r}}r.$inject=["$scope","Ack","InsightsConfig","gettextCatalog"];var i=e("../../");i.directive("ruleToggle",a)},{"../../":105}],149:[function(e,t,n){"use strict";function r(){return{scope:{state:"="},templateUrl:"js/components/ruleStateIcon/ruleStateIcon.html",restrict:"E",replace:!0}}var a=e("../");a.directive("ruleStateIcon",r)},{"../":105}],150:[function(e,t,n){"use strict";function r(e){e("All"),e("INFO"),e("WARN"),e("ERROR"),e("CRITICAL")}r.$inject=["gettext"];var a=e("../");a.constant("Severities",["All","INFO","WARN","ERROR","CRITICAL"]),a.controller("__Severities",r)},{"../":105}],151:[function(e,t,n){"use strict";function r(){return{scope:{rule:"<"},templateUrl:"js/components/severityIcon/allSeverityIcons.html",restrict:"E",replace:!0}}var a=e("../");a.directive("allSeverityIcons",r)},{"../":105}],152:[function(e,t,n){"use strict";function r(e,t){var n={};n.iconClass=function(e){switch(e){case 1:return"low";case 2:return"med";case 3:return"high";case 4:return"critical";default:return"unknown"}},n.checkTypes=function(){if(e.type&&e.type){if(o(n.typeMap,e.type))return;throw new Error("Invalid severity-icon type selected! "+e.type)}throw new Error("No severity-icon type selected! "+e.type)},n.typeMap={impact:t.getString("Impact"),likelihood:t.getString("Likelihood"),severity:t.getString("Total Risk")},n.sevClassMap={INFO:n.iconClass(1),WARN:n.iconClass(2),ERROR:n.iconClass(3),CRITICAL:n.iconClass(4),UNKNOWN:n.iconClass(-1),1:n.iconClass(1),2:n.iconClass(2),3:n.iconClass(3),4:n.iconClass(4)},n.numberToStringMap={1:t.getString("Low"),2:t.getString("Medium"),3:t.getString("High"),4:t.getString("Critical"),INFO:t.getString("Low"),WARN:t.getString("Medium"),ERROR:t.getString("High"),CRITICAL:t.getString("Critical"),UNKNOWN:t.getString("Unknown")},e.init=function(){n.checkTypes(),e.severity||(e.severity="UNKNOWN"),e.type&&!e.label&&(e.label=n.typeMap[e.type]),e.tooltip=n.typeMap[e.type]+": "+n.numberToStringMap[e.severity],e.sevClass=n.sevClassMap[e.severity]}}function a(){return{scope:{type:"@",label:"@",severity:"<"},templateUrl:"js/components/severityIcon/severityIcon.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","gettextCatalog"];var i=e("../"),o=e("lodash/object/has");i.directive("severityIcon",a)},{"../":105,"lodash/object/has":398}],153:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){function o(){r.getRules({product:e.product}).then(function(t){e.categoryCounts=t.data})}e.product=i.getSelectedProduct(),"all"===e.product&&(e.product=void 0),e.categoryCounts={},e.categories=a,e.actions=!1,e.isActive=function(t){return e.actions&&n.id===t},e.$watch(function(){return t.current&&t.current.actions},function(t){e.actions=t}),e.$on("group:change",o),o()}function a(){return{templateUrl:"js/components/sideNav/actionsSideNav/actionsSideNav.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","$state","$stateParams","Stats","Categories","FilterService"];var i=e("../../");i.directive("rhaTelemetryActionsSideNav",a)},{"../../":105}],154:[function(e,t,n){"use strict";function r(e,t,n,r){e.isHidden=!1,e.toggleNav=function(){e.isHidden=!e.isHidden},e.utils=t,e.state=n,e.includes=o,e.config=r,e.states={rules:["app.rules","app.admin-rules","app.admin-rule-tags","app.create-rule","app.show-rule","app.edit-rule"],actions:["app.actions","app.actions-rule","app.topic"]}}function a(){return{templateUrl:"js/components/sideNav/sideNav.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope","Utils","$state","InsightsConfig"];var i=e("../"),o=e("lodash/collection/includes");i.directive("sideNav",a)},{"../":105,"lodash/collection/includes":281}],155:[function(e,t,n){"use strict";function r(e){function t(){void 0===e.model&&e.options&&e.options.length&&(e.selected=o(e.options,{id:null}))}e.$watch("options",t),e.$watch("model",function(n){e.selected=o(e.options,function(e){return String(e.id).toLowerCase()===String(n).toLowerCase()}),t()}),e.select=function(t){e.selected=t,e.model=t.id}}function a(){return{scope:{model:"=",options:"=",disabled:"="},templateUrl:"js/components/simpleSelect/simpleSelect.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope"];var i=e("../"),o=e("lodash/collection/find");i.directive("simpleSelect",a)},{"../":105,"lodash/collection/find":277}],156:[function(e,t,n){"use strict";function r(e){e.statusClass="",e.status?e.statusClass="fa-check-circle-o":e.statusClass="fa-circle-o"}function a(){return{scope:{status:"="},templateUrl:"js/components/statusIcon/statusIcon.html",restrict:"E",replace:!0,controller:r}}r.$inject=["$scope"];var i=e("../");i.directive("statusIcon",a)},{"../":105}],157:[function(e,t,n){"use strict";function r(e,t,n,r){var a=document.body.scrollTop,i=n.getBoundingClientRect(),o=i.top+document.body.scrollTop+r,s=t.getBoundingClientRect(),l=s.top+a+s.height,c=a+document.body.offsetHeight,u="",d="";a<o?(u="absolute-top",d="absolute-bottom fixed-bottom"):c>l?(u="absolute-bottom",d="absolute-top fixed-bottom"):(u="fixed-bottom",d="absolute-top absolute-bottom"),e.addClass(u).removeClass(d)}function a(e){var t,n="stuck",r=document.body.scrollTop,a=e[0];"undefined"==typeof e.originalOffset?(e.removeClass(n),t=a.getBoundingClientRect().top,e.originalOffset=t+r):t=a.getBoundingClientRect().top,r>=e.originalOffset?e.addClass(n):e.removeClass(n)}function i(e,t,n,i){e&&t&&n?r(e,t,n,i):e&&a(e)}function o(e){function t(e){return e&&"resize"===e.type&&delete n.originalOffset,i(n,r,a,o)}var n,r,a,o,s;e.child&&(n=angular.element(document.querySelector(e.child)),r=document.querySelector(e.parent),a=document.querySelector(e.sibling),o=e.offset,"undefined"==typeof o&&(o=0),o=parseInt(o,10),s=angular.element(window),s.on("scroll",t),s.on("resize",t),e.$on("$destroy",function(){s.off("scroll",t),s.off("resize",t)}))}function s(){return{restrict:"CA",scope:{parent:"@",child:"@",sibling:"@",offset:"@"},link:o}}o.$inject=["$scope"];var l=e("../");l.directive("stickyNav",s)},{"../":105}],158:[function(e,t,n){"use strict";function r(e,t,n){e.close=function(){t.dismiss("close")},e.gettingStartedLink=n.gettingStartedLink}r.$inject=["$scope","$modalInstance","InsightsConfig"];var a=e("../../");a.controller("AddSystemModalCtrl",r)},{"../../":105}],159:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l,c){function u(){a.dismiss("close")}e.report={},s.triggerEvent("InsightsCompletion"),e.system=i,e.rule=o,e.loading={isLoading:!0},i===!1&&(e.system={hostname:"this.is.a.fake.system",machine_id:"fakemachineidfakemachineidfakemachineid",__fake:!0}),e.close=u,c.setMachine(e.system.system_id);var d=t.$on("$stateChangeStart",u),p=t.$on("telemetry:esc",function(e){return e.preventDefault(),!1});a.result.then(angular.noop,function(){r(function(){p(),d()})}),e.$on("modal.closing",function(){c.setMachine(null),p()}),e.getUUID=function(){return e.system.machine_id?e.system.machine_id:e.system.system_id}}r.$inject=["$scope","$rootScope","$location","$timeout","$modalInstance","system","rule","AnalyticsService","Utils","FilterService"];var a=e("../../");a.controller("SystemModalCtrl",r)},{"../../":105}],160:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,d,p,f,h,g,m,v){function y(){var e=a.search();if(e.sort){var t={sorting:{}};return t.sorting[e.sort]=e.dir||"desc",t}}function b(e){if("app.systems"===t.current.name&&e&&e.length){if(e=e[0].split(C),3!==e.length)return;var n={sort:e[2],dir:"+"===e[1]?"asc":"desc"},r=a.search();a.replace(),r.ospProducts&&(n.ospProducts=r.ospProducts),r.standaloneProducts&&(n.standaloneProducts=r.standaloneProducts),a.search(n)}}function x(e){var t=[],n=null,r=m.get("dashboard_mode");return"osp"===r&&(n=m.get("osp_deployment")),e.forEach(function(e){e.metadata&&l(e.metadata)&&(e.metadata=JSON.parse(e.metadata)),"osp"===r&&e.parent_id===n?t.push(e):"rhel"!==r&&void 0!==r||e.parent_id||t.push(e)}),t}function w(){var t=a.search(),n=t.machine;if(n){var r=s(T,{machine_id:n});return r?e.showSystem(r):void 0}}function _(){e.tableParams.reload()}function k(){var t=f.itemsChanged($,e.checkboxes.items);e.totalChecked=t.totalChecked,e.indeterminate=t.indeterminate,angular.isDefined(t.checked)&&(e.checkboxes.checked=t.checked)}function S(e){M||(M=r.open(e),M.result["finally"](function(){M=null}))}e.canUnregisterSystems=!0,e.getSystemsLabel=m.getSystemsLabel,e.systemToString=function(e){return f.getSystemDisplayName(e)},e.isOspMode=function(){return"osp"===m.get("dashboard_mode")},e.getNumCols=function(){var e=3;return"osp"===m.get("dashboard_mode")&&(e=4),e};var A=void 0;e.checkboxes={checked:!1,items:{}},"boolean"==typeof h.canUnregisterSystems?e.canUnregisterSystems=h.canUnregisterSystems:"function"==typeof h.canUnregisterSystems&&(e.canUnregisterSystems=!1,h.canUnregisterSystems(function(t){e.canUnregisterSystems=t}));var T=e.systems||[],$=T,C=/(\+|-)/;e.filters={hostname:""};var M=null;e.systemIsHeader=function(e){var t=!1;return e&&e.metadata&&e.metadata.role&&"header"===e.metadata.role&&(t=!0),t};var E=f.resetChecked(e.checkboxes),I=angular.extend({page:1,count:30,filter:e.filters,sorting:{last_check_in:"desc"}},y());e.tableParams=new d(I,{total:T.length,counts:[],getData:function(t,r){E(),b(r.orderBy()),$=x(T),$=r.filter()?n("filter")($,r.filter().hostname):$,$=r.sorting()?n("orderBy")($,r.orderBy()):$,e.onlyOffline&&($=o($,function(t){return t.last_check_in&&e.isStale(t)})),e.actionFilter&&"with"===e.actionFilter?$=o($,function(e){return e.reports.length>0}):e.actionFilter&&"without"===e.actionFilter&&($=o($,function(e){
return 0===e.reports.length}));var a=$.length,i=r.page(),s=r.count();if(i>1&&a<s&&(r.page(1),i=1),r.total(a),"osp"===m.get("dashboard_mode")){$=u($,"metadata.role").reverse();var l={metadata:{role:null}},c=angular.copy($),d=0;c.forEach(function(e,t){e.metadata.role!==l.metadata.role&&($.splice(t+d,0,{machine_id:e.metadata.role,metadata:{role:"header"}}),d+=1),l=e})}else $=$.slice((i-1)*s,i*s);t.resolve($)}}),e.$watch("systems",function(t){t&&(T=t,e.tableParams.total(T.length),_(),t.length&&w())}),e.$on("productFilter:change",function(){"app.systems"===t.current.name&&_()}),e.$watch("onlyOffline",_),e.$watch("actionFilter",_),e.rowClick=function(t,n){if(n.metadata&&"header"!==n.metadata.role){var r=t.target||t.srcElement;if("A"===r.tagName)return;if(t.shiftKey&&"mousedown"===t.type)return t.preventDefault(),!1;if("TD"===r.tagName&&"click"===t.type&&(e.checkboxes.items[n.system_id]=!e.checkboxes.items[n.system_id]),r=t.currentTarget,!A)return void(A=r);t.shiftKey&&f.selectBetween(r,A,e.checkboxes.items),A=r}},e.$watch("checkboxes.checked",function(t){f.checkboxChecked(t,$,e.checkboxes.items)}),e.$watchCollection("checkboxes.items",k),e.showSystem=function(e){return"function"==typeof h.systemShowSystem?h.systemShowSystem(e):void S({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return e},rule:function(){return!1}}})},e.unregisterSystems=function(){var t=[];for(var n in e.checkboxes.items)e.checkboxes.items[n]===!0&&t.push(n);var r=t.length,a=g.getPlural(r,"<h5>This will unregister the selected system from Red Hat Insights.</h5><p>To undo this action<code>redhat-access-insights --register</code>must be run from the unregistered system.</p>","<h5>This will unregister the {{count}} selected systems from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code>must be run from each unregistered system.</p>",{count:r});p.swal({title:"Are you sure?",text:a,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(n){if(n){for(var r=0;r<t.length;r++)i.deleteSystem(t[r]);for(var a=T.length-1;a>=0;a--){var o=T[a];t.indexOf(o.machine_id)!==-1&&(T.splice(a,1),e.summary&&o.reports&&o.reports.length?e.summary.red--:e.summary&&o.reports&&!o.reports.length&&e.summary.green--)}e.tableParams.reload()}})},e.registerSystem=function(){var e=!1;v.asyncCurrent(function(t){e=t.current_entitlements?t.current_entitlements.systemLimitReached:!t.is_internal,t.current_entitlements&&t.current_entitlements.unlimitedRHEL&&(e=!1)}),S({templateUrl:"js/components/system/addSystemModal/"+(e?"upgradeSubscription.html":"addSystemModal.html"),windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"AddSystemModalCtrl"})},e.actionTooltip=function(e){return 1===e?"1 Action":e+" Actions"},e.isPortal=h.isPortal,e.cleanRole=function(e){return l(e)&&(e=JSON.parse(e)),c(e)?void 0:e.role},e.showRegisterButton=function(){var t=!1;return!e.isOspMode()&&e.isPortal&&(t=!0),t}}function a(){return{templateUrl:"js/components/system/systemSummaryTable/systemSummaryTable.html",restrict:"EC",scope:{systems:"=",summary:"=",onlyOffline:"=",actionFilter:"="},controller:r}}r.$inject=["$scope","$state","$filter","$modal","$location","System","NgTableParams","SweetAlert","Utils","InsightsConfig","gettextCatalog","PreferenceService","User"];var i=e("../../"),o=e("lodash/collection/filter"),s=e("lodash/collection/findWhere"),l=e("lodash/lang/isString"),c=e("lodash/lang/isEmpty"),u=e("lodash/collection/sortBy");i.directive("systemSummaryTable",a)},{"../../":105,"lodash/collection/filter":276,"lodash/collection/findWhere":278,"lodash/collection/sortBy":288,"lodash/lang/isEmpty":387,"lodash/lang/isString":391}],161:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){function l(){if(u&&u.length){var t=o(e.group.systems,"system_id");e.systems=s(u,function(e){return!!t[e.system_id]}),t=null,e.filterSystems()}}function c(){var t=r.itemsChanged(e._filteredSystems,e.checkboxes.items);e.totalChecked=t.totalChecked,e.indeterminate=t.indeterminate,angular.isDefined(t.checked)&&(e.checkboxes.checked=t.checked)}var u,d,p=e.type;e._filteredSystems=[],e.indeterminate=!1,e.items=[10,25,50,100],e.itemsPerPage=10,e.title=i("in"===p?"Systems in This Group":"Available Systems"),e.currentPage=1,e.total=0,e.maxPages=4,e.systemFilter="",e.checkboxes={checked:!1,items:{}},e.filterSystems=function(){e.filteredSystems=a("filter")(e.systems,{hostname:e.systemsFilter}),e.total=e.filteredSystems.length};var f=r.resetChecked(e.checkboxes);e.pageChanged=f,e.addSystems=function(){var t=[],r=o(e._filteredSystems,"system_id");for(var a in e.checkboxes.items)e.checkboxes.items[a]&&r[a]&&t.push(r[a]);n.addSystems(e.group,t),f()},e.removeSystems=function(){var t=[];for(var r in e.checkboxes.items)e.checkboxes.items[r]&&t.push(r);n.removeSystems(e.group,t),f()},e.rowClick=function(t){if(t.shiftKey&&"mousedown"===t.type)return t.preventDefault(),!1;var n=t.currentTarget;return d?(t.shiftKey&&r.selectBetween(n,d,e.checkboxes.items),void(d=n)):void(d=n)},"in"===p?(e.systems=e.group.systems,e.filterSystems(),e.$watchCollection("group.systems",function(){e.filterSystems()})):(t.getSystems(!1).success(function(e){u=e.resources,l()}),e.$watchCollection("group.systems",l)),e.$watch("checkboxes.checked",function(t){r.checkboxChecked(t,e._filteredSystems,e.checkboxes.items)}),e.$watchCollection("checkboxes.items",c)}function a(){return{templateUrl:"js/components/system/systemTable/systemTable.html",restrict:"E",scope:{group:"=",type:"@"},controller:r}}r.$inject=["$scope","System","Group","Utils","$filter","gettext"];var i=e("../../"),o=e("lodash/collection/indexBy"),s=e("lodash/collection/reject");i.directive("systemTable",a)},{"../../":105,"lodash/collection/indexBy":282,"lodash/collection/reject":286}],162:[function(e,t,n){"use strict";function r(e,t,n){e.loading=!1,e.system&&e.system.system_id&&(e.loading=!0,t.getSystemMetadata(e.system.system_id).then(function(t){e.systemFacts=n.getSystemFacts(e.system,t.data),e.loading=!1}))}function a(){return{templateUrl:"js/components/systemMetadata/systemMetadata.html",restrict:"E",controller:r,scope:{system:"="}}}r.$inject=["$scope","System","SystemsService"];var i=e("../");i.directive("systemMetadata",a)},{"../":105}],163:[function(e,t,n){"use strict";function r(e){function t(e){for(var t=e.querySelectorAll("a"),n=0;n<t.length;n++)t[n].target="_blank"}return{link:function(n,r){e(function(){r&&r[0]&&t(r[0])},0,!1)}}}r.$inject=["$timeout"];var a=e("../");a.directive("targetBlank",r)},{"../":105}],164:[function(e,t,n){"use strict";function r(e,t){return e.year()===t.year()&&e.month()===t.month()&&e.date()===t.date()}function a(e){function t(){e.startTime=s(e.start),e.endTime=s(e.end),e.timezone&&(e.startTime=e.startTime.tz(e.timezone),e.endTime=e.endTime.tz(e.timezone));var t=s(e.start);e.startDate=!1,e.endDate=!1,r(t,e.startTime)||(e.startDate=e.startTime.format(a)),r(t,e.endTime)||(e.endDate=e.endTime.format(a)),e.startTime=e.startTime.format(n),e.endTime=e.endTime.format(n)}var n="LT",a="MMM D";t(),e.$watchGroup(["start","end","timezone"],t)}function i(){return{templateUrl:"js/components/timeRange/timeRange.html",restrict:"E",controller:a,replace:!0,scope:{start:"=start",end:"=end",timezone:"=?timezone"}}}a.$inject=["$scope"];var o=e("../"),s=e("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js");o.directive("timeRange",i)},{"../":105,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14}],165:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l,c){function u(){t.loading=!0,o.removeAll("stale"),i.getSystemStatus(!0).then(function(e){e.data&&e.data.hasOwnProperty("stale")&&e.data.hasOwnProperty("ackedStale")&&e.data.stale-e.data.ackedStale>0&&o.push({type:"stale",msg:r.getPlural(e.data.stale-e.data.ackedStale,"1 new system not checking in","{{count}} new systems not checking in",{count:e.data.stale-e.data.ackedStale}),acked:!1,icon:"fa-server",onAck:d,onSelect:f})})["finally"](function(){t.loading=!1})}function d(){return i.ackStaleSystems().then(u)}function p(){l.setOnline(!1),l.setOffline(!0),c.setSort({field:"last_check_in",direction:"DESC"}),n.go("app.inventory",{offline:!0})}function f(e){e.acked===!1?d().then(p):p()}t.service=o,u(),s.plans.load()}function a(){return{templateUrl:"js/components/topbar/alerts/alerts.html",restrict:"E",replace:!0,scope:{icon:"@icon"},controller:r}}r.$inject=["$rootScope","$scope","$state","gettextCatalog","RhaTelemetryActionsService","System","TopbarAlertsService","MaintenanceService","FilterService","InventoryService"];var i=e("../../");i.directive("alerts",a)},{"../../":105}],166:[function(e,t,n){"use strict";function r(e,t){e.isPortal=t.isPortal,e.gettingStartedLink=t.gettingStartedLink}function a(){return{templateUrl:"js/components/topbar/topbar.html",restrict:"E",controller:r,replace:!0}}r.$inject=["$scope","InsightsConfig"];var i=e("../");i.directive("topbar",a)},{"../":105}],167:[function(e,t,n){"use strict";function r(e){return{templateUrl:"js/components/topics/otherTopic/otherTopic.html",restrict:"E",replace:!0,scope:{topic:"="},link:function(t){t.getSelectedProduct=e.getSelectedProduct}}}r.$inject=["FilterService"];var a=e("../../");a.directive("otherTopic",r)},{"../../":105}],168:[function(e,t,n){"use strict";function r(e){return{scope:!0,templateUrl:"js/components/topics/topicAdminHelpBar/topicAdminHelpBar.html",restrict:"E",replace:!0,link:function(t,n,r){function a(e){var n=i.selectionStart,r=i.value;r||(r="");var a=r.substring(0,n),o=r.substring(n);i.value=a+e+o,i.selectionStart=i.selectionEnd=n+e.length,t.topic.content=i.value}var i;if(angular.forEach(e.find("textarea"),function(e){e.id===r.textArea&&(i=e)}),!i)throw new Error("Unable to find text area with id: "+r.textArea);t.help={show:!1},t.help.appendInterpolation=function(e){var t="topic.actions.totalCount";e&&(t=e.target.text.trim()),a("{{= "+t+" }}")},t.help.appendConditional=function(){a("\n{{? topic.actions.totalCount}}\nActions found!\n{{??}}\nNo actions found!\n{{?}}\n")},t.help.interpolations=[],t.help.createInterpolations=function(){if(t.topic&&t.topic.rules){var e=[{key:"systems.totalCount",value:"Number of systems with a given product (or all systems combined if no product selected)"},{key:"systems.affectedCount",value:"Number of systems affected by this topic"},{key:"product.code",value:"Product code (rhel, rhev, osp or docker)"},{key:"topic.rules.totalCount",value:"Number of rules that belong to this topic"},{key:"topic.rules.ackedCount",value:"Number of rules that belong to this topic and are ignored (acked) by the customer"},{key:"topic.actions.totalCount",value:"Number of actions (rule violations on systems) for this topic"}],n=[{key:"topic.rule.actionCount",value:"Number of actions for the given rule"},{key:"topic.rule.description",value:"Name of the rule"},{key:"topic.rule.link",value:"Link to a page for the given rule"},{key:"topic.rule.category",value:"Rule category (Security, Performance, Availability or Stability)"},{key:"topic.rule.severity",value:"Rule severity (ERROR, WARN, INFO)"},{key:"topic.rule.acked",value:"Indicated whether this rule has been ignored (acked) by the user"}];if("explicit"===t.ruleBinding&&1===t.topic.rules.length)t.help.interpolations=e.concat(n);else{var r=t.selectedRule;t.help.interpolations=e.concat([{key:"topic.rules.byId['"+r+"'].actionCount",value:n[0].value},{key:"topic.rules.byId['"+r+"'].description",value:n[1].value},{key:"topic.rules.byId['"+r+"'].link",value:n[2].value},{key:"topic.rules.byId['"+r+"'].category",value:n[3].value},{key:"topic.rules.byId['"+r+"'].severity",value:n[4].value},{key:"topic.rules.byId['"+r+"'].acked",value:n[5].value}])}}},t.$watchCollection("topic.rules",t.help.createInterpolations),t.$watch("selectedRule",t.help.createInterpolations)}}}r.$inject=["$document"];var a=e("../../");a.directive("topicAdminHelpBar",r)},{"../../":105}],169:[function(e,t,n){"use strict";function r(e){return{templateUrl:"js/components/topics/topicDetails/topicDetails.html",restrict:"E",replace:!0,scope:{topic:"="},link:function(t){t.isContentManager=e.isContentManager}}}r.$inject=["$rootScope"];var a=e("../../");a.directive("topicDetails",r)},{"../../":105}],170:[function(e,t,n){"use strict";function r(e,t,n,r,a,s,l){e.summary=r,e.details=a,e.editData=!1,e.loader=new l.Loader,e.topic={};var c=e.loader.bind(function(t){return n.preview(t).then(function(t){e.topic=t.data,e.topic.rules.forEach(s.readRule),e.sampleData={rules:i(e.topic.rules),systems:{affectedCount:e.topic.affectedSystemCount}}},function(t){404===t.status&&(e.topic=null)})});e.updateSampleData=function(){var n=o(t,["title","content","summary","alwaysShow","tag","category","rules"]);n.overrides={rules:e.sampleData.rules.map(function(e){return{rule_id:e.rule_id,hitCount:e.hitCount,acked:e.acked}}),systems:e.sampleData.systems},c(n)},c(t)}r.$inject=["$scope","topic","Topic","summary","details","DataUtils","Utils"];var a=e("../../"),i=e("lodash/lang/cloneDeep"),o=e("lodash/object/pick");a.controller("TopicPreviewModalCtrl",r)},{"../../":105,"lodash/lang/cloneDeep":383,"lodash/object/pick":402}],171:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,s,l){function c(){n.showRulesWithNoHits=!1,n.hiddenCount=0}function u(e){e&&d(e.rules)}function d(e){if(n.showRulesWithNoHits)n.plugins=s.groupRulesByPlugin(e);else{var t=o(e,function(e){return e.hitCount&&!e.acked});n.plugins=s.groupRulesByPlugin(t[0]),n.hiddenCount=t[1].length}}function p(){n.topic.rules=e("orderBy")(n.topic.rules,["_type",n.sorter.reverse?"-"+n.sorter.predicate:n.sorter.predicate]),d(n.topic.rules)}n.config=a,n.listTypes=i.types(),n.getListType=i.getType,n.sorter=new l.Sorter({predicate:["acked","hitCount === 0","-severityNum","-hitCount"],reverse:!1},p),n.filterZero=function(e){return!!(n.showRulesWithNoHits||e.hitCount>0&&!e.acked)},t.$on("account:change",c),n.$watch("topic",function(e){n.showRulesWithNoHits=e&&0===e.hitCount,u(e)}),n.showAll=function(){n.showRulesWithNoHits=!0,u(n.topic)},n.viewImpactedSystems=function(e,t){r.go("app.actions-rule",{category:e,rule:t})},c()}function a(){return{templateUrl:"js/components/topics/topicRuleList/topicRuleList.html",restrict:"E",replace:!0,controller:r,scope:{topic:"="}}}r.$inject=["$filter","$rootScope","$scope","$state","InsightsConfig","ListTypeService","RuleService","Utils"];var i=e("../../"),o=e("lodash/collection/partition");i.directive("topicRuleList",a)},{"../../":105,"lodash/collection/partition":284}],172:[function(e,t,n){"use strict";function r(e,t){e.systemTypeIcon="",e.systemTypeDisplayName="",e.systemTypeDisplayNameShort="",t.getSystemTypeAsync(e.typeId).then(function(t){t&&(e.systemTypeIcon=t.imageClass,e.systemTypeDisplayName=t.displayName,e.systemTypeDisplayNameShort=t.displayNameShort)})}function a(){return{scope:{typeId:"=",includeText:"="},templateUrl:"js/components/typeIcon/typeIcon.html",restrict:"EC",replace:!0,controller:r}}r.$inject=["$scope","SystemsService"];var i=e("../");i.directive("typeIcon",a)},{"../":105}],173:[function(e,t,n){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.alert","ui.bootstrap.dropdown","ui.bootstrap.position","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.bindHtml","ui.bootstrap.tabs"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/tabs/tab.html","template/tabs/tabset.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,r){function a(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(i)}function i(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void e.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(r.collapse,function(e){e?o():a()})}}}]),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,a){e(function(){a.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",a)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",a))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var a=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&a&&a[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},a=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,r,a,i,o,s,l,c){var u,d,p=this,f=e.$new(),h=r.openClass,g=angular.noop,m=t.onToggle?n(t.onToggle):angular.noop,v=!1,y=!1;this.init=function(r){p.$element=r,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),y=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(s.find("body").append(p.dropdownMenu),r.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return y},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:if(!angular.isNumber(p.selectedOption))return;p.selectedOption=0===p.selectedOption?0:p.selectedOption-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var r=o.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(r.left+p.$element.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),p.dropdownMenu.css(s)}if(i[t?"addClass":"removeClass"](p.$element,h).then(function(){angular.isDefined(t)&&t!==n&&m(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),a.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var y=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(y),p.dropdownMenu=y}a.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}),e.$on("$destroy",function(){f.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,r){if(r){var a=n.templateUrl;a&&(r.dropdownMenuTemplateUrl=a),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,r){t.bind("keydown",function(e){if([38,40].indexOf(e.which)!==-1){e.preventDefault(),e.stopPropagation();var n=angular.element(t).find("a");switch(e.keyCode){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===n.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:r.selectedOption=0===r.selectedOption?0:r.selectedOption-1}n[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var a=function(a){a.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",a),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",a)})}}}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&r(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},i=a(t[0]);i!=e[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var a,i,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";a=r?this.offset(e):this.position(e),i=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return a.left+a.width/2-i/2},left:function(){return a.left},right:function(){return a.left+a.width}},p={center:function(){return a.top+a.height/2-o/2},top:function(){return a.top},bottom:function(){return a.top+a.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:a.left-i};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:a.top-o,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function t(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(e,t){function n(n,r,a){a.modalInClass&&(e.addClass(r,a.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(t,n){var i=n();e.removeClass(r,a.modalInClass).then(i)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(e,t,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,a,i){a.addClass(i.windowClass||""),r.size=i.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var o=t.defer();i.$observe("modalRender",function(e){"true"==e&&o.resolve()}),o.promise.then(function(){i.modalInClass&&(n.addClass(a,i.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n.removeClass(a,i.modalInClass).then(r)}));var t=a[0].querySelectorAll("[autofocus]");t.length?t[0].focus():a[0].focus();var o=e.getTop();o&&e.modalRendered(o.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,a){a(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(e,t,n,r,a,i,o){function s(){for(var e=-1,t=m.keys(),n=0;n<t.length;n++)m.get(t[n]).value.backdrop&&(e=n);return e}function l(e,t){var r=n.find("body").eq(0),a=m.get(e).value;m.remove(e),u(a.modalDomEl,a.modalScope,function(){r.toggleClass(g,m.length()>0)}),c(),t&&t.focus?t.focus():r.focus()}function c(){if(p&&s()==-1){var e=f;u(p,f,function(){e=null}),p=void 0,f=void 0}}function u(t,n,r){function a(){a.done||(a.done=!0,e.leave(t),n.$destroy(),r&&r())}var o,s=null,l=function(){return o||(o=i.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast(v.NOW_CLOSING_EVENT,l),i.when(s).then(a)}function d(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var p,f,h,g="modal-open",m=o.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,b="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return a.$watch(s,function(e){f&&(f.index=e)}),n.bind("keydown",function(e){var t=m.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),a.$apply(function(){v.dismiss(t.key,"escape key press")});break;case 9:v.loadFocusElementList(t);var n=!1;e.shiftKey?v.isFocusInFirstItem(e)&&(n=v.focusLastFocusableElement()):v.isFocusInLastItem(e)&&(n=v.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),v.open=function(e,t){var i=n[0].activeElement;m.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=n.find("body").eq(0),l=s();if(l>=0&&!p){f=a.$new(!0),f.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),p=r(c)(f),o.append(p)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:m.length()-1,animate:"animate"}).html(t.content),t.animation&&u.attr("modal-animation","true");var d=r(u)(t.scope);m.top().value.modalDomEl=d,m.top().value.modalOpener=i,o.append(d),o.addClass(g),v.clearFocusListCache()},v.close=function(e,t){var n=m.get(e);return n&&d(n,t,!0)?(n.value.deferred.resolve(t),l(e,n.value.modalOpener),!0):!n},v.dismiss=function(e,t){var n=m.get(e);return n&&d(n,t,!1)?(n.value.deferred.reject(t),l(e,n.value.modalOpener),!0):!n},v.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},v.getTop=function(){return m.top()},v.modalRendered=function(e){var t=m.get(e);t&&t.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return h.length>0&&(h[0].focus(),!0)},v.focusLastFocusableElement=function(){return h.length>0&&(h[h.length-1].focus(),!0)},v.isFocusInFirstItem=function(e){return h.length>0&&(e.target||e.srcElement)==h[0]},v.isFocusInLastItem=function(e){return h.length>0&&(e.target||e.srcElement)==h[h.length-1]},v.clearFocusListCache=function(){h=[],y=0},v.loadFocusElementList=function(e){if((void 0===h||!h.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(h=t[0].querySelectorAll(b))}},v}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,a,i,o){function s(e){return e.template?r.when(e.template):a(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var a=r.defer(),c=r.defer(),u=r.defer(),d={result:a.promise,opened:c.promise,rendered:u.promise,close:function(e){return o.close(d,e)},dismiss:function(e){return o.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=r.all([s(t)].concat(l(t.resolve)));return p.then(function(e){var r=(t.scope||n).$new();r.$close=d.close,r.$dismiss=d.dismiss;var s,l={},c=1;t.controller&&(l.$scope=r,l.$modalInstance=d,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),s=i(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),o.open(d,{scope:r,deferred:a,renderDeferred:u,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){a.reject(e)}),p.then(function(){c.resolve(!0)},function(e){c.reject(e)}),d},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,a={$setViewValue:angular.noop},i=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){a=o,this.config=s,a.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){i(e.$parent,t),e.page>t?e.selectPage(t):a.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(a.$viewValue,10)||1},e.selectPage=function(t,n){var r=!e.ngDisabled||!n;r&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),a.$setViewValue(t),a.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,a,i){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,a=t,i=angular.isDefined(u)&&u<t;i&&(d?(r=Math.max(e-Math.floor(u/2),1),a=r+u-1,a>t&&(a=t,r=a-u+1)):(r=(Math.ceil(e/u)-1)*u+1,
a=Math.min(r+u-1,t)));for(var s=r;s<=a;s++){var l=o(s,s,s===e);n.push(l)}if(i&&!d){if(r>1){var c=o(r-1,"...",!1);n.unshift(c)}if(a<t){var p=o(a+1,"...",!1);n.push(p)}}return n}var l=i[0],c=i[1];if(c){var u=angular.isDefined(a.maxSize)?n.$parent.$eval(a.maxSize):t.maxSize,d=angular.isDefined(a.rotate)?n.$parent.$eval(a.rotate):t.rotate;n.boundaryLinks=angular.isDefined(a.boundaryLinks)?n.$parent.$eval(a.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(a.directionLinks)?n.$parent.$eval(a.directionLinks):t.directionLinks,l.init(c,t),a.maxSize&&n.$parent.$watch(e(a.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,a){var i=a[0],o=a[1];o&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,i.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(a,i,o,s,l,c){return function(a,u,d,p){function f(e){var t=e||p.trigger||d,r=n[t]||t;return{show:t,hide:r}}p=angular.extend({},t,r,p);var h=e(a),g=c.startSymbol(),m=c.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,t){var n=i(v);return function(e,t,r,i){function c(){I.isOpen?h():d()}function d(){E&&!e.$eval(r[u+"Enable"])||(b(),I.popupDelay?$||($=o(g,I.popupDelay,!1),$.then(function(e){e()})):g()())}function h(){e.$apply(function(){m()})}function g(){return $=null,T&&(o.cancel(T),T=null),(p.useContentExp?I.contentExp():I.content)?(v(),S.css({top:0,left:0,display:"block"}),I.$digest(),P(),I.isOpen=!0,I.$apply(),P):angular.noop}function m(){I.isOpen=!1,o.cancel($),$=null,I.animation?T||(T=o(y,500)):y()}function v(){S&&y(),A=I.$new(),S=n(A,function(e){C?s.find("body").append(e):t.after(e)}),p.useContentExp&&A.$watch("contentExp()",function(e){j(),!e&&I.isOpen&&m()})}function y(){T=null,S&&(S.remove(),S=null),A&&(A.$destroy(),A=null)}function b(){x(),w(),_()}function x(){I.popupClass=r[u+"Class"]}function w(){var e=r[u+"Placement"];I.placement=angular.isDefined(e)?e:p.placement}function _(){var e=r[u+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?p.popupDelay:t}function k(){var e=r[u+"Trigger"];D(),M=f(e),M.show===M.hide?t.bind(M.show,c):(t.bind(M.show,d),t.bind(M.hide,h))}var S,A,T,$,C=!!angular.isDefined(p.appendToBody)&&p.appendToBody,M=f(void 0),E=angular.isDefined(r[u+"Enable"]),I=e.$new(!0),P=function(){if(S){var e=l.positionElements(t,S,I.placement,C);e.top+="px",e.left+="px",S.css(e)}},j=function(){o(P,0,!1)};I.origScope=e,I.isOpen=!1,I.contentExp=function(){return e.$eval(r[a])},p.useContentExp||r.$observe(a,function(e){I.content=e,j(),!e&&I.isOpen&&m()}),r.$observe("disabled",function(e){e&&I.isOpen&&m()}),r.$observe(u+"Title",function(e){I.title=e,j()}),r.$observe(u+"Placement",function(){I.isOpen&&o(function(){w(),g()()},0,!1)});var D=function(){t.unbind(M.show,d),t.unbind(M.hide,h)};k();var L=e.$eval(r[u+"Animation"]);I.animation=angular.isDefined(L)?!!L:p.animation;var O=e.$eval(r[u+"AppendToBody"]);C=angular.isDefined(O)?O:C,C&&e.$on("$locationChangeSuccess",function(){I.isOpen&&m()}),e.$on("$destroy",function(){o.cancel(T),o.cancel($),D(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(a,i,o){var s,l,c,u=a.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};a.$watch(t.parseAsResourceUrl(o.tooltipTemplateTransclude),function(t){var o=++d;t?(r(t,!0).then(function(r){if(o===d){var a=u.$new(),l=r,f=n(l)(a,function(t){p(),e.enter(t,i)});s=a,c=f,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(p(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):p()}),a.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,r,a){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",a.bindHtmlUnsafe),n.$watch(a.bindHtmlUnsafe,function(e){r.html(e||"")})}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1&&!r){var i=a==n.length-1?a-1:a+1;t.select(n[i])}n.splice(a,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,r,a,i,o){n.$watch("active",function(e){e&&i.select(n)}),n.disabled=!1,a.disable&&n.$parent.$watch(e(a.disable),function(e){n.disabled=!!e}),a.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(a.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},i.addTab(n),n.$on("$destroy",function(){i.removeTab(n)}),n.$transcludeFn=o}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var a=t.$eval(r.tabContentTransclude);a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){e(t)?a.headingElement=t:n.append(t)})})}}}),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n   ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" ng-disabled="disabled" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-faux-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}])},{}],174:[function(e,t,n){"use strict";function r(e,t,n,r){n.getAnnouncements({showAll:!0}).then(function(t){e.accountNumber=t.data,e.alerts={unseen:o(t.data,{seen:!1})}}),r.asyncCurrent(function(t){e.user=t})}function a(){return{templateUrl:"js/components/userInfo/userInfo.html",restrict:"E",replace:!0,scope:{},controller:r}}r.$inject=["$scope","AccountService","AnnouncementService","User"];var i=e("../"),o=e("lodash/collection/filter");i.directive("userInfo",a)},{"../":105,"lodash/collection/filter":276}],175:[function(e,t,n){"use strict";var r=e("../../");r.directive("kbaseSolution",["$q","$http","StrataService",function(e,t,n){function r(t,n){return function(r){1===r.length&&r[0][t].trim()===n.trim()||e.reject("no match")}}function a(e){return n.searchById(e).then(r("display_id",e))}function i(e){return n.searchByUri(e).then(r("view_uri",e))}return{require:"ngModel",link:function(t,n,r,o){o.$asyncValidators.kbaseSolution=function(t){return o.$isEmpty(t)?e.when():/^\d+$/.test(t)?a(t):t.indexOf("http")>-1?i(t):e.reject()}}}}])},{"../../":105}],176:[function(e,t,n){"use strict";function r(){return{scope:{yes:"=",no:"=",text:"@"},templateUrl:"js/components/yesNo/yesNo.html",restrict:"EC"}}var a=e("../");a.directive("yesNo",r)},{"../":105}],177:[function(e,t,n){"use strict";function r(e,t,n,r,s,l,c,u,d,p,f){n.strictMode(!1),r.html5Mode(!0).hashPrefix("!"),t.otherwise("/"),t.when("/error_infos","/rules/admin/"),t.when("/info/security","/security/"),t.rule(function(e,t){var n=t.url();if(!("/"===n[n.length-1]||n.indexOf("/?")>-1))return n.indexOf("?")>-1?n.replace("?","/?"):n+"/"}),c.disableAutoScrolling(),s.interceptors.push(i),s.interceptors.push(a),s.interceptors.push(o),u.classNameFilter(/ng-animate-enabled/),l.debugInfoEnabled(!1),d.options({appendToBody:!0,trigger:"mouseenter",placement:"top"}),p.setDefaults("tagsInput",{allowedTagsPattern:/^[a-z0-9\.\-]+$/,keyProperty:"name",displayProperty:"name",minLength:"2",template:"js/components/tag/tag.html"}),p.setDefaults("autoComplete",{minLength:"0",loadOnFocus:"true",loadOnEmpty:"true",selectFirstMatch:"false"}),f.maxSize=5,f.previousText="«",f.nextText="»"}r.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$httpProvider","$compileProvider","$anchorScrollProvider","$animateProvider","$tooltipProvider","tagsInputConfigProvider","paginationConfig"];var a=e("./interceptors/auth"),i=e("./interceptors/xomit"),o=e("./interceptors/error");t.exports=r},{"./interceptors/auth":185,"./interceptors/error":186,"./interceptors/xomit":187}],178:[function(e,t,n){"use strict";function r(e){e("all"),e("availability"),e("stability"),e("performance"),e("security")}r.$inject=["gettext"];var a=e("./");a.constant("Categories",["all","availability","stability","performance","security"]),a.controller("__Categories",r)},{"./":181}],179:[function(e,t,n){"use strict";var r=e("./");r.constant("GettingStartedUrl","https://access.redhat.com/products/red-hat-insights"),r.constant("QuickFilters",{summaryTypes:{systems:"systems",categories:"categories"}}),r.constant("TrialSku","SER0482"),r.constant("TableToCardsBreakpoint","650px"),r.constant("HttpHeaders",{resourceCount:"X-Resource-Count"}),r.constant("IgnoreAccountList",["939082","1070555","5361051","636204","5526886","730731","5506478","1298305","1337999","5463389","5341931","5557007","5586766","1494526","1460290","1568253","5491806","631105","1191423","5387712","5301816","5606428","5348764","901578","5364511","5597433","633200","5345665","971738","5496022","5582724","5496024","1455657","5538252","5273074","5457785","5301467","5254297","5535221","5274410","5597794","5385776","5596826","5243891","5673127","5594202","5375112","5463401","477931","5582531","5445856","720046","1061991","939054","5351378","761015","895158","5471870","5582336","6","1640157","5357088","1495773","901532","5258694","5505446","940527","5530698","853019","1292438","1212729","5453171","5645132","972614","1034029","958959","1262852","5644938","1626050","1191884","5574082","5618348","5436601","5305464","941133","1456379","5547202","1546454","5309654","540155","1650204","5591454","5440919","1446047","000006","1469411","5524039","5632300","5455085","5513381"])},{"./":181}],180:[function(e,t,n){"use strict";function r(e){var t={};return t={},e.events.forEach(function(n){t[n]=e.name+":"+n}),t}function a(e){var t={};return e.forEach(function(e){t[e.name]=r(e)}),t}var i=e("./"),o=[{name:"cards",events:["expandAll","collapseAll"]},{name:"filters",events:["populatedProducts","reset"]},{name:"checkboxes",events:["reset"]}];i.constant("Events",a(o))},{"./":181}],181:[function(e,t,n){"use strict";t.exports=angular.module("insights.constants",[]),function(){var t=e("./index.js");return t.categories=e("./categories.js"),t.constants=e("./constants.js"),t.events=e("./events.js"),t.index=e("./index.js"),t.playbooks=e("./playbooks.js"),t.products=e("./products.js"),t.ruleStates=e("./ruleStates.js"),t}()},{"./categories.js":178,"./constants.js":179,"./events.js":180,"./index.js":181,"./playbooks.js":182,"./products.js":183,"./ruleStates.js":184}],182:[function(e,t,n){"use strict";var r=e("./");r.constant("AnsibleAPIErrors",{AmbiguousResolution:"AMBIGUOUS_RESOLUTION",MaintenanceEmpty:"MAINTENANCE_EMPTY",MaintenanceNothingToFix:"MAINTENANCE_NOTHING_TO_FIX",UnsupportedRule:"UNSUPPORTED_RULE"}),r.constant("AnsibleErrors",{AnswerAllQuestions:"Please verify all questions have been answered",NoActions:"There are no Playbooks available for the selected Maintenance Plan",GeneralFailure:"Can not create a Playbook with the information provided."})},{"./":181}],183:[function(e,t,n){"use strict";var r=e("./");r.constant("Products",{rhel:{shortName:"RHEL Server",fullName:"Red Hat Enterprise Linux",code:"rhel",icon:"fa-linux",roles:{host:{code:"host",icon:"fa-linux",fullName:"Red Hat Enterprise Linux System",shortName:"System"}}},rhev:{shortName:"RHEV",fullName:"Red Hat Enterprise Virtualization",code:"rhev",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat Enterprise Virtualization Deployment",shortName:"Deployment",icon:"fa-object-group"},manager:{code:"manager",fullName:"Red Hat Enterprise Virtualization Manager",shortName:"Manager",icon:"fa-building"},hypervisor:{code:"hypervisor",fullName:"Red Hat Enterprise Virtualization Hypervisor",shortName:"Hypervisor",icon:"fa-server"}}},ocp:{shortName:"OCP",fullName:"Openshift Compute Platform",code:"ocp",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat Openshift Compute Platform",shortName:"Deployment",icon:"fa-cubes"},master:{code:"master",fullName:"Red Hat Openshift Compute Platform Master",shortName:"Master",icon:"fa-home"},node:{code:"node",fullName:"Red Hat Openshift Compute Platform Node",shortName:"Node",icon:"fa-cogs"}}},osp:{shortName:"OSP",fullName:"Red Hat OpenStack Platform",code:"osp",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat OpenStack Platform Deployment",shortName:"Deployment",icon:"fa-cubes"},director:{code:"director",fullName:"Red Hat OpenStack Platform Director",shortName:"Director",icon:"fa-home"},compute:{code:"compute",fullName:"Red Hat OpenStack Platform Compute Node",shortName:"Compute",icon:"fa-cogs"},controller:{code:"controller",fullName:"Red Hat OpenStack Platform Controller Node",shortName:"Controller",icon:"fa-wrench"}}},docker:{shortName2:"Container",shortName:"Containers",fullName:"Red Hat Containers",code:"docker",icon:"",roles:{host:{code:"host",fullName:"Red Hat Container Host",shortName:"Host",icon:"fa-ship"},image:{code:"image",fullName:"Red Hat Container Image",shortName:"Image",icon:"fa-archive"},container:{code:"container",fullName:"Red Hat Container",shortName:"Container",icon:"fa-cube"}}}})},{"./":181}],184:[function(e,t,n){"use strict";var r=e("./");r.constant("RuleStates",["all","active","needs content","inactive","retired"])},{"./":181}],185:[function(e,t,n){"use strict";function r(e,t,n){return{responseError:function(r){if(401===r.status)n.bounce();else if(402===r.status){var a=t.get("$state");a&&a.go("app.paymentrequired")}return e.reject(r)}}}r.$inject=["$q","$injector","BounceService"],t.exports=r},{}],186:[function(e,t,n){"use strict";function r(e){return e>=500&&e<600}function a(e,t){return{responseError:function(n){return r(n.status)&&t.setHttpError(n),e.reject(n)}}}a.$inject=["$q","AlertService"],t.exports=a},{}],187:[function(e,t,n){"use strict";function r(){return{request:function(e){return e&&e.headers&&(e.headers["X-Omit"]="WWW-Authenticate"),e}}}t.exports=r},{}],188:[function(e,t,n){"use strict";function r(e){e.state("app",{templateUrl:"js/states/base/app.html","abstract":!0,controller:"AppCtrl"}),e.state("info",{templateUrl:"js/states/base/info.html","abstract":!0}),e.state("login",{url:"/login/",controller:"LoginCtrl"})}r.$inject=["$stateProvider"],t.exports=r},{}],189:[function(e,t,n){"use strict";function r(){window.scrollTo(0,0)}function a(e,t){"function"==typeof t.scrollTop?t.scrollTop(e,t,function(e){e&&r()}):t.scrollTop&&r()}function i(e,t,n,r,i,o,s,l,c,u,d,p,f){if(n.$on("$locationChangeSuccess",function(){d.pageLoad()}),n.$on("$stateChangeSuccess",function(e,t,n,r){t&&t.triggerComplete&&d.triggerEvent("InsightsCompletion"),p.set(t.title),a(r,t)}),d.triggerEvent("InsightsBegin"),o.authenticate){var h=!0;n.$on("$stateChangeStart",function(t,n,a){var l=n.name;"evaluation"===l&&(h=!1),h&&l.startsWith("app.")&&(h=!1,t.preventDefault(),r.go("evaluation",{originalPath:window.location.toString()}));var c=e.hash();c&&(a["#"]=c),!n.unauthenticated&&o.authenticate&&(s.init(),f.optUserIntoCampaigns());var d=s.current;n.permission&&!d.loaded?(t.preventDefault(),s.asyncCurrent(function(e){u.has(e,u.PERMS[n.permission])?i.sync():r.go("app.forbidden")})):n.permission&&!u.has(d,u.PERMS[n.permission])&&r.go("app.forbidden")}),t(function(){c(e.hash())},1)}}i.$inject=["$location","$timeout","$rootScope","$state","$urlRouter","InsightsConfig","User","$document","$anchorScroll","PermissionService","AnalyticsService","TitleService","Email"],t.exports=i},{}],190:[function(e,t,n){"use strict";function r(e,t){e.includeSpinner=!1,e.loadingBarTemplate='<div id="loading-bar" class="ng-animate-enabled">\n            <div class="bar">\n                <div class="peg"></div>\n            </div>\n        </div>';var n=window.localStorage.getItem("insights:apiPrefix");n&&t.setApiPrefix(n);var r=window.localStorage.getItem("insights:apiVersion");r&&t.setApiVersion(r),t.setAuthenticate(!0),t.setAllowExport(!0),t.setDoPaf(!0),t.setFetchRelatedSolution(!0);var a=36e5;t.setAutoRefresh(a),t.setPortal(!0),t.setGettingStartedLink("https://access.redhat.com/products/red-hat-insights#getstarted")}r.$inject=["cfpLoadingBarProvider","InsightsConfigProvider"],t.exports=r},{}],191:[function(e,t,n){"use strict";function r(e,t,n,r){function a(){o||(o=!0,e.init().then(function(e){e.autoOptedIn===!1&&t.getSystemStatus().success(function(e){if(e.count>0)return i()})}))}function i(){return r.subscribe(),n.getCampaigns().success(function(e){return e.forEach(function(e){e.enrolled=!0}),n.saveCampaigns(e).then(function(){return n.saveOptedIn()})})}var o=!1;return{optUserIntoCampaigns:a}}r.$inject=["User","System","Messaging","Blog"],t.exports=r},{}],192:[function(e,t,n){"use strict";function r(e,t,n,r){function a(e,t){n.when(e,function(){window.location=r+t})}e.state("app.admin-rules",{url:"/rules/admin/?tags",templateUrl:"js/states/rules/views/admin-rules.html",controller:"AdminRuleCtrl",title:"Rules Admin",hideGroup:!0}).state("app.admin-rule-tags",{url:"/rules/admin/tags",templateUrl:"js/states/rules/views/admin-rule-tags.html",controller:"AdminRuleTagCtrl",title:"Rule Tag Admin",hideGroup:!0}).state("app.create-rule",{url:"/rules/new/",templateUrl:"js/states/rules/views/create-rules.html",controller:"NewRuleCtrl",scrollTop:!0,hideGroup:!0}).state("app.show-rule",{url:"/rules/:id/",templateUrl:"js/states/rules/views/show-rules.html",controller:"ShowRuleCtrl",scrollTop:!0,hideGroup:!0}),e.state("app.forbidden",{url:"/403/",templateUrl:"js/states/pages/views/403.html"}),e.state("app.paymentrequired",{url:"/402/",templateUrl:"js/states/pages/views/402.html"}),e.state("app.config",{url:"/config/:tab",templateUrl:"js/states/config/views/config.html",controller:"ConfigCtrl",params:{tab:null},title:"Configuration",hideGroup:!0}),e.state("app.new-announcement",{url:"/announcements/new/",templateUrl:"js/states/announcements/new-announcement.html",controller:"NewAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}).state("app.edit-announcement",{url:"/announcements/:id/edit/",templateUrl:"js/states/announcements/edit-announcement.html",controller:"EditAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}),e.state("app.analytics",{url:"/__analytics",templateUrl:"js/states/analytics/analytics.html",controller:"AnalyticsCtrl"}),e.state("info.root",{url:"/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",bounceLoggedin:!0,scrollTop:!0,unauthenticated:!0}),e.state("info.splash",{url:"/splash/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",scrollTop:!0,unauthenticated:!0}),a("/getting-started/cloudforms/","#cloudforms"),a("/getting-started/containers/","#containers"),a("/getting-started/direct/","#direct"),a("/getting-started/openshift/","#openshift"),a("/getting-started/osp/","#osp"),a("/getting-started/rhev/","#rhv"),a("/getting-started/rhv/","#rhv"),a("/getting-started/satellite/6/","#satellite6"),a("/getting-started/satellite/5/","#satellite5"),a("/getting-started","#getstarted"),a("/getting-started/","#getstarted"),e.state("info.info",{url:"/info/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",title:"Learn More",scrollTop:!0,unauthenticated:!0}).state("info.security",{url:"/security/",templateUrl:"js/states/security/security.html",controller:"SecurityCtrl",title:"Security",scrollTop:!0,unauthenticated:!0}),e.state("app.edit-topic",{url:"/topics/:id/edit/",templateUrl:"js/states/topics/views/edit-topics.html",controller:"EditTopicCtrl",hideGroup:!0}),e.state("app.admin-topic",{url:"/topics/admin",templateUrl:"js/states/topics/views/topic-admin.html",controller:"TopicAdminCtrl",hideGroup:!0}),e.state("invites",{url:"/invite",templateUrl:"js/states/invites/invites.html",controller:"InvitesCtrl"}),n.when("/invite/","/invite")}r.$inject=["$stateProvider","$locationProvider","$urlRouterProvider","GettingStartedUrl"],t.exports=r},{}],193:[function(e,t,n){"use strict";function r(){function e(){return p+f+"/"}var t="Red Hat Insights",n=0,r=!1,a=!1,i=!1,o=null,s=null,l=null,c=!0,u=!1,d=null,p="/r/insights/",f="v3",h=e(),g=p,m="telemetry:account_number",v=null,y=null,b=!1,x={"other_linux_system|OTHER_LINUX_SYSTEM":1,"other_linux_system|OTHER_LINUX_SYSTEM_DETECTED":1,"insights_heartbeat|INSIGHTS_HEARTBEAT":1},w=null,_={},k=!0;return{setTitle:function(e){t=e},setAutoRefresh:function(e){n=e},setAuthenticate:function(e){r=e},setAllowExport:function(e){a=e},setDoPaf:function(e){i=e},setGetReportsErrorCallback:function(e){o=e},setFetchRelatedSolution:function(e){u=e},setActionsShowSystem:function(e){s=e},setSystemShowSystem:function(e){l=e},setGetSystemStatus:function(e){c=e},setGettingStartedLink:function(e){d=e},setApiPrefix:function(t){p=t,h=e()},setApiVersion:function(t){f=t,h=e()},setCanUnregisterSystems:function(e){v=e},setCanIgnoreRules:function(e){y=e},setPortal:function(e){b=e},setRouteStateConfig:function(e){_=e},setOverviewKey:function(e){w=e},setPlannerEnabled:function(e){k=e},$get:["Utils",function(e){return w=w||(e.isBeta()?"overview-beta":"overview-stable"),{title:t,autoRefresh:n,authenticate:r,allowExport:a,doPaf:i,getReportsErrorCallback:o,fetchRelatedSolution:u,actionsShowSystem:s,systemShowSystem:l,getSystemStatus:c,gettingStartedLink:d,apiRoot:h,apiPrefix:p,apiVersion:f,defaultApiPrefix:g,acctKey:m,systemAlerts:x,canUnregisterSystems:v,canIgnoreRules:y,isPortal:b,routeStateConfig:_,overviewKey:w,isPlannerEnabled:k}}]}}var a=e("./");a.provider("InsightsConfig",r)},{"./":194}],194:[function(e,t,n){"use strict";t.exports=angular.module("insights.providers",[]),function(){var t=e("./index.js");return t["config.provider"]=e("./config.provider.js"),t.index=e("./index.js"),t}()},{"./config.provider.js":193,"./index.js":194}],195:[function(e,t,n){"use strict";function r(e){e.state("app.initial",{template:"",controller:"InitialCtrl"}).state("evaluation",{url:"/evaluation",templateUrl:"js/states/evaluation/evaluation.html",controller:"EvaluationCtrl",title:"evaluation",params:{originalPath:null}}),e.state("app.actions",{url:"/actions",templateUrl:"js/states/actions/actions.html",controller:"ActionsCtrl",params:{category:{value:null,squash:!0}},title:"Actions",actions:!0}).state("app.actions-rule",{url:"/actions/:category/:rule",templateUrl:"js/components/actions/actionsRule/actionsRule.html",controller:"ActionsRuleCtrl",actions:!0,title:"Actions",triggerComplete:!0}).state("app.topic",{url:"/actions/:id?product",templateUrl:"js/states/topics/views/topic-list.html",controller:"TopicRuleListCtrl",title:"Actions",actions:!0}),e.state("app.overview",{url:"/overview/",templateUrl:"js/states/overview/overview.html",controller:"OverviewCtrl",title:"Overview"}),e.state("app.components",{url:"/hidden/components/",templateUrl:"js/states/hidden/components/components.html",controller:"ComponentsCtrl",title:"Components"}),e.state("app.digests",{url:"/reports/executive/",templateUrl:"js/states/digests/digests.html",controller:"DigestsCtrl",title:"Executive Reports"}),e.state("app.inventory",{url:"/inventory?product&roles&osp_deployment&docker_host&search_term&sort_field&sort_dir&offline&online&machine",templateUrl:"js/states/inventory/inventory.html",controller:"InventoryCtrl",title:"Inventory",reloadOnSearch:!1}),e.state("app.rules",{url:"/rules?product&roles&osp_deployment&docker_host&category",templateUrl:"js/states/rules/list-rules.html",
controller:"ListRuleCtrl",title:"Rules",hideGroup:!0}),e.state("app.maintenance",{url:"/planner/{maintenance_id}",templateUrl:"js/states/maintenance/maintenance.html",controller:"MaintenanceCtrl",title:"Planner",params:{newPlan:!1}}),e.state("app.announcements",{url:"/announcements/",templateUrl:"js/states/announcements/announcements.html",controller:"ListAnnouncementCtrl",params:{announcementId:null}}).state("app.view-announcement",{url:"/announcements/:slug/",templateUrl:"js/states/announcements/view-announcement.html",controller:"ViewAnnouncementCtrl"})}r.$inject=["$stateProvider"],t.exports=r},{}],196:[function(e,t,n){"use strict";function r(e,t,n){var r=t.current,a=r.account_number,i=window.sessionStorage.getItem(n.acctKey);return i&&(a=i),e.$on("account:change",function(t,n){a!=n&&(a=n,e.$broadcast("reload:data"))}),{current:function(e){var t;return a?(t=e?e:"?",t+="account_number="+a):""},number:function(){return a},queryParam:function(){return{account_number:a}}}}r.$inject=["$rootScope","User","InsightsConfig"];var a=e("./");a.service("AccountService",r)},{"./":211}],197:[function(e,t,n){"use strict";function r(e){var t=[],n={actions:t,add:function(e){t.push(e)},set:function(e){t.length=0,Array.prototype.push.apply(t,e)},clear:function(){t.length=0}};return n.addExportAction=function(t){n.add({icon:"fa-download",title:e.getString("Export CSV"),fn:t})},n}r.$inject=["gettextCatalog"];var a=e("./");a.factory("ActionbarService",r)},{"./":211}],198:[function(e,t,n){"use strict";function r(e,t,n,r,a,p,f,h,g,m,v,y,b){var x={},w={},_={};return _.priv=x,_.vars=w,w.category=null,w.clusterAffectedSystems=null,w.counts={},w.data={},w.dataLoaded=!1,w.donutChart=null,w.initialSeverity=null,w.isScrolling=!1,w.loading=!1,w.loadingDetails=!1,w.oldCols=[],w.page=0,w.pageSize=10,w.ruleSystems=null,w.rules=[],w.rule=null,w.ruleDetails=null,w.totalRuleSystems=0,w.severities={},w.severityNames=m,w.total=0,w.systemNames=null,b.generateAccessors(_,w),angular.forEach(w.severityNames,function(e){w.severities[e]={selected:!0,count:0}}),x.severityFilter=function(e){return w.severities[e.severity].selected},_.isActions=function(){return!_.getCategory()},x.ackFilter=function(e){try{return h.ackMap[e.rule_id]}catch(t){}},_.mapName=function(e){return w.data[e]&&w.data[e].name?w.data[e].name:e},x.processRules=function(){var e=i(w.rules,x.ackFilter),t=null,r=0;x.updateCounts(e),x.updateSeverityCounts(e),e=o(e,x.severityFilter),_.isActions()?(t=u(e,function(e){return e.category}),t=s(t,function(e,t){var n=l(e,function(e,t){return e+t.report_count},0);return{id:t,name:t,value:n,category:!0}}),t=d(t,"id")):(t=o(e,function(e){return e.category.toLowerCase()===w.category.toLowerCase()}),t=s(t,function(e){return{id:e.rule_id,name:e.description,severityNum:c(w.severityNames,e.severity),severity:e.severity,category:e.category,value:e.report_count,color:""}}),t=d(t,"id")),r=l(t,function(e,t){return e+t.value},0),_.setData(t),_.setTotal(r),n.$broadcast("rha-telemetry-refreshdonut")},_.populateData=function(){var e,n,r,a;return w.dataLoaded?(a=t(function(e){e("norefresh")}),a.then(function(){x.processRules()}),a):(e=y.buildRequestQueryParams([],["role"]),e.report_count="gt0",n=p.getRulesLatest(e),r=h.reload(),r.then(n),n.success(function(e){_.setRules(e.resources),x.processRules()}),n["finally"](function(){_.setLoading(!1),w.dataLoaded=!0}),n)},x.updateCounts=function(e){var t=0,n={security:0,stability:0,performance:0};e=u(e,function(e){return e.category}),l(e,function(e,n,r){var a=r.toLowerCase();return e[a]=l(n,function(e,t){return e+t.report_count},0),t+=e[a],e},n),_.setCounts(n)},x.updateSeverityCounts=function(e){var t,n=0;_.isActions()||(e=o(e,function(e){return e.category.toLowerCase()===w.category.toLowerCase()})),t=u(e,"severity"),angular.forEach(w.severityNames,function(e){angular.isDefined(t[e])?(w.severities[e].count=l(t[e],function(e,t){return e+t.report_count},0),n+=w.severities[e].count):w.severities[e].count=0}),w.severities.All.count=n},_.arcClick=function(e){return e.category===!0?r.go("app.actions",{category:e.id.toLowerCase()}):void r.go("app.actions-rule",{category:e.category.toLowerCase(),rule:e.id})},_.ackAction=function(e){h.createAck(e).then(x.processRules)},_.populateDetails=function(){var e,n,r=_.getRule(),a=y.buildRequestQueryParams(null,["role"]),i=[];return y.getOffline()!==y.getOnline()&&(a.offline=y.getOffline().toString()),_.setLoadingDetails(!0),a.rule=encodeURIComponent(r),y.getParentNode()?(a.includeSelf=!0,e=f.getSystemLinks(y.getParentNode(),a).success(function(e){w.ruleSystems=e.resources,w.totalRuleSystems=w.ruleSystems.length})):e=f.getSystemsLatest(a).success(function(e){w.ruleSystems=e.resources,w.totalRuleSystems=w.ruleSystems.length}),n=p.byId(r).success(function(e){w.ruleDetails=e}),t.all([e,n]).then(function(e){var n=!1;if(e&&e[0]&&e[0].data&&e[0].data.length>0){n=[];for(var r in e[0].data)n.push(e[0].data[r].system_id)}if(n){for(var a in n)i.push(f.getSingleSystem(n[a]).success(function(e){return e}));return t.all(i).then(function(e){if(e){w.systemNames={},w.systems={};for(var t in e){var n=e[t].data,r=n.system_id,a=n.toString;w.systems[r]=n,w.systemNames[r]=a}}_.setLoadingDetails(!1)})}_.setLoadingDetails(!1)})},_.resetPaging=function(){w.page=0},_.nextPage=function(){w.page++},_.getRuleSystemsPage=function(){if(null===w.ruleSystems)return[];var e=w.ruleSystems,t=w.page*w.pageSize;return w.isScrolling&&t<w.ruleSystems.length&&(e=w.ruleSystems.slice(t,_.getPageEnd()),JSON.stringify(e)),e},_.getPageEnd=function(){if(null===w.ruleSystems)return 0;var e=w.page*w.pageSize;return e+w.pageSize<w.ruleSystems.length?e+w.pageSize:w.ruleSystems.length},_.reload=function(){w.dataLoaded&&(_.setDataLoaded(!1),_.populateData().then(function(){_.setLoading(!1)}))},_.setInitialSeverity=function(e){e&&angular.forEach(w.severityNames,function(t){e===t||"all"===e.toLowerCase()?w.severities[t].selected=!0:w.severities[t].selected=!1})},_.orderRuleSystems=function(t,n){w.ruleSystems=e("orderBy")(w.ruleSystems,n?"-"+t:t)},g.autoRefresh&&!isNaN(g.autoRefresh)&&window.setInterval(_.reload,parseInt(g.autoRefresh,10)),_}r.$inject=["$filter","$q","$rootScope","$state","Report","Rule","System","Ack","InsightsConfig","Severities","ReloadService","FilterService","Utils"];var a=e("./"),i=e("lodash/collection/reject"),o=e("lodash/collection/filter"),s=e("lodash/collection/map"),l=e("lodash/collection/reduce"),c=e("lodash/array/indexOf"),u=e("lodash/collection/groupBy"),d=e("lodash/collection/indexBy");a.factory("RhaTelemetryActionsService",r)},{"./":211,"lodash/array/indexOf":269,"lodash/collection/filter":276,"lodash/collection/groupBy":280,"lodash/collection/indexBy":282,"lodash/collection/map":283,"lodash/collection/reduce":285,"lodash/collection/reject":286}],199:[function(e,t,n){"use strict";function r(){function e(e){return r=angular.copy(e)}function t(e,t){if(r.length<t)throw new Error("Cannot set crumb with index "+t+" to array of length "+r.length);r[t]=e}function n(e){r.push(e)}var r=[];return{init:function(t){var n=[{label:"Actions",state:"app.actions",params:{category:null}}];t.category&&n.push({label:t.category,state:"app.topic",params:{id:t.category}}),e(n)},crumbs:r,clear:function(){e([])},get:function(){return r},set:e,setCrumb:t,add:n}}var a=e("./");a.factory("ActionsBreadcrumbs",r)},{"./":211}],200:[function(e,t,n){"use strict";function r(){var e=[];return{alerts:e,clearHttpError:function(){a(e,"http")},setHttpError:function(t){var n="There was an error retrieving data.";t&&t.data&&(t.data.message&&(n+="<br>"+t.data.message),t.data.internal_error&&t.data.internal_error.reference&&(n+="<br><small>Reference: #"+t.data.internal_error.reference+"</small>")),a(e,"http"),e.push({type:"http",msg:n,level:"danger"})},clear:function(){e.length=0}}}function a(e,t){for(var n=0,r=e.length;n<r;n++)e[n].type===t&&e.splice(n,1)}var i=e("./");i.service("AlertService",r)},{"./":211}],201:[function(e,t,n){"use strict";function r(e,t,n,r){return o.pageLoad=function(){e.doPaf&&window.chrometwo_require&&(i.doGoogleAnalytics(t,r,n),window.chrometwo_require(["analytics/main","analytics/attributes"],function(e,t){e.init(["omniture"]),t.harvest(),e.wipe("LabsBegin"),e.wipe("InsightsBegin"),e.wipe("LabsCompletion"),e.wipe("InsightsCompletion"),e.report()}))},o.triggerEvent=function(t){e.doPaf&&window.chrometwo_require&&window.chrometwo_require(["analytics/main"],function(e){e.trigger(t)})},o}r.$inject=["InsightsConfig","$location","IgnoreAccountList","User"];var a=e("./"),i={},o={};i.sendable=function(e,t){return t.indexOf(e)===-1},i.doGoogleAnalytics=function(e,t,n){t.asyncCurrent(function(){window.ga&&i.sendable(t.current.account_number,n)&&(t.current&&t.current.sso_username&&window.ga("set","dimension1",t.current.sso_username),t.current&&t.current.account_number&&window.ga("set","dimension2",t.current.account_number),window.ga("set","page","/"+window.insightsGlobal.appName+e.path()),window.ga("send","pageview"))})},a.service("AnalyticsService",r)},{"./":211}],202:[function(e,t,n){"use strict";function r(e,t){var n={},r={showAll:!0};n.unseen={count:0},n.announcements=[],n.loaded=!1;var a=function(e){return t.getAnnouncements(e).success(function(e){n.announcements.length=0,n.unseen.count=0,angular.forEach(e,function(e){e.acked===!1&&(n.unseen.count+=1)}),Array.prototype.push.apply(n.announcements,e)})};return n.init=function(e){return n.loaded=!1,a(e).success(function(){n.loaded=!0})},n.updateAnnouncement=function(e){return t.updateAnnouncement(e)},n.deleteAnnouncement=function(r){t.deleteAnnouncement(r).success(function(){var t=n.announcements.findIndex(function(e){return e.id===r.id});t!==-1&&(n.announcements.splice(t,1),e.$broadcast("announcement:changed",r))})},n.acknowledge=function(r){return t.acknowledge(r).success(function(){n.unseen.count-=1,r.acked=!0,e.$broadcast("announcement:changed",r)})},n.reload=function(e){return a(e?e:r)},n}r.$inject=["$rootScope","Announcement"];var a=e("./");a.service("AnnouncementService",r)},{"./":211}],203:[function(e,t,n){"use strict";function r(){var e={},t=null;return e.questions=[],e.resolutions={},e.init=function(n,r,a){null!==t&&r.maintenance_id===t.maintenance_id&&a!==!0||(t=r,e.resolutions={},e.questions=[],n.forEach(function(t){t.hasAnswer=!1,e.questions.push(t)}))},e.saveResolution=function(t,n,r,a,i){e.resolutions[t+"-"+n]={rule_id:t,system_type_id:n,resolution_type:r,description:i},e.questions[a].hasAnswer=!0},e.hasAllQuestionsAnswered=function(){return e.questions.length===Object.keys(e.resolutions).length},e.getResolutionType=function(t){var n=e.getResolution(t.rule_id,t.system_type_id);return void 0===n&&(n=t.resolutions[0]),n=n.resolution_type},e.getResolution=function(t,n){return e.resolutions[t+"-"+n]},e.getFormattedResolutions=function(){var t={ignoreUnsupported:!0,resolutions:[]},n=void 0,r=void 0;for(n in e.resolutions)r=e.resolutions[n],t.resolutions.push({rule_id:r.rule_id,system_type_id:r.system_type_id,resolution_type:r.resolution_type});return t},e}var a=e("./");a.service("AnsibleService",r)},{"./":211}],204:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var a=t.absUrl().replace(n,r);e.location.href=i(a).addSearch("utm_campaign","BetaSwitchButton").addSearch("utm_medium","webpage").addSearch("utm_source",r.replace(/\//g,"")).toString()}return{goToBeta:function(){n("/insights/","/insightsbeta/")},goToStable:function(){n("/insightsbeta/","/insights/")},checkAndRedirect:function(){var e=JSON.parse(window.localStorage.getItem("betaOptIn"));e&&!window.insightsGlobal.isBeta&&n("/insights/","/insightsbeta/")}}}r.$inject=["$window","$location"];var a=e("./"),i=e("urijs");a.service("BetaRedirectService",r)},{"./":211,urijs:669}],205:[function(e,t,n){"use strict";function r(e,t){function n(){var e=t.get("$state"),n=e.params.originalPath;if(n)return n;var r=i(window.location.toString()),a=r.segment()[0];return r.segment([a,"overview"]),r.toString()}return{bounce:function(){if(e.authenticate){var t=i(window.location);t.duplicateQueryParameters(!1),t.path("/login"),t.addQuery("redirectTo",n()),window.location=t.toString()}}}}r.$inject=["InsightsConfig","$injector"];var a=e("./"),i=e("urijs");a.service("BounceService",r)},{"./":211,urijs:669}],206:[function(e,t,n){"use strict";function r(){var e={en:"en",es:"es",de:"de",it:"it",ko:"ko",fr:"fr",ja:"ja",pt:"pt",zh:"zh_cn",ru:"ru",zh_CN:"zh_cn"};return{coerce:function(t){if(!t)return"en";var n=void 0;return t=t.toLowerCase(),e.hasOwnProperty(t)?e[t]:t.length>2&&(n=t.slice(0,2),e.hasOwnProperty(n))?e[n]:"en"}}}var a=e("./");a.service("CoercionService",r)},{"./":211}],207:[function(e,t,n){"use strict";function r(e,t){function n(e){return!!e.overdue||new Date(e.end)>new Date}function r(e){"actions"in e&&(e.actionsDone=e.actions.filter(function(e){return e.done}).length)}function a(e){var t;return e&&(t=new Date(e),t.getTime())?t:null}function i(e){return e.active?"active":e.needs_content?"needs-content":e.retired?"retired":"inactive"}var o={};return o.readArray=function(e){return function(t){return t.map(function(t){return e(t)})}},o.readPlan=function(t){return t.actions=t.actions.filter(function(e){return null!==e.system&&null!==e.rule}),t.actions.forEach(function(e){e.system=o.readSystem(e.system),e.rule.rule_id=e.rule.id,o.readRule(e.rule)}),t.rules=e.groupByObject(t.actions,"rule.id","rule","actions"),t.systems=e.groupByObject(t.actions,"system.system_id","system","actions"),r(t),t.systems.forEach(r),t.rules.forEach(r),t.start=a(t.start),t.end=a(t.end),t.end||(t.overdue=!1),t.pending=n(t),t.description&&(t.description=t.description.trim()),t.isReadOnly=function(){return"proposed"===t.suggestion},t},o.readSystem=function(e){return e._name=e.display_name||e.hostname,e},o.readReport=function(e){e.system=o.readSystem(e.system)},o.readRule=function(e){e.severityNum=t.indexOf(e.severity)},o.readRuleState=function(e){e.state=i(e)},o}r.$inject=["Utils","Severities"];var a=e("./");a.service("DataUtils",r)},{"./":211}],208:[function(e,t,n){"use strict";function r(e){return{get:function(t){return e.getDigest(t)},digestsByType:function(t){return e.getDigestsByType(t)}}}r.$inject=["Digest"];var a=e("./");a.service("DigestService",r)},{"./":211}],209:[function(e,t,n){"use strict";function r(e,t,n,r,a,i){var o={},s="all",l=null,c=[],u=[],d=[],p={},f={},h={},g=null,m=!1,v=!1,y=!0,b=!0,x=null;return o.setMachine=function(e){x=e,o.setQueryParam("machine",e)},o.getMachine=function(){return x},o.setRHELOnly=function(e){v=e},o.getRHELOnly=function(){return v},o.toggleShowFilters=function(){m=!m},o.getShowFilters=function(){return m},o.setShowFilters=function(e){m=e},o.setRolesQueryParam=function(t,r){var a,i=n.search().roles;i=i?i.split(","):[],e.getState(r)?i.push(t):(a=i.indexOf(t),i.splice(a,1)),o.setQueryParam("roles",i.join(","))},o.setOffline=function(e){y=e,o.setQueryParam("offline",e.toString())},o.setOnline=function(e){b=e,o.setQueryParam("online",e.toString())},o.getOffline=function(){return y},o.getOnline=function(){return b},o.deleteQueryParam=function(e){var t=n.search();t[e]=null,n.search(t)},o.setQueryParam=function(e,t){var r=n.search();r[e]=t,n.search(r)},o.getSearchTerm=function(){return g},o.setSearchTerm=function(e){g=e,o.setQueryParam("search_term",e)},o.clearAll=function(){var t={system_id:"all"};o.setSearchTerm(""),o.setSelectedDockerHost(t),o.setSelectedOSPDeployment(t),o.setSelectedProduct("all"),o.setOnline(!0),o.setOffline(!0),e.setState("inventoryWithActions",!0),e.setState("inventoryWithoutActions",!0),o.doFilter()},o.doFilter=function(){r.$broadcast("filterService:doFilter")},o.getSelectedProduct=function(){return s},o.setSelectedProduct=function(e){s=e,o.setQueryParam("product",e)},o.setParentNode=function(e){l=e},o.getParentNode=function(){return l},o.setDockerHosts=function(e){c=e},o.getDockerHosts=function(){return c},o.setSelectedDockerHost=function(e){p=e,"all"===o.getSelectedDockerHost().system_id?o.setParentNode(null):o.setParentNode(e.system_id),o.setQueryParam("docker_host",e.system_id)},o.getSelectedDockerHost=function(){return p},o.setOCPDeployments=function(e){d=e},o.getSelectedOCPDeployment=function(){return h},o.setSelectedOCPDeployment=function(e){h=e,"all"===o.getSelectedOCPDeployment().system_id?o.setParentNode(null):o.setParentNode(e.system_id),o.setQueryParam("ocp_deployment",e.system_id)},o.setOSPDeployments=function(e){u=e},o.getOSPDeployments=function(){return u},o.setSelectedOSPDeployment=function(e){f=e,"all"===o.getSelectedOSPDeployment().system_id?o.setParentNode(null):o.setParentNode(e.system_id),o.setQueryParam("osp_deployment",e.system_id)},o.getSelectedOSPDeployment=function(){return f},o.buildOSPRolesString=function(){var t=[];return e.getState("inventoryOSPCluster")&&t.push("cluster"),e.getState("inventoryOSPDirector")&&t.push("director"),e.getState("inventoryOSPCompute")&&t.push("compute"),e.getState("inventoryOSPController")&&t.push("controller"),t.toString()},o.buildDockerRolesString=function(){var t=[];return e.getState("inventoryDockerHosts")&&t.push("host"),e.getState("inventoryDockerImages")&&t.push("image"),e.getState("inventoryDockerContainers")&&t.push("container"),t.toString()},o.updateParams=function(e){return!e.search_term&&o.getSearchTerm()&&(e.search_term=o.getSearchTerm()),!e.product&&o.getSelectedProduct()&&(e.product=o.getSelectedProduct()),!e.role&&o.getSelectedProduct()&&("rhev"===o.getSelectedProduct()?e.role=o.buildRHEVRolesString():"docker"===o.getSelectedProduct()?e.role=o.buildDockerRolesString():"osp"===o.getSelectedProduct()&&(e.role=o.buildOSPRolesString())),!e.osp_deployment&&o.getSelectedOSPDeployment()&&o.getSelectedOSPDeployment().system_id&&(e.osp_deployment=o.getSelectedOSPDeployment().system_id),!e.docker_host&&o.getSelectedDockerHost()&&o.getSelectedDockerHost().system_id&&(e.docker_host=o.getSelectedDockerHost().system_id),e.offline||(e.offline=o.getOffline()),e.online||(e.online=o.getOnline()),e},o.parseBrowserQueryParams=function(){var t,r=n.search();if(r.product&&o.setSelectedProduct(r.product),r.actions&&("all"===r.actions?(e.setState("inventoryWithoutActions",!0),e.setState("inventoryWithActions",!0)):"with"===r.actions?(e.setState("inventoryWithoutActions",!1),e.setState("inventoryWithActions",!0)):"without"===r.actions&&(e.setState("inventoryWithoutActions",!0),e.setState("inventoryWithActions",!1))),r.search_term&&o.setSearchTerm(r.search_term),r.osp_deployment&&o.setSelectedOSPDeployment({system_id:r.osp_deployment}),r.docker_host&&o.setSelectedDockerHost({system_id:r.docker_host}),r.roles?(t=r.roles.split(","),t.forEach(function(t){"cluster"===t?e.setState("inventoryOSPCluster",!0):"compute"===t?e.setState("inventoryOSPCompute",!0):"director"===t?e.setState("inventoryOSPDirector",!0):"controller"===t?e.setState("inventoryOSPController",!0):"host"===t?e.setState("inventoryDockerHosts",!0):"container"===t?e.setState("inventoryDockerContainers",!0):"image"===t?e.setState("inventoryDockerImages",!0):"hypervisor"===t?e.setState("inventoryRHEVHypervisors",!0):"manager"===t&&e.setState("inventoryRHEVManagers",!0)})):(e.setState("inventoryOSPCluster",!0),e.setState("inventoryOSPCompute",!0),e.setState("inventoryOSPDirector",!0),e.setState("inventoryOSPController",!0),e.setState("inventoryDockerHosts",!0),e.setState("inventoryDockerContainers",!0),e.setState("inventoryDockerImages",!0),e.setState("inventoryOCPCluster",!0),e.setState("inventoryOCPMaster",!0),e.setState("inventoryOCPNodes",!0),e.setState("inventoryRHEVHypervisors",!0),e.setState("inventoryRHEVManagers",!0)),r.severity&&a.forEach(function(t){t===r.severity?e.setState("severityFilters"+t,!0):e.setState("severityFilters"+t,!1)}),r.category&&i.forEach(function(t){t===r.category?e.setState("categoryFilters"+t,!0):e.setState("categoryFilters"+t,!1)}),"false"===r.offline&&"false"===r.online)o.setOffline(!0),o.setOnline(!0);else{if(r.offline){var s="true"===r.offline;o.setOffline(s)}if(r.online){var l="true"===r.online;o.setOnline(l)}}r.machine&&o.setMachine(r.machine)},o.buildRHEVRolesString=function(){var t=[];return e.getState("inventoryRHEVManagers")&&t.push("manager"),e.getState("inventoryRHEVHypervisors")&&t.push("hypervisor"),e.getState("inventoryRHEVDeployments")&&t.push("cluster"),t.toString()},o.buildRequestQueryParams=function(n,r){function s(e,t){var n=!1;return t.indexOf(e)!==-1&&(n=!0),n}function l(e){var t=!0;return s(e,r)&&!s(e,n)&&(t=!1),t}var c={},u=o.getSelectedOSPDeployment().system_id,d=o.getSelectedDockerHost().system_id;return n||(n=[]),r||(r=[]),o.getSearchTerm()&&l("search_term")&&(c.search_term=o.getSearchTerm()),l("report_count")&&(e.getState("inventoryWithActions")&&!e.getState("inventoryWithoutActions")?c.report_count="gt0":!e.getState("inventoryWithActions")&&e.getState("inventoryWithoutActions")&&(c.report_count="lt1")),"rhel"===o.getSelectedProduct()&&l("product_code")?c.product_code="rhel":"osp"===o.getSelectedProduct()?(l("product_code")&&(c.product_code="osp"),l("role")&&(c.role=o.buildOSPRolesString())):"rhev"===o.getSelectedProduct()?(l("product_code")&&(c.product_code="rhev"),l("role")&&(c.role=o.buildRHEVRolesString())):"docker"===o.getSelectedProduct()?(l("product_code")&&(c.product_code="docker"),l("role")&&(c.role=o.buildDockerRolesString())):"ocp"===o.getSelectedProduct()&&l("product_code")&&(c.product_code="ocp"),u&&"all"!==u&&l("root")&&(c.root=u),d&&"all"!==d&&l("root")&&(c.root=d),t.current().id&&l("group")&&(c.group=t.current().id),l("severity")&&a.forEach(function(t){e.getState("severityFilters"+t)&&"All"!==t&&(c.severity=t)}),l("category")&&i.forEach(function(t){e.getState("categoryFilters"+t)&&"all"!==t&&(c.category=t)}),c},o}r.$inject=["MultiButtonService","Group","$location","$rootScope","Severities","Categories"];var a=e("./");a.factory("FilterService",r)},{"./":211}],210:[function(e,t,n){"use strict";function r(){function e(e){return n.length=0,Array.prototype.push.apply(n,e),n}function t(e){n.push(e)}var n=[];return{sections:function(){return n},setSections:e,addSection:t}}var a=e("./");a.factory("GettingStarted",r)},{"./":211}],211:[function(e,t,n){"use strict";t.exports=angular.module("insights.services",[]),function(){var t=e("./index.js");return t["account.service"]=e("./account.service.js"),t["actionbar.service"]=e("./actionbar.service.js"),t["actions.service"]=e("./actions.service.js"),t["actionsBreadcrumbs.service"]=e("./actionsBreadcrumbs.service.js"),t["alert.service"]=e("./alert.service.js"),t["analytics.service"]=e("./analytics.service.js"),t["announcement.service"]=e("./announcement.service.js"),t["ansible.service"]=e("./ansible.service.js"),t["betaRedirect.service"]=e("./betaRedirect.service.js"),t["bounce.service"]=e("./bounce.service.js"),t["coercion.service"]=e("./coercion.service.js"),t["dataUtils.service"]=e("./dataUtils.service.js"),t["digest.service"]=e("./digest.service.js"),t["filter.service"]=e("./filter.service.js"),t["gettingStarted.service"]=e("./gettingStarted.service.js"),t.index=e("./index.js"),t["inventory.service"]=e("./inventory.service.js"),t["listType.service"]=e("./listType.service.js"),t["maintenance.service"]=e("./maintenance.service.js"),t.modalUtils=e("./modalUtils.js"),t["multibutton.service"]=e("./multibutton.service.js"),t["overview.service"]=e("./overview.service.js"),t["permalink.service"]=e("./permalink.service.js"),t["permission.service"]=e("./permission.service.js"),t["platform.service"]=e("./platform.service.js"),t["preference.service"]=e("./preference.service.js"),t["reload.service"]=e("./reload.service.js"),t["rule.service"]=e("./rule.service.js"),t["ruleAdmin.service"]=e("./ruleAdmin.service.js"),t["rulePreview.service"]=e("./rulePreview.service.js"),t["strata.service"]=e("./strata.service.js"),t["sweetalert.service"]=e("./sweetalert.service.js"),t["systems.service"]=e("./systems.service.js"),t["template.service"]=e("./template.service.js"),t["title.service"]=e("./title.service.js"),t["topbarAlerts.service"]=e("./topbarAlerts.service.js"),t["topic.service"]=e("./topic.service.js"),t["utils.service"]=e("./utils.service.js"),t}()},{"./account.service.js":196,"./actionbar.service.js":197,"./actions.service.js":198,"./actionsBreadcrumbs.service.js":199,"./alert.service.js":200,"./analytics.service.js":201,"./announcement.service.js":202,"./ansible.service.js":203,"./betaRedirect.service.js":204,"./bounce.service.js":205,"./coercion.service.js":206,"./dataUtils.service.js":207,"./digest.service.js":208,"./filter.service.js":209,"./gettingStarted.service.js":210,"./index.js":211,"./inventory.service.js":212,"./listType.service.js":213,"./maintenance.service.js":214,"./modalUtils.js":215,"./multibutton.service.js":216,"./overview.service.js":217,"./permalink.service.js":218,"./permission.service.js":219,"./platform.service.js":220,"./preference.service.js":221,"./reload.service.js":222,"./rule.service.js":223,"./ruleAdmin.service.js":224,"./rulePreview.service.js":225,"./strata.service.js":226,"./sweetalert.service.js":227,"./systems.service.js":228,"./template.service.js":229,"./title.service.js":230,"./topbarAlerts.service.js":231,"./topic.service.js":232,"./utils.service.js":233}],212:[function(e,t,n){"use strict";function r(e,t,n,r,a){var i={},o={field:"toString",direction:"ASC"},s=0,l=15,c=!1,u=0,d=[];return i.loading=!0,i.allExpanded=!1,i.getSortField=function(){return o.field},i.setSortField=function(e){o.field=e,n.setQueryParam("sort_field",e)},i.getSortDirection=function(){return o.direction},i.setSortDirection=function(e){o.direction=e,n.setQueryParam("sort_dir",e)},i.toggleSortDirection=function(){o.direction="ASC"===o.direction?"DESC":"ASC"},i.getSort=function(){return o},i.setSort=function(e){o=e,n.setQueryParam("sort_dir",e.direction),n.setQueryParam("sort_field",e.field)},i.getPage=function(){return s},i.setPage=function(e){s=e},i.setPageSize=function(e){l=e},i.getPageSize=function(){return l},i.getIsScrolling=function(){return c},i.setIsScrolling=function(e){c=e},i.nextPage=function(){s+=1},i.previousPage=function(){s-=1},i.goToPage=function(e){s=e},i.setTotal=function(e){u=e},i.getTotal=function(){return u},i.setAccountProducts=function(e){d=e},i.getAccountProducts=function(){return d},i._systemModal=null,i.showSystemModal=function(e,n){function o(e){function n(e){i._systemModal||(i._systemModal=t.open(e),i._systemModal.result["finally"](function(){i._systemModal=null}))}return"function"==typeof a.systemShowSystem?void a.systemShowSystem(e):void n({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return e},rule:function(){return!1}}})}n?r.getSingleSystem(e.system_id).then(function(e){o(e.data)}):o(e)},i}r.$inject=["$location","$modal","FilterService","System","InsightsConfig"];var a=e("./");a.factory("InventoryService",r)},{"./":211}],213:[function(e,t,n){"use strict";function r(e){var t=Object.freeze({card:"card",table:"table"}),n=t.card,r=function(e){n=e.matches?t.table:t.card},a=window.matchMedia("(min-width: "+e+")");return r(a),a.addListener(r),{types:function(){return t},getType:function(){return n},setType:function(e){return n=t[e]}}}r.$inject=["TableToCardsBreakpoint"];var a=e("./");a.service("ListTypeService",r)},{"./":211}],214:[function(e,t,n){"use strict";function r(e,t,n,r,a,h,g,m,v,y,b,x,w,_,k){function S(){var e=new Date,t=i(C.plans.all,function(t){return(null===t.suggestion||t.suggestion===v.SUGGESTION.ACCEPTED)&&(!t.end||t.end>e)});return l(c(s(o(t,"actions")),"done"),"current_report.id")}function A(){h.getSystemsLatest({report_count:"gt0"}).then(function(t){var n=t.data.resources;n.forEach(function(t){x.readSystem(t),e.alias("system_id","_id")(t),e.alias("_name","_displayAs")(t),t._type="systems"}),C.available.systems=n})}function T(){a.getRulesLatest({report_count:"gt0"}).then(function(t){var n=t.data.resources;n.forEach(function(e){x.readRule(e)});var r=e.alias("description","_displayAs");n.forEach(function(e){r(e)}),C.available.rules=n})}function $(e,t,n,r){this.plan=e,this.item=t,this.savedActions=n||[],this.loader=r,this.implicitOrder={predicate:"display",reverse:!1}}var C={available:{systems:[],rules:[]}},M=!1,E=Object.freeze({PLANNED:0,AVAILABLE:1,PLANNED_ELSEWHERE:2});return C.MAINTENANCE_ACTION_TYPE=E,C.loadAvailableSystemsAndRules=function(){var e=A(),t=T();return b.all([e,t])},C.showSystemModal=function(e,t){t&&(t=t.rule_id),h.getSystemReports(e.system_id).success(function(e){return"function"==typeof g.actionsShowSystem?g.actionsShowSystem(e,t):void m.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return e},rule:function(){return t}}})})},C.showMaintenanceModal=function(e,t,n,r){m.open({templateUrl:"js/components/maintenance/maintenanceModal/maintenanceModal.html",windowClass:"maintenance-modal modal-wizard ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"maintenanceModalCtrl",resolve:{system:function(){return e||!1},systems:function(){return t||!1},rule:function(){return n||!1},newPlan:function(){return void 0===r||r}}})},$.prototype.getActions=function(){return this.savedActions.map(this.actionMapper)},$.prototype.update=function(e,t){return C.plans.update(this.plan,{add:e,"delete":t})},$.prototype.save=function(e,t){return this.update(o(e,function(e){return f(e,["rule_id","system_id"])}),o(t,"mid"))},C.systemTableParams=function(e,t,r,a){var i=new $(t,e,r,a);return i.actionMapper=function(e){return{id:e.system.system_id,display:e.system._name,mid:e.id,system:e.system,done:e.done,systemTypeIconId:e.system.system_type_id}},i.getAvailableActions=function(){var t={rule:e.rule_id,expand:"system"};return n.getReportsLatest(t).then(function(t){var n=S(),r=t.data.resources,a=[];return r.forEach(function(t){t.system=x.readSystem(t.system),a.push({id:t.system.system_id,display:t.system._name,system:t.system,done:!1,system_id:t.system.system_id,rule_id:e.rule_id,_type:t.id in n?E.PLANNED_ELSEWHERE:E.AVAILABLE,systemTypeIconId:t.system.system_type_id})}),a})},i},C.actionTableParams=function(e,t,n,r){var a=new $(t,e,n,r);return a.actionMapper=function(e){return{id:e.rule.rule_id,display:e.rule.description,mid:e.id,rule:e.rule,done:e.done}},a.getAvailableActions=function(){return h.getSystemReports(e.system_id).then(function(t){var n=S(),r=t.data.reports,a=[];return r.forEach(function(t){a.push({id:t.rule.rule_id,display:t.rule.description,rule:t.rule,done:!1,system_id:e.system_id,rule_id:t.rule.rule_id,_type:t.id in n?E.PLANNED_ELSEWHERE:E.AVAILABLE})}),a})},a.implicitOrder={predicate:"rule.severityNum",reverse:!0},a},C.plans={all:[]},C.plans.load=function(e){return!e&&M||(M=v.getMaintenancePlans().then(function(e){return C.plans.all=e,C.plans.process()})),M},C.plans.process=function(){var e=new Date;return y.init().then(function(t){var n=t.is_internal;C.plans.future=[],C.plans.past=[],C.plans.overdue=[],C.plans.unscheduled=[],C.plans.suggested=[],C.plans.all.forEach(function(t){t.hidden&&!n||(t.suggestion===v.SUGGESTION.PROPOSED||t.suggestion===v.SUGGESTION.REJECTED?C.plans.suggested.push(t):t.end?t.end>e?C.plans.future.push(t):(C.plans.past.push(t),t.overdue&&!t.silenced&&C.plans.overdue.push(t)):C.plans.unscheduled.push(t))}),w.removeAll("maintenance"),C.plans.overdue.length&&w.push({type:"maintenance",msg:k.getPlural(C.plans.overdue.length,"A plan was not completed on time","{{$count}} plans were not completed on time",{}),acked:!1,icon:"fa-calendar-times-o red",onSelect:function(){_.go("app.maintenance",{maintenance_id:C.plans.overdue[0].maintenance_id})},onAck:function(){var e=C.plans.overdue.map(function(e){return v.silence(e).then(function(){e.silenced=!0})});b.all(e).then(function(){C.plans.process()})}});var r=C.plans.suggested.filter(function(e){return!e.hidden});r.length&&w.push({type:"maintenance",msg:k.getPlural(r.length,"You have a new plan suggestion","You have {{$count}} new plan suggestions",{}),
acked:!1,icon:"fa-wrench",onSelect:function(){_.go("app.maintenance",{maintenance_id:r[0].maintenance_id})}})})},C.plans.findCategory=function(e){function t(t){return t.maintenance_id==e}for(var n=["future","unscheduled","past","suggested"],r=0;r<n.length;r++)if(d(C.plans[n[r]],t))return n[r]},C.plans.remove=function(e){return u(C.plans.all,function(t){return t.maintenance_id===e}),C.plans.process()},C.plans.add=function(e){return C.plans.all.push(e),C.plans.process()},C.plans.create=function(e){return v.createPlan(e).then(function(e){return v.getMaintenancePlan(e.data.id).then(function(e){return C.plans.add(e.data).then(function(){return e.data})})})},C.plans.update=function(e,t){return v.updatePlan(e.maintenance_id,t).then(function(){return v.getMaintenancePlan(e.maintenance_id).then(function(t){return p(e,t.data),e})})},C.getPlanName=function(e){return e.name&&e.name.length?e.name:k.getString("Unnamed plan")+" ("+e.maintenance_id+")"},r.$on("maintenance:planChanged",function(){C.plans.process()}),r.$on("maintenance:planDeleted",function(e,t){C.plans.remove(t)}),C}r.$inject=["Utils","Severities","Report","$rootScope","Rule","System","InsightsConfig","$modal","Maintenance","User","$q","DataUtils","TopbarAlertsService","$state","gettextCatalog"];var a=e("./"),i=e("lodash/collection/filter"),o=e("lodash/collection/map"),s=e("lodash/array/flatten"),l=e("lodash/collection/indexBy"),c=e("lodash/collection/reject"),u=e("lodash/array/remove"),d=e("lodash/collection/some"),p=e("lodash/object/assign"),f=e("lodash/object/pick");a.service("MaintenanceService",r)},{"./":211,"lodash/array/flatten":268,"lodash/array/remove":271,"lodash/collection/filter":276,"lodash/collection/indexBy":282,"lodash/collection/map":283,"lodash/collection/reject":286,"lodash/collection/some":287,"lodash/object/assign":395,"lodash/object/pick":402}],215:[function(e,t,n){"use strict";function r(e,t){function n(n){var r=e.$on("telemetry:esc",function(e){return e.preventDefault(),!1});n.result.then(angular.noop,function(){t(function(){r()})})}return{suppressEscNavigation:n}}r.$inject=["$rootScope","$timeout"];var a=e("./");a.service("ModalUtils",r)},{"./":211}],216:[function(e,t,n){"use strict";function r(e,t){var n={};n.RULE_ADMIN_CAT_FILTER_KEY="rule-admin-category",n.inventoryWithActions={state:!0},n.inventoryWithoutActions={state:!0},n.inventoryInfo={state:!0},n.inventoryWarn={state:!0},n.inventoryError={state:!0},n.inventoryAvailability={state:!0},n.inventoryStability={state:!0},n.inventoryPerformance={state:!0},n.inventorySecurity={state:!0},n.inventoryStandalone={state:!0},n.inventoryRHEVClusters={state:!0},n.inventoryRHEVManagers={state:!0},n.inventoryRHEVHypervisors={state:!0},n.inventoryDockerHosts={state:!0},n.inventoryDockerContainers={state:!0},n.inventoryDockerImages={state:!0},n.inventoryOSPCluster={state:!0},n.inventoryOSPDirector={state:!0},n.inventoryOSPCompute={state:!0},n.inventoryOSPController={state:!0},t.forEach(function(e){var t="severityFilters"+e,r=!1;"all"===e&&(r=!0),n[t]={state:r}}),e.forEach(function(e){var t="categoryFilters"+e,r=!1;"all"===e&&(r=!0),n[t]={state:r}}),e.forEach(function(e){n[n.RULE_ADMIN_CAT_FILTER_KEY+e]={state:!1}});var r=window.localStorage.getItem("insights:"+n.RULE_ADMIN_CAT_FILTER_KEY)||"all";return n[n.RULE_ADMIN_CAT_FILTER_KEY+r].state=!0,n.getState=function(e){return!!n[e]&&n[e].state},n.setState=function(e,t){n[e]&&(n[e].state=t)},n.initState=function(e){n[e]={state:!1}},n}r.$inject=["Categories","Severities"];var a=e("./");a.service("MultiButtonService",r)},{"./":211}],217:[function(e,t,n){"use strict";function r(e){function t(){e.get().then(function(e){n.article=e.data})}var n={};return n.loading=!1,n.update=function(n,r){return e.update(n,r).then(t)},t(),n}r.$inject=["Article"];var a=e("./");a.factory("OverviewService",r)},{"./":211}],218:[function(e,t,n){"use strict";function r(e,t,n){function r(t,n,r){"undefined"==typeof n&&(n=a.offset),"undefined"==typeof r&&(r=a.speed),e.scrollTo(document.getElementById(t),n,r)}var a={offset:10,speed:300};return{make:function(e,n,a,i){e=e.replace("#",""),t.hash(e),n===!0&&r(e,a,i)},scroll:function(e,a,i){var o=t.hash();e||(e=o),e&&n(function(){n(function(){r(e,a,i)},0)},0)}}}r.$inject=["$document","$location","$timeout"];var a=e("./");a.service("PermalinkService",r)},{"./":211}],219:[function(e,t,n){"use strict";function r(){function e(e,t){return!(!e||!e.permissions)&&(!!e.is_internal&&(!!e.permissions[i.SU]||!!e.permissions[t]))}return{has:e,PERMS:i}}var a=e("./"),i={SU:"SU",INTERNAL:"INTERNAL",CREATE_ANNOUNCEMENT:"CREATE_ANNOUNCEMENT",ACCOUNT_SWITCHER:"ACCOUNT_SWITCHER",CONTENT_MANAGER:"CONTENT_MANAGER"};a.service("PermissionService",r)},{"./":211}],220:[function(e,t,n){"use strict";function r(e,t){function n(){r=t.getProducts().then(function(e){return e.data})}var r;return e.$on("account:change",n),n(),{getPlatforms:function(){return r}}}r.$inject=["$rootScope","Account"];var a=e("./");a.service("PlatformService",r)},{"./":211}],221:[function(e,t,n){"use strict";function r(e,t,n){var r={};return{set:function(t,n,a){r[t]=n,(a||void 0===a)&&e.update(r)},get:function(e){return r[e]},appendProductToUrl:function(e,t){var r=n.getNextQueryPrependChar(e),a=this.get("dashboard_mode"),i=null,o=t?t:"machine";return a&&(e+=r+"product="+a,r=n.getNextQueryPrependChar(e)),e+=r+"type="+o,r=n.getNextQueryPrependChar(e),"osp"===a&&(i=this.get("osp_deployment"),i&&(e+=r+"environments="+i)),e}}}r.$inject=["UserSettings","$rootScope","Utils"];var a=e("./");a.service("PreferenceService",r)},{"./":211}],222:[function(e,t,n){"use strict";function r(e){var t={};return t.begin=function(){e.defaults.headers.common[i]=!0},t.end=function(){delete e.defaults.headers.common[i]},t.wrap=function(e){t.begin(),e(function(){t.end()})},t}r.$inject=["$http"];var a=e("./"),i="x-insights-autoreload";a.service("ReloadService",r)},{"./":211}],223:[function(e,t,n){"use strict";function r(e){var t={},n=e("orderBy");return t.groupRulesByPlugin=function(e){var t=i(e,"plugin");return u(t,function(e,t){e=n(e,["acked","hitCount === 0","-severityNum","-hitCount"]);var r={rules:e,plugin_id:t};return 1===r.rules.length?(r.rule=r.rules[0],r.type="rule"):r.type="group",r.severityNum=o(r.rules,"severityNum").severityNum,r.categories=c(u(r.rules,"category")),r.hitCount=s(r.rules,"hitCount"),r.acked=l(r.rules,"acked"),r.display_name=r.rules[0].plugin_name,r.display_name in d&&(r.display_name=d[r.display_name]),r})},t}r.$inject=["$filter"];var a=e("./"),i=e("lodash/collection/groupBy"),o=e("lodash/math/max"),s=e("lodash/math/sum"),l=e("lodash/collection/every"),c=e("lodash/array/uniq"),u=e("lodash/collection/map"),d={CVE_2016_0800_openssl_drown:"DROWN",CVE_2016_0728_kernel:"Kernel keychain vulnerability (CVE-2016-0728)",CVEs_samba_badlock:"Badlock (Samba)",CVE_2016_2315_24_git:"CVE-2016-2315, CVE-2016-2324 (Git)",heartbleed:"Heartbleed",httpd_poodle:"POODLE (Httpd)",vsftpd_local_enable:"vsftpd",CVE_2016_3714_imagemagick:"ImageMagick",httpd_weak_ciphers:"Weak Ciphers (Apache)",network_skb_panic_after_add_grhead:"Networking caused kernel panic",sanity_check_fstab:"/etc/fstab misconfigurations",docker_journald_stop:"Docker crashes after journald is stopped",cifs_share_lost:"Interruption in CIFS shares",rhev_qla2xxx_firmware_failed:"RHEV Qla2xxx firmware failed",docker_mount_dev:"Docker mounting",unsupported_journal_mode:"Unsupported journal mode",panic_anon_vma_degree:"unlink_anon_vmas() kernel panic",sosreport_load_bridge_module:"sosreport loads the bridge kernel module unintentionally",rpm_database_problems:"RPM database problems",xinetd_per_source_limit:"xinetd per_source_limit messages",crashkernel_with_3w_modules:"Kernel crash with 3w-sas or 3w-9xxx modules loaded",fs_resize2fs_bug:"resize2fs utility issue on ext4 file system",multipathd_start_failed:"Multipathd service failing to start at boot time",rport_delete_crash:"Kernel panic on SCSI host removal",tg3_driver_issue:"tg3 driver bug causes network instability",ilo:"HP iLO memory corruption",missing_boot_files:"Grub configuration: missing files",nproc_common_entries:"Common entries in both limits.conf and 90-nproc.conf",tsc_reboot_uptime:"Clock overflow panic after 200+ days uptime",rsyslogd_shutdown_crash:"Rsyslogd crashing during shutdown",rx_crc_errors:"Interface RX CRC errors",vm_swappiness_oom:"vm.swappiness value at risk of OOM termination condition"};a.service("RuleService",r)},{"./":211,"lodash/array/uniq":273,"lodash/collection/every":275,"lodash/collection/groupBy":280,"lodash/collection/map":283,"lodash/math/max":393,"lodash/math/sum":394}],224:[function(e,t,n){"use strict";function r(e){var t={};return t.get=function(n){return t.contains(n)||(t[n]=e.getReportsLatest({rule:n,expand:"system",account_number:"*"}).then(function(e){return e.data.resources})["catch"](function(){delete t[n]})),t[n]},t.contains=function(e){return e in t},{globalCache:t}}r.$inject=["Report"];var a=e("./");a.service("RuleAdminService",r)},{"./":211}],225:[function(e,t,n){"use strict";function r(e,t){return{preview:function(e){t.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{rule:function(){return e},system:function(){return!1}}})}}}r.$inject=["$http","$modal"];var a=e("./");a.service("RulePreview",r)},{"./":211}],226:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var a=i(o).addSearch("keyword",n+":"+r);return e.get(a.toString(),s).then(function(e){return e.data&&e.data.search_result?e.data.search_result:t.reject("no results")})}return{searchById:function(e){return n("id",e)},searchByUri:function(e){return n("view_uri",e)}}}r.$inject=["$http","$q"];var a=e("./"),i=e("urijs"),o="https://access.redhat.com/rs/search",s=Object.freeze({headers:{"Content-Type":"application/json",Accept:"application/json","X-Omit":"WWW-Authenticate"}});a.service("StrataService",r)},{"./":211,urijs:669}],227:[function(e,t,n){"use strict";function r(e,t){return{swal:function(n,r,a){var o=t.defer();return e.$evalAsync(function(){"function"==typeof r?i(n,function(t){e.$evalAsync(function(){r(t),o.resolve(t)})},a):"object"!==("undefined"==typeof n?"undefined":_typeof(n))||angular.isDefined(r)?i(n,r,a):i(n,function(e){o.resolve(e)})}),o.promise},success:function(t,n){e.$evalAsync(function(){i(t,n,"success")})},error:function(t,n){e.$evalAsync(function(){i(t,n,"error")})},warning:function(t,n){e.$evalAsync(function(){i(t,n,"warning")})},info:function(t,n){e.$evalAsync(function(){i(t,n,"info")})},DEFAULT_WARNING_OPTS:Object.freeze({title:"Are you sure?",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0})}}r.$inject=["$rootScope","$q"];var a=e("./"),i=e("./../../bower_components/sweetalert/lib/sweet-alert.js");a.factory("SweetAlert",r)},{"./":211,"./../../bower_components/sweetalert/lib/sweet-alert.js":20}],228:[function(e,t,n){"use strict";function r(e,t,n,r,a,l,c){function u(e){var a,i=e.length,o=n.defer(),s=[],u=r.getPlural(i,h,g,{count:i});return l.swal({title:"Are you sure?",text:u,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(r){if(r){for(var l=0;l<i;l++)a=c.deleteSystem(e[l].system_id),s.push(a);n.all(s).then(function(){t.$broadcast("systems:unregistered"),o.resolve()})}}),o.promise}function d(e){var t=["system_information.product_name","system_information.version","system_information.family","system_information.manufacturer"],n=0,r=i(e,t[t.length-1]);for(n=0;n<t.length-1;n++)if(i(e,t[n])&&i(e,t[n]).substring(1).indexOf(" ")>=0){r=i(e,t[n]);break}return r}var p={},f=null,h="<h5>This will unregister the selected system from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code> must be run from the unregistered system.</p>",g="<h5>This will unregister the {{count}} selected systems from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code> must be run from each unregistered system.</p>",m=[],v=c.getSystemTypes().then(function(e){return m=e.data,e.data});return p.getSystemTypeUnsafe=function(e){return s(m,{id:parseInt(e)})},p.getSystemTypesAsync=function(){return v},p.getSystemTypeAsync=function(e){return p.getSystemTypesAsync().then(function(){return p.getSystemTypeUnsafe(e)})},p.unregisterSelectedSystems=function(e){return u(e)},p.getSystemFacts=function(t,n){var r=[];return r.push({label:"OS",value:e("productShortName")(i(n,"release"))}),r.push({label:"Hardware Platform",value:d(n)}),t.product_code===a.docker.code&&(t.role===a.docker.roles.container.code?(r.push({label:"Container ID",value:i(n,"docker_container_id")}),r.push({label:"Built On Image",value:i(n,"docker_image_id")})):t.role===a.docker.roles.image.code&&r.push({label:"Image ID",value:i(n,"docker_image_id")})),r.push({label:"BIOS Version",value:i(n,"bios_information.vendor")+" "+i(n,"bios_information.version")}),r.push({label:"BIOS Release Date",value:i(n,"bios_information.release_date")}),(t.product_code===a.rhel.code||t.product_code===a.osp.code&&t.role===a.osp.roles.cluster.code)&&r.push({label:"Registration Date",value:e("timeAgo")(i(t,"created_at"))}),r.push({label:"Last Check-in",value:e("timeAgo")(i(t,"last_check_in"))}),o(r,function(e){return void 0===e.value||"undefined undefined"===e.value||e.value.indexOf("NaN")>-1}),[r.slice(0,Math.ceil(r.length/2)),r.slice(Math.ceil(r.length/2),r.length)]},p.populateNewestSystems=function(e){var t={page_size:5,page:0,sort_by:"created_at",sort_dir:"DESC"};return e&&"all"!==e&&(t.product_code=e),c.getSystemsLatest(t).success(function(e){f=e.resources})},p.getNewestSystems=function(){return f},p}r.$inject=["$filter","$rootScope","$q","gettextCatalog","Products","SweetAlert","System"];var a=e("./"),i=e("lodash/object/get"),o=e("lodash/array/remove"),s=e("lodash/collection/find");a.factory("SystemsService",r)},{"./":211,"lodash/array/remove":271,"lodash/collection/find":277,"lodash/object/get":397}],229:[function(e,t,n){"use strict";function r(e,t,n,r,a){var o={};return o.renderTemplate=function(o,s){var l=a.$new(!0);i(l,s);var c=e(t.get(o)),u=c(l),d=n.defer();return r(function(){d.resolve(u.html())},0),d.promise},o}r.$inject=["$compile","$templateCache","$q","$timeout","$rootScope"];var a=e("./"),i=e("lodash/object/assign");a.service("TemplateService",r)},{"./":211,"lodash/object/assign":395}],230:[function(e,t,n){"use strict";function r(e){return{set:function(t){var n=e.title;t?document.title=t+" | "+n:document.title=n}}}r.$inject=["InsightsConfig"];var a=e("./");a.service("TitleService",r)},{"./":211}],231:[function(e,t,n){"use strict";function r(){function e(){t.unackedCount=i(t.items,function(e){return e.acked?0:1})}var t={items:[],unackedCount:0};return t.push=function(n){t.items.push(n),e()},t.removeAll=function(n){o(t.items,{type:n}),e()},t}var a=e("./"),i=e("lodash/math/sum"),o=e("lodash/array/remove");a.service("TopbarAlertsService",r)},{"./":211,"lodash/array/remove":271,"lodash/math/sum":394}],232:[function(e,t,n){"use strict";function r(e){var t={},n=14;return t.topics=[],t.reload=function(r){var a=r&&"all"!==r?{product:r}:null;return e.getAll(a,n).then(function(e){t.topics=e.data})},t.init=function(){return t.reload()},t}r.$inject=["Topic"];var a=e("./");a.service("TopicService",r)},{"./":211}],233:[function(e,t,n){"use strict";function r(e){this.perPage=e||15,this.reset()}function a(e,t,n){function a(e,t,n){var r;return e.length&&t in e[0]&&null!==e[0][t]?(r=e[0][t],r[n]=e,r):{}}var i={};return i.generateAccessors=function(e,t){o(t,function(n,r){var a=s(r),i="get"+a,o="set"+a;e[i]=function(){return t[r]},e[o]=function(e){t[r]=e}})},i.selectBetween=function(e,t,n){function r(e){return e.getAttribute("data-id")}e=i.findFirstAncestor(e,r),t=i.findFirstAncestor(t,r);var a=e.parentElement,o=Array.prototype.slice.call(angular.element(a).children()),s=o.indexOf(e),l=o.indexOf(t);angular.forEach(o.slice(Math.min(s,l),Math.max(s,l)+1),function(e){var t=e.getAttribute("data-id");n[t]=!0})},i.escapeHtml=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},i.resetChecked=function(e){return function(){e.checked=!1,e.items={}}},i.checkboxChecked=function(e,t,n,r){r=r||"system_id",angular.forEach(t,function(t){angular.isDefined(t[r])&&(n[t[r]]=e)})},i.itemsChanged=function(e,t,n){if(n=n||"system_id",!e||!e.length)return{checked:!1,totalChecked:0,indeterminate:!1};var r=0,a=0,i=e.length;angular.forEach(e,function(e){r+=t[e[n]]||0,a+=!t[e[n]]||0});var o={totalChecked:r,indeterminate:0!==r&&0!==a};return 0!==a&&0!==r||(o.checked=r===i),o},i.rowClick=function(e){return function(t,n){var r=t.target||t.srcElement;if("A"!==r.tagName){if(t.shiftKey&&"mousedown"===t.type)return t.preventDefault(),!1;if("TD"!==r.tagName&&"SPAN"!==r.tagName||"click"!==t.type||(e.items[n]=!e.items[n]),r=t.currentTarget,!e.lastClicked)return void(e.lastClicked=r);t.shiftKey&&i.selectBetween(r,e.lastClicked,e.items),e.lastClicked=r}}},i.findFirstAncestor=function(e,t){for(;!t(e)&&e;)e=e.parentElement;return e},i.isBeta=function(){return window.insightsGlobal&&window.insightsGlobal.isBeta},i.groupByObject=function(e,t,n,r){return c(l(e,t)).map(function(e){return a(e,n,r)})},i.alias=function(e,t){return function(n){angular.isObject(n)&&e in n&&(n[t]=n[e])}},i.watchOnce=function(e,t,n){var r=e.$watch(t,function(){n.apply(null,arguments),r()})},i.Pager=r,i.Checkboxes=function(e){var r=this;this.idProperty=e||"id",this.reset=i.resetChecked(this),this.reset(),this.rowClick=i.rowClick(this),t.$on(n.checkboxes.reset,function(){r.reset()})},i.Checkboxes.prototype.checkboxChecked=function(e,t){i.checkboxChecked(e,t,this.items,this.idProperty)},i.Checkboxes.prototype.update=function(e){var t=i.itemsChanged(e,this.items,this.idProperty);this.totalChecked=t.totalChecked,this.indeterminate=t.indeterminate,angular.isDefined(t.checked)&&(this.checked=t.checked)},i.Checkboxes.prototype.isChecked=function(e){return e in this.items&&this.items[e]},i.Checkboxes.prototype.getSelected=function(e){var t=this;return e.filter(function(e){return t.isChecked(e[t.idProperty])})},i.Sorter=function(e,t){e?(this.predicate=e.predicate,this.reverse=e.reverse):(this.predicate="",this.reverse=!1),this.cb=t},i.Sorter.prototype.sort=function(e){this.predicate=e,this.reverse=!this.reverse,this.cb&&this.cb()},i.Sorter.prototype.getSortClass=function(t){return e("sortClass")(this.predicate,t,this.reverse)},i.Loader=function(e){this.loading=!1,angular.isDefined(e)?this.deflectWhenLoading=e:this.deflectWhenLoading=!0},i.Loader.prototype.bind=function(e,t){function n(e){return a.loading=!1,e}var r,a=this;return function(){if(!a.deflectWhenLoading||!a.loading)return a.loading=!0,r=e.apply(t,arguments),angular.isDefined(r)&&angular.isDefined(r.then)?r.then(n,n):(n(),r)}},i.getNextQueryPrependChar=function(e){var t="?";return e.indexOf("?")>-1&&(t="&"),t},i.addQueryToUrl=function(e,t){var n,r;for(n in t)r=this.getNextQueryPrependChar(e),e+=r+n+"="+t[n];return e},i.getSystemDisplayName=function(e){var t=!1;return e&&(t=e.display_name?e.display_name:e.hostname?e.hostname:"UUID: "+e.system_id),e.displayName=t,t},i.get=function(e,t,n){var r=u(e,t,n);return null===r&&angular.isDefined(n)?n:r},i}a.$inject=["$filter","$rootScope","Events"];var i=e("./"),o=e("lodash/object/forOwn"),s=e("lodash/string/capitalize"),l=e("lodash/collection/groupBy"),c=e("lodash/object/values"),u=e("lodash/object/get");r.prototype.update=function(){this.offset=(this.currentPage-1)*this.perPage},r.prototype.reset=function(){this.currentPage=1,this.update()},i.service("Utils",a)},{"./":211,"lodash/collection/groupBy":280,"lodash/object/forOwn":396,"lodash/object/get":397,"lodash/object/values":403,"lodash/string/capitalize":404}],234:[function(e,t,n){"use strict";var r=e("lodash/object/assign"),a=e("lodash/lang/isArray");n.process=function(e,t){e&&a(e)&&t&&t.routeStateConfig&&e.forEach(function(e){var n=t.routeStateConfig[e.name];n&&r(e,n.customConfig)})}},{"lodash/lang/isArray":386,"lodash/object/assign":395}],235:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l,c,u,d,p,f,h,g,m,v){function y(){var e=i.getSelectedProduct();"all"===e&&(e=void 0),g.getRules({product:e}).then(function(e){t.stats.rules=e.data}),g.getSystems({product:e,minSeverity:"CRITICAL"}).then(function(e){t.stats.systems=e.data})}var b=r.params;t.stats={},t.show={extraTopics:!1},i.parseBrowserQueryParams(),i.setShowFilters(!1),i.setSearchTerm(""),u.setDataLoaded(!1),r.transitionTo("app.actions",i.updateParams(b),{notify:!1}),t.QuickFilters=c,t.loader=new h.Loader((!1)),t.getSelectedProduct=i.getSelectedProduct;var x=t.loader.bind(function(){return u.reload(),f.reload(i.getSelectedProduct()).then(function(){var e=f.topics.filter(function(e){return"implicit"!==e.ruleBinding});t.featuredTopics=e.slice(0,3),t.extraTopics=e.slice(3)})});t.$on("filterService:doFilter",x),t.$on("osp:deployment_changed",x),t.$on("group:change",x),u.setInitialSeverity(n.initialSeverity),u.setCategory(n.category),u.setRule(null),a.init(n);var w=t.loader.bind(function(){return d.getProductSpecificData().then(function(){u.populateData()}),x()});o.authenticate&&!l.get("loaded")?e.$on("user:loaded",w):w(),t.$on("filterService:doFilter",y),t.$on("group:change",y),y(),o.allowExport&&m.addExportAction(function(){v.getReports()})}r.$inject=["$rootScope","$scope","$stateParams","$state","ActionsBreadcrumbs","FilterService","InsightsConfig","InventoryService","PreferenceService","QuickFilters","RhaTelemetryActionsService","System","SystemsService","TopicService","Utils","Stats","ActionbarService","Export"];var a=e("../");a.controller("ActionsCtrl",r)},{"../":245}],236:[function(e,t,n){"use strict";function r(e){var t=i.generate({data:{x:"x",xFormat:"%Y-%m-%dT%H:%M:%S.%LZ",columns:[]},axis:{x:{type:"timeseries",tick:{format:"%Y-%m-%d"}}}});e.reports().success(function(e){var n=e.map(function(e){return e.date}),r=e.map(function(e){return e.total});r.unshift("Totals"),n.unshift("x"),t.load({columns:[n,r]})})}r.$inject=["Analytic"];var a=e("../"),i=e("./../../../bower_components/c3/c3.js");a.controller("AnalyticsCtrl",r)},{"../":245,"./../../../bower_components/c3/c3.js":12}],237:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,c,u){e.params=l,o.init(e.params),e.announcements=o.announcements,e.canCreate=!1,e.permalink=c.make,r.announcementId&&(e.announcementId=r.announcementId.toString()),e.reload=function(){o.reload(e.params)},s.asyncCurrent(function(t){e.canCreate=t&&u.has(t,u.PERMS.CREATE_ANNOUNCEMENT)}),e.$on("reload:data",e.reload)}function a(e,t,n){e.loadingAnnouncement=!0,n.bySlug(t.slug).then(function(t){e.announcement=t.data,e.loadingAnnouncement=!1})}function i(e,t,n,r,a,i){e.loadingAnnouncement=!0,i.init(),a.byId(r.id).then(function(t){e.announcement=t.data,e.loadingAnnouncement=!1}),e.save=function(){i.updateAnnouncement(e.announcement).success(function(){t.$broadcast("announcement:changed"),n.go("app.announcements")}).error(function(t){e.announcementError=t})}}function o(e,t,n,r){e.announcement={hidden:!1,start:(new Date).toISOString()},e.create=function(){r.createAnnouncement(e.announcement).success(function(){t.$broadcast("announcement:changed"),n.go("app.announcements")}).error(function(t){e.announcementError=t})}}r.$inject=["$scope","$location","$state","$stateParams","$timeout","Announcement","AnnouncementService","User","PermalinkService","PermissionService"],a.$inject=["$scope","$stateParams","Announcement"],i.$inject=["$scope","$rootScope","$state","$stateParams","Announcement","AnnouncementService"],o.$inject=["$scope","$rootScope","$state","Announcement"];var s=e("../"),l={showAll:!0};s.controller("ListAnnouncementCtrl",r),s.controller("ViewAnnouncementCtrl",a),s.controller("EditAnnouncementCtrl",i),s.controller("NewAnnouncementCtrl",o)},{"../":245}],238:[function(e,t,n){"use strict";function r(e,t,n,r){n.asyncCurrent(function(e){t.isContentManager=r.has(e,r.PERMS.CONTENT_MANAGER)}),e.toggleFullScreen=function(){window&&window.jQuery&&window.jQuery("html").toggleClass("fullscreen")}}r.$inject=["$scope","$rootScope","User","PermissionService"];var a=e("../");a.controller("AppCtrl",r)},{"../":245}],239:[function(e,t,n){"use strict";function r(e,t,n,r,a){e.current={hidden:!0},r.asyncCurrent(function(t){e.user=t}),n.tab&&(e.current.hidden=!1,e.current[n.tab]=!0),e.tabClick=function(e){t.go("app.config",{tab:e},{notify:!1})},e.perms=a}r.$inject=["$scope","$state","$stateParams","User","PermissionService"];var a=e("../");a.controller("ConfigCtrl",r)},{"../":245}],240:[function(e,t,n){"use strict";function r(e,t,n,r,a,u){function d(e){var t=e[1]-e[0];return t>0?1:t<0?-1:0}function p(e,t,n,r){return{data:[{x:i(e.timeseries,c),y:i(e[t],c),mode:"lines",name:n,line:{width:3,color:r}}],layout:{margin:{t:10,l:40,r:10,b:40},showlegend:!0,legend:{orientation:"h"}},options:{displayModeBar:!1}}}function f(e,t,n){return{current:o(t),direction:d(i(t,2)),icon:n,label:e}}function h(e){return e=i(s(e,function(e){return e.report_count}),10),e=l(e,function(e){return e.report_count>0}),e.reverse(),e}function g(e){return e=s(e,function(e){var t="0000000000"+e.report_count;return t=t.substr((""+e.report_count).length),[u.indexOf(e.severity),t]}).filter(function(e){return e.report_count>0}),e.reverse(),e}var m=t.digestsByType("eval"),v=n.getSystems(),y=r.getRulesLatest();e.checkboxValues={availability:!0,security:!0,stability:!0,performance:!0},e.dateFormat=function(e){var t=new Date(e);return t.getMonth()+"-"+t.getDay()+"-"+t.getFullYear()},e.loading=!0,e.showSystem=a.showSystemModal,Promise.all([m,v,y]).then(function(t){function n(e,t,n){return{x:i(s.timeseries,c),y:i(t,c),type:"scatter",name:e,marker:{color:n}}}var r=t[0],a=t[1],o=t[2],s=r.data.resources[0].data;e.latest_score=i(s.scores,1)[0],e.digest_hits_per_cat=[f("Security",s.security,"fa-shield"),f("Availability",s.availability,"fa-hand-paper-o"),f("Stability",s.stability,"fa-cubes"),f("Performance",s.performance,"fa-tachometer")],e.digest_metrics_data=[{x:i(s.timeseries,c),y:i(s.distinct_rules,c),type:"bar",name:"Total Actions",marker:{color:"#c7e7f6"}},n("Security",s.security,"#e77baf"),n("Availability",s.availability,"#f3923e"),n("Stability",s.stability,"#3badde"),n("Performance",s.performance,"#a5d786")],e.digest_metrics={data:angular.copy(e.digest_metrics_data),layout:{margin:{t:10,l:40,r:10,b:40},showlegend:!0,legend:{orientation:"h"}},options:{displayModeBar:!1}},e.digest_registered=p(s,"checkins_per_day","Registered Systems","#97cde6"),e.digest_score=p(s,"scores","Score","#3083FB"),e.topTenWorstSystems=h(a.data.resources),e.topTenRules=h(o.data.resources),e.allRuleHits=g(o.data.resources),e.loading=!1})}r.$inject=["$scope","DigestService","System","Rule","InventoryService","Severities"];var a=e("../"),i=e("lodash/array/takeRight"),o=e("lodash/array/last"),s=e("lodash/collection/sortBy"),l=e("lodash/collection/filter"),c=30;a.controller("DigestsCtrl",r)},{"../":245,"lodash/array/last":270,"lodash/array/takeRight":272,"lodash/collection/filter":276,"lodash/collection/sortBy":288}],241:[function(e,t,n){"use strict";function r(e,t,n,r){function a(){r.getEvaluationStatus().then(function(r){var a=n.originalPath;if(a&&(r.purchased||r.current)){var o=i(a);return o.segment(o.segment().slice(1)),void t.url(o.pathname()+o.search())}e.loading=!1,e.status=r})["catch"](function(t){401!==t.status&&(e.loading=!1,e.error="Could not load evaluation status.")})}function o(){l(u().type)}function s(){l(d().type)}function l(t){e.loading=!0,r.activate(t).then(function(){return r.getEvaluationStatus().then(function(t){e.loading=!1,e.successfulActivation=!0,e.status=t})})["catch"](function(){e.loading=!1,e.error="Could not activate Insights."})}function c(){window.location="https://access.redhat.com/"}function u(){var t=e.status.available.find(function(e){return e.type.startsWith("sales")});return t?t:e.status.available.find(function(e){return"self"===e.type})}function d(){return e.status.available.find(function(e){return"legacy"===e.type})}function p(){var t=e.status.current,n=new Date(Date.parse(t.created_at));return n.setDate(n.getDate()+t.duration),n.toDateString()}e.loading=!0,e.successfulActivation=!1,e.cancel=c,e.getExpiration=p,e.getNonLegacyEval=u,e.getLegacyEval=d,e.activateLegacy=s,e.activateNonLegacy=o,a()}r.$inject=["$scope","$location","$stateParams","Evaluation"];var a=e("../"),i=e("urijs");a.controller("EvaluationCtrl",r)},{"../":245,urijs:669}],242:[function(e,t,n){"use strict";function r(e,t,n){t.setSections(n)}r.$inject=["$scope","GettingStarted","sections"];var a=e("../");a.controller("GettingStartedCtrl",r)},{"../":245}],243:[function(e,t,n){"use strict";function r(e,t,n){e.sections=n.sections,t.scroll()}r.$inject=["$scope","PermalinkService","GettingStarted"];var a=e("../");a.controller("GettingStartedRootCtrl",r)},{"../":245}],244:[function(e,t,n){"use strict";function r(){}var a=e("../../");a.controller("ComponentsCtrl",r)},{"../../":245}],245:[function(e,t,n){"use strict";t.exports=angular.module("insights.states",[]),function(){var t=e("./index.js");return t.actions={"actions.controller":e("./actions/actions.controller.js")},t.analytics={"analytics.controller":e("./analytics/analytics.controller.js")},t.announcements={"announcements.controller":e("./announcements/announcements.controller.js")},t.base={"app.controller":e("./base/app.controller.js")},t.config={"config.controller":e("./config/config.controller.js")},t.digests={"digests.controller":e("./digests/digests.controller.js")},t.evaluation={"evaluation.controller":e("./evaluation/evaluation.controller.js")},t["getting-started"]={"getting-started.controller":e("./getting-started/getting-started.controller.js"),"getting-started.root.controller":e("./getting-started/getting-started.root.controller.js")},t.hidden={components:{"components.controller":e("./hidden/components/components.controller.js")}},t.index=e("./index.js"),t.info={"info.controller":e("./info/info.controller.js")},t.initial={"initial.controller":e("./initial/initial.controller.js")},t.inventory={"inventory.controller":e("./inventory/inventory.controller.js")},t.invites={"invites.controller":e("./invites/invites.controller.js")},t.login={"login.controller":e("./login/login.controller.js")},t.maintenance={"maintenance.controller":e("./maintenance/maintenance.controller.js")},t.overview={"overview.controller":e("./overview/overview.controller.js")},t.rules={"list.rules.controller":e("./rules/list.rules.controller.js")},t.security={"security.controller":e("./security/security.controller.js")},t.splash={"splash.controller":e("./splash/splash.controller.js")},t.topics={controllers:{"edit.topics.controller":e("./topics/controllers/edit.topics.controller.js"),"list.topics.controller":e("./topics/controllers/list.topics.controller.js"),"topic.admin.controller":e("./topics/controllers/topic.admin.controller.js")}},t}()},{"./actions/actions.controller.js":235,"./analytics/analytics.controller.js":236,"./announcements/announcements.controller.js":237,"./base/app.controller.js":238,"./config/config.controller.js":239,"./digests/digests.controller.js":240,"./evaluation/evaluation.controller.js":241,"./getting-started/getting-started.controller.js":242,"./getting-started/getting-started.root.controller.js":243,"./hidden/components/components.controller.js":244,"./index.js":245,"./info/info.controller.js":246,"./initial/initial.controller.js":247,"./inventory/inventory.controller.js":248,"./invites/invites.controller.js":249,"./login/login.controller.js":250,"./maintenance/maintenance.controller.js":251,"./overview/overview.controller.js":252,"./rules/list.rules.controller.js":253,"./security/security.controller.js":254,"./splash/splash.controller.js":255,"./topics/controllers/edit.topics.controller.js":256,"./topics/controllers/list.topics.controller.js":257,"./topics/controllers/topic.admin.controller.js":258}],246:[function(e,t,n){"use strict";function r(e,t,n){
e.gettingStartedLink=t.gettingStartedLink,n.scroll()}r.$inject=["$scope","InsightsConfig","PermalinkService"];var a=e("../");a.controller("InfoCtrl",r)},{"../":245}],247:[function(e,t,n){"use strict";function r(e,t){return i.doOverview(t)}r.$inject=["Report","$state"];var a=e("../"),i={};i.doOverview=function(e){e.go("app.overview",{},{location:"replace"})},i.doLegacy=function(e,t,n,r){var a="app.actions";e.headReports().success(function(e){var t=e.headers(r.resourceCount);t<=0&&(a="app.inventory")})["finally"](function(){t.go(a,{},{location:"replace"})})},a.controller("InitialCtrl",r)},{"../":245}],248:[function(e,t,n){"use strict";function r(e,t,n,r,a,l,c,u,d,p,f,h,g,m,v,y,b,x,w,_,k){function S(e){return e=g.updateParams(e),e.sort_field||(e.sort_field=c.getSortField()),e.sort_dir||(e.sort_dir=c.getSortDirection()),e}function A(){r.checkboxes.reset()}function T(){r.loading=!0,d.getSystemTypesAsync().then(function(){C(!1)})}function $(e){var t=g.buildRequestQueryParams();return g.getOffline()!==g.getOnline()&&(t.offline=g.getOffline().toString()),g.getSearchTerm()&&(t.search_term=g.getSearchTerm()),c.getSortField()&&(t.sort_by=c.getSortField()),c.getSortDirection()&&(t.sort_dir=c.getSortDirection()),e&&(t.page_size=c.getPageSize(),t.page=c.getPage()),t}function C(e){function t(t){var n=[];n=g.getParentNode()?t:t.resources,e?(r.systems=r.systems.concat(t.resources),c.setIsScrolling(!1),c.setTotal(t.total)):(r.systems=t.resources,c.setTotal(t.total)),d.systems=r.systems}r.loading=!0,e||(r.reloading=!0,c.goToPage(0));var n=$(!0),a=null;null!==g.getParentNode()?(n.includeSelf=!0,a=l.getSystemLinks(g.getParentNode(),n)):a=l.getSystemsLatest(n),a.success(t).error(function(){r.errored=!0})["finally"](function(){c.loading=r.loading=r.reloading=!1})}function M(){g.parseBrowserQueryParams(),O.sort_field&&(c.setSortField(O.sort_field),O.sort_dir&&c.setSortDirection(O.sort_dir))}function E(){r.checkboxes.update(r.getSelectableSystems()),D()!==r.systems.length||r.loading?r.allSelected=!1:r.allSelected=!0,j()}function I(e,t){r.reallyAllSelected&&r.checkboxes.checkboxChecked(!0,s(e,t))}function P(){r.systems=e("orderBy")(r.systems,["_type",r.sorter.reverse?"-"+r.sorter.predicate:r.sorter.predicate])}function j(){r.systems.length===c.getTotal()?r.totalSystemsSelected=D():r.reallyAllSelected?(r.totalSystemsSelected=c.getTotal(),r.totalSystemsSelected-=Object.keys(r.checkboxes.items).length-D()):r.totalSystemsSelected=D()}function D(){return r.systems.filter(function(e){return r.checkboxes.items.hasOwnProperty(e.system_id)&&r.checkboxes.items[e.system_id]===!0}).length}function L(e){R||(R=t.open(e),R.result["finally"](function(){R=null}))}r.getSystemName=b.getSystemDisplayName,r.showActions=c.showSystemModal,r.listTypes=x.types(),r.setListType=x.setType,g.setSearchTerm(""),g.setShowFilters(!1);var O=a.params;a.transitionTo("app.inventory",S(O),{notify:!1}),r.QuickFilters=m,r.systems=[],r.allSystems=null,r.errored=!1,r.actionFilter=null,r.loading=c.loading,r.reloading=!1,r.sorter=new b.Sorter((!1),P),r.sorter.predicate="toString",r.allSelected=!1,r.reallyAllSelected=!1,r.$on("reload:data",function(){A(),T(!1)}),r.$on("group:change",function(){A(),T()}),r.$on("filterService:doFilter",function(){A(),C(!1)}),r.$on("osp:deployment_changed",function(){A(),T()}),r.$on("systems:unregistered",function(){A(),T()});var R=null;if(r.isPortal=p.isPortal,r.applyActionFilter=function(e){r.actionFilter=e},r.doScroll=function(){c.nextPage(),c.setIsScrolling(!0),C(!0)},r.disableScroll=function(){var e=!1;return(c.getIsScrolling()||!r.systems||r.systems.length>=c.getTotal())&&(e=!0),e},M(),l.getProductSpecificData(),p.authenticate&&!v.get("loaded")?n.$on("user:loaded",function(){T()}):T(),r.getSelectableSystems=function(){return r.systems},r.checkboxes=new b.Checkboxes("system_id"),j(),r.$watchCollection("checkboxes.items",E),r.$watchCollection("systems",I),r.canUnregisterSystem=function(e){var t=!0,n=[{product_code:"osp",role:"compute"},{product_code:"osp",role:"controller"},{product_code:"osp",role:"director"},{product_code:"docker",role:"image"},{product_code:"docker",role:"container"},{product_code:"rhev",role:"manager"},{product_code:"rhev",role:"hypervisor"}],r=o(d.getSystemTypeUnsafe(e.system_type_id),"product_code","role");return i(n,r)&&(t=!1),t},r.sort=function(e){r.loading=!0,r.predicate=e,e===c.getSortField()?(c.toggleSortDirection(),r.reverse=!r.reverse):(c.setSortField(e),c.setSortDirection("ASC"),r.reverse=!1,"last_check_in"===e&&c.setSortDirection("DESC")),r.systems.length===c.getTotal()?(r.sorter.predicate=e,r.sorter.reverse=r.reverse,P(),r.loading=!1):(A(),C(!1))},r.selectAll=function(){r.allSelected=!r.allSelected,r.reallyAllSelected&&(r.reallyAllSelected=!1)},r.reallySelectAll=function(){function e(){var e=$(!1),t=null;return null!==g.getParentNode()?(e.includeSelf=!0,t=l.getSystemLinks(g.getParentNode(),e)):t=l.getSystemsLatest(e),t}null===r.allSystems?(r.loading=!0,e().then(function(e){r.allSystems=e.data.resources,r.reallyAllSelected=!0,r.totalSystemsSelected=r.allSystems.length,r.loading=!1})):(r.reallyAllSelected=!0,r.totalSystemsSelected=r.allSystems.length)},r.totalSystems=function(){return c.getTotal()},r.allSystemsShown=function(){return c.getTotal()===r.systems.length},r.registerSystem=function(){var e=!1;y.asyncCurrent(function(t){e=t.current_entitlements?t.current_entitlements.systemLimitReached:!t.is_internal,t.current_entitlements&&t.current_entitlements.unlimitedRHEL&&(e=!1)}),L({templateUrl:"js/components/system/addSystemModal/"+(e?"upgradeSubscription.html":"addSystemModal.html"),windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"AddSystemModalCtrl"})},p.allowExport&&w.addExportAction(function(){var e=void 0;g.getOnline()&&!g.getOffline()&&(e=!1),!g.getOnline()&&g.getOffline()&&(e=!0),_.getSystems(k.current().id,e,g.getSearchTerm())}),O.machine){var N={system_id:O.machine};r.showActions(N,!0)}}r.$inject=["$filter","$modal","$rootScope","$scope","$state","System","InventoryService","MultiButtonService","SystemsService","InsightsConfig","ReloadService","Account","FilterService","QuickFilters","PreferenceService","User","Utils","ListTypeService","ActionbarService","Export","Group"];var a=e("../"),i=e("lodash/collection/find"),o=e("lodash/object/pick"),s=e("lodash/array/difference");a.controller("InventoryCtrl",r)},{"../":245,"lodash/array/difference":266,"lodash/collection/find":277,"lodash/object/pick":402}],249:[function(e,t,n){"use strict";function r(e,t,n){function r(){e.failedInvite=null,e.successfulInvite=null}var a=[{type:"sales100",systems:100},{type:"sales250",systems:250},{type:"sales500",systems:500},{type:"sales750",systems:750},{type:"sales1000",systems:1e3}];e.data={},e.evals=a,e.data.newInvite=a[0],e.loading=!0,n.asyncCurrent(function(t){e.forbidden=!t.is_internal,e.loading=!1}),e.reset=r,e.createNewInvite=function(){if(e.successfulInvite=null,!e.data.account)return void alert("Account Number cannot be blank");var n={account_number:e.data.account,email:e.data.email,type:e.data.newInvite.type};e.loading=!0,t.create(n).then(function(){e.successfulInvite=n,e.data.account=null,e.data.email=null})["catch"](function(t){e.failedInvite=n,e.error=t})["finally"](function(){e.loading=!1})}}r.$inject=["$scope","EvaluationInvite","User"];var a=e("../");a.controller("InvitesCtrl",r)},{"../":245}],250:[function(e,t,n){"use strict";function r(e){return window.LOGGED_IN?e.go("app.initial"):void(window.location="https://www.redhat.com/wapps/sso/login.html?redirect="+window.encodeURIComponent(window.location.toString()))}r.$inject=["$state"];var a=e("../");a.controller("LoginCtrl",r)},{"../":245}],251:[function(e,t,n){"use strict";function r(e,t){this.items={},this.$state=e,this.$stateParams=t}function a(e,t,n,r){this.active=!1,this.plan=e,this.Maintenance=t,this.Utils=n,this.cb=r}function i(e,t,n,i,o,f,h,g,m,v,y){function b(t){return o.plans.create(t).then(function(t){e.scrollToPlan(t.maintenance_id)})}function x(){e.redrawPlans()}if(e.BasicEditHandler=a,e.available=o.available,e.isDefined=angular.isDefined,e.loader=new n.Loader,e.calendarDates=[],e.refreshCalendar=function(){e.calendarDates=o.plans.all.filter(function(e){return angular.isDefined(e.start)}).map(function(e){return u(e.start)})},e.plans=o.plans,e.edit=new r(m,i),e.loadPlans=e.loader.bind(function(t){return o.plans.load(t).then(function(){if(1===Object.keys(e.edit.items).length){var t=Object.keys(e.edit.items)[0];e.scrollToPlan(t)}})}),e.scrollToPlan=function(t,n){var r=n||o.plans.findCategory(t);e.setCategory(r),e.edit.activate(t),g.scroll("maintenance-plan-"+t)},e.redrawPlans=function(){var t=e.category||p,n=o.plans[t];if("future"===e.category||"past"===e.category){n=l(n,"start");var r=c(s(n,function(e){var t=u(e.start);return t.year()+"-"+t.month()}));"past"===t&&r.reverse(),e.shownPlansByMonth=r}else n=l(n,"maintenance_id");e.shownPlans=n},e.category=h.get(d)||p,i.maintenance_id){var w=parseInt(i.maintenance_id);isNaN(w)||e.edit.activate(w)}e.setCategory=function(t,n){t&&(e.category=t,h.set(d,e.category,!1),e.redrawPlans(),n||e.edit.reset())},e.broadcast=function(t){e.$broadcast(t)},e.quickAdd=function(){return b({})},e.newSuggestion=function(){return b({suggestion:t.SUGGESTION.PROPOSED,hidden:!0})},e.$watchCollection("plans.all",x),e.loadPlans(!0).then(function(){i.newPlan&&e.quickAdd()}),o.loadAvailableSystemsAndRules(),y.getSystemTypesAsync().then(function(t){e.systemTypes=t}),v.$on("reload:data",function(){e.loader.loading=!1,e.loadPlans(!0),o.loadAvailableSystemsAndRules()})}i.$inject=["$scope","Maintenance","Utils","$stateParams","MaintenanceService","$filter","PreferenceService","PermalinkService","$state","$rootScope","SystemsService"];var o=e("../"),s=e("lodash/collection/groupBy"),l=e("lodash/collection/sortBy"),c=e("lodash/object/values"),u=e("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),d="maintenance_plan_category",p="unscheduled";r.prototype.isActive=function(e){return e in this.items},r.prototype.toggle=function(e){this.isActive(e)?this.deactivate(e):this.activate(e)},r.prototype.reset=function(){this.items={},this.transition()},r.prototype.activate=function(e){this.items={},this.items[e]=!0,this.updateUrl()},r.prototype.deactivate=function(e){delete this.items[e],this.updateUrl()},r.prototype.updateUrl=function(){var e=Object.keys(this.items);1===e.length?this.transition(e[0]):this.transition()},r.prototype.transition=function(e){this.$state.transitionTo(this.$state.current,{maintenance_id:e},{notify:!1,reload:!1,location:"replace"})},a.prototype.init=function(){if(this.plan)if(this.name=this.plan.name,this.description=this.plan.description,this.plan.start){this.start=u(this.plan.start);var e=this.start;this.time=new Date(e.year(),e.month(),e.day(),e.hour(),e.minute()),this.duration=Math.round((this.plan.end-this.plan.start)/6e4)}else this.start=null,this.time=null,this.duration=null;else this.name="",this.description="",this.start=u().startOf("day"),this.dateChanged(this.start)},a.prototype.dateChanged=function(e){e&&!this.time&&(this.time=new Date(this.start.year(),this.start.month(),this.start.day(),22,0),this.duration=60,this.sync())},a.prototype.sync=function(){this.start&&this.time&&(this.start.hours(this.time.getHours()),this.start.minutes(this.time.getMinutes()))},a.prototype.toggle=function(){this.active||this.init(),this.active=!this.active},a.prototype.getStart=function(){return this.start?this.start.clone().toDate():null},a.prototype.getEnd=function(){return this.start?this.start.clone().add(Math.max(this.duration,1),"m").toDate():null},a.prototype.save=function(){if(this.sync(),this.cb)return this.cb(this.name,this.description,this.getStart(),this.getEnd(),this)},o.controller("MaintenanceCtrl",i)},{"../":245,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/collection/groupBy":280,"lodash/collection/sortBy":288,"lodash/object/values":403}],252:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){function s(e){a.plans.load(e)}e.stats={},t.asyncCurrent(function(t){e.paid=function(){var e=t.current_entitlements,n=!1;return e&&(e.whitelist&&(e.whitelist.rhel||e.whitelist.osp)?n=!0:e.totalRHEL&&e.totalRHEL>10?n=!0:e.unlimitedRHEL?n=!0:Array.isArray(e.skus)&&void 0!==e.skus.find(function(e){return e.skuName!==r})&&(n=!0)),n}}),e.edit=function(){n.open({templateUrl:"js/components/overview/articleModal/articleModal.html",windowClass:"handcrafted-content-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"ArticleModalCtrl"})},s(!1),i.$on("reload:data",function(){s(!0)}),o.getRules({include:"ansible"},!0).then(function(t){e.stats.rules=t.data})}r.$inject=["$scope","User","$modal","TrialSku","MaintenanceService","$rootScope","Stats"];var a=e("../");a.controller("OverviewCtrl",r)},{"../":245}],253:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,l,c,u,d,p){function f(t){return e("filter")(r._rules,{category:t})}function h(){var e=v[r.tab];e&&e()}function g(){var e=[],n=s.buildRequestQueryParams();n.include="article";var a=p.getRulesLatest(n).success(function(e){r._rules=i(e.resources,function(e){return"insights_heartbeat|INSIGHTS_HEARTBEAT"===e.rule_id}),c.scroll(null,30)}).error(function(){r.errored=!0});e.push(a),t.all(e).then(function(){r.loading=!1})}s.parseBrowserQueryParams(),s.setShowFilters(!1),s.setSearchTerm(""),r.QuickFilters=d;var m=a.params;a.transitionTo("app.rules",s.updateParams(m),{notify:!1});var v={All:function(){r.rules=r._rules},availability:function(){r.rules=f("Availability")},performance:function(){r.rules=f("Performance")},stability:function(){r.rules=f("Stability")},security:function(){r.rules=f("Security")}};r.canIgnoreRules=!0,r.hideIgnored=!1,"boolean"==typeof l.canIgnoreRules?r.canIgnoreRules=l.canIgnoreRules:"function"==typeof l.canIgnoreRules&&(r.canIgnoreRules=!1,l.canIgnoreRules(function(e){r.canIgnoreRules=e})),r.setHideIgnored=function(e){r.hideIgnored=e};var y=u.get("loaded");y?r.setHideIgnored(u.get("hide_ignored_rules")):r.$on("user:loaded",function(){var e=u.get("hide_ignored_rules");r.setHideIgnored(e)}),r.filter="",r.categoryNames=["All","availability","stability","performance","security"],r.tab="All",r.loading=!0,r.errored=!1,r.$watchCollection("_rules",h),r.permalink=c.make,r.activateTab=function(e){r.tab=e,h()},r.buttonGroupClass=function(e){return r.tab===e?"btn-default":"btn-secondary"},r.toggle=function(e){r.tab=e,h()},r.filterClass=function(e){if(r.tab===e)return"filter-on"},r.persistHideIgnored=function(){u.set("hide_ignored_rules",r.hideIgnored,!0)},r.getClusterImpactedText=function(e){return e.impacted_systems>0?"OpenStack Deployment Impacted":"OpenStack Deployment not Impacted"},r.$on("filterService:doFilter",g),l.authenticate&&!u.get("loaded")?n.$on("user:loaded",g):g()}r.$inject=["$filter","$q","$rootScope","$scope","$state","Cluster","FilterService","InsightsConfig","PermalinkService","PreferenceService","QuickFilters","Rule"];var a=e("../"),i=e("lodash/collection/reject");a.controller("ListRuleCtrl",r)},{"../":245,"lodash/collection/reject":286}],254:[function(e,t,n){"use strict";function r(e,t){e.gettingStartedLink=t.gettingStartedLink}r.$inject=["$scope","InsightsConfig"];var a=e("../");a.controller("SecurityCtrl",r)},{"../":245}],255:[function(e,t,n){"use strict";function r(e,t,n){e.logged_in=window.LOGGED_IN,window.LOGGED_IN&&t.current&&t.current.bounceLoggedin&&t.go("app.initial",{},{location:"replace"}),jQuery("body").addClass("landing-page"),e.$on("$destroy",function(){jQuery("body").removeClass("landing-page")}),e.gettingStartedLink=n.gettingStartedLink}r.$inject=["$scope","$state","InsightsConfig"];var a=e("../");a.controller("SplashCtrl",r)},{"../":245}],256:[function(e,t,n){"use strict";function r(e,t,n,r,a,p,f,h,g,m){function v(t){var n=s(t,["id","title","summary","content","hidden","listed","tag","category","slug","severity"]);return"tagged"===e.ruleBinding?n.category=n.severity=null:"implicit"===e.ruleBinding?n.tag=null:"explicit"===e.ruleBinding&&(n.tag=n.category=n.severity=null,n.rules=t.rules.map(function(e){return{rule_id:e.rule_id}})),n}function y(){h.onbeforeunload=void 0,w()}e.categories=f.slice(1).map(function(e){return{id:d(e),label:d(e)}}),e.categories.unshift({id:null,label:"Any category"}),e.severities=[{id:"CRITICAL",label:"Critical"},{id:"ERROR",label:"High"},{id:"WARN",label:"Medium"},{id:"INFO",label:"Low"}],e.severities.unshift({id:null,label:"Any Risk"}),e.error={},e.selectedRule="RULE_ID";var b=n.admin().then(function(t){e.availableRules=t.data.filter(function(e){return e.rule.active&&!e.rule.retired}).map(function(e){return p.readRule(e.rule),e.rule.count=e.count,e.rule})});e.$watchGroup(["topic.category","topic.severity","availableRules"],function(){if(e.topic&&e.availableRules){if(!e.topic.category&&!e.topic.severity)return void(e.implicitRules=[]);var t=e.topic.category,n=e.topic.severity;e.implicitRules=e.availableRules.filter(function(e){return!(t&&t!==e.category||n&&n!==e.severity)})}}),e.availableTags=[],e.select={},t.get(a.id).then(function(t){e.topic=t.data,e.ruleBinding=e.topic.ruleBinding,e.topic.rules.forEach(function(e){p.readRule(e)}),"explicit"===e.ruleBinding?e.topic.rules=u(e.topic.rules,"severityNum").reverse():e.topic.rules=[],e.ruleBinding=e.topic.ruleBinding,e.updateTaggedRules()}),n.getAvailableTags().then(function(t){e.availableTags=o(t.data,"name")}),e.update=function(n){var r=v(n);t.update(r).then(e.goBack,function(t){e.error={},400===t.status&&t.data.fields&&(e.error=t.data.fields)})},e.goBack=function(){y(),r.go("app.admin-topic")},e.addRule=function(t){e.topic.rules.push(t),delete e.select.rule},e.removeRule=function(t){l(e.topic.rules,function(e){return e.rule_id===t.rule_id})},e.getAvailableRules=function(){return e.topic&&e.topic.rules&&e.topic.rules.length?c(e.availableRules,function(t){return i(e.topic.rules,function(e){return t.rule_id===e.rule_id})}):e.availableRules},e.updateTaggedRules=function(){e.topic.tag&&b.then(function(){e.taggedRules=e.availableRules.filter(function(t){return i(t.tags,{name:e.topic.tag})})})};var x="Do you want to leave this form? Changes you made might not be saved.";h.onbeforeunload=function(){return x};var w=g.$on("$stateChangeStart",function(e){confirm(x)||e.preventDefault(),y()});e.preview=function(e,t,n){var r=v(e);m.open({templateUrl:"js/components/topics/topicPreviewModal/topicPreviewModal.html",windowClass:"topic-preview-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"TopicPreviewModalCtrl",resolve:{topic:function(){return r},summary:function(){return t},details:function(){return n}}})}}r.$inject=["$scope","Topic","Rule","$state","$stateParams","DataUtils","Categories","$window","$rootScope","$modal"];var a=e("../../"),i=e("lodash/collection/find"),o=e("lodash/collection/map"),s=e("lodash/object/pick"),l=e("lodash/array/remove"),c=e("lodash/collection/reject"),u=e("lodash/collection/sortBy"),d=e("lodash/string/capitalize");a.controller("EditTopicCtrl",r)},{"../../":245,"lodash/array/remove":271,"lodash/collection/find":277,"lodash/collection/map":283,"lodash/collection/reject":286,"lodash/collection/sortBy":288,"lodash/object/pick":402,"lodash/string/capitalize":404}],257:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s,l,c,u,d,p){function f(){var t=void 0;"all"!==i.getSelectedProduct()&&(t=i.getSelectedProduct()),a.get(r.id,t).success(function(t){e._topic=t,t.rules.forEach(o.readRule),c.init(r),c.add({label:t.title,state:"app.topic",params:{id:r.id}}),l.scroll(null,30)}).error(function(){e.errored=!0}).then(function(){e.topic=e._topic,e.loading=!1})}i.parseBrowserQueryParams(),i.setShowFilters(!1),e.loading=!0,e.QuickFilters=s,n.$on("reload:data",f),e.$on("group:change",f),f(),u.allowExport&&d.addExportAction(function(){p.getReports(r.id)})}r.$inject=["$scope","$state","$rootScope","$stateParams","Topic","FilterService","DataUtils","QuickFilters","PermalinkService","ActionsBreadcrumbs","InsightsConfig","ActionbarService","Export"];var a=e("../../");a.controller("TopicRuleListCtrl",r)},{"../../":245}],258:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(){if(angular.isDefined(e.topics))for(var t=0;t<e.topics.length;t++)e.topics[t].priority=t}function o(e,t){n.update({id:e.id,hidden:t}).then(function(){e.hidden=t})}function s(e,n,r,a){t.swal({title:e,text:n,type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:r,showCancelButton:!0},function(e){e&&a()})}e.loader=new a.Loader;var l=e.loader.bind(function(){return n.admin().then(function(t){e.topics=t.data})});l(),e.$watchCollection("topics",i),e.newTopic=function(){n.create({title:"Unnamed topic"}).then(function(e){r.go("app.edit-topic",{id:e.data.id})})},e.move=function(t,r){if(!(0===t.priority&&r||t.priority===e.topics.length-1&&!r)){var a=(r?-1:1)+t.priority,o=e.topics[t.priority]=e.topics[a],s=e.topics[a]=t;i(),n.update({id:o.id,priority:o.priority}),n.update({id:s.id,priority:s.priority})}},e["delete"]=function(t){s("Are you sure?","Topic will be lost.","Yes",function(){n.remove(t.id).then(function(){e.topics.splice(e.topics.indexOf(t),1)})})},e.hide=function(e,t){return t?void o(e,t):s("Are you sure?","Publishing this topic makes it visible to customers.","Publish",function(){o(e,t)})}}r.$inject=["$scope","SweetAlert","Topic","$state","Utils"];var a=e("../../");a.controller("TopicAdminCtrl",r)},{"../../":245}],259:[function(e,t,n){"use strict";t.exports=angular.module("insights.templates",[]).run(["$templateCache",function(e){e.put("js/components/accountSelect/accountSelect.html",'<div ng-show="showAccountSelector()" class="header-block account-select"><div class="tam"><div class="account-number"><label>Account Number</label><div ng-click="reset()" class="fa fa-home pull-right pointer"></div><div ng-click="accountChange(account_number)" class="fa fa-refresh pull-right tam-icon pointer"></div><input ng-model="account_number" ng-keyup="$event.keyCode == 13 &amp;&amp; accountChange(account_number)" class="accNumbInput"/></div><div class="internal"><label><span class="icon-inline"><div class="fa fa-eye"></div></span>Internal</label><input type="checkbox" ng-model="isInternal" ng-change="changeInternal()" class="pull-right action"/></div></div></div>'),e.put("js/components/actionbar/actionbar.html",'<div class="actionbar"><button ng-repeat="action in myActions" ng-click="action.fn()" class="action btn btn-sm btn-open-blue"><i ng-class="action.icon" class="pointer fa"></i>{{action.title | translate}}</button></div>'),e.put("js/components/actions/actions.html",'<div class="chart-container"><span ng-show="loading" class="preloader"></span><div class="donut-container"><div class="donut-hole"><div class="content"><span class="num">{{getTotal()}}</span><div translate="translate" translate-n="getTotal()" translate-plural="Actions" class="text">Action</div></div></div><div class="rha-telemetry-donut"></div><div class="row row-tall"></div><div class="col-sm-10 col-sm-offset-1"><p translate="translate">Use this chart to drill down and discover problems within your organization.</p><hr/><p ng-if="isActions()" translate="translate" translate-n="getTotal()" translate-plural="There are &lt;strong&gt;{{$count}}&lt;/strong&gt; actions detected from systems in your organization." class="light"> \nThere is <strong>1 </strong>action detected from systems in your organization.</p><p ng-if="!isActions()" translate="translate" translate-n="getTotal()" translate-plural="There are &lt;strong&gt;{{$count}}&lt;/strong&gt; {{getCategory()|translate}} actions detected from systems in your organization." class="light"> \nThere is <strong>1</strong>{{getCategory() | translate}} action detected from systems in your organization.</p></div></div></div>'),e.put("js/components/ansibleIcon/ansibleIcon.html",'<i tooltip="{{tooltip}}" class="svg ansible-icon"><img ng-src="{{icon}}"/></i>'),e.put("js/components/betaSwitchButton/betaSwitchButton.html",'<div class="beta-switch"><a ng-click="switchVersion(true)" ng-show="!isOnBeta()" class="btn btn-default"><!-- The default "take me to the Beta page" option--><span translate="translate">Try Insights Beta</span></a><a ng-show="isOnBeta() &amp;&amp; !isOptedIn()" ng-click="switchStatus(true)"><!-- in this case we are on Beta, but it is not our default--><span translate="translate">Default to</span><span translate="translate" class="btn btn-blue">Beta</span></a><a ng-click="leaveBeta()" ng-show="isOnBeta() &amp;&amp; isOptedIn()"><!-- in this case the user is on Beta and Opted in... if they click they want to leave the Beta experience--><span translate="translate">Leave</span><span translate="translate" class="btn">Beta</span></a></div>'),e.put("js/components/bullhorn/bullhorn.html",'<span dropdown="" on-toggle="toggled(open)" class="dropdown dropdown-notification"><a href="" dropdown-toggle="" class="dropdown-toggle"><i class="fa {{icon}}"></i><span ng-if="unackedCount !== 0" class="count">{{unackedCount}}</span></a><ul class="dropdown-menu preview"><li ng-repeat="item in items" ng-class="{ acked: (item.acked) }" ng-click="item.acked ? selectAnnouncement(item) : ack(item)" class="announcement"><div class="row"><div class="col-sm-12"><b>{{item.title}}</b><div class="message-status-toggle"><i ng-if="item.acked" class="fa fa-check-circle-o acked"></i><i ng-if="!item.acked" class="fa fa-circle-o"></i></div></div></div><div class="row"><div class="col-sm-12"><div class="message">{{item.body.length > 140 ? item.body.substring(0, 140) + \'...\' : item.body.substring(0, item.body.length)}}</div></div></div></li><li ng-if="items.length === 0"><strong translate="translate">You have no announcements</strong></li><li ng-if="items.length !== 0" class="view-all"><a ui-sref="app.announcements" translate="translate" class="btn btn-accent">View All</a></li></ul></span>'),e.put("js/components/card/card.html",'<div class="content-block content-block-card"><div ng-click="toggleContent()" ng-if="expandable" class="expandable-toggle hidden-xs"><i class="fa fa-caret-right"></i></div><div ng-transclude="ng-transclude"></div></div>'),e.put("js/components/card/cardContent.html",'<div ng-hide="card.expandable &amp;&amp; (card.collapsed || card.loading)" class="content"><div ng-show="card.loading" ng-if="card.expandable" class="spinner spinner-xs"></div><div ng-transclude="ng-transclude"></div></div>'),e.put("js/components/card/cardFooter.html",'<button ng-click="card.toggleContent()" class="btn btn-accent footer footer-with-toggle visible-xs"><div class="footer-toggle"><i class="fa fa-caret-down"></i></div><div ng-transclude="ng-transclude"></div></button>'),e.put("js/components/card/cardHeader.html",'<header class="header"><!-- we do this click wrap junk because angular adds clickable styles to--><!-- an ng-click (hand pointer), and we cant remove the ng-click itself conditionally--><div ng-click="card.toggleContent()" ng-if="$parent.expandable" class="click-wrap"><div ng-transclude="ng-transclude"></div></div><div ng-transclude="ng-transclude" ng-if="!$parent.expandable"></div></header>'),e.put("js/components/categoryIcon/categoryIcon.html",'<i ng-class="category.toLowerCase() + \'-category-icon\'" class="fa"></i>'),e.put("js/components/digest/digestGraph.html",'<div class="graph-container"><div ng-if="dropDown" class="graph graph-filters"><div class="row"><div class="col-sm-3 col-sm-offset-9"><div class="dropdown show"><a data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><div translate="translate">{{dropDown}}</div><span class="caret"></span></a><ul class="dropdown-menu"><li ng-repeat="trace in traces" ng-click="$event.stopPropagation()"><label class="checkbox-inline"><input type="checkbox" name="availability" ng-model="trace.enabled" ng-click="toggleTrace(trace)"/><div translate="translate">{{trace.name}}</div></label></li></ul></div></div></div></div><div class="digest-graph"></div></div>'),e.put("js/components/expandAllButton/expandAllButton.html",'<a ng-click="onClick()"><strong translate="translate" ng-hide="expand">Collapse All</strong><strong translate="translate" ng-show="expand">Expand All</strong><i ng-class="{\'fa-compress\': !expand, \'fa-expand\': expand}" class="fa inline-left"></i></a>'),e.put("js/components/feedback/feedbackButton.html",'<a ng-click="openFeedbackPage()" class="btn"><i aria-hidden="true" class="fa fa-comments"></i><strong translate="translate" class="small">Provide feedback</strong></a>'),e.put("js/components/feedback/feedbackModal.html",'<div class="page"><div class="section"><div class="row push-top"><div class="col-sm-12"><!-- This needs form validation--><form name="form"><div class="form-group"><label translate="translate" class="control-label">Page Reported</label><p class="form-control-static">{{ feedbackInfo.fromPage }}</p></div><div class="form-group"><label translate="translate" class="control-label">Email</label><p translate="translate">{{ feedbackInfo.user.email }}&nbsp;<small translate="translate">(to change your Red Hat email address&nbsp;<a translate="translate" href="https://www.redhat.com/wapps/ugc/protected/emailChange.html">click here</a>)</small></p><input ng-if="emailOverride" type="email" ng-model="feedbackInfo.user.email" class="form-control"/></div><div class="form-group"><label translate="translate" class="control-label">Comment</label><textarea type="text" rows="5" ng-model="comment" class="form-control"></textarea></div><div class="pull-right"><small ng-show="isError" translate="translate" class="text-danger">An error occurred. Please try again later.&nbsp;</small><div class="btn-group"><button name="cancel" ng-click="close()" translate="translate" class="btn btn-accent">Cancel</button><button name="submit" ng-click="submitForm()" ng-disabled="!form.$valid || !isCommentPopulated()" translate="translate" class="btn btn-accent">Submit</button></div></div></form></div></div></div></div>'),e.put("js/components/gettingStartedTabs/gettingStartedTabs.html",'<nav class="system-selector"><div class="row"><div class="col-lg-5"><h4 translate="translate">Select your registration method</h4></div><div class="col-lg-7 nomari"><div class="filters"><button ui-sref="info.getting-started.direct" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Direct</button><button ui-sref="info.getting-started.sat5" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Satellite 5</button><button ui-sref="info.getting-started.sat6" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Satellite 6</button><button ui-sref="info.getting-started.cloudforms" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">CloudForms</button><button ui-sref="info.getting-started.rhv" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">RHV</button><button ui-sref="info.getting-started.osp" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Openstack</button><button ui-sref="info.getting-started.containers" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Containers</button></div></div></div></nav>'),e.put("js/components/groupSelect/groupSelect.html",'<div class="hidden-in-product group-select"><label><i aria-hidden="true" class="fa fa-globe"></i><span translate="translate">Global filters</span></label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="disabled" class="btn dropdown-toggle"><span ng-show="!isGroupSelected() &amp;&amp; !disabled" translate="translate" class="text">Group select</span><span ng-show="disabled" translate="translate" class="text">All Systems</span><span ng-show="isGroupSelected() &amp;&amp; !disabled" class="text active">{{group.display_name}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li><a ng-click="triggerChange(null)" translate="translate">All Systems</a></li><li ng-repeat="g in groups | orderBy:&quot;display_name&quot; track by g.id"><a ng-click="triggerChange(g)"><trimmed-text length="35" text="{{g.display_name}}"></trimmed-text></a></li><li role="separator" class="divider"></li><li><a ui-sref="app.config({tab: \'groups\'})" translate="translate">Create a group</a></li></ul></div><a ui-sref="app.config({tab: \'groups\'})" tooltip="Create a new group" translate="translate" class="add-group"><i aria-hidden="true" class="fa fa-plus-circle pad-left"></i></a></div>'),
e.put("js/components/insightsLogo/insightsLogo.html",'<h1 class="logo-insights"><span>Red Hat</span><div class="block"><span translate="translate">Insights</span></div></h1>'),e.put("js/components/insightsTagline/insightsTagline.html",'<p class="intro text-center text-white hidden"> </p>'),e.put("js/components/linkGroup/linkGroup.html",'<div ng-if="group.length === 1" class="member-group"><strong></strong><type-icon type-id="group[0].system_type_id" include-text="true"></type-icon>&nbsp;&nbsp;<i ng-class="{{getLinkStatus(group[0])}}" title="{{getLinkReportCount(group[0])}}" class="fa link-status">&nbsp;&nbsp;</i><a ng-click="goToSystem(group[0])">{{getLinkName(group[0])}}</a></div><div ng-if="group.length &gt; 1" class="member-group"><div ng-click="toggleCollapsed()" class="member-group-head"><i ng-if="!collapsed" class="group-twisty fa fa-caret-down">&nbsp;&nbsp;</i><i ng-if="collapsed" class="group-twisty fa fa-caret-right">&nbsp;&nbsp;</i><type-icon type-id="typeid" include-text="false"></type-icon><span ng-if="hasReports()">&nbsp;&nbsp;<i tooltip="A system in this group has actions!" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="fa fa-exclamation-triangle i-warning"></i></span>{{linkGroupText}}</div><div ng-if="!collapsed" class="member-group-content"><div class="row"><div ng-repeat="link in group" class="link-text"><div class="col-sm-4"><i ng-class="{{getLinkStatus(link)}}" title="{{getLinkReportCount(link)}}" class="fa link-status"></i><a ng-click="goToSystem(link)" title="{{getLinkName(link)}}">&nbsp; {{getLinkName(link)}}</a></div></div></div></div></div>'),e.put("js/components/listType/listType.html",'<div class="list-switch"><a ng-click="setListType(listTypes.card)" ng-class="{active: getListType() === listTypes.card}" class="link"><i class="fa fa-list"></i></a><a ng-click="setListType(listTypes.table)" ng-class="{active: getListType() === listTypes.table}" class="link"><i class="fa fa-table"></i></a></div>'),e.put("js/components/mitigationTrend/mitigationTrend.html",'<div class="mitigation-chart"></div>'),e.put("js/components/multiButton/multiButton.html",'<div class="multi-button"><div data-toggle="buttons" class="btn-group"><a id="{{getButtonId(button)}}" ng-class="{&quot;deny-click-cursor&quot;: showDenyClickCursor(button)}" style="margin-left: 0px !important;" ng-repeat="button in buttons" ng-click="toggleButton(button)" class="btn btn-xs"><i ng-if="buttonHasIconClass(button)" ng-class="getButtonClass(button)" class="fa"></i><input type="checkbox" autocomplete="off"/>&nbsp;{{button.label}}</a></div></div>'),e.put("js/components/notifications/notifications.html",'<div class="notifications"><alert ng-repeat="alert in alerts" type="{{alert.level}}" close="dismiss($index, alert.type)"><span ng-bind-html="alert.msg | trust_html"></span></alert></div>'),e.put("js/components/platformFilter/platformFilter.html",'<section ng-class="{active: getSelectedProduct() !== \'all\'}" ng-show="platforms.length &gt; 1" class="platform-select platform-{{getSelectedProduct()}}"><div class="row"><div class="col-sm-12"><div class="pull-right"><a translate="translate" ng-click="viewAll()" ng-show="getSelectedProduct() !== \'all\'" class="btn btn-rounded"><i aria-hidden="true" class="fa fa-refresh"></i>View all platforms</a></div></div></div><div class="row row-short"><div ng-if="getSelectedProduct() !== \'all\'" class="platform"><div class="col-sm-6"><img ng-src="{{getImage()}}"/></div></div><div ng-if="getSelectedProduct() === \'all\'" class="platform-filters"><div ng-repeat="filter in platforms" class="col-sm-6 col-md-3"><div ng-class="{active: filter.active}" ng-click="selectFilter(filter)" class="btn btn-quick-filter platform-{{filter.product.code}}"><div class="platform quick-filter-btn-content">{{filter.displayName}}</div><!--.summary(ng-show=\'summaryType === "categories" && !loadingSummary\') --><div ng-show="!loadingSummary" class="summary"> <span ng-repeat="item in getSummaryItems(filter.product.code)"><span>{{item}}</span><div ng-if="!$last" class="sep"></div></span></div><!--.summary(ng-show=\'summaryType === "systems" && !loadingSummary\')//a(ng-repeat=\'subFilter in filter.subFilters\',\n  //ng-click=\'selectSubFilter(subFilter); $event.stopPropagation()\') ({{subFilter.count}}) {{subFilter.displayName}}\n  //.sep(ng-if=\'!$last\') |--></div></div></div></div></section>'),e.put("js/components/recommendedKbase/recommendedKbase.html",'<div ng-show="solution &amp;&amp; !loading" class="matched-solution"><span ng-if="showLabel" class="link-label"><i class="fa fa-circular fa-lightbulb-o"></i><strong translate="translate"> Related Knowledgebase articles:</strong></span><a target="_blank" href="{{solution.viewUri}}"> {{solution.title}}</a></div><div ng-show="loading" class="spinner spinner-sm spinner-inline"></div>'),e.put("js/components/ruleStateIcon/ruleStateIcon.html",'<i ng-class="state + \'-rule-state-icon\'" class="fa"></i>'),e.put("js/components/severityIcon/allSeverityIcons.html",'<div class="icon-group icon-group-severity"><severity-icon type="impact" severity="rule.rec_impact"></severity-icon><severity-icon type="likelihood" severity="rule.rec_likelihood"></severity-icon><severity-icon type="severity" severity="rule.severity"></severity-icon></div>'),e.put("js/components/severityIcon/severityIcon.html",'<div ng-init="init()" class="severity-icon {{type}}"><span ng-if="label" translate="translate" class="title {{type}}">{{label}}</span><i tooltip="{{tooltip}}" class="{{sevClass}}"></i></div>'),e.put("js/components/sideNav/sideNav.html",'<div class="dashboard-navigation-container"><!--aside.dashboard-navigation(ng-class="(!isHidden) ? \'profile-image-visible\': \'profile-image-hidden\'")--><aside class="dashboard-navigation"><!--.header-block.user-profile(ng-if="utils.isBeta()").profile-image\n  img(gravatar-src="user.email" gravatar-size="200" gravatar-d="blank")\n  a(href="#") Edit Info\n.profile-info {{user.first_name}} {{user.last_name}}\n  .toggleProfile.hidden-xs(ng-class="(!isHidden) ? \'expanded\': \'compressed\'", ng-click="toggleNav()")\n    i.fa.fa-compress\n    i.fa.fa-expand--><account-select></account-select><menu class="nav"><ul><li><a ui-sref="app.overview" ui-sref-active="current" translate="translate">Overview</a></li><rha-telemetry-actions-side-nav></rha-telemetry-actions-side-nav><li><a ui-sref="app.inventory" ui-sref-active="current" translate="translate">Inventory</a></li><li ng-if="config.isPlannerEnabled"><a ui-sref="app.maintenance" ui-sref-active="current" translate="translate">Planner</a></li><li><a ui-sref="app.rules" ng-class="{current: includes(states.rules, state.current.name)}" translate="translate">Rules</a></li><li><a ui-sref="app.digests" ui-sref-active="current" translate="translate">Executive Report</a></li><li><a ui-sref="app.config" ui-sref-active="current" translate="translate">Configuration</a></li></ul></menu></aside></div>'),e.put("js/components/simpleSelect/simpleSelect.html",'<div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="disabled" class="btn btn-default dropdown-toggle"><strong>{{selected.label}}</strong><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div>'),e.put("js/components/statusIcon/statusIcon.html",'<span><i ng-show="status" tooltip="{{\'This issue has been resolved\' | translate}}" class="fa fa-check"></i><i ng-hide="status" tooltip="{{\'This issue has NOT yet been resolved. This field will be updated automatically once the system checks in.\' | translate}}" class="fa fa-minus"></i></span>'),e.put("js/components/systemMetadata/systemMetadata.html",'<div ng-if="loading" class="row"><div class="col-sm-12"><i class="fa spinner-xs spinner"></i><span>Loading...</span></div></div><div ng-if="!loading" class="row system-metadata"><div ng-repeat="facts in systemFacts" class="col-sm-6"><table class="meta-table table-fixed"><tbody><tr ng-repeat="data in facts"><td translate="translate">{{data.label}}</td><td translate="translate" class="metadata-value">{{data.value}}</td></tr></tbody></table></div></div>'),e.put("js/components/tag/tag.html",'<span ng-bind="$getDisplayText()" tooltip="{{data.description}}"></span><a ng-click="$removeTag()" ng-bind="::$$removeTagSymbol" class="remove-button"></a>'),e.put("js/components/timeRange/timeRange.html",'<time><span class="from">{{startTime | lowercase}}</span><span ng-if="startDate">&nbsp;({{startDate}})</span><span>&nbsp;-&nbsp;</span><span class="to">{{endTime | lowercase}}</span><span ng-if="endDate">&nbsp;({{endDate}})</span></time>'),e.put("js/components/topbar/topbar.html",'<div class="top-bar"><feedback-button class="btn-feedback"></feedback-button><div class="row"><div class="col-sm-7 col-md-8"><!-- .global-filters.disabled.disabled class added if the filters are not applicable to view--><div class="global-filters"><group-select></group-select></div></div><div class="col-sm-5 col-md-4 text-right-sm"><menu class="notifications"><bullhorn icon="fa-bullhorn" type="announcements"></bullhorn><alerts icon="fa-bell" type="alerts"></alerts></menu><span class="sep"></span><span dropdown="" on-toggle="toggled(open)" class="dropdown help"><a href="" dropdown-toggle="" class="dropdown-toggle"><strong translate="translate" class="small">Help</strong><i class="inline-left fa fa-question-circle"></i></a><ul class="dropdown-menu"><li><a href="{{gettingStartedLink}}" target="_blank" translate="translate">Getting Started</a><a ui-sref="info.info" translate="translate">More Info</a><a ui-sref="info.security" translate="translate">Security</a><!-- if this is the Portal hosted Insights... link to the Portal Browser Support Policy page--><a href="/help/browsers" target="_self" translate="translate" ng-if="isPortal">Browser Support</a><a href="/r/insights/docs/" translate="translate">Insights API Documentation</a></li></ul></span></div></div></div>'),e.put("js/components/typeIcon/typeIcon.html",'<span><span tooltip="{{systemTypeDisplayName}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="title"><i ng-class="systemTypeIcon" class="fa spinner-xs system-type-icon"></i></span><strong ng-if="includeText">&nbsp;&nbsp;{{systemTypeDisplayNameShort}}</strong></span>'),e.put("js/components/userInfo/userInfo.html",'<div class="user-info"><h2 class="title-widget"><i class="fa fa-user"></i><span translate="translate">Profile</span></h2><menu class="messaging-menu"><div class="heading heading-w-profile-image"><div class="profile-image"><img gravatar-src="user.email" gravatar-size="100" gravatar-d="blank"/></div><div class="info"><div class="name"><strong>{{user.first_name}} {{user.last_name}}</strong></div><div class="last-login"><strong>Last login:</strong><date>07/22/15</date></div></div></div><nav class="user-info-nav"><li><a ui-sref="app.announcements"><i class="fa fa-bullhorn"></i><span translate="translate">Announcements</span><span class="count">{{ alerts.unseen.length }}</span></a></li><li ng-if="false"><a><i class="fa fa-bell"></i><span translate="translate">Alerts</span><span class="count unread">50</span></a></li><li ng-if="false"><a><i class="fa fa-bullseye"></i><span translate="translate">Goals</span><span class="count">120</span></a></li><li ng-if="false"><a><i class="fa fa-envelope"></i><span translate="translate">Messages</span><span class="count unread">100</span></a></li><li ng-if="false"><a><i class="fa fa-comments-o"></i><span translate="translate">Mentions</span><span class="count">10</span></a></li><li ng-if="false"><a><i class="fa fa-certificate"></i><span translate="translate">Marketing</span><span class="count">120</span></a></li></nav></menu></div>'),e.put("js/components/yesNo/yesNo.html","<span><i ng-class=\"{'fa-times fail': no, 'fa-check success': yes}\" class=\"fa\"> </i><strong> {{text}}</strong></span>"),e.put("js/states/actions/actions.html",'<div class="actions-page"><!--platform-filter--><new-actions-graph></new-actions-graph><div class="content-wrap"><section class="metrics"><div class="rha-notifications"></div><div class="row"><div class="col-md-7 chart-col clearfix"><div class="chart-container text-center"><span ng-show="loading" class="preloader"></span><div class="donut-container"><div class="donut-hole"><div class="content"><div class="num">{{stats.rules.total}}</div><div translate="translate" class="text">Issues</div></div></div><div stats="stats" class="rha-telemetry-donut"></div></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><table class="legend"><tbody><tr><td><a ui-sref="app.topic({id: \'security\', product: getSelectedProduct()})" class="security"><i aria-hidden="true" class="fa fa-square inline-right security-color"></i><span translate="translate" class="desc">Security</span><span class="count">&nbsp;({{stats.rules.security || 0}})</span></a></td><td><a ui-sref="app.topic({id: \'availability\', product: getSelectedProduct()})" class="availability"><i aria-hidden="true" class="fa fa-square inline-right availability-color"></i><span translate="translate" class="desc">Availability</span><span class="count">&nbsp;({{stats.rules.availability || 0}})</span></a></td></tr><tr><td><a ui-sref="app.topic({id: \'stability\', product: getSelectedProduct()})" class="stability"><i aria-hidden="true" class="fa fa-square inline-right stability-color"></i><span translate="translate" class="desc">Stability</span><span class="count">&nbsp;({{stats.rules.stability || 0}})</span></a></td><td><a ui-sref="app.topic({id: \'performance\', product: getSelectedProduct()})" class="performance"><i aria-hidden="true" class="fa fa-square inline-right performance-color"></i><span translate="translate" class="desc">Performance</span><span class="count">&nbsp;({{stats.rules.performance || 0}})</span></a></td></tr></tbody></table></div></div></div><div class="col-md-5"><card><card-header class="gray"><h4 translate="translate">Risk summary</h4></card-header><card-content><severity-summary stats="stats"></severity-summary></card-content></card><card ng-if="stats.systems"><card-header class="gray"><h4 translate="translate">Systems with critical risk</h4></card-header><card-content><system-summary stats="stats"></system-summary></card-content></card></div></div></section><section class="gray full-width"><span ng-show="isContentManager" class="pull-right">[<a ui-sref="app.admin-topic">edit</a>]</span><h2 translate="translate" class="section-title section-title-red">Featured Topics</h2><div class="flexgrid equalheights other-topics"><div ng-if="loader.loading" class="row"><div class="spinner spinner-lg"></div></div><div ng-if="featuredTopics.length" class="row"><other-topic ng-repeat="topic in featuredTopics | orderBy:\'topic.order\' track by topic.id" ng-show="!loader.loading" topic="topic"></other-topic></div><div ng-if="!show.extraTopics &amp;&amp; extraTopics.length" class="row"><div class="text-center extra-topics"><button ng-click="show.extraTopics = true" translate="translate" class="btn btn-sm btn-default">More topics</button></div></div><div ng-if="!featuredTopics.length &amp;&amp; !loader.loading" class="row"><div class="col-xs-12 text-center"><strong>No topics currently available.&nbsp;<a ui-sref="info.getting-started.direct" translate="translate">Register more systems.</a></strong></div></div></div></section><section ng-if="show.extraTopics" class="full-width"><div class="flexgrid equalheights other-topics"><div class="row"><other-topic ng-repeat="topic in extraTopics | orderBy:\'topic.order\' track by topic.id" ng-show="!loader.loading" topic="topic"></other-topic></div></div></section></div></div>'),e.put("js/states/analytics/analytics.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12"><h1 class="page-title">Analytics</h1></div></div><div class="row margin-top"><div class="col-sm-12"><div id="chart"></div></div></div></div></div>'),e.put("js/states/announcements/announcements.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-sm-12"><h1 translate="translate" class="page-title">Announcements</h1></div></div><div ng-if="canCreate" class="row"><div class="col-sm-12"><label translate="translate" class="full-width">Show hidden</label><div class="switch"><input id="cmn-toggle-2" type="checkbox" ng-model="params.showHidden" ng-change="reload()" class="cmn-toggle cmn-toggle-square"/><label for="cmn-toggle-2"></label></div></div></div><div class="row"><announcements-scroll announcementId="{{$scope.announcementId}}"></announcements-scroll></div><div class="row row-short"><div class="col-xs-12"><a ui-sref="app.new-announcement" ng-if="canCreate" class="pull-right btn btn-app">Create Announcement</a></div></div></div>'),e.put("js/states/announcements/edit-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">Edit Announcement</h1></div></div><div ng-if="announcementError" class="row"><div class="col-xs-12 col-lg-8 alert alert-danger"><span class="col-xs-9"><span class="icon-inline"><i class="glyphicon glyphicon-exclamation-sign"></i></span><span translate="translate">{{announcementError}}</span></span></div></div><div class="row"><div ng-if="loadingAnnouncement" class="col-xs-12 col-m-8"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12 col-m-8"><form ng-submit="save()" name="form" class="form-horizontal"><fieldset><div class="row"><div class="col-xs-12"><label class="control-label">Title</label><input ng-model="announcement.title" type="text" placeholder="Announcement Title" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Slug</label><input ng-model="announcement.slug" type="text" placeholder="Slug" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Body</label><textarea ng-model="announcement.body" type="text" placeholder="Body" class="form-control"></textarea></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Start Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.start" type="text" placeholder="Start Date" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">End Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.end" type="text" placeholder="End Date" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;</label><label for="hidden" class="control-label">Hidden</label></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="important" value="false" ng-model="announcement.important"/>&nbsp;</label><label for="hidden" class="control-label">Important</label></div></div><div class="row"><div class="col-xs-12"><a ui-sref="app.announcements">Back to Announcements</a><button name="submit" ng-disabled="form.$error.required" class="btn btn-app pull-right">Save Announcement</button></div></div></fieldset></form></div></div></div>'),e.put("js/states/announcements/new-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">New Announcement</h1></div></div><div ng-if="announcementError" class="row"><div class="col-xs-12 col-lg-8 alert alert-danger"><span class="col-xs-9"><span class="icon-inline"><i class="glyphicon glyphicon-exclamation-sign"></i></span><span translate="translate">{{announcementError}}</span></span></div></div><div class="row"><div class="col-xs-12 col-m-8"><form ng-submit="create()" name="form" class="form-horizontal"><fieldset><div class="row"><div class="col-xs-12"><label class="control-label">Title</label><input ng-model="announcement.title" type="text" placeholder="Announcement Title" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Slug</label><input ng-model="announcement.slug" type="text" placeholder="Slug" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Body</label><textarea ng-model="announcement.body" type="text" placeholder="Body" class="form-control"></textarea></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Start Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.start" type="text" placeholder="Start Date" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">End Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.end" type="text" placeholder="End Date" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;</label><label for="hidden" class="control-label">Hidden</label></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="important" value="false" ng-model="announcement.important"/>&nbsp;</label><label for="hidden" class="control-label">Important</label></div></div><div class="row"><div class="col-xs-12"><a ui-sref="app.announcements">Back to Announcements</a><button name="submit" ng-disabled="form.$error.required" class="btn btn-app pull-right">Create Announcement</button></div></div></fieldset></form></div></div></div>'),e.put("js/states/announcements/view-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div ng-if="loadingAnnouncement" class="col-xs-12"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12"><strong class="pull-right">{{announcement.created_at | date}}</strong><h1 class="page-title">{{announcement.title}}</h1></div></div><div class="row push-top border-top"><div ng-if="loadingAnnouncement" class="col-xs-12"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12"><div ng-bind-html="announcement.body_html | trust_html" target-blank=""></div></div></div></div>'),e.put("js/states/base/app.html",'<!--#fullscreen.fullscreen--><!--  a(ng-click="toggleFullScreen()", translate) Fullscreen--><div id="telemetry" class="page-wrap container"><beta-switch-button></beta-switch-button><side-nav></side-nav><div data-esc-key="" class="main-content insights-main-content"><topbar></topbar><div ui-view="" class="wrapper"></div><actionbar></actionbar></div></div>'),e.put("js/states/base/base.html",'<div ui-view="" class="ng-cloak"></div>'),e.put("js/states/base/info.html",'<div ui-view="" class="ng-cloak ng-animate-enabled fade-in"></div>'),e.put("js/states/digests/digests.html",'<div class="digests-page"><div ng-class="{\'inactive\': !expandBar, \'active\': expandBar}" class="page-header"><h1 class="page-title"><i class="fa fa-bar-chart">&nbsp;</i><span translate="translate">Executive Report</span></h1></div><div class="content-wrap"><section><div class="row"><div class="col-sm-3"><h2 translate="translate" class="section-title">Overall score</h2><div class="gauge gauge-circle score score_good"><span>{{latest_score}}</span></div></div><div class="col-sm-9"><h2 translate="translate" class="section-title">Weekly action count by category</h2><div class="row padding-top"><div ng-repeat="cat in digest_hits_per_cat" class="col-xs-6 col-md-3"><div class="gauge gauge-count-and-change"><div class="count-and-change"><div class="count large bold">{{cat.current}}</div><div class="change"><i ng-if="cat.direction &gt; 0" class="fa fa-caret-up increase"></i><i ng-if="cat.direction &lt; 0" class="fa fa-caret-down decrease"></i><i ng-if="cat.direction === 0" class="fa fa-minus no-change"></i></div></div><div class="title"><i aria-hidden="true" ng-class="cat.icon" class="fa"></i><strong class="uppercase">&nbsp;{{cat.label}}</strong></div></div></div></div></div></div></section><section class="gray full-width"><ul role="tablist" class="nav nav-tabs-simple underline"><li role="presentation" class="active"><a href="#metrics" aria-controls="metrics" role="tab" data-toggle="tab" translate="translate">Action trends</a></li><li role="presentation"><a href="#systemsRegistered" aria-controls="systemsRegistered" role="tab" data-toggle="tab" translate="translate">System registration history</a></li><li role="presentation"><a href="#scoreHistory" aria-controls="messages" role="tab" data-toggle="tab" translate="translate">Score history</a></li><li role="presentation"><a href="#allRuleHits" aria-controls="allRules" role="tab" data-toggle="tab" translate="translate">All Rule hits</a></li></ul><!-- Tab panes--><div class="tab-content"><div id="metrics" role="tabpanel" class="metrics tab-pane fade in active"><digest-graph drop-down="Category" digest-key="metrics" digest="digest_metrics" height="400" ng-if="!loading"></digest-graph></div><div id="systemsRegistered" role="tabpanel" class="tab-pane fade"><digest-graph digest-key="registered" digest="digest_registered" height="400" ng-if="!loading"></digest-graph></div><div id="scoreHistory" role="tabpanel" class="tab-pane fade"><digest-graph digest-key="score" digest="digest_score" height="400" ng-if="!loading"></digest-graph></div><div id="allRuleHits" role="tabpanel" ng-if="!loading" class="tab-pane fade"><table style="background-color: #fff"><thead><tr><th translate="translate">Rule</th><th translate="translate">Impacted Systems</th><th translate="translate">Total Risk</th></tr></thead><tbody><tr ng-repeat="rule in allRuleHits"><td><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})">{{ rule.description }}</a></td><td>{{rule.report_count}}</td><td><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td></tr></tbody></table></div></div></section><section><div class="row"><div class="col-md-6"><h2 translate="translate" class="section-title">Ten Most Impacted Systems</h2><!--with hostname, registered date, and score--><table class="table-break"><thead><tr><th translate="translate" class="hostname">Hostname</th><th translate="translate">Hits</th></tr></thead><tbody><tr ng-repeat="system in topTenWorstSystems"><td class="hostname"><a ng-click="showSystem(system)">{{ system | getSystemDisplayName }}</a></td><td>{{ system.report_count }}</td></tr></tbody></table></div><div class="col-md-6"><h2 class="section-title">Ten Most Frequently Hit Rules</h2><!-- grouped by criticality, sub grouped by count--><table><thead><tr><th translate="translate">Rule</th><th translate="translate">Impacted Systems</th><th translate="translate">Total Risk</th></tr></thead><tbody><tr ng-repeat="rule in topTenRules"><td><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})">{{ rule.description }}</a></td><td>{{rule.impacted_systems}}</td><td><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td></tr></tbody></table></div></div></section></div></div>'),e.put("js/states/evaluation/evaluation.html",'<div class="page-wrap container eval"><div class="main-content insights-main-content full-width"><div class="row text-center"><i ng-if="loading" class="fa spinner-lg spinner"></i></div><div ng-if="!loading &amp;&amp; !error"><div ng-if="status.current" class="status-current"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">You are currently on a {{status.current.systems}} system evaluation of Red Hat Insights. It will expire on {{getExpiration()}}.</h1></div></div><div class="row text-center"><div class="col-sm-12"><button ui-sref="info.getting-started.direct" translate="translate" class="btn btn-lg btn-accent">Getting started guide</button><span translate="translate" class="strapline btn-seperator">or</span><button ui-sref="app.overview" translate="translate" class="btn btn-lg btn-accent">Go to the application</button></div></div></div><div ng-if="status.expired" class="status-expired"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">Your evaluation has expired. Thank you for trying Red Hat Insights.</h1></div></div><div class="row"><div class="col-sm-12 text-center"><h2 translate="translate" class="uppercase">Please contact sales to purchase Insights.</h2></div></div></div><div ng-if="getNonLegacyEval() &amp;&amp; !successfulActivation" class="status-available"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 translate="translate"><span aria-hidden="true" class="icon-check-alt"></span>&nbsp;Your {{getNonLegacyEval().systems}} system {{getNonLegacyEval().duration}} day evaluation is ready.</h1></div></div><div class="row"><div class="col-sm-12 text-center"><h2 translate="translate" class="uppercase">READ AND ACCEPT THESE TERMS TO GET STARTED.</h2></div></div><div class="row"><div class="col-sm-12"><p translate="translate">Red Hat is providing each Red Hat Subscription Evaluation for evaluation purposes subject to the terms of the <a href="http://www.redhat.com/licenses/" target="_blank">Red Hat Enterprise Agreement</a>. If you use the Red Hat Subscription for any purpose other than <b>evaluation</b>, you agree to pay Red Hat the Subscription Fee(s) for each Unit pursuant to the Enterprise Agreement, which is in addition to any and all other remedies available to Red Hat under applicable law.</p><div id="terms" translate="translate">Examples of situations where you would incur additional fees and be in violation of the Agreement include, but are not limited to:<ul><li>Using the service provided under the evaluation program for a production installation,</li><li>Offering support services to third parties, or</li><li>Complementing or supplementing third party support services with services received through the Red Hat Subscription evaluation program.</li></ul></div><p translate="translate">By proceeding, I acknowledge that I have read and agree to the terms and conditions of the <a href="http://www.redhat.com/licenses/" target="_blank">Red Hat Enterprise Agreement</a> which governs my use.</p></div></div><div class="row text-center"><div class="col-sm-12"><button ng-click="activateNonLegacy()" translate="translate" class="btn btn-lg btn-accent">Agree and Get Started</button></div></div><div class="row text-center"><div class="col-sm-12"><p><a href="https://access.redhat.com/insights/splash/" translate="translate">Decline</a><br/><small translate="translate">If you decline, you will not receive an evaluation at this time and will be redirected to additional information on Red Hat Insights</small></p></div></div></div><div ng-if="getLegacyEval() &amp;&amp; !successfulActivation" style="margin-top:60px"><a ng-click="activateLegacy()" translate="translate">Looking for the legacy 10 system evaluation? Click here to activate.</a></div><div ng-if="status.purchased" class="status-purchased"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 translate="translate"><span aria-hidden="true" class="icon-check-alt"></span>&nbsp;Thank you for purchasing Red Hat Insights.</h1></div></div><div class="row text-center"><div class="col-sm-12"><button ui-sref="app.overview" translate="translate" class="btn btn-lg btn-accent">Continue to Insights</button></div></div></div></div><div ng-if="error" class="status-error"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">An error occurred. Please try again: {{error}}</h1></div></div></div></div></div>'),
e.put("js/states/info/info.html",'<div class="info-page"><div class="container info-page-intro text-center band band-hero"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div><div class="col-sm-8 col-sm-offset-2"><insights-tagline></insights-tagline></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Proactive systems management</h2><p translate="translate">Red Hat Insights is a hosted service designed to help you proactively identify and resolve technical issues in Red Hat Enterprise Linux and Red Hat Cloud Infrastructure environments. Decreasing time spent discovering, researching, and resolving critical issues allows you to focus on driving high value, strategic initiatives.</p></section></div><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Misc_Lifestyle_RGB_Button.png" alt="Management"/></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10"><section class="section"><h2 translate="translate" class="section-title">Insights powered by Red Hat</h2><p translate="translate"><strong>The Insights engine </strong>is powered by the unparalleled expertise that comes from over 700 Red Hat Certified Engineers, over 30,000 documented technical solutions, and over 1,000,000 resolved issues. Based on Red Hat’s continuously expanding knowledge base, which includes expertise in third-party hardware and software integration, deterministic rules are constantly being created.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Software_Data_CMYK_Button.png" alt="Data Collection"/></div><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Lightweight data collection</h2><p translate="translate">For analysis by the Insights engine, a minimal subset of information commonly provided in a standard support case is collected by the Insights client. This data is collected via secure protocols at defined intervals then analyzed and discarded at the next upload, or no longer than two weeks later.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Clear, tailored, and actionable intelligence</h2><p translate="translate">The Insights engine delivers results for review through the Insights UI in Red Hat Satellite and in the Red Hat Customer Portal. Through the intuitive Insights UI, configuration issues discovered during analysis are clearly displayed and prioritized by severity. Tailored remediation steps are presented to help you optimize workloads and confidently resolve critical issues and prevent future issues.</p></section></div><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Document_Blueprint_RGB_Button.png" alt="Actionable Intelligences"/></div></div></div></div><div id="availability" class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Availability</h2><p translate="translate">Red Hat Insights is available for current Red Hat customers on Red Hat Enterprise Linux, delivered through either the Customer Portal or Red Hat Satellite. Your current subscription includes Red Hat Insights for up to 10 systems. To enroll additional systems, contact <a href="http://www.redhat.com/en/about/contact/sales">sales</a>.</p><div class="row"><div class="col-md-6"><table class="table table-cp table-striped table-bordered"><thead><tr><th translate="translate">Red Hat Insights supports</th></tr></thead><tbody><tr><td translate="translate">Red Hat Enterprise Linux 6</td></tr><tr><td translate="translate">Red Hat Enterprise Linux 7</td></tr></tbody></table></div><div class="col-md-6"><table class="table table-cp table-striped table-bordered"><thead><tr><th translate="translate">Delivered via</th></tr></thead><tbody><tr><td translate="translate">Red Hat Customer Portal</td></tr><tr><td translate="translate">Red Hat Satellite 5</td></tr><tr><td translate="translate">Red Hat Satellite 6</td></tr></tbody></table></div></div></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Security comes standard</h2><p translate="translate">Like all products and services from Red Hat, Red Hat Insights is developed with a focus on security and rigorous deployment controls. </p><p translate="translate"><a ui-sref="info.security">Learn more </a> about how Red Hat Insights keeps your data secure while enabling you to proactively manage systems.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Additional resources</h2><div class="row"><div class="col-xs-12 col-sm-7 col-md-8 vcenter"><a href="/insights/static/datasheet.pdf" target="_blank" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Datasheet</a><a href="{{gettingStartedLink}}" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Getting started with Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></div></div></section></div></div></div></div></div>'),e.put("js/states/inventory/inventory.html",'<section class="inventory"><!--platform-filter--><inventory-filters></inventory-filters><div class="rha-notifications"></div><div class="content-wrap"><inventory-actions ng-hide="reloading" class="ng-animate-enabled"></inventory-actions><div infinite-scroll="doScroll()" infinite-scroll-disabled="disableScroll()" infinite-scroll-immediate-check="false" infinite-scroll-distance=".5" ng-hide="reloading"><div ng-show="listType() === listTypes.card" class="card-table-header"><div class="row row-short"><div class="col-sm-4"><input tooltip="{{\'Select All\' | translate}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="selectAll(); checkboxes.checkboxChecked(checkboxes.checked, getSelectableSystems())" class="action-checkbox"/><label translate="translate" ng-click="sort(\'system_type_id\')">&nbsp; Type</label></div><div class="col-sm-4"><strong translate="translate" ng-click="sort(\'toString\')">Name &nbsp;</strong><span ng-show="totalSystemsSelected">&nbsp;({{totalSystemsSelected}} Selected)</span></div><div class="col-sm-4 text-right"><strong translate="translate" ng-click="sort(\'report_count\')">Action Count</strong></div></div></div><div class="row row-short table-options"><div class="col-sm-4 col-lg-2"><div class="dropdown"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" translate="translate" ng-disabled="!checkboxes.totalChecked" class="btn btn-default dropdown-toggle">Actions<span class="caret"></span></button><!--i.caret.dropdown-caret--><ul class="dropdown-menu"><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(true)" ng-disabled="!isFixableSelected()" translate="translate">Create a new Plan/Playbook<ansible-icon value="isFixableSelected()" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(false)" ng-disabled="!isFixableSelected() || (!plans.future.length &amp;&amp; !plans.unscheduled.length)" translate="translate">Add to existing Plan/Playbook<ansible-icon value="isFixableSelected() &amp;&amp; (plans.future.length || plans.unscheduled.length)" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li tooltip="{{unregisterButtonTooltip}}"><a ng-disabled="!isUnregistrableSelected()" ng-click="isUnregistrableSelected() &amp;&amp; doUnregisterSelected()" translate="translate" class="pointer-events-auto">Unregister</a></li></ul></div></div><div class="col-sm-8 col-lg-10"><list-type class="text-right-sm"></list-type></div></div><div class="row row-short"><div class="col-md-12"><table ng-show="getListType() === listTypes.table" class="table ng-table"><thead><tr><th><input tooltip="Select All" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="selectAll(); checkboxes.checkboxChecked(checkboxes.checked, getSelectableSystems())" class="selectme"/></th><th ng-class="predicate | sortClass:\'system_type_id\':reverse" ng-click="sort(\'system_type_id\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">System Type</div></th><th ng-class="predicate | sortClass:\'toString\':reverse" ng-click="sort(\'toString\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">System Name</div></th><th ng-class="predicate | sortClass:\'last_check_in\':!reverse" ng-click="sort(\'last_check_in\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">Last Check In</div></th><th ng-class="predicate | sortClass:\'report_count\':reverse" ng-click="sort(\'report_count\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">Status</div></th></tr></thead><tbody><tr ng-repeat="system in systems track by system.system_id" ng-class="{\'stale\': !system.isCheckingIn}" ng-click="checkboxes.rowClick($event, system.system_id)" ng-mousedown="checkboxes.rowClick($event, system.system_id)" data-id="{{system.system_id}}"><td><input type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" class="selectme"/></td><td class="nowrap"><type-icon type-id="system.system_type_id" include-text="true"></type-icon></td><td class="nowrap long-name"><a ng-click="showActions(system)">{{system.toString}}</a></td><td class="nowrap">{{ system.last_check_in | timeAgo }}</td><td class="nowrap"><a ng-click="showActions(system)" class="action-count"><span translate="translate" translate-n="system.report_count" translate-plural="{{$count}} Actions" class="text">{{system.report_count}} Action</span><span ng-class="{\'success\': !system.report_count, \'fail\': system.report_count}" class="pull-right status-icon"><i ng-class="{\'no-action\': !system.report_count, \'yes-action\': system.report_count}" class="fa"></i></span></a></td></tr></tbody></table></div></div><div class="row row-short"><div class="col-sm-12"><system-card ng-show="getListType() === listTypes.card" ng-repeat="system in systems track by system.system_id" system="system" checkboxes="checkboxes" checkbox-tooltip="canSelectSystem(system) ? defaultTooltip : getDisabledCheckboxTooltip(system)" class="ng-animate-enabled"></system-card></div></div></div></div><div class="animate-wrapper"><div ng-show="loading" class="row row-short ng-animate-enabled"><div class="col-xs-12"><div class="load text-center"><div class="spinner spinner-lg"></div><span translate="translate">Loading system information…</span></div></div></div></div></section>'),e.put("js/states/invites/invites.html",'<div class="page-wrap container eval"><div class="main-content insights-main-content full-width"><div class="row"><div ng-if="loading" class="col-sm-12 text-center"><i class="fa spinner-lg spinner"></i></div></div><div ng-if="!loading &amp;&amp; forbidden" class="status-error"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1>Your account is not authorized to view this page.</h1></div></div></div><div ng-if="!loading &amp;&amp; !forbidden" class="status-available"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1><i aria-hidden="true" class="fa fa-address-book-o"></i>&nbsp;Insights Evaluation</h1></div></div><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-left"><p>This internal form is used to invite an account to a 30 day evaluation of Red Hat Insights (more info available at &nbsp;<a href="https://mojo.redhat.com/docs/DOC-1104175" target="_blank"><b>Insights Evaluation guide</b></a>)</p></div><div class="col-sm-12 col-md-8 col-md-offset-2 text-left"><card ng-if="!failedInvite  &amp;&amp; !successfulInvite" class="invite"><card-content class="gray"><form class="form-horizontal"><div class="form-group"><label class="col-sm-4"><h4>Account Number</h4></label><div class="col-sm-8"><input ng-model="data.account"/></div></div><div class="form-group"><label class="col-sm-4"><h4>Customer Email</h4></label><div class="col-sm-8"><input ng-model="data.email"/></div></div><div class="form-group"><label class="col-sm-4"><h4>System Count</h4></label><div class="col-sm-8 text-left-md"><select ng-options="e as e.systems for e in evals" ng-model="data.newInvite"></select></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="createNewInvite()" class="btn btn-lg btn-accent">Invite</button></div></div></form></card-content></card><card ng-if="successfulInvite" class="success"><card class="success"><card-content class="gray text-center"><div class="row"><div class="col-sm-12"><h4 class="nomar"><span aria-hidden="true" class="icon-check-alt green">&nbsp;</span><span class="light">You have successfully invited&nbsp;</span>{{successfulInvite.email}}&nbsp;<span class="light">with account number&nbsp;</span>{{successfulInvite.account_number}}.</h4></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="reset()" class="btn btn-lg btn-accent">Reload form</button></div></div></card-content></card></card><card ng-if="failedInvite" class="failure"><card class="success"><card-content class="gray text-center"><div class="row"><div class="col-sm-12"><h4 class="nomar"><i aria-hidden="true" class="fa fa-times-circle red">&nbsp;</i>Invitation to {{failedInvite.email}} with account number {{failedInvite.account_number}} failed. &nbsp;<!--If its a duplicate error.  We have a specific message.--><span ng-if="error.status == 409">This account has previously activated a sales invited evaluation. &nbsp;\nPlease contact <a href="mailto:insights@redhat.com">insights@redhat.com</a>&nbsp; to grant additional invitations.</span><!--otherwise, just show the raw error from the api.--><span ng-if="error.status != 409">{{error.data}}</span></h4></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="reset()" class="btn btn-lg btn-accent">Try again</button></div></div></card-content></card></card></div></div></div></div></div>'),e.put("js/states/maintenance/maintenance.html",'<div class="maintenance-page"><div ng-class="{\'inactive\': !expandBar, \'active\': expandBar}" class="page-header"><div class="content-block"><div class="create-plan-actions text-right pull-right"><a ng-click="quickAdd()" class="create-plan"><span translate="translate">&nbsp;Create a plan</span><i class="fa fa-plus-circle"></i></a><a ng-click="newSuggestion()" ng-if="isInternal" class="create-plan"><small translate="translate" class="red">New suggested plan<i class="fa fa-plus-circle"></i></small></a></div><h1 class="page-title pull-left"><i class="fa fa-wrench">&nbsp;</i><span translate="translate">Planner</span></h1></div><maintenance-plan-bar></maintenance-plan-bar></div><div class="content-wrap"><div class="row search"><div class="col-sm-8 col-md-9"><search-box ng-model="searchTerm"></search-box></div><div class="col-sm-4 col-md-3 ui-filters"><maintenance-category-select category="category" on-select="setCategory(category)"></maintenance-category-select></div></div><div ng-show="loading" class="row row-short"><div class="col-xs-12"><div class="load text-center"><div class="spinner spinner-lg"></div><span translate="translate">Loading plans…</span></div></div></div><div class="rha-notifications"></div><div ng-if="!loading"><div ng-if="!shownPlans.length" class="row"><div class="text-center"><h4 translate="translate">No plans</h4></div></div><div ng-if="category === \'future\' || category === \'past\'" ng-repeat="plansPerMonth in shownPlansByMonth" class="row"><div class="col-sm-12"><h3>{{plansPerMonth[0].start | moment:\'MMMM YYYY\'}}</h3></div><maintenance-plan ng-repeat="plan in plansPerMonth | searchMaintenancePlans: searchTerm track by plan.maintenance_id"></maintenance-plan></div><div ng-if="category === \'unscheduled\' || category === \'suggested\'" class="row"><maintenance-plan ng-repeat="plan in shownPlans | searchMaintenancePlans: searchTerm | orderBy:\'-maintenance_id\' track by plan.maintenance_id"></maintenance-plan></div></div></div></div>'),e.put("js/states/overview/overview.html",'<div class="overview"><div class="header"><h1 translate="translate" class="page-title title"><i class="fa fa-bar-chart"></i><span translate="translate">Overview</span></h1><actions-light></actions-light></div><div class="page flexgrid equalheights"><div class="rha-notifications"></div><div class="row"><div class="col-md-5 col-lg-6 left-col"><div class="grid-block"><section class="widget-block"><span ng-show="isInternal" class="pull-right">[<a ng-click="edit()">edit</a>]</span><h2 class="title"><i class="fa fa-fire"></i><span translate="translate">Latest</span></h2><handcrafted-content></handcrafted-content></section></div><new-systems></new-systems></div><div class="col-md-7 col-lg-6 right-col border-bottom"><div class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Actions&nbsp;</span><span translate="translate" class="light">Summary</span><a translate="translate" ui-sref="app.actions" class="cta-link">View actions</a></h2><severity-summary stats="stats"></severity-summary></section></div><div ng-if="!paid()" class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-bullseye">&nbsp;</i><span translate="translate">Optimize&nbsp;</span><span translate="translate" class="light">Your Experience</span></h2><goals-lite></goals-lite></section></div><div ng-if="config.isPlannerEnabled" class="grid-block"><maintenance-plan-lite></maintenance-plan-lite></div></div></div></div></div>'),e.put("js/states/security/security.html",'<div class="container info-page-intro text-center band band-hero"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div></div></div><div class="band band-white info-page band-last"><div class="container info-page"><div class="row"><div class="col-md-12"><section class="section"><h1 translate="translate">Security</h1></section><section id="introduction" class="section introduction"><h3 translate="translate">Introduction</h3><p translate="translate">Red Hat Insights provides a mechanism for customers to get actionable intelligence regarding  suggested improvements to deployed Red Hat software. As part of this optional offering, Red Hat processes configuration data about a customer’s environment using Red Hat hosted and/or provided tools; this document covers the security measures Red Hat puts in place to provide secure transmission, processing, and analysis of this data by those tools.</p><p translate="translate">Red Hat is committed to evaluating, implementing and monitoring the industry security standards for those tools as they continue to evolve.</p></section><section id="on-premise" class="section on-premise"><h3 translate="translate">On Premise Security</h3><p translate="translate">Security of customer systems is paramount and Red Hat Insights has made extensive efforts to ensure that our shipped software meets the highest standards.</p><ul><li translate="translate">Insights software which executes on premise has been through a security review by Red Hat Product Security which is the same team that addresses security concerns in all other products across the Red Hat portfolio.</li><li translate="translate">Communication with Red Hat can be sent through secure proxies for audit and network ACLs.</li><li translate="translate">Enrollment is opt-in, which means we’ll never collect data from systems without your explicit approval and can be scheduled daily or weekly.</li><li translate="translate">All communication with Red Hat occurs over encrypted channels using TLS</li><li translate="translate">All TLS traffic with Red Hat servers is verified with a trusted certificate that is bundled with the application, ensuring that communications can not be intercepted, such as by a man in the middle attack.</li><li translate="translate">The default communication model from client systems to Red Hat servers occurs with mutual TLS or two-way authentication using digital certificates.</li></ul></section><section id="client-side" class="section client-side"><h3 translate="translate">Client Side On Premise Data Control</h3><p translate="translate">Red Hat Insights allows customers to have control of the information that is monitored for analytical purposes; and Red Hat Insights makes it simple for subscribers to view  the information which is monitored.</p><ul><li translate="translate">Red Hat Insights collects both targeted and minimal system information rather than entire logs.</li><li translate="translate">Red Hat automatically attempts to remove critical security information such as passwords before uploading when stored in standard locations</li><li translate="translate">Common types of sensitive information can be opted out of through pre-built configuration profiles</li><li translate="translate">Subscribers can blacklist any command, file, or piece of metadata that they prefer not be monitored by Red Hat Insights.</li><li translate="translate">The commands, files, and metadata monitored by Red Hat Insights are listed in a single file that is GPG signed and available at any time for easy inspection.</li><li translate="translate">Personally Identifiable Information is not collected.</li></ul></section><section id="infrastructure" class="section infrastructure"><h3 translate="translate">Infrastructure Security</h3><p translate="translate">Security of customer data in Red Hat is a priority and every effort is made to ensure that information is not unnecessarily persisted and that it is secured using industry standard best practices.</p><ul><li translate="translate">All customer data is stored within a secure physical data center with controlled access.</li><li translate="translate">Our internal 3-tiered infrastructure is compartmentalized into different physical networks and firewalled to ensure services are isolated for maximum security.</li><li translate="translate">All volumes containing customer data at rest are encrypted with LUKS encryption</li><li translate="translate">All parts of the internal infrastructure transmit their logs to a centralized log aggregator for inspection and analysis.</li></ul></section><section id="best-practices" class="section best-practices"><h3 translate="translate">Development Best Practices</h3><ul><li translate="translate">All software is analyzed with static code analyzers and all reported issues are fixed before code is deployed into production.</li><li translate="translate">Code is peer reviewed.</li></ul></section></div></div></div></div><div class="band band-alt band-narrow info-page"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h3 translate="translate">Additional Resources</h3><a href="{{gettingStartedLink}}" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Getting started with Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></section></div></div></div></div>'),e.put("js/states/rules/list-rules.html",'<section><!--platform-filter--><rule-filter></rule-filter><div class="content-wrap"><div class="section"><div class="row"><div class="col-sm-12"><div class="btn-group pull-right"><a ui-sref="app.admin-topic" ng-show="user.is_internal" class="btn btn-sm btn-app">Topics Admin</a></div><div ng-hide="loading" class="push-top-narrow rules-filters"></div></div></div><div class="row row-short"><div class="col-sm-12"><section ng-show="loading"><div class="spinner spinner-lg"></div></section><div class="rha-notifications"></div><div ng-hide="loading" class="rules-group"><div class="rules-group-content"><div ng-repeat="rule in rules | filter:filter | orderBy:\'description\'" ng-class="{faded: rule.ack_id, hidden: (hideIgnored &amp;&amp; rule.ack_id)}" class="content-block content-block-outline"><div id="{{::rule.rule_id}}" class="header"><!--TODO: activate new item--><!--.new-item NEW!--><div class="pull-right"><span translate="translate" ng-class="{\'rule-inactive\': rule.ack_id, \'rule-active\': !rule.ack_id}" class="label label-default inline-right">INACTIVE</span><ansible-icon value="rule.ansible" ng-if="config.isPlannerEnabled"></ansible-icon></div><span ng-click="permalink(rule.rule_id, true, 30)" class="title pointer"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><span>{{ ::rule.category }} &gt; {{ ::rule.description }}</span><i class="fa fa-link permalink"></i></span></div><div class="content ng-animate-enabled"><div ng-bind-html="::rule.summary_html | trust_html" target-blank="" class="gray"></div><div class="link-pinned gray top"><a ng-if="rule.node_id" href="{{rule.article}}" target="_blank">Knowledgebase</a></div></div><div ng-if="canIgnoreRules" class="footer footer-short"><div class="row"><div class="col-sm-6"><div class="icon-group icon-group-severity"><severity-icon severity="rule.rec_impact" type="impact"></severity-icon><severity-icon severity="rule.rec_likelihood" type="likelihood"></severity-icon><severity-icon severity="rule.severity" type="severity"></severity-icon></div></div><div class="col-sm-6 text-right"><strong ng-if="rule.impacted_systems !== undefined &amp;&amp; !rule.ack_id"><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})" translate="translate" ng-disabled="rule.impacted_systems === 0">View Impacted Systems ({{rule.impacted_systems}})</a></strong><div class="sep"></div><rule-toggle rule="rule"></rule-toggle></div></div></div></div></div></div></div></div></div></div></section>'),e.put("js/states/splash/splash.html",'<div class="landing-page-top band band-hero band-first band-narrow"><div class="container"><div class="row"><div class="col-sm-10 col-sm-offset-1"><h1 translate="translate" class="headline">You can\'t fix what you can\'t see</h1><div translate="translate" class="strapline">Take the guesswork out of infrastructure optimization with Red Hat Insights proactive analytics and real-time intelligence.</div></div></div><div class="row"><div class="col-sm-12 text-center"><a href="{{gettingStartedLink}}" translate="translate" class="btn btn-app">Getting started guide</a><span translate="translate" class="strapline btn-seperator">or</span><a ui-sref="app.overview" translate="translate" class="btn btn-app">Go to the application</a></div></div></div></div><div class="intro-video band band-whispy"><div class="container"><div class="row"><div class="col-sm-12"><h2 translate="translate" class="section-header text-center">Introduction to Red Hat Insights</h2><div class="videowrapper"><iframe width="752" height="423" src="https://www.youtube.com/embed/MfRnKe-xxLM" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div></div></div></div></div><div id="ansible" class="ansible band band-white"><div class="container"><div class="row"><div class="col-sm-4 col-md-offset-1 hidden-xs text-center"><img src="images/g_ansible-venn.png"/></div><div class="col-sm-8 col-md-6"><!--img.logo.logo-ansible(src=\'../images/l_ansible.svg\')--><h2 translate="translate" class="section-title">Automate discovery and remediation</h2><p translate="translate">Automate the resolution of Insights findings through Ansible Playbooks.</p><p><strong>Red Hat Insights&nbsp;</strong><span translate="translate">creates significant time savings and helps avoid firefighting by enabling automatic resolution of critical issues before they affect your business. Optimize your environment and boost security with</span><strong>Red Hat Insights.</strong></p></div></div></div></div><div class="pre-footer band band-white"><div class="container text-center"><h2 translate="translate" class="section-header">Start proactively finding and fixing infrastructure risks today</h2><h2 translate="translate">Your current subscription provides a free 30-day evaluation</h2><a href="{{gettingStartedLink}}" translate="translate" class="btn btn-app">TRY IT</a></div></div><div class="core-values band band-gray-light"><div class="container"><div class="row"><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split"><i class="fa fa-sliders"></i></div><h4 translate="translate" class="uppercase bold">Avoid firefighting</h4><p translate="translate">Get in-depth analysis of risks on an individual system, topic, or site-wide level, so you can address them before they affect your business.</p></div></div><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split icon-split-orange"><i class="fa fa-crosshairs"></i></div><h4 translate="translate" class="uppercase bold">Act on advice you can trust</h4><p translate="translate">Resolve issues quickly and take the guesswork out of remediation using tailored resolutions created by domain experts and cross-referenced against thousands of similar environments.</p></div></div><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split icon-split-red"><i class="fa fa-cogs"></i></div><h4 translate="translate" class="uppercase bold">Master complexity</h4><p translate="translate">Ensure integration of high-priority security analysis in an operations-friendly workflow with a view of all actions prioritized by level of risk.</p></div></div></div></div></div><div class="testimonial band band-black"><div class="container"><blockquote><p translate="translate">...With Red Hat Insights, we can resolve critical issues before they occur. We no longer have to look at individual systems because we have one tool that gives us much more comprehensive and actionable information on our infrastructure.</p><p translate="translate">It\'s important to have a company like Red Hat that\'s working toward the same goals we are, that understands our business and what we\'re trying to accomplish, and understands our infrastructure and our businesses. As the market continues to change and new technologies are released, we\'ll continue to change as well, and we expect Red Hat to be an important partner to help us on that journey.</p></blockquote><author class="author"><strong>Jason Cornell,&nbsp;</strong>Manager of Cloud and Infrastructure Automation, Cox Automotive</author></div></div><div class="heartbleed band band-white"><div class="container"><h2 translate="translate" class="section-header text-center">Real-Time Risk Assessment</h2><div class="row"><div class="col-sm-8 col-sm-offset-2"><img src="images/g_heartbleed.png"/></div></div></div></div><div class="whitepaper band band-whispy"><div class="container"><h2 translate="translate" class="section-header text-center">Related Resources</h2><div class="flexgrid equalheights related-resources"><div class="row"><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Red Hat Insights Blog</h4><p translate="translate">Want to learn about the newest Red Hat Insights features and discover how to get the most out of the Insights service?</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://access.redhat.com/blogs/insights" translate="translate" class="btn">Read Blog Posts</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Datasheet</h4><p translate="translate">Learn about the benefits Insights can provide and technical requirements.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="images/rh-insights-datasheet-3-2017.pdf" translate="translate" class="btn">Read More</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">2017 Summit Announcement</h4><p translate="translate">Predict and prevent problems before they occur in your IT infrastructure with actionable intelligence powered by Red Hat.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://www.redhat.com/en/about/press-releases/red-hat-delivers-analytics-driven-automation-latest-version-insights-ansible-integration" translate="translate" class="btn">View Press Release</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Virtual Security Event</h4><p translate="translate">Hear Mayo Clinic explain how they used Red Hat Insights to proactively intercept security risks.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://vts.inxpo.com/Launch/Event.htm?ShowKey=31574" translate="translate" class="btn">View Virtual Event</a></div></div></div></div></div></div></div><div class="video band band-gray-light"><div class="container"><div class="row"><div class="col-sm-12"><h2 translate="translate" class="section-header text-center">See Insights in Action</h2></div></div><div class="row"><div class="col-sm-12 text-center"><div class="file-video"><iframe width="1139" height="641" src="https://www.youtube.com/embed/t1tlntxyJyc" frameborder="0" allowfullscreen="allowfullscreen" class="media-youtube-player rh-analytics-youtube"></iframe></div></div></div></div></div>'),
e.put("js/components/actions/actionsBreadcrumbs/actionsBreadcrumbs.html",'<div class="actions-breadcrumbs"><ol ng-show="getCrumbs().length" class="breadcrumb actions-crumbs"><li ng-repeat="crumb in getCrumbs()" ng-class="{active: $last}" ng-show="getCrumbs().length &gt; 1"><a ng-hide="$last" ng-click="crumbClick(crumb)">{{crumb.label | translate | titlecase}}</a><span ng-show="$last &amp;&amp; $index &lt; 2">{{crumb.label| translate | titlecase }}</span><span ng-show="$last &amp;&amp; $index &gt;= 2">{{crumb.label| translate}}</span></li></ol></div>'),e.put("js/components/actions/actionsCategory/actionsCategory.html",'<div ng-show="getLoadingDetails()" class="row"><div class="col-sm-12"><div class="spinner"></div><span translate="translate">Loading Reports…</span></div></div><div ng-hide="getLoadingDetails()" class="row chart-header margin-top"><div class="col-xs-12"><h1 class="page-title">{{getTitle() | translate | titlecase}}</h1></div></div><div class="row row-short"><div class="col-xs-12"><actions-breadcrumbs class="actions-breadcrumbs"></actions-breadcrumbs></div></div><div class="row row-short"><div class="col-xs-12"><actions-filters></actions-filters></div></div><div class="content-wrap"><div ng-init="predicate = \'severityNum\'; reverse=\'true\'" class="row row-short"><div class="col-sm-12"><!--label(translate) OrderBy--><div id="rha-actions-table" class="content-block content-block-card-filters"><header class="header"><div class="content-tabular"><ul class="filters"><li class="width100 text-filter"><input type="text" name="filter" placeholder="Filter"/></li><li ng-class="predicate | sortClass:\'name\':reverse" ng-click="predicate = \'name\'; reverse=!reverse" class="title sortable width60"><span translate="translate">Hostname</span><i ng-class="{\'fa-sort-desc\' : reverse &amp;&amp; predicate===\'name\', \'fa-sort-asc\' : !reverse &amp;&amp; predicate===\'name\', \'fa-sort\': predicate!==\'name\'}" class="fa"></i></li><li ng-class="predicate | sortClass:\'severityNum\':reverse" ng-click="predicate = \'severityNum\'; reverse=!reverse" ng-hide="isActions()" class="title sortable width20">Type<i ng-class="{\'fa-sort-desc\' : reverse &amp;&amp; predicate===\'severityNum\', \'fa-sort-asc\' : !reverse &amp;&amp; predicate===\'severityNum\', \'fa-sort\': predicate!==\'severityNum\'}" class="fa"></i></li><li ng-class="predicate | sortClass:\'value\':reverse" ng-click="predicate = \'value\'; reverse=!reverse" class="title sortable width20 text-right-sm"><span translate="translate">Count</span><i ng-class="{\'fa-sort-desc\' : reverse &amp;&amp; predicate===\'value\', \'fa-sort-asc\' : !reverse &amp;&amp; predicate===\'value\', \'fa-sort\': predicate!==\'value\'}" class="fa"></i></li></ul></div></header></div><div ng-repeat="group in getData() | orderObjectBy:predicate:reverse" ng-class="{active: group.id === getRule()}" class="content-block content-block-card"><header ng-click="arcClick(group)" class="header gray"><div class="content-tabular"><ul><li ng-click="arcClick(group)" class="title width70">{{group.name | translate}}</li><li class="width10"><div class="dropdown subcontext-menu text-right-sm"><button id="dropdownMenu1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" class="btn btn-default dropdown-toggle"><i class="fa fa-wrench"></i><span class="caret"></span></button><ul aria-labelledby="dropdownMenu1" class="dropdown-menu"><li><a href="#">Action</a></li><li><a href="#">Another action</a></li><li><a href="#">Something else here</a></li><li role="separator" class="divider"></li><li><a href="#">Separated link</a></li></ul></div></li><li ng-click="arcClick(group)" class="count width20 text-right"><!-- trucate this number to 8 digits--><strong>{{ group.value }} Actions&nbsp;&nbsp;</strong><i class="fa fa-exclamation-circle red"></i></li></ul></div></header><div class="content"><div class="content-tabular"><ul><li ng-hide="isActions()" class="severity width80"><strong>Action type: &nbsp;&nbsp;</strong><severity-icon severity="group.severity"></severity-icon><span class="sev">&nbsp;&nbsp;{{ group.severity | translate }}</span></li><li ng-click="toggleRule(group)" ng-if="!isActions()" class="width20 text-right"><a ng-click="ackAction(group)" ng-hide="isSystemAlert(group)" translate="translate"><span>Hide this rule&nbsp;&nbsp;</span><i class="fa fa-eye-slash"></i></a></li></ul></div></div></div></div></div><div class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div>'),e.put("js/components/actions/actionsDetails/actionsDetails.html",'<div ng-show="getLoadingDetails()"><div class="spinner"></div><span translate="translate">Loading Reports…</span></div><div ng-hide="getLoadingDetails()" class="row chart-header"><div class="col-xs-12"><h1 class="page-title">{{getTitle() | translate | titlecase}}</h1></div></div><div class="row row-short"><div class="col-xs-12"><actions-breadcrumbs class="actions-breadcrumbs"></actions-breadcrumbs></div></div><div ng-hide="getLoadingDetails()" class="row row-short"><div class="col-xs-12"><actions-filters></actions-filters></div></div><div class="content-wrap"><div ng-init="predicate = \'severityNum\'; reverse=\'true\'" class="row row-short"><div class="col-xs-12"><div id="legend" class="legend"><table id="rha-actions-table" class="table ng-table"><thead><tr><th ng-class="predicate | sortClass:\'name\':reverse" ng-click="predicate = \'name\'; reverse=!reverse" class="sortable"><div class="sort-indicator"><span class="chart-icon"></span><span translate="translate">Section</span></div></th><th style="width: 30px" ng-class="predicate | sortClass:\'severityNum\':reverse" ng-click="predicate = \'severityNum\'; reverse=!reverse" ng-hide="isActions()" class="text-center sortable"><div translate="translate" class="sort-indicator">Sev</div></th><th width="80px" ng-class="predicate | sortClass:\'value\':reverse" ng-click="predicate = \'value\'; reverse=!reverse" class="text-center sortable"><div translate="translate" class="sort-indicator">Count</div></th><th style="width: 40;" ng-hide="isActions()" class="text-center"></th></tr></thead><tbody><tr ng-repeat="group in getData() | orderObjectBy:predicate:reverse" ng-class="{active: group.id === getRule()}" class="legend-item"><td ng-click="arcClick(group)"><span ng-style="{borderColor: group.color || \'inherit\'}" class="icon-circle"></span>{{group.name | translate}}</td><td ng-click="arcClick(group)" ng-hide="isActions()" class="filter-on text-center"><severity-icon severity="group.severity"></severity-icon></td><td ng-click="arcClick(group)" class="text-center">{{ group.value }}</td><td ng-click="toggleRule(group)" ng-if="!isActions()" class="view-toggle text-center"><a ng-click="ackAction(group)" ng-hide="isSystemAlert(group)" translate="translate"><span>Hide</span></a></td></tr></tbody></table></div></div></div><div class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div>'),e.put("js/components/actions/actionsFilters/actionsFilters.html",'<div><filter-button></filter-button><div ng-show="getShowFilters()" class="ng-animate-enabled slide action-filters"><div class="row"><div class="col-sm-12"><product-select></product-select></div><div class="col-sm-12"><div ng-show="getSelectedProduct() === &quot;osp&quot;"><osp-deployment-select></osp-deployment-select><!--osp-type-multi-button //GET /latest/rules doesn\'t support roles yet--></div><div ng-show="getSelectedProduct() === &quot;rhev&quot;"><!--rhev-type-multi-button //GET /latest/rules doesn\'t support roles yet--></div><div ng-show="getSelectedProduct() === &quot;docker&quot;"><docker-host-select></docker-host-select><!--docker-type-multi-button //GET /latest/rules doesn\'t support roles yet--></div></div><div class="col-sm-12"><group-select round="false"></group-select></div><div class="col-md-12"><severity-multi-button></severity-multi-button></div></div></div><div ng-hide="getShowFilters()"><filter-summary valid-fields="validSummaryFields"></filter-summary></div></div>'),e.put("js/components/actions/actionsRule/actionsRule.html",'<!--platform-filter--><div class="row"><div class="col-sm-12"><actions-rule-filters></actions-rule-filters></div></div><div ng-hide="loading" class="content-wrap"><actions-breadcrumbs ng-hide="loading" class="actions-breadcrumbs push-top"></actions-breadcrumbs><section class="actions-rule-details gray"><h2><div ng-if="config.isPlannerEnabled" class="pull-right"><ansible-icon value="ruleDetails.ansible"></ansible-icon></div>{{ruleDetails.description}}</h2><p ng-bind-html="ruleDetails.generic_html | trust_html"></p><all-severity-icons rule="ruleDetails" ng-if="!loading"></all-severity-icons></section><section><div class="row"><div class="col-sm-12 text-center-sm"><h3 translate="translate" ng-if="ruleDetails.type !== &quot;osp&quot;">{{allSystems.length}} Impacted Systems</h3><h3 translate="translate" ng-if="ruleDetails.type === &quot;osp&quot;">Impacted Deployments</h3></div></div></section><div infinite-scroll="doScroll()" infinite-scroll-disabled="disableScroll()" infinite-scroll-immediate-check="false"><div ng-show="getListType() === listTypes.card" class="card-table-header"><div class="row"><div class="col-sm-4"><input tooltip="Select All" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="checkboxes.checkboxChecked(checkboxes.checked, ruleSystems)" class="action-checkbox"/><label translate="translate" ng-click="sort(\'system_type_id\')">&nbsp; Type</label></div><div class="col-sm-4"><strong translate="translate" ng-click="sort(\'toString\')">Name &nbsp;</strong><span ng-if="checkboxes.totalChecked">&nbsp;({{checkboxes.totalChecked}} Selected)</span></div><div class="col-sm-4 text-right"><strong translate="translate" ng-click="sort(\'report_count\')">Action Count</strong></div></div></div><!-- Show Create Playbook, Add to Plan if at least one system has been selected--><div class="row row-short"><div class="col-sm-3 col-lg-2"><div class="dropdown"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" translate="translate" ng-disabled="!checkboxes.totalChecked || !config.isPlannerEnabled" class="btn btn-default dropdown-toggle">Actions<span class="caret"></span></button><ul class="dropdown-menu"><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(true)" translate="translate">Create a new Plan/Playbook<ansible-icon value="true" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(false)" ng-disabled="!plans.future.length &amp;&amp; !plans.unscheduled.length" translate="translate">Add to existing Plan/Playbook<ansible-icon value="plans.future.length || plans.unscheduled.length" show-tooltip="false" class="inline-left"></ansible-icon></a></li></ul></div></div><div class="col-sm-6 col-sm-offset-3 col-lg-offset-4"><list-type class="text-right-sm"></list-type></div></div><div class="row row-short"><div class="col-sm-12"><system-card ng-repeat="system in ruleSystems" system="system" rule="ruleDetails" checkboxes="checkboxes" ng-show="getListType() === listTypes.card"></system-card></div></div><div ng-show="getListType() === listTypes.table" class="row row-short"><div class="col-sm-12"><table class="table nomar ng-table table-fixed"><thead><tr><th style="width: 30px"><input tooltip="Select All" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="checkboxes.checkboxChecked(checkboxes.checked, ruleSystems)" class="action-checkbox"/></th><th style="width: 27%;" ng-class="predicate | sortClass:\'system_type_id\':reverse" ng-click="sort(\'system_type_id\')" class="sortable"><div translate="translate" class="sort-indicator">Type</div></th><th ng-class="predicate | sortClass:\'toString\':reverse" ng-click="sort(\'toString\')" class="sortable"><div translate="translate" class="sort-indicator">Name</div></th><th style="width: 27%;" ng-class="predicate | sortClass:\'last_check_in\':!reverse" ng-click="sort(\'last_check_in\')" class="sortable"><div translate="translate" class="sort-indicator">Reported </div></th></tr></thead><tbody><tr ng-click="checkboxes.rowClick($event, system.system_id)" ng-mousedown="checkboxes.rowClick($event, system.system_id)" ng-class="{\'stale\': !system.isCheckingIn}" ng-repeat="system in ruleSystems" data-id="{{system.system_id}}"><td style="width: 30px"><input type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" class="selectme"/></td><td style="width: 27%;"><type-icon type-id="system.system_type_id" include-text="true"></type-icon></td><td class="break"><a ng-click="showSystem(system)">{{ system.toString }}</a></td><td style="width: 27%;">{{ ::system.last_check_in | timeAgo}}</td></tr></tbody></table></div></div></div><div ng-hide="loading" class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div><div ng-show="loading" class="margin-top"><div class="text-center"><div class="spinner spinner-lg"></div></div></div>'),e.put("js/components/actions/actionsRuleFilters/actionsRuleFilters.html",'<div class="actions-rule-filters ui-filters"><div class="row"><!--.col-sm-4--><!--  product-select--><div class="col-sm-3"><check-in-select></check-in-select></div><div class="col-sm-6 col-sm-offset-3"><label translate="translate" class="invisible">Search</label><search-box on-search="search.doFilter(model)"></search-box></div><!--.col-sm-4div(ng-show=\'getSelectedProduct() === "osp"\')\n  osp-deployment-select\n  //osp-type-multi-button //GET /latest/rules doesn\'t support roles yet\ndiv(ng-show=\'getSelectedProduct() === "rhev"\')\n  //rhev-type-multi-button //GET /latest/rules doesn\'t support roles yet\ndiv(ng-show=\'getSelectedProduct() === "docker"\')\n  docker-host-select\n  //docker-type-multi-button //GET /latest/rules doesn\'t support roles yet--></div><div class="row row-short"><div class="col-sm-6"><a ng-click="resetFilters()"><strong>Reset filters &nbsp;</strong><i class="fa fa-refresh"></i></a></div><div class="col-sm-6 text-right"><expand-all-button ng-show="!loading &amp;&amp; !loadingSystems"></expand-all-button></div></div></div>'),e.put("js/components/actions/severitySummary/severitySummary.html",'<div class="widget severity-summary"><ul><li><div ng-if="ruleCount.info || !loaded" ui-sref="app.topic({id: \'low-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Low\' | translate}}</strong><span ng-if="(ruleCount.info / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.info / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.info / ruleCount.total | toWidth" class="progress green"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.info &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of low severity</span></div></li><li><div ng-if="ruleCount.warn || !loaded" ui-sref="app.topic({id: \'medium-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Medium\' | translate}}</strong><span ng-if="(ruleCount.warn / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.warn / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.warn / ruleCount.total | toWidth" class="progress yellow"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.warn &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of medium severity</span></div></li><li><div ng-if="ruleCount.error || !loaded" ui-sref="app.topic({id: \'high-risk\'})" class="pointer"><div class="metrics"><strong>{{\'High\' | translate}}</strong><span ng-if="(ruleCount.error / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.error / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.error / ruleCount.total | toWidth" class="progress orange"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.error &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of high severity</span></div></li><li><div ng-if="ruleCount.critical || !loaded" ui-sref="app.topic({id: \'critical-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Critical\' | translate}}</strong><span ng-if="(ruleCount.critical / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.critical / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.critical / ruleCount.total | toWidth" class="progress red"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.critical &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of critical severity</span></div></li></ul></div>'),e.put("js/components/actions/systemSummary/systemSummary.html",'<div class="widget key-issues"><div class="row"><div class="col-sm-12"><div ng-if="stats.systems.affected &gt; 0 || !loaded" ui-sref="app.topic({id: \'critical\'})" class="pointer"><div class="metrics"><strong translate="translate">{{stats.systems.affected}} of {{stats.systems.total}} systems have critical issues</strong></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="stats.systems.affected / stats.systems.total | toWidth" class="progress red"></div><div class="bar"></div></div></div><div ng-if="stats.systems.affected === 0 &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of critical severity</span></div></div></div></div>'),e.put("js/components/announcements/announcementsScroll/announcementsScroll.html",'<div class="col-sm-12"><!-- add the \'active\' class only when the caret has been clicked and the notification is expanded--><h3 ng-if="items.length === 0" translate="translate" class="text-center">You have no announcements.</h3><div ng-repeat="a in announcements" ng-class="{\'acked\': a.acked}" class="content-block content-block-outline announcement"><header id="{{::a.id.toString()}}" class="header gray"><div class="row"><div class="col-sm-8 col-md-9 col-lg-10"><div ng-click="permalink(a.id.toString(), true, 30)" class="title pointer"><span>{{a.title}}</span></div></div><div class="col-sm-4 col-md-3 col-lg-2 text-right"><date><strong>{{ (a.start || a.created_at) | date }}&nbsp;&nbsp;</strong></date><span ng-class="{\'read\' : read}" class="message-status-toggle"><i ng-if="a.acked" ng-click="ackAnnouncement(a)" class="fa fa-check-circle-o acked"></i><i ng-if="!a.acked" ng-click="ackAnnouncement(a)" class="fa fa-circle-o"></i></span></div></div></header><div class="content"><div ng-if="canCreate" class="row"><div class="col-sm-9"><div ng-if="canCreate &amp;&amp; a.start || a.end" class="row"><div class="col-sm-12"><strong translate="translate">Start/End:&nbsp;</strong>{{a.start | date}} - {{a.end | date}}</div></div><div ng-if="a.body" class="row row-short"><div class="col-sm-12"><p>{{a.body}}</p></div></div></div><div class="col-sm-3 text-right"><strong><a title="Delete" ng-click="deleteAnnouncement(a)">Delete</a><div class="sep"></div><a title="Edit" ng-click="editAnnouncement(a)">Edit</a></strong></div></div><!-- show dismiss button if announcement has not been acked--><div ng-if="!canCreate &amp;&amp; !a.acked" class="row"><div class="col-sm-8"><p>{{a.body}}</p></div><div class="col-sm-4"><button ng-click="ackAnnouncement(a)" class="btn">Dismiss</button></div></div><div ng-if="!canCreate &amp;&amp; a.acked" class="row"><div class="col-sm-12"><p>{{a.body}}</p></div></div></div><!--footer.footer.gray(ng-if="canCreate")--></div></div>'),e.put("js/components/card/systemCard/systemCard.html",'<div ng-class="{\'stale\': !system.isCheckingIn}" class="system-card"><card expandable="expandable" on-toggle="toggleContent(ctx)"><card-header><div class="row"><div class="col-sm-4"><div style="display: inline-block;padding:1px;" tooltip="{{checkboxTooltip}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top"><input ng-if="checkboxes" type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" ng-disabled="!selectable" class="selectme"/>&nbsp;&nbsp;</div><type-icon type-id="system.system_type_id" ng-if="!loading" include-text="true"></type-icon><span ng-if="!system.isCheckingIn">&nbsp;(stale system)</span><i ng-if="loading" class="fa spinner-xs spinner"></i></div><div class="col-sm-4"><div class="ellipsis-wrapper"><strong title="{{hostnameTitle}}" ng-click="showActions(); $event.stopPropagation();" tooltip="{{getSystemName(system)}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="hostname">&nbsp;{{getSystemName(system)}}</strong></div></div><div class="col-sm-4 text-right"><a ng-click="showActions(); $event.stopPropagation();" class="action-count"><span translate="translate" translate-n="system.report_count" translate-plural="{{$count}} Actions" class="text">{{system.report_count}} Action</span><span ng-class="{\'success\': !system.report_count, \'fail\': system.report_count}" class="pull-right status-icon"><i ng-click="showActions(); $event.stopPropagation();" ng-class="{\'no-action\': !system.report_count, \'yes-action\': system.report_count}" class="fa"></i></span></a></div></div></card-header><card-content><div ng-if="!system.isCheckingIn"><strong>Last checkin:&nbsp;</strong><span ng-hide="system.last_check_in" translate="translate">never</span><span ng-show="system.last_check_in">{{system.last_check_in | timeAgo}}</span></div><div ng-if="hasFamilyMembers()" class="separation-header"><h4>Related Systems</h4></div><!-- Family members--><div class="row"><div class="col-sm-12"><div ng-if="hasFamilyMembers()" class="family-members"><div class="row"><link-group ng-repeat="linkGroup in linkGroups | orderBy: &quot;+priority&quot;" group="linkGroup.members" typeid="linkGroup.system_type_id" class="link-group col-md-12"></link-group></div><!-- System metadata--><div class="separation-header metadata-separator"><h4>System Metadata</h4></div></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="metadata"><system-metadata ng-if="!$parent.card.collapsed" system="system"></system-metadata></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="system-card-actions"><div translate="translate" ng-if="config.isPlannerEnabled" ng-disabled="!system.report_count" ng-click="showMaintenanceModal(system, null, rule)" class="btn btn-outline btn-xs">Add to Plan/Playbook</div><div translate="translate" ng-disabled="!selectable" ng-click="unregister()" class="btn btn-outline btn-xs">Unregister</div></div></div></div></card-content><card-footer></card-footer></card></div>'),e.put("js/components/config/dev/dev.html",'<div class="dev"><div class="user"><h2>Demo Mode<div><button ng-show="user.demo_mode || user.is_internal" ng-click="demoModeButtonOnClick()" class="btn btn-small">{{getDemoModeButtonText()}}</button></div></h2><h2>API Prefix</h2><table><tbody><tr><td>Presets</td><td><select ng-options="v as k for (k, v) in presets.apiPrefix" ng-model="tmp.apiPrefix" ng-change="updateApiPrefix()"></select></td></tr><tr><td>Choose your own adventure</td><td><input ng-model="tmp.apiPrefix" class="full-width"/></td></tr></tbody></table><h2>API Version</h2><table><tbody><tr><td>Presets</td><td><select ng-options="v for v in presets.apiVersions" ng-model="tmp.apiVersion" ng-change="updateApiVersion()"></select></td></tr></tbody></table><div style="padding-top: 20px;"><button ng-click="save()" class="btn btn-small pull-right">Save API Settings</button></div><h2>Fake user info</h2><table><tbody><tr><td>email</td><td><input ng-model="user.email"/></td></tr><tr><td>name</td><td><input ng-model="user.first_name"/><input ng-model="user.last_name"/></td></tr></tbody></table><h2>Fake Entitlements</h2><table><tbody><tr><td>Presets</td><td><select ng-options="k as k for (k, v) in presets.entitlements" ng-model="tmp.tmpEnt" ng-change="setEntitlements()"></select></td></tr><tr><td> State</td><td><pre>{{getPretty(user.current_entitlements)}}</pre></td></tr></tbody></table></div></div>'),e.put("js/components/config/groups/groups.html",'<div class="groups"><section><div ng-bind="message" ng-show="message.length &gt; 0" role="alert" class="alert alert-danger"></div><group-form></group-form></section><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading group list info …</span></section><section><div class="row"><div class="col-xs-12"><h2 ng-show="!loading" translate="translate" class="page-title">Groups List</h2><div ng-show="isCreating" class="text-center"><div class="spinner spinner-lg"></div><span translate="translate">Creating group …</span></div></div></div><div class="row"><div class="col-xs-12"><div class="group-list"><group ng-repeat="group in groups | orderBy:\'display_name\'" class="group"></group></div></div></div></section></div>'),e.put("js/components/config/hidden/hidden.html",'<div class="acks row active"><div class="col-md-8"><h2 translate="translate" class="page-title">Hidden Rules</h2><p translate="translate" translate-n="acks.length" translate-plural="You currently have {{$count}} hidden rules.">You currently have 1 hidden rule.</p><p translate="translate"><strong>Note: </strong>These are account wide. You must be an Org Admin to make these changes.</p></div><div class="col-md-12"><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading hidden rules…</span></section></div><div class="col-md-12"><section ng-hide="loading"><table ng-show="acks.length" class="table table-striped"><thead><tr><th translate="translate">Category</th><th translate="translate">Rule</th><th></th></tr></thead><tbody><tr ng-repeat="ack in acks"><td>{{ack.rule.category}}</td><td>{{ack.rule.description}}</td><td><div ng-click="delete(ack)" class="fa fa-times pointer pull-right"></div></td></tr></tbody></table></section></div></div>'),e.put("js/components/config/permissions/permissions.html",'<div class="user-permissions"><div class="row"><div class="col-xs-12"><input ng-model="newPermission.sso_username"/><select ng-options="p as p.label for p in permissions" ng-model="tmpPermission"></select><div ng-click="addNewPermission()" class="btn">Add</div></div></div><div class="row group-list"><div ng-repeat="user in users | filter:newPermission.sso_username" class="col-sm-4"><div class="group user-permission"><div class="name header"><a ng-click="newPermission.sso_username = user">{{user}}</a></div><div class="content"><div class="permissions"><div ng-repeat="p in userMap[user]" class="perm">{{p.permission.label}}<div ng-click="removeSingle(p)" class="remove fa fa-times"></div></div></div><div class="remove pull-right"><a ng-click="removeAll(userMap[user])" class="fa fa-times">Remove all!</a></div></div></div></div></div></div>'),e.put("js/components/config/messaging/messaging.html",'<div class="acks row active"><div class="col-md-12"><h2 translate="translate" class="page-title">Messaging Preferences</h2><p translate="translate">Manage Red Hat Insights email subscriptions for your personal login. All emails will be sent to the email address associated with your login. To update your address see <a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html" target="_blank">Personal Info</a>.</p><form ng-submit="save(form)" name="form"><fieldset><div ng-repeat="campaign in campaigns | orderBy:\'id\' track by campaign.id" class="checkbox push-bottom-narrow"><label><input type="checkbox" ng-model="campaign.enrolled"/>{{campaign.label|translate}}<div ng-if="campaign.description" class="small"> {{campaign.description|translate}}</div></label></div><button name="submit" ng-disabled="form.$pristine" translate="translate" class="btn btn-app">Update</button></fieldset></form></div></div>'),e.put("js/components/config/settings/settings.html",'<div class="acks row active"><div class="col-md-8"><h2 translate="translate" class="page-title">Settings</h2><p translate="translate"><strong>Note: </strong>These are account wide. You must be an Org Admin to make these changes.</p></div><div class="col-md-12"><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading Settings</span></section></div><div class="col-md-12"><section ng-hide="loading"><table class="table table-striped"><thead><tr><th translate="translate">Setting</th><th translate="translate">Value</th></tr></thead><tbody><tr ng-repeat="setting in settings"><td>{{setting.name}}</td><td> <input type="checkbox" ng-model="setting.value"/></td></tr></tbody></table><button ng-click="save()" translate="translate">Save</button></section></div></div>'),e.put("js/components/filterComponents/actionsMultiButton/actionsMultiButton.html",'<div class="actions-buttons"><multi-button buttons="actionsButtons" multiselect="true" allownone="false"></multi-button></div>'),e.put("js/components/filterComponents/actionsSelect/actionsSelect.html",'<div class="actions-select"><label translate="translate">System Health</label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div></div>'),e.put("js/components/filterComponents/categoryMultiButton/categoryMultiButton.html",'<div class="category-buttons"><multi-button buttons="categoryButtons" multiselect="false" allownone="false"></multi-button></div>'),e.put("js/components/filterComponents/checkInSelect/checkInSelect.html",'<div class="checkin-select"><label translate="translate">System Status</label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div></div>'),e.put("js/components/filterComponents/filterButton/filterButton.html",'<a ng-class="{active: getShowFilters()}" ng-click="toggleShowFilters()" class="btn btn-outline btn-xs filter-label"><i class="fa fa-filter fa-2x filter-button"></i>Filter</a>'),e.put("js/components/filterComponents/filterSummary/filterSummary.html",'<div ng-repeat="f in fields" class="summary-text"><span class="summary-name">{{f.name}}:&nbsp; </span><span class="summary-value">{{f.value}}</span><span ng-if="!$last">&nbsp;&nbsp;&nbsp;&nbsp;</span></div>'),e.put("js/components/filterComponents/hideIgnoredToggle/hideIgnoredToggle.html",'<div class="col-toggle"><label translate="translate" class="full-width">Hide Ignored</label><div class="switch"><input id="cmn-toggle-2" type="checkbox" ng-model="hideIgnored" ng-change="persistHideIgnored()" class="cmn-toggle cmn-toggle-square"/><label for="cmn-toggle-2"></label></div></div>'),e.put("js/components/filterComponents/productSelect/productSelect.html",'<div ng-if="!getRHELOnly()" class="environment-buttons"><label translate="translate">Platform</label><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle">{{getProductLabel(getSelectedProduct())}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="product in products"><a ng-click="doSelectProduct(product)">{{getProductLabel(product)}}</a></li></ul></div></div>'),
e.put("js/components/filterComponents/ruleStateMultiButton/ruleStateMultiButton.html",'<div class="rule-state-buttons"><multi-button buttons="ruleStateButtons" multiselect="false" allownone="false"></multi-button></div>'),e.put("js/components/filterComponents/searchBox/searchBox.html",'<div class="input-group"><span class="input-group-addon"><div class="i fa fa-search"></div></span><input type="text" autofocus="autofocus" placeholder="{{placeholder}}" ng-keypress="keyPressed($event)" ng-model="model" ng-change="change()" class="search-box form-control"/></div>'),e.put("js/components/filterComponents/severityMultiButton/severityMultiButton.html",'<div class="severity-buttons"><multi-button buttons="severityButtons" multiselect="false" allownone="false"></multi-button></div>'),e.put("js/components/group/views/form.html",'<div class="row"><form ng-submit="create(newGroup)"><div class="col-xs-12 col-sm-8 col-md-7"><label translate="translate">Create a new group</label><input ng-model="newGroup.display_name" placeholder="{{\'Enter new group name\'|translate}}" class="full-width"/></div><div class="col-xs-12 col-sm-4 col-md-2"><a ng-disabled="!newGroup.display_name" ng-click="create(newGroup)" class="pointer add-group"><i class="fa fa-plus">&nbsp;</i><span translate="translate">Add Group</span></a></div></form></div>'),e.put("js/components/group/views/group.html",'<div ng-click="isCollapsed = !isCollapsed" id="group-{{group.id}}" class="header pointer"><div class="row"><div class="col-xs-8 col-sm-11"><div class="host-info"><h4 class="host">{{group.display_name}}<small> &mdash; <span translate="translate" translate-n="group.systems.length" translate-plural="{{$count}} systems">1 system</span></small></h4></div></div><div class="col-xs-4 col-sm-1"><div class="options pull-right"><div ng-class="{\'fa-minus-square-o\':!isCollapsed, \'fa-plus-square-o\':isCollapsed}" class="fa"></div></div></div></div></div><div collapse="isCollapsed" class="content ng-animate-enabled"><div class="row"><system-table group="group" type="available"></system-table><system-table group="group" type="in"></system-table></div></div><div class="footer"><div class="row"><div class="col-xs-12"><a ng-click="deleteGroup(group)" translate="translate" class="pull-right pointer">Delete Group</a></div></div></div>'),e.put("js/components/inventory/inventoryActions/inventoryActions.html",'<div class="inventory-actions"><div class="row"><div class="col-sm-12 text-center-sm"><h3 translate="translate" translate-n="getTotal()" translate-plural="{{$count}} Systems" class="system-count">1 System</h3><span ng-if="checkboxes.totalChecked" translate="translate">&nbsp; ({{totalSystemsSelected}} Selected)</span><br/><a ng-click="registerSystem()" ng-if="isPortal" class="link"><span class="icon icon-inline"><i class="fa fa-plus"></i></span><strong translate="translate">Register More</strong></a></div></div></div>'),e.put("js/components/inventory/inventoryActions/unregisterConflict.html",'<div class="wrapper"><div class="unregister-conflict"><p translate="translate">The following systems types cannot be unregistered on their own:</p><ul><li ng-repeat="role in roles">{{role.name}} ({{role.count}}x)</li></ul><p translate="translate">Unregister their entire deployment to remove them.</p><p><strong translate="translate" translate-n="validCount" translate-plural="Do you want to proceed with the remaining {{$count}} systems?"> \nDo you want to proceed with the remaining 1 system?</strong></p></div></div>'),e.put("js/components/inventory/inventoryFilters/inventoryFilters.html",'<section class="gray inventory-filters ui-filters"><div class="row"><div class="col-sm-3"><check-in-select></check-in-select></div><div class="col-sm-3"><actions-select></actions-select></div><div class="col-sm-6"><label translate="translate" class="invisible">Search</label><search-box on-search="filter.setSearchTerm(model); filter.doFilter();" throttle="1000"></search-box></div></div><div class="row row-short"><div class="col-sm-6"><a ng-click="resetFilters()"><strong>Reset filters &nbsp;</strong><i class="fa fa-refresh"></i></a></div></div></section>'),e.put("js/components/inventory/system/system.html",""),e.put("js/components/maintenance/maintenanceCategorySelect/maintenanceCategorySelect.html",'<div class="category-select"><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}} ({{plans[selected.id].length}})</span><span class="caret dropdown-caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options" ng-if="plans[option.id].length || option.id !== &quot;suggested&quot;"><a ng-click="select(option)" ng-disabled="!plans[option.id].length &amp;&amp; option.id !== &quot;unscheduled&quot;">{{option.label}} ({{plans[option.id].length}})</a></li></ul></div></div>'),e.put("js/components/maintenance/maintenanceModal/maintenanceModal.html",'<div ng-class="{updating: loader.loading}" class="maintenance-plan-modal main-content updatable"><div ng-if="loader.loading" class="spinner spinner-lg"></div><div class="modal-actions"><div ng-click="close()" class="fa fa-close pull-right"></div></div><div class="modal-header"><div class="text-center"><i class="rh-icon-book"></i><h2 translate="translate">Plan / Playbook Builder</h2></div></div><div class="content-block"><div class="form-group"><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="newPlan" ng-value="true"/><strong>Create new plan</strong></label></div><div ng-click="!newPlan &amp;&amp; (newPlan = true)" class="col-sm-8"><input type="text" name="name" maxlength="255" ng-disabled="!newPlan" ng-model="newPlanAlias" placeholder="{{\'Plan Name\' | translate}}" autofocus="autofocus" class="form-control"/></div></div><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="newPlan" ng-value="false" ng-disabled="!availablePlans.length"/><strong>Add to existing plan</strong></label></div><div ng-click="newPlan &amp;&amp; (newPlan = false)" class="col-sm-8"><ui-select ng-model="selected.plan" append-to-body="false" ng-disabled="newPlan"><ui-select-match placeholder="Select a plan" class="form-control ui-select-match"><span ng-if="!selected.plan.name.length" translate="translate">Unnamed plan ({{selected.plan.maintenance_id}})</span><span ng-if="selected.plan.name.length">{{selected.plan.name}} ({{selected.plan.maintenance_id}})</span><span ng-if="selected.plan.start">&nbsp;- {{selected.plan.start | moment:\'LL\'}}</span></ui-select-match><ui-select-choices repeat="plan in availablePlans | searchMaintenancePlans: $select.search | orderBy:[\'start\', getPlanName, \'maintenance_id\']" group-by="planGroupFn" group-filter="planOrderFn" class="ui-select-choices"><span ng-if="!plan.name.length" translate="translate">Unnamed plan ({{plan.maintenance_id}})</span><span ng-if="plan.name.length">{{plan.name}} ({{plan.maintenance_id}})</span><span ng-if="plan.start">&nbsp; - {{plan.start | moment:\'LL\'}}</span></ui-select-choices></ui-select></div></div></div><div class="row available-actions"><div ng-if="plan &amp;&amp; tableParams &amp;&amp; mode === MODES.rule" class="content-block maintenance-plan rule"><div class="header bordered"><div class="title"><strong>{{rule.description}}</strong></div><all-severity-icons rule="rule" ng-if="!loader.loading"></all-severity-icons></div><div class="nopad table-responsive"><maintenance-table-systems params="tableParams" edit="tableEdit" item="plan" on-save="postSave()" on-cancel="close()"></maintenance-table-systems></div></div><div ng-if="plan &amp;&amp; tableParams &amp;&amp; mode === MODES.system" class="content-block maintenance-plan rule"><div class="header bordered"><span class="icon-inline"><type-icon type-id="system.system_type_id" include-text="false"></type-icon></span><a ng-click="showSystemModal(system)"><strong>{{system.toString}} &nbsp;&nbsp;</strong></a><span class="item"><strong translate="translate">Last check in:</strong><span ng-class="system | checkInStyle">&nbsp;&nbsp;{{system.last_check_in | timeAgo}}</span></span></div><div class="nopad table-responsive"><maintenance-table-actions params="tableParams" edit="tableEdit" item="plan" on-save="postSave()" on-cancel="close()"></maintenance-table-actions></div></div><div ng-if="plan &amp;&amp; tableParams &amp;&amp; fixableSystems.length &amp;&amp; mode === MODES.multi" class="content-block maintenance-plan rule"><div class="header bordered"><strong translate="translate" translate-n="fixableSystems.length" translate-plural="Available actions for {{$count}} systems">Available actions for 1 system</strong></div><div class="nopad table-responsive"><maintenance-table-multi params="tableParams" edit="tableEdit" item="plan" on-save="postSave()" on-cancel="close()"></maintenance-table-multi></div></div><div ng-if="tableParams &amp;&amp; !fixableSystems.length &amp;&amp; mode === MODES.multi" class="content-block"><div class="text-center"><strong><i class="fa fa-check-circle success inline-right"></i><span translate="translate">No problems to fix on selected systems.</span></strong></div></div></div></div></div>'),e.put("js/components/maintenance/maintenancePlan/maintenancePlan.html",'<div ng-class="{\'col-md-12 active\' : edit.isActive(plan.maintenance_id), \'col-md-6\': !edit.isActive(plan.maintenance_id)}" id="maintenance-plan-{{plan.maintenance_id}}" class="plan-outer-wrap"><div ng-class="{\'active\' : edit.isActive(plan.maintenance_id), pointer: !edit.isActive(plan.maintenance_id)}" class="plan-wrap"><div ng-class="{\'overdue\': plan.overdue &amp;&amp; !plan.silenced, updating: loader.loading}" class="content-block maintenance-plan updatable"><div ng-if="loader.loading" class="spinner spinner-lg"></div><div class="header plan-header"><div ng-class="{\'active\': edit.isActive(plan.maintenance_id), \'inactive\' : !edit.isActive(plan.maintenance_id)}" class="actions-panel"><i ng-if="edit.isActive(plan.maintenance_id) &amp;&amp; !isReadOnly()" ng-click="delete()" tooltip="{{\'Delete this plan\' | translate}}" class="fa fa-trash-o action"></i><i ng-click="minimize()" ng-show="edit.isActive(plan.maintenance_id)" class="fa fa-compress action"></i><i ng-click="silence()" ng-if="plan.overdue &amp;&amp; !plan.silenced" tooltip="{{\'Snooze this plan\' | translate}}" class="fa fa-moon-o action"></i></div><div ng-if="!editBasic.active &amp;&amp; (!plan.suggestion || plan.suggestion === \'accepted\')" class="details"><div class="header-title editable"><span ng-if="plan.overdue" class="icon-inline"><i class="fa fa-calendar-times-o red"></i></span><span ng-if="!editBasic.active &amp;&amp; plan.hidden &amp;&amp; isInternal" class="icon-inline"><i class="fa fa-eye-slash"></i></span><h2 ng-class="{\'red\': plan.overdue}" ng-dblclick="editBasic.toggle()" class="title"><span ng-if="plan.name.length" ng-dblclick="editBasic.toggle()">{{plan.name}} ({{plan.maintenance_id}})</span><span ng-if="!plan.name || !plan.name.length" translate="translate">Unnamed plan ({{plan.maintenance_id}})</span><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></h2><p ng-if="error" class="red">{{error}}</p></div><div ng-if="plan.start" class="date-time editable"><div ng-if="plan.start" class="start"><b>{{plan.start | moment:\'dddd, LL\'}}</b></div><div class="group"><i class="fa fa-clock-o"></i><time-range start="plan.start" end="plan.end" ng-dblclick="editBasic.toggle()" class="time-local"></time-range><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></div><div class="group"><i class="fa fa-clock-o"></i><span translate="translate">UTC&nbsp;</span><time-range start="plan.start" end="plan.end" timezone="\'UTC\'" ng-dblclick="editBasic.toggle()" class="time-utc"></time-range></div></div></div><div ng-if="editBasic.active" class="details-edit pull-left"><form novalidate="novalidate" name="editBasicForm" ng-submit="editBasic.save()" class="editable-form"><div ng-if="plan.suggestion === \'proposed\' &amp;&amp; isInternal" class="form-group"><label class="full-width red">Suggested plan</label><textarea placeholder="Describe why Red Hat is suggesting this plan" ng-model="editBasic.description" class="form-control"></textarea><hr/></div><div ng-class="{\'has-error\': editBasicForm.name.$invalid}" class="form-group nick"><label translate="translate">Plan Name:&nbsp;</label><input type="text" name="name" placeholder="{{\'Unnamed plan\' | translate}}" maxlength="255" ng-model="editBasic.name" class="form-control"/></div><div ng-class="{\'has-error\': editBasicForm.date.$invalid}" class="form-group title"><label translate="translate">Date:&nbsp;<i tooltip="{{editDateTooltip}}" class="fa fa-question-circle"></i></label><input type="text" name="date" id="planEditDate-{{plan.maintenance_id}}" date-time="date-time" ng-model="editBasic.start" view="date" min-view="date" max-view="date" format="LL" auto-close="true" highlights="calendarDates" date-change="dateChanged" class="form-control"/></div><div class="date-time"><div ng-class="{\'has-error\': editBasicForm.time.$invalid}" class="form-group form-group-inline"><label class="full-width">Start time:&nbsp;</label><input type="time" name="time" ng-model="editBasic.time" ng-change="editBasic.sync()" step="900" ng-required="editBasic.start" class="time"/></div><div ng-class="{\'has-error\': editBasicForm.number.$invalid}" class="form-group form-group-inline"><label class="full-width">Duration:&nbsp;</label><input type="number" name="duration" min="0" step="15" ng-model="editBasic.duration" ng-required="editBasic.start" class="duration"/></div></div><div ng-if="editBasic.start" class="form-group form-group-inline"><label class="full-width">UTC time:&nbsp;</label>{{editBasic.start | moment:\'LLL\':\'UTC\'}}</div><div class="form-group"><div role="group" class="pull-right btn-group"><button type="button" ng-click="editBasic.toggle()" translate="translate" class="btn btn-sm btn-blank action">Cancel</button><button type="submit" ng-disabled="editBasicForm.$invalid" translate="translate" class="btn btn-sm btn-accent action">Save</button></div></div></form></div><div ng-if="!editBasic.active &amp;&amp; (plan.suggestion === \'proposed\' || plan.suggestion === \'rejected\')" class="details-suggested editable"><p class="description"><span ng-if="plan.hidden &amp;&amp; isInternal" class="icon-inline"><i class="fa fa-eye-slash"></i></span><span ng-if="plan.suggestion === \'rejected\'" class="icon-inline"><i tooltip="This suggestion was rejected by the customer" class="fa fa-meh-o red"></i></span><strong ng-show="plan.description" ng-dblclick="editBasic.toggle()">{{plan.description}}</strong><strong ng-hide="plan.description" ng-dblclick="editBasic.toggle()" translate="translate">This is a plan suggested by Red Hat</strong><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></p></div></div><div ng-class="{\'hidden\' : edit.isActive(plan.maintenance_id)}" class="plan-summary"><div class="metrics"><strong>{{plan.actionsDone}}/{{plan.actions.length}}&nbsp;</strong><span translate="translate">Actions resolved</span></div><div class="progress-bar"><div ng-style="plan.actionsDone / plan.actions.length | toWidth" class="progress"></div><div class="bar"></div></div></div><!-- Edit mode--><div ng-if="edit.isActive(plan.maintenance_id)" class="content content-tabs nobordertop active"><tabset type="noformat" vertical="false" justified="true" role="tablist" class="nav nav-justified"><!-- Actions Tab--><tab role="tabpanel" heading="{{\'Actions\' | translate}}" deselect="addRule.reset()"><div ng-hide="isReadOnly()" class="add-actions"><div class="row"><div class="col-sm-12"><ui-select ng-model="addRule.selected" append-to-body="false" ng-disabled="!getAvailableRules().length" class="dropdown-blue maintenance-page-select"><ui-select-match placeholder="{{\'Add action\' | translate}}" class="form-control ui-select-match">{{$select.selected._displayAs}}</ui-select-match><ui-select-choices repeat="item in (getAvailableRules() | filter: {_displayAs: $select.search}) | orderBy:[\'-severityNum\', \'-report_count\'] track by item.rule_id" class="ui-select-choices"><div class="row"><div class="col-sm-8 valign-bottom"><ansible-icon value="item.ansible" show-planner-line="false" class="inline-right"></ansible-icon><span tooltip="{{item._displayAs}}" class="limit-90">{{item._displayAs}}&nbsp;</span><b>({{item.report_count}})</b></div><!--trimmed-text(text="{{item._displayAs}}" length=70)--><div class="col-sm-4 text-right"><severity-icon severity="item.severity" type="severity" class="pull-right"></severity-icon></div></div></ui-select-choices></ui-select></div></div><div ng-if="addRule.selected" class="row row-short"><div class="col-sm-12"><div class="available-actions table-responsive"><maintenance-table-systems params="tableParams(addRule.selected, true, true)" edit="true" item="addRule.selected" ng-if="addRule.selected" on-save="addRule.reset()" on-cancel="addRule.reset()"></maintenance-table-systems></div></div></div></div><div ng-repeat="rule in (plan.rules | orderBy:[\'-severityNum\', \'-actions.length\', \'rule_id\'] | offset:pager.offset | limitTo:pager.perPage) track by rule.id" class="content-block rule"><div ng-init="tableEdit = false" class="header bordered"><div class="title"><ansible-icon value="rule.ansible" show-planner-line="false" class="inline-right"></ansible-icon><strong>{{rule.description}}</strong><span ng-hide="isReadOnly()" class="pull-right"><a ng-hide="tableEdit" ng-click="tableEdit = true"><strong translate="translate" tooltip="{{\'Click to add/remove affected systems\' | translate}}">Edit</strong></a><i ng-if="tableEdit" ng-click="removeActions(rule.actions)" tooltip="{{\'Remove this action\' | translate}}" class="fa fa-trash-o"></i></span></div><all-severity-icons rule="rule" ng-if="!loading"></all-severity-icons></div><div class="content nopad table-responsive"><maintenance-table-systems params="tableParams(rule, true, false)" edit="tableEdit" item="rule"></maintenance-table-systems></div></div><pagination ng-if="plan.rules.length &gt; pager.perPage" total-items="plan.rules.length" ng-model="pager.currentPage" items-per-page="pager.perPage" ng-change="pager.update()" class="pull-right pagination-blue"></pagination></tab><!-- Systems Tab--><tab role="tabpanel" heading="{{\'Systems\' | translate}}" deselect="addSystem.reset()"><div ng-hide="isReadOnly()" class="add-actions"><div class="row"><div class="col-sm-5"><ui-select ng-model="addSystem.selected" append-to-body="false" ng-disabled="!getAvailableSystems().length" ng-if="systemTypes.length" class="dropdown-blue maintenance-page-select"><ui-select-match placeholder="{{\'Add system\' | translate}}" class="form-control ui-select-match">{{$select.selected._displayAs}}</ui-select-match><ui-select-choices repeat="item in (available.systems | filter: {_displayAs: $select.search}) | orderBy:[\'_displayAs\'] track by item._id" group-by="groupBySystemType" group-filter="groupFilter" ng-init="registerGroupChangeListener($select)" class="ui-select-choices">{{item._displayAs}} ({{item.report_count}})</ui-select-choices></ui-select></div></div><div ng-if="addSystem.selected" class="row row-short"><div class="col-sm-12"><div class="available-actions table-responsive"><maintenance-table-actions params="tableParams(addSystem.selected, false, true)" edit="true" item="addSystem.selected" ng-if="addSystem.selected" on-save="addSystem.reset()" on-cancel="addSystem.reset()"></maintenance-table-actions></div></div></div></div><div ng-repeat="system in (plan.systems | orderBy:[\'_name\', \'system_id\'] | offset:pager.offset | limitTo:pager.perPage) track by system.system_id" class="content-block system"><div class="header bordered"><span class="icon-inline"><type-icon type-id="system.system_type_id" include-text="false"></type-icon></span><a ng-click="showSystemModal(system)"><strong>{{system._name}} &nbsp;&nbsp;</strong></a><span class="item"><strong translate="translate">Last check in:</strong><span ng-class="system | checkInStyle">&nbsp;&nbsp;{{system.last_check_in | timeAgo}}</span></span><span ng-hide="isReadOnly()" class="pull-right"><a ng-hide="tableEdit" ng-click="tableEdit = true"><strong translate="translate" tooltip="{{\'Click to add/remove actions for this system\' | translate}}">Edit</strong></a><i ng-if="tableEdit" ng-click="removeActions(system.actions)" tooltip="{{\'Remove this system\' | translate}}" class="fa fa-trash-o"></i></span><div class="text-center red hidden"><strong>System restart required&nbsp;&nbsp;</strong><i class="fa fa-refresh"></i></div></div><div class="content nopad table-responsive"><maintenance-table-actions params="tableParams(system, false, false)" edit="tableEdit" item="system"></maintenance-table-actions></div></div><pagination ng-if="plan.systems.length &gt; pager.perPage" total-items="plan.systems.length" ng-model="pager.currentPage" items-per-page="pager.perPage" ng-change="pager.update()" class="pull-right pagination-blue"></pagination></tab></tabset></div><footer ng-show="edit.isActive(plan.maintenance_id)" class="footer"><a ng-if="isInternal &amp;&amp; !plan.hidden" ng-click="hidden(true)" class="btn btn-sm btn-default"><i class="fa fa-eye-slash inline-right"></i><span translate="translate">Hide</span></a><a ng-if="isInternal &amp;&amp; plan.hidden" ng-click="hidden(false)" class="btn btn-sm btn-default"><i class="fa fa-eye inline-right"></i><span translate="translate">Publish</span></a><a ng-if="plan.suggestion === \'proposed\' &amp;&amp; !plan.hidden" ng-click="accept()" class="btn btn-sm btn-accent"><i class="fa fa-check inline-right"></i><span translate="translate">Accept</span></a><a ng-if="plan.suggestion === \'proposed\' &amp;&amp; !plan.hidden" ng-click="reject()" class="btn btn-sm btn-default"><i class="fa fa-close inline-right"></i><span translate="translate">Ignore</span></a><a translate="translate" ng-click="exportPlan(plan.maintenance_id)" class="btn btn-sm btn-open-blue action pull-right"><i class="fa fa-download inline-right"></i><span translate="translate">Export CSV</span></a><a translate="translate" ng-click="generatePlaybook()" ng-disabled="!ansibleSupport" class="btn btn-sm btn-open-blue action pull-right"><i class="svg ansible-icon inline-right"><img src="images/l_ansible-blue.svg"/></i><span translate="translate">Generate Playbook</span></a></footer></div></div></div>'),e.put("js/components/maintenance/maintenancePlaybook/maintenancePlaybook.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close"></i></div><div class="modal-header"><div class="text-center"><i class="svg"><img src="images/l_ansible-black.svg"/></i><h2 translate="translate">Create Ansible Playbook</h2></div></div><!-- Screen 1 - Rules Without Plays--><div ng-if="step === RULES_WITHOUT_PLAYS &amp;&amp; rulesWithoutPlays.length &gt; 0" class="modal-body"><div class="row"><div class="col-sm-12"><p class="red"><b><span translate="translate" translate-n="rulesWithoutPlays.length" translate-plural="These rules">This rule</span><span translate="translate">&nbsp;will not be included in this Playbook.</span></b></p></div></div><div class="row"><div class="col-sm-12"><ul><li ng-repeat="rule in rulesWithoutPlays | orderBy:[\'category\',\'description\'] | limitTo:listLimit"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ rule.category }} </b>&gt; {{ rule.description }} for&nbsp;<b>{{rule.system_type.displayNameShort}}</b></li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; rulesWithoutPlays.length" ng-click="listLimit = undefined" translate="translate">View More ({{rulesWithoutPlays.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div><div class="row row-short"><div class="col-sm-12"><div class="text-center"><btn ng-click="generatePlaybook(plan.maintenance_id)" translate="translate" class="btn btn-accent">OK, proceed</btn></div></div></div></div><!-- Screen 2 - Resolve Ambiguous Resolutions--><div ng-if="step === RESOLVE_QUESTIONS" class="modal-body"><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title group-title-table"><table><tbody><tr><td><i ng-class="currentQuestion.rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ currentQuestion.rule.category }} &gt; {{ currentQuestion.rule.description }}</b></td></tr></tbody></table></div></div></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title"><i ng-class="currentQuestion.system_type.imageClass" class="fa fa-times-circle"></i><b>&nbsp; {{currentQuestion.system_type.displayName}}</b></div><div class="group-content"><ul><li ng-repeat="action in currentQuestion.systemsAffected | limitTo:listLimit | orderBy:\'+system.toString\'">{{action.system.toString}}</li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; currentQuestion.systemsAffected.length" ng-click="listLimit = undefined" translate="translate">View More ({{currentQuestion.systemsAffected.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title"><b translate="translate">Would you like to:</b></div><div class="group-content"><div ng-repeat="resolution in currentQuestion.resolutions" class="radio"><label for="resolution-type-{{$index}}"><input type="radio" ng-model="currentQuestion.resolution_type" name="resolution-type" id="resolution-type-{{$index}}" ng-value="resolution.resolution_type"/>{{resolution.description}}</label></div></div></div></div></div><div class="row"><div class="col-sm-12"><nav aria-label="Selection navigation"><ul class="pagination pagination-dots"><li ng-repeat="question in questions track by $index" ng-class="{\'active\': currentQuestion.index === $index}"><a ng-click="goToStep($index)" ng-class="{\'sr-only\': currentQuestion.index === $index, disabled: currentQuestion.hasAnswer}">{{$index + 1}}</a></li><li><a ng-click="goToStep(questions.length)">{{questions.length + 1}}</a></li></ul></nav></div></div></div><!-- Screen 3--><div ng-if="step === SUMMARY" class="modal-body"><div ng-if="error !== null" class="row"><div class="col-sm-12"><p class="red"><b>{{error}}</b></p></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-pretitle"><b translate="translate">This Playbook will resolve the following rules:</b></div></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="group"><div class="group-content"><ul><li ng-repeat="(key, rule) in rulesWithPlays | limitTo: listLimit"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ rule.category }}</b>&gt; {{ rule.description }} for&nbsp;<b>{{ rule.system_type.displayNameShort }}</b><ul ng-show="rule.solution !== undefined"><li>{{ rule.solution() }}</li></ul></li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; rulesWithPlays.length" ng-click="listLimit = undefined" translate="translate">View More ({{rulesWithPlays.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div></div></div><div class="row"><div class="col-sm-12"><nav aria-label="Selection navigation"><ul class="pagination pagination-dots"><li ng-repeat="question in questions track by $index"><a ng-click="goToStep($index)">{{$index + 1}}</a></li><li class="active"><a ng-click="goToStep(questions.length)" class="sr-only">{{questions.length + 1}}</a></li></ul></nav></div></div></div><div class="modal-footer"><ul ng-if="step === RESOLVE_QUESTIONS || step === SUMMARY" class="row pager pager-steps"><li class="previous col-sm-6"><a ng-click="prevStep()" ng-if="step === SUMMARY || currentQuestion.index &gt; 0 || rulesWithoutPlays.length &gt; 0" translate="translate" class="btn btn-accent"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;Previous</a></li><li ng-if="step !== SUMMARY" class="next col-sm-6"><a ng-click="nextStep()" translate="translate" class="btn btn-accent">Next&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></a></li><li ng-if="step === SUMMARY" class="next col-sm-6"><a ng-click="downloadPlaybook()" translate="translate" class="btn btn-accent">Download Playbook</a></li></ul></div>'),e.put("js/components/maintenance/maintenanceTable/maintenanceTableActions.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><table class="table nomar ng-table maintenance-table"><thead><tr><th ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">Action</div></th><th ng-class="table.sorter.getSortClass(\'rule.severityNum\')" ng-click="table.sorter.sort(\'rule.severityNum\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Total Risk</div></th><th ng-class="table.sorter.getSortClass(\'done\')" ng-click="table.sorter.sort(\'done\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Status</div></th></tr><tr ng-show="edit"><th colspan="4" class="filter"><input type="text" placeholder="Filter by rule name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><span ng-if="action._type === 2" class="icon-inline"><i tooltip="{{\'This action is already part of another plan\' | translate}}" class="fa fa-exclamation-circle"></i></span><a ng-click="table.showSystemModal(table.params.item, action.rule)" class="action">{{action.display}}</a></td><td class="text-center"><severity-icon severity="action.rule.severity" type="severity" label=""></severity-icon></td><td class="status text-center"><status-icon status="action.done"></status-icon></td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),e.put("js/components/maintenance/maintenanceTable/maintenanceTableFooter.html",'<tr ng-show="edit"><td colspan="{{cols || 4}}"><div role="group" class="pull-right btn-group"><button ng-click="table.cancel()" translate="translate" class="btn btn-sm btn-blank">Cancel</button><button ng-click="table.save()" ng-disabled="!checkboxes.totalChecked" translate="translate" class="btn btn-sm btn-accent">Save</button></div></td></tr><tr ng-if="table.filteredActions.length &gt; table.pager.perPage"><td colspan="{{cols || 4}}"><pagination total-items="table.filteredActions.length" ng-model="table.pager.currentPage" items-per-page="table.pager.perPage" ng-change="table.page()" class="pull-right pagination-blue"></pagination></td></tr>'),e.put("js/components/maintenance/maintenanceTable/maintenanceTableMulti.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><!-- cols set so that footer knows how many cols to span--><table ng-init="cols = 5" class="table nomar ng-table maintenance-table"><thead><tr><th ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">Action</div></th><th ng-class="table.sorter.getSortClass(\'rule.severityNum\')" ng-click="table.sorter.sort(\'rule.severityNum\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Total Risk</div></th><th ng-class="table.sorter.getSortClass(\'rule.ansible\')" ng-click="table.sorter.sort(\'rule.ansible\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Ansible</div></th><th ng-class="table.sorter.getSortClass(\'rule.report_count\')" ng-click="table.sorter.sort(\'rule.report_count\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Systems</div></th></tr><tr ng-show="edit"><th colspan="5" class="filter"><input type="text" placeholder="Filter by rule name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><span class="wrap">{{action.display}}</span></td><td class="text-center"><severity-icon severity="action.rule.severity" type="severity" label=""></severity-icon></td><td class="status text-center"><ansible-icon value="action.rule.ansible"></ansible-icon></td><td class="status text-center">{{action.rule.report_count}}</td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),
e.put("js/components/maintenance/maintenanceTable/maintenanceTableSystems.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><table class="table nomar ng-table maintenance-table"><thead><tr><th width="6%" ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">System</div></th><th width="20%" ng-class="table.sorter.getSortClass(\'system.last_check_in\')" ng-click="table.sorter.sort(\'system.last_check_in\')" class="sortable"><div translate="translate" class="sort-indicator">Last check in</div></th><th width="12%" ng-class="table.sorter.getSortClass(\'done\')" ng-click="table.sorter.sort(\'done\')" class="sortable text-center"><div translate="translate" class="sort-indicator overflow">Status</div></th></tr><tr ng-show="edit"><th colspan="4" class="filter"><input type="text" placeholder="Filter by system name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><span class="icon-inline"><type-icon type-id="action.systemTypeIconId" ng-if="action.systemTypeIconId" include-text="false"></type-icon></span><span ng-if="action._type === 2" class="icon-inline"><i tooltip="{{\'This action is already part of another plan\' | translate}}" class="fa fa-exclamation-circle"></i></span><a ng-click="table.showSystemModal(action.system, table.params.item)" class="hostname"><trimmed-text text="{{action.display}}" length="45"></trimmed-text></a></td><td><span ng-show="::action.system.last_check_in">{{::action.system.last_check_in | timeAgo}}</span><span ng-hide="::action.system.last_check_in">--</span></td><td width="19%" class="status text-center"><status-icon status="action.done"></status-icon></td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),e.put("js/components/misc/trimmedText/trimmedText.html",'<span class="trimmed-text"><span ng-if="showTooltip" tooltip="{{text}}" class="trimmed">{{trimmedText}}</span><span ng-if="!showTooltip" class="not-trimmed">{{trimmedText}}</span></span>'),e.put("js/components/overview/articleModal/articleModal.html",'<div class="article-modal"><form novalidate="novalidate" name="articleForm" class="form-horizontal"><h2>Overview content</h2><div class="form-group row"><label for="title" class="control-label col-sm-2">Article</label><div class="col-sm-10"><ui-select ng-model="selected.article" append-to-body="false" on-select="load($item.id)" search-enabled="false"><ui-select-match placeholder="Select an article" class="form-control ui-select-match">{{selected.article.id}}</ui-select-match><ui-select-choices repeat="article in articles" class="ui-select-choices">{{article.id}}</ui-select-choices></ui-select></div></div><div ng-class="{\'has-error\': articleForm.title.$invalid &amp;&amp; articleForm.title.$dirty}" class="form-group row row-short"><label for="title" class="control-label col-sm-2">Title</label><div class="col-sm-10"><input id="title" type="text" name="title" ng-model="article.title" maxlength="255" required="required" class="form-control"/></div></div><div ng-class="{\'has-error\': error.content}" class="form-group row row-short"><div class="col-sm-12"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no>&nbsp;<yes-no no="true" text="doT"></yes-no></div><textarea id="content" placeholder="Overview content" ng-model="article.content" rows="20" class="form-control content"></textarea></div></div><div class="row"><div class="col-sm-6"><button ng-click="preview()" ng-disabled="articleForm.$invalid" class="btn btn-sm btn-secondary"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div><div class="col-sm-6 text-right"><button ng-click="close()" class="btn btn-sm btn-default">Cancel</button><button ng-click="save()" ng-disabled="articleForm.$invalid" class="btn btn-sm btn-primary">Save</button></div></div></form><div ng-if="previewData" class="row"><hr/><div class="col-sm-12"><h3><strong>{{previewData.title}}</strong></h3><span ng-bind-html="previewData.content_html | trust_html" class="handcrafted-content"></span></div></div></div>'),e.put("js/components/rule/ruleFilter/ruleFilter.html",'<section class="gray rule-filters"><div class="row"><div class="col-md-12"><div class="search-box-wrapper"> <search-box on-search="filter.setSearchTerm(model); filter.doFilter();" throttle="1000"></search-box></div></div><div class="col-md-12"><category-multi-button></category-multi-button></div></div></section>'),e.put("js/components/rule/ruleBreadcrumb/ruleBreadcrumb.html",'<ol class="breadcrumb"><li><a translate="translate" ui-sref="app.rules">Rules</a></li><li><a ui-sref="app.admin-rules">Rules Admin</a></li><li ng-if="rule"><span>{{ rule.plugin }}|{{ rule.error_key }}</span></li><li ng-if="insightsNamespacer.current === \'insights-app-admin-rule-tags\'"><a ui-sref="app.admin-rule-tags">Tags</a></li></ol>'),e.put("js/components/rule/ruleReason/ruleReason.html",'<div class="detail-part"><h4 translate="translate" class="section-heading"><i aria-hidden="true" class="fa fa-crosshairs">&nbsp;</i>Detected issues</h4><div class="reason"><div ng-if="report.rule.reason !== \'INSIGHTS-ERROR-INTERPOLATION\'" ng-bind-html="report.rule.reason | trust_html" target-blank="" class="detail-content"></div><div ng-if="report.rule.reason === \'INSIGHTS-ERROR-INTERPOLATION\'" class="detail-content"><p><i class="fa fa-exclamation-circle i-error inline-right"></i><strong translate="translate">There was a problem obtaining action details. Please try again later.</strong></p></div></div></div>'),e.put("js/components/rule/ruleGroupCard/ruleGroupCard.html",'<div ng-keypress="keyPressed($event)" class="card-group"><header class="header"><div translate="translate" translate-n="plugin.hitCount" translate-plural="{{$count}} Systems" class="count">1 System</div><div class="row"><div class="col-sm-9"><i aria-hidden="true" class="fa fa-users"></i><strong><span translate="translate" class="text-uppercase">Group: &nbsp;</span><span ng-if="plugin.categories.length === 1"><i ng-class="plugin.categories[0].toLowerCase()" class="fa category-icon inline-right"></i>{{plugin.categories[0]}} ></span><span>&nbsp; {{plugin.display_name}}</span></strong></div><div class="col-sm-3 text-right-sm"><span translate="translate" translate-n="plugin.rules.length" translate-plural="{{$count}} Rules in this group">1 Rule in this group</span></div></div></header><div ng-class="{swapping: swapping}" ng-mouseenter="setActive(true)" ng-mouseleave="setActive(false)" class="content disabled-start"><div ng-click="previous()" ng-class="{disabled: !hasPrevious()}" class="prev"><i class="fa fa-arrow-left"></i></div><div ng-click="next()" ng-class="{disabled: !hasNext()}" class="next"><i class="fa fa-arrow-right"></i></div><card><card-header class="flexgrid equalheights"><div class="row"><div class="col-sm-8"><div class="title"><strong>{{index + 1}}&nbsp;</strong><em class="light">of &nbsp;</em><strong>{{plugin.rules.length}}: {{rule.description}}</strong></div><span translate="translate" ng-show="rule.acked" class="label label-default pull-right text-uppercase">inactive</span></div><div ng-if="config.isPlannerEnabled" class="col-sm-4 text-right-sm"><ansible-icon value="rule.ansible"></ansible-icon></div></div></card-header><card-content><div ng-bind-html="rule.summary_html" target-blank="" class="gray"></div></card-content><div class="footer"><div class="row"><div class="col-sm-6"><all-severity-icons rule="rule" ng-if="!swapping"></all-severity-icons></div><div class="col-sm-6 text-right-sm"><strong><a ui-sref="app.actions-rule({category: rule.category, rule: rule.rule_id})" ng-disabled="rule.hitCount === 0" translate="translate" translate-n="rule.hitCount" translate-plural="View Impacted Systems ({{$count}})">View Impacted System (1)</a></strong></div></div></div></card></div></div>'),e.put("js/components/rule/ruleSummary/ruleSummary.html",'<card expandable="true" init-collapsed="initCollapsed" on-toggle="resetShowMore(ctx)"><card-header><div class="row"><div class="col-sm-12"><h3 class="title"><ansible-icon value="report.rule.ansible" ng-if="config.isPlannerEnabled" class="inline-right"></ansible-icon>{{ report.rule.category }} &gt; {{ report.rule.description }}</h3></div></div><div class="row row-short"><div class="col-sm-12"><all-severity-icons rule="report.rule"></all-severity-icons></div></div></card-header><card-content class="content ng-animate-enabled"><div class="row"><div class="col-sm-12"><div class="rule-reason"></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="rule-resolution"></div><div ng-if="report.rule.node_id" node="report.rule.node_id" class="recommended-kbase"></div></div></div><div ng-show="report.rule.more_info" class="row row-short"><div class="col-xs-12"><div class="text-center border-top"><div ng-click="show.moreInfo = !show.moreInfo" class="nomar push-top-narrow pointer"><a class="link"><strong>{{show.moreInfo ? \'Hide\' : \'Show\'}}  more info &nbsp;</strong><i ng-class="{\'fa-caret-up\': show.moreInfo, \'fa-caret-down\': !show.moreInfo}" class="fa"></i></a></div></div></div></div><div collapse="!show.moreInfo" class="footer more-info ng-animate-enabled"><div ng-bind-html="report.rule.more_info_html | trust_html" ng-show="report.rule.more_info" target-blank=""></div></div></card-content></card>'),e.put("js/components/rule/ruleListSimple/ruleListSimple.html",'<ul class="rule-list list-unstyled"><li ng-repeat="rule in (rules | orderBy:order | limitTo:limit) track by rule.rule_id"><div class="title">{{rule.description}} &nbsp;</div><a ng-click="onSelect({rule: rule})">[{{rule.rule_id}}]&nbsp;</a><i ng-click="onDelete({rule: rule})" ng-hide="readOnly" class="fa fa-times"></i><!-- I know I know--><br/><all-severity-icons rule="rule"></all-severity-icons></li><li ng-show="rules.length &gt; 10 &amp;&amp; limit"><a ng-click="limit = undefined">… ({{rules.length - limit}} more)</a></li></ul>'),e.put("js/components/rule/ruleResolution/ruleResolution.html",'<div class="detail-part"><div class="detail-content answer"><h4 translate="translate" class="section-heading"><i aria-hidden="true" class="fa fa-thumbs-up">&nbsp;</i>Steps to resolve</h4><span ng-if="report.rule.resolution !== \'INSIGHTS-ERROR-INTERPOLATION\'" ng-bind-html="report.rule.resolution | trust_html" target-blank=""></span><span ng-if="report.rule.resolution === \'INSIGHTS-ERROR-INTERPOLATION\'"><p><i class="fa fa-exclamation-circle i-error inline-right"></i><strong translate="translate">There was a problem obtaining action details. Please try again later.</strong></p></span></div><div ng-if="report.details.affected_hosts &amp;&amp; (report.rule.type === &quot;osp&quot; || report.rule.type === &quot;rhev&quot;)" class="osp-affected-hosts"><table class="table table-fixed"><thead><tr><th><div>Affected Hosts</div></th></tr></thead><tbody><tr ng-repeat="affected_host in report.details.affected_hosts"><td><div>{{getSystemNameFromId(affected_host)}}</div></td></tr></tbody></table></div></div>'),e.put("js/components/rule/ruleSummaries/ruleSummaries.html",'<div class="content-wrap"><div ng-if="loading.isLoading" class="row"><div class="col-xs-12"><div class="loading-block text-center"><div class="detail-part"><div class="spinner spinner-lg"></div>{{getLoadingMessage()}}</div></div></div></div><div ng-hide="!system.reports || !system.reports.length || loading.isLoading" class="row"><div class="col-xs-12 text-right"><expand-all-button></expand-all-button></div></div><div ng-if="(!system.reports || !system.reports.length) &amp;&amp; !loading.isLoading &amp;&amp; !system.__fake &amp;&amp; !errorMessage" class="row"><div class="col-xs-12"><p class="text-center"><span class="icon icon-inline success"><i class="fa fa-check-circle"></i></span><span translate="translate">No actions</span></p></div></div><div ng-if="!loading.isLoading &amp;&amp; !system.__fake &amp;&amp; errorMessage" class="row"><div class="col-xs-12"><div ng-bind-html="errorMessage | trust_html"></div></div></div><div report="report" rule-id="rule_id" rule-filter="ruleFilter" ng-repeat="report in system.reports" class="rule-summary system-overlay-item content-block"></div></div>'),e.put("js/components/system/addSystemModal/addSystemModal.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close pull-right"></i></div><div id="info" class="info"><div class="content"><section id="install"><h2 translate="translate" class="section-header">Install the Red Hat Insights Client and Register More Systems</h2><p translate="translate">Register your system for updates with Red Hat Subscription Manager to resolve software dependencies:</p><pre class="code-block code-terminal"><code class="language-shell"> # subscription-manager register --auto-attach</code></pre><p translate="translate">Install the Red Hat Insights RPM:</p><pre class="code-block code-terminal"><code class="language-shell"> # yum install redhat-access-insights</code></pre></section><section id="register"><h2 translate="translate" class="section-header">Register the system to Red Hat Insights</h2><pre class="code-block code-terminal"><code># redhat-access-insights --register</code></pre><p translate="translate">After registration, the Insights client will upload initial system information to Red Hat Insights. You should be able to immediately see your system in the <a ui-sref="app.inventory" ng-click="close()">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shorty thereafter.</p></section><section id="more"><h2 translate="translate" class="section-header">Advanced configuration</h2><p translate="translate">For more advanced configuration see the <a href="{{gettingStartedLink}}" target="_blank" ng-click="close()" translate="translate">getting started guide</a>.</p></section></div></div>'),e.put("js/components/system/addSystemModal/upgradeSubscription.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close pull-right"></i></div><div id="info" class="info"><div class="content"><section id="install"><h2 translate="translate" class="section-header">You have reached your maximum <br /> number of registered systems!</h2><p><span ng-if="isEvaluation" translate="translate">You have reached your evaluation limit of 10 registered systems for Red Hat Insights.</span><span ng-if="!isEvaluation" translate="translate">You have reached your maximum number of registered systems for Red Hat Insights.</span>&nbsp;<span translate="translate"> To increase your available Red Hat Insights registrations, please</span>&nbsp;<a href="http://www.redhat.com/en/about/contact/sales" translate="translate">contact your Red Hat sales representative</a>&nbsp;<span translate="translate">to purchase Insights or request a 90 day evaluation.</span></p><p><a href="http://access.redhat.com/insights/info/#availability" translate="translate">Learn more about Red Hat Insights availability</a></p></section></div></div>'),e.put("js/components/rule/ruleToggle/ruleToggle.html",'<a ng-hide="isSystemAlert(rule.rule_id)" class="red"><strong ng-click="ackAction()">{{text}}</strong></a>'),e.put("js/components/sideNav/actionsSideNav/actionsSideNav.html",'<li><a ui-sref="app.actions" ng-class="{current: includes(states.actions, state.current.name)}" translate="translate">Actions</a><ul ng-show="actions"><li><a ui-sref="app.topic({id: c, product: product})" ng-class="{current: isActive(c)}" ng-repeat="c in categories" ng-if="categoryCounts[c]"><span translate="translate" translate-n="categoryCounts[c]" translate-plural="{{c | translate | titlecase}} ({{$count}})">{{c | translate | titlecase}} (1)</span></a></li></ul></li>'),e.put("js/components/system/systemModal/systemModal.html",'<div class="system-overlay"><div class="modal-actions"><div ng-click="close()" class="fa fa-close pull-right"></div></div><div class="modal-title"><div class="icon"><span class="fa fa-globe"></span></div><h2 ng-if="system.display_name"><div class="ellipsis-overflow"><span>{{ system.display_name }}</span></div></h2><div ng-if="system.display_name" class="ellipsis-overflow"><!-- if the display name exists.... show the hostname small--><div class="ellipsis-overflow"><div ng-if="system.hostname" class="small-name-info">hostname: {{ system.hostname }}</div></div></div><!-- dont show hostname if it is not avalible--><h2 ng-if="system.hostname &amp;&amp; !system.display_name"><b translate="translate">hostname:</b><div class="ellipsis-overflow"><span>{{ system.hostname }}</span></div></h2><!-- always show the uuid.... it must exist--><div class="ellipsis-overflow"><div class="small-name-info">UUID: {{ getUUID() }}</div></div></div><system-metadata system="system"></system-metadata><div class="separator"></div><div class="insights-main-content"><div ng-if="!system.isCheckingIn" class="message alert alert-danger alert-systems-not-checking"><span class="glyphicon glyphicon-exclamation-sign rule-margin"></span><span translate="translate">This system is not checking in.</span></div><div system="system" machine-id="system.system_id" rule="rule" rule-filter="ruleFilter" loading="loading" class="rule-summaries"></div><div ng-if="system.__fake" report="report" rule="rule" loading="loading" class="rule-summary system-overlay-item content-block"></div></div></div>'),e.put("js/components/system/systemSummaryTable/systemSummaryTable.html",'<table id="rha-systems-summary-table" ng-table="tableParams" class="table"><thead><tr><th style="width: 3%;"><label><input type="checkbox" ng-model="checkboxes.checked" ng-indeterminate="indeterminate"/></label></th><th style="width: 6%;" ng-if="isOspMode()"><div translate="translate">Type</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'hostname\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'hostname\', \'desc\')}" ng-click="tableParams.sorting({\'hostname\' : tableParams.isSortBy(\'hostname\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div translate="translate" class="sort-indicator">Name</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'reports.length\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'reports.length\', \'desc\')}" ng-click="tableParams.sorting({\'reports.length\' : tableParams.isSortBy(\'reports.length\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div translate="translate" class="sort-indicator">Status</div></th></tr><tr><th colspan="{{getNumCols()}}"><input type="text" ng-model="filters.hostname" placeholder="{{\'Filter\' | translate}}" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="system in $data track by system.machine_id" ng-class="::{\'stale-system\': !system.isCheckingIn, \'danger\': !system.isCheckingIn}" data-id="{{system.machine_id}}" ng-click="rowClick($event, system)" ng-mousedown="rowClick($event, system)"><div ng-if="!systemIsHeader(system)"><td ng-if="!systemIsHeader(system)"><label><input type="checkbox" ng-model="checkboxes.items[system.machine_id]"/></label></td><td ng-if="!systemIsHeader(system) &amp;&amp; isOspMode()" class="text-center"><type-icon role="cleanRole(system.metadata)"></type-icon></td><!-- we show the system always, whether they have actions or not--><td ng-if="!systemIsHeader(system)" class="break"><a ng-click="showSystem(system)" class="pointer">{{::systemToString(system) || system.machine_id}}</a></td><td ng-if="!systemIsHeader(system)" class="text-center"><div tooltip="{{actionTooltip(system.reports.length)}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top"><span ng-hide="::system.reports.length" class="icon success"><i class="fa fa-check-circle fa-1-5x text-success"></i></span><span ng-show="::system.reports.length" ng-click="showSystem(system)" class="pointer icon failure"><i class="fa fa-exclamation-circle fa-1-5x text-danger fail"></i></span></div></td><td colspan="{{getNumCols()}}" ng-if="systemIsHeader(system)">{{system.machine_id}}</td></div></tr></tbody><tfoot><tr><td colspan="{{getNumCols()}}"><a ng-click="unregisterSystems()" ng-disabled="totalChecked == 0" class="pointer link unregister-system"><i class="fa fa-close"><span translate="translate" ng-if="!totalChecked">Unregister {{getSystemsLabel()}}</span></i><span translate="translate" translate-n="totalChecked" translate-plural="Unregister {{$count}} {{getSystemsLabel()}}" ng-if="totalChecked">Unregister {{getSystemsLabel()}}</span></a><a ng-click="registerSystem()" ng-if="showRegisterButton()" class="pointer link pull-right"><span class="icon icon-inline success"><i class="fa fa-plus"></i></span><span translate="translate">Register new system</span></a></td></tr></tfoot></table><div ng-hide="systems.length" class="text-center"><h4>No {{getSystemsLabel()}}</h4></div>'),e.put("js/components/system/systemTable/systemTable.html",'<div class="col-md-6 group-list"><label class="full-width">{{::title | translate}}</label><input placeholder="{{\'Filter\' | translate}}" type="text" ng-model="systemsFilter" ng-model-options="{ debounce: 100 }" ng-change="filterSystems()" class="filter full-width"/><div class="filters-table"><div class="row"><div class="col-xs-6"><label class="select-all"><input type="checkbox" ng-model="checkboxes.checked" ng-indeterminate="indeterminate"/><span translate="translate">Select Visible</span></label></div><div class="col-xs-6"><div class="pull-right flush-right"><span translate="translate">Items</span><div class="dropdown-select dropdown-select-horizontal"><select ng-model="itemsPerPage" ng-options="i for i in items track by i"></select></div></div></div></div></div><div ng-class="{\'scrollable scrollable-table\': _filteredSystems.length &gt; 10}"><table class="table no-header table-groups"><tbody><tr ng-repeat="system in _filteredSystems = (filteredSystems | offset:((currentPage-1)*itemsPerPage) | limitTo:itemsPerPage)" data-id="{{system.system_id}}" ng-click="rowClick($event)" ng-mousedown="rowClick($event)" class="ng-animate-disabled"><td><label><input type="checkbox" ng-model="checkboxes.items[system.system_id]"/><span class="hostname">{{::system.toString}}</span></label></td></tr></tbody></table></div><div class="row groups-footer"><div class="col-xs-12 col-md-5"><a ng-show="type === \'in\'" ng-disabled="!totalChecked" ng-click="removeSystems()" class="link"><i class="fa fa-minus"> </i><span translate="translate"> Remove Systems</span></a><a ng-hide="type === \'in\'" ng-disabled="!totalChecked" ng-click="addSystems()" class="link"><i class="fa fa-plus"> </i><span translate="translate"> Add Systems</span></a></div><div class="col-xs-12 col-md-7"><pagination ng-hide="total &lt;= itemsPerPage" total-items="total" ng-model="currentPage" previous-text="«" next-text="»" max-size="3" rotate="false" items-per-page="itemsPerPage" ng-change="pageChanged()" class="pull-right pagination-gray"></pagination></div></div></div>'),e.put("js/components/topics/otherTopic/otherTopic.html",'<div class="col-sm-4"><div class="content-block content-block-card anchored-footer topic-card"><header class="header"><h4>{{topic.title}}</h4><div><span translate="translate" translate-n="topic.affectedSystemCount" translate-plural="{{$count}} Systems" class="count">1 System</span></div></header><div ng-bind-html="topic.summary_html ? topic.summary_html : Xtopic.content_html | trust_html" class="description gray"></div><div class="footer text-right-sm"><strong><a translate="translate" ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id, product: getSelectedProduct()})" class="pointer">View More</a></strong></div></div></div>'),e.put("js/components/topics/topicAdminHelpBar/topicAdminHelpBar.html",'<div class="help-bar"><a ng-click="help.show = !help.show"><span class="icon-inline"><i class="fa fa-question-circle"></i></span>Show help</a><div ng-show="help.show" class="panel panel-default"><div class="panel-body"><h5>Dynamic content</h5><p>There are multiple ways to make the content of a topic dynamic:</p><ul><li><a ng-click="help.appendInterpolation()">interpolation</a></li><li><a ng-click="help.appendConditional()">conditionals</a></li></ul><p>Here are some examples of values you can use for interpolation:<table><tbody><tr ng-repeat="tip in help.interpolations"><td><a ng-click="help.appendInterpolation($event)">{{tip.key}}</a></td><td>{{tip.value}}</td></tr></tbody></table></p><p>Also, you may find &nbsp;<a href="http://olado.github.io/doT/index.html" target="_blank">doT docs</a>&nbsp; useful</p></div></div></div>'),e.put("js/components/topbar/alerts/alerts.html",'<span dropdown="" on-toggle="toggled(open)" class="dropdown dropdown-notification"><div ng-if="loading" class="spinner spinner-sm"></div><a href="" dropdown-toggle="" ng-if="!loading" class="dropdown-toggle"><i class="fa {{icon}}"></i><span ng-if="service.unackedCount !== 0" class="count">{{service.unackedCount}}</span></a><ul ng-if="!loading" class="dropdown-menu preview"><li ng-repeat="item in service.items" ng-class="{ acked: (item.acked) }" class="announcement"><div class="row"><div class="col-sm-12"><div><i ng-if="item.icon" ng-class="item.icon" class="fa inline-right"></i><b ng-bind-html="item.msg | trust_html" ng-click="item.onSelect(item)"></b></div><div ng-if="item.onAck" style="position:absolute; right:12px; top:0; padding:20px; height:100%; width:40px" ng-click="!item.ack &amp;&amp; item.onAck(item)" tooltip="{{\'Dismiss\' | translate}}" class="message-status-toggle"><i ng-if="!item.acked" class="fa fa-circle-o"></i><i ng-if="item.acked" class="fa fa-check-circle-o acked"></i></div></div></div></li><li ng-if="service.items.length === 0"><strong translate="translate">You have no alerts</strong></li></ul></span>'),e.put("js/components/topics/topicRuleList/topicRuleList.html",'<div class="topic-rule-list"><list-type class="text-right-sm"></list-type><div ng-show="getListType() === listTypes.card" class="row row-short"><div class="col-sm-12"><div class="card-list"><div ng-repeat="plugin in plugins | orderBy: sorter.predicate : sorter.reverse track by plugin.plugin_id" class="card-list-item"><rule-group-card ng-if="plugin.type === \'group\'" plugin="plugin"></rule-group-card><card ng-if="plugin.type === \'rule\'" ng-class="{faded: plugin.acked}"><card-header><i ng-class="plugin.rule.category.toLowerCase()" class="fa category-icon inline-right"></i><span class="title">{{ ::plugin.rule.category }} &gt; {{ ::plugin.rule.description }}</span><div translate="translate" translate-n="plugin.hitCount" translate-plural="{{$count}} Systems" class="count">1 System</div><div class="pull-right"><span ng-if="plugin.acked" translate="translate" class="label label-default inline-right rule-inactive">INACTIVE</span><ansible-icon value="rule.ansible" ng-if="config.isPlannerEnabled"></ansible-icon></div></card-header><card-content><div ng-bind-html="::plugin.rule.summary_html" target-blank="" class="gray"></div></card-content><div class="footer"><div class="row"><div class="col-sm-6"><all-severity-icons rule="plugin.rule"></all-severity-icons></div><div class="col-sm-6 text-right"><strong ng-hide="plugin.rule.acked"><a translate="translate" ui-sref="app.actions-rule({category: topic.slug ? topic.slug : topic.id, rule: plugin.rule.rule_id})" ng-disabled="plugin.rule.hitCount === 0">View Impacted Systems</a></strong></div></div></div></card></div></div></div></div><div ng-show="getListType() === listTypes.table" class="row row-short"><div class="col-sm-12"><table id="rha-rules-table" class="table ng-table break-word"><thead><tr><th ng-class="sorter.getSortClass(\'description\')" ng-click="sorter.sort(\'description\')" class="sortable"><div translate="translate" class="sort-indicator">Rule</div></th><!-- START UBER-SEV--><th ng-class="sorter.getSortClass(\'rec_likelihood\')" ng-click="sorter.sort(\'rec_likelihood\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Likelihood</div></th><th ng-class="sorter.getSortClass(\'rec_impact\')" ng-click="sorter.sort(\'rec_impact\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Impact</div></th><th ng-class="sorter.getSortClass(\'severityNum\')" ng-click="sorter.sort(\'severityNum\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Total Risk</div></th><!-- END UBER-SEV--><th ng-class="sorter.getSortClass(\'hitCount\')" ng-click="sorter.sort(\'hitCount\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Systems</div></th><th ng-if="config.isPlannerEnabled" ng-class="sorter.getSortClass(\'ansible\')" ng-click="sorter.sort(\'ansible\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Ansible</div></th></tr></thead><tbody><tr ng-repeat="rule in topic.rules | filter:filterZero | orderBy: sorter.predicate : sorter.reverse track by rule.rule_id" ng-class="{acked: rule.acked}" class="legend-item"><td ng-click="!rule.acked &amp;&amp; viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)"><a ng-if="!rule.acked">{{rule.description}}</a><div ng-if="rule.acked">{{rule.description}}<span translate="translate" class="label label-default inline-left rule-inactive">INACTIVE</span></div></td><!-- START UBER-SEV--><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.rec_likelihood" type="likelihood" label=""></severity-icon></td><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.rec_impact" type="impact" label=""></severity-icon></td><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td><!-- END UBER-SEV--><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="text-center align-vertical">{{ rule.hitCount }}</td><td ng-if="config.isPlannerEnabled" class="text-center align-vertical"><ansible-icon value="rule.ansible"></ansible-icon></td></tr></tbody></table></div></div><div ng-show="!showRulesWithNoHits &amp;&amp; hiddenCount" class="row row-short"><div class="col-sm-12 text-center"><button ng-click="showAll()" translate="translate" class="btn btn-sm btn-default">Show rules without actions ({{hiddenCount}} more)</button></div></div><div ng-show="!showCards" class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div>'),e.put("js/components/topics/topicPreviewModal/topicPreviewModal.html",'<div class="topic-preview"><div class="sample-data"><a ng-click="editData = !editData"><span class="icon-inline"><i ng-hide="editData" class="fa fa-plus"></i><i ng-show="editData" class="fa fa-minus"></i></span>Modify sample data</a><form novalidate="novalidate" ng-show="editData" name="tweaker" class="form-horizontal"><div class="form-group"><label for="affectedSystemCount" class="control-label col-sm-2">Number of affected systems</label><div class="col-sm-3"><input type="number" ng-model="sampleData.systems.affectedCount" min="0" class="form-contril"/></div></div><div class="form-group"><label for="affectedSystemCount" class="control-label col-sm-2">Rules</label><div class="col-sm-10"><table class="table table-bordered sample-data-table"><thead><tr><th>Rule ID</th><th>Description</th><th>Number of hits</th><th>Ignored by user (acked)</th></tr></thead><tbody><tr ng-repeat="rule in sampleData.rules track by rule.rule_id"><td class="rule-id">{{rule.rule_id}}</td><td>{{rule.description}}</td><td><input type="number" ng-model="rule.hitCount" required="required" min="0" class="form-control"/></td><td><input type="checkbox" ng-model="rule.acked"/></td></tr></tbody></table></div></div><div class="form-group"><button type="submit" ng-click="updateSampleData()" class="btn btn-sm btn-secondary pull-right">Update preview</button></div></form></div><hr/><div ng-show="loader.loading" class="spinner"></div><div ng-hide="topic" class="text-center"><p>This topic will not be shown when there are no hits for it (tweak sample data or switch to \'Shown always\' topic type to see it)</p></div><div ng-if="summary" ng-show="topic &amp;&amp; !loader.loading" class="actions-page"><section><h2 class="section-title section-title-red">Topics</h2><div class="row"><other-topic topic="topic"></other-topic></div></section></div><div ng-if="details" ng-show="topic &amp;&amp; !loader.loading" class="action-details"><section class="gray section-topic-details"><topic-details topic="topic"></topic-details></section><section class="section-rules-group-content"><topic-rule-list topic="topic"></topic-rule-list></section></div></div>'),
e.put("js/components/topics/topicDetails/topicDetails.html",'<div class="topic-summary"><div class="row"><div class="col-sm-12"><span ng-show="isContentManager" class="pull-right">[<a ui-sref="app.edit-topic({id: topic.id})">edit</a>]</span><h1 class="page-title"><span translate="translate">{{::topic.title}}</span></h1></div></div><div ng-if="topic.content_html" class="row"><div class="col-sm-12"><div ng-bind-html="topic.content_html" class="topic-content"></div></div></div></div>'),e.put("js/states/getting-started/views/getting-started-cloudforms.html",'<section id="prerequisites" class="section"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Red Hat CloudForms version 4.0 or later</li><li translate="translate">The CloudForms 4.0 appliance must be registered to either Satellite Server version 6.1.5 or later or to Customer Portal Subscription Management hosted subscription service.</li><li translate="translate">Smart State Analysis capability is enabled for Red Hat Enterprise Linux virtual machines.</li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="registerappliance" class="section"><div class="step-num">3</div><h2 translate="translate" class="section-header">Verify CloudForms Appliance registration</h2><p translate="translate">All appliances configured for the UI role that will be used to view Red Hat Insights reports must be registered for Red Hat updates.  In the CloudForms Management Engine UI, navigate to <strong>Configure -&gt; Configuration</strong>. Select a zone and verify that the appropriate appliance is registered.</p><p translate="translate"><strong>Note:&nbsp;</strong>The Satellite Server organization to which the CloudForms appliance is registered must have Insights enabled.</p><img src="images/img-cfme-appliance-register.jpg" class="screenshot"/></section><section id="configuresmartstate" class="section"><div class="step-num">4</div><h2 translate="translate" class="section-header">Configure Smart State Analysis</h2><p translate="translate">Configure the Smart State Analysis profile for your appliances to collect the contents of the file <strong>/etc/redhat-access-insights/machine-id</strong></p><img src="images/img-cfme-smartstate-config.png" class="screenshot"/></section><section id="register" class="section"><div class="step-num">5</div><h2 translate="translate" class="section-header">Register Your Virtual Machines</h2><p translate="translate"><strong> Important:</strong> All virtual machines must be registered to the same Red Hat account as the CloudForms appliance.</p><p translate="translate">To register virtual machines to Red Hat Insights, you\'ll need to install the Insights client RPM and then register virtual machines to the Insights service.</p><p translate="translate">Install the RPM in the virtual machine:</p><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-insights</code></pre><p translate="translate">Register the system to Insights service:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">These steps can be automated using the configuration tool of your choice.</p></section><section id="runsmartstate" class="section"><div class="step-num">6</div><h2 translate="translate" class="section-header">Run Smart State Analysis on RHEL virtual machines</h2><p translate="translate">A Smart State Analysis must be run once on all RHEL virtual machines you have registered to Red Hat Insights.  This step is only required once. If a new virtual machine is created afterward, then a Smart State Analysis need only be run on that new virtual machine after it has been registered to Insights.</p><p translate="translate">For more information on how to configure and run Smart State Analysis, see the official CloudForms &nbsp;<a href="https://access.redhat.com/documentation/en-US/Red_Hat_CloudForms/3.2/html/Insight_Guide/sect-Virtual_Machines.html#sect-Analyzing_Virtual_Machines_and_Templates">documentation.</a></p></section><section id="viewingandmanaging" class="section"><div class="step-num">7</div><h2 translate="translate" class="section-header">View Reports and Manage Red Hat Insights From the CloudForms UI</h2><p translate="translate" class="margin-top">To view Insights reports in the CloudForms UI, navigate to <strong>Red Hat Insights -&gt; Overview</strong>.</p><img src="images/img-cfme-insights-overview.png" class="screenshot"/><p translate="translate" class="margin-top">To view and manage Insights rules, navigate to <strong>Red Hat Insights -&gt; Rules</strong>.</p><img src="images/img-cfme-insights-rules.png" class="screenshot"/><p translate="translate" class="margin-top">To view the list of systems that are reporting data to Insights, navigate to <strong>Red Hat Insights -&gt; Systems</strong>.</p><img src="images/img-cfme-insights-systems.png" class="screenshot"/></section><section id="userroles" class="section"><div class="step-num">8</div><h2 translate="translate" class="section-header">Assign Red Hat Insights to user roles</h2><p translate="translate">By default, only super administrators can view Insights Report and Configuration screens. You can give users who are not super administrators access to the Insights screens by assigning the appropriate features to their roles.</p><img src="images/img-cfme-insights-features.png" class="screenshot"/><p translate="translate">In addition to the feature controls above, a user can only view Insights reports on those virtual machines to which the user has permission to view in CloudForms.</p></section>'),e.put("js/states/getting-started/views/getting-started-containers.html",'<section id="prerequisites" class="section"></section><h2 translate="translate" class="section-header">Prerequisites for Installing Red Hat Insights</h2><p translate="translate">Before proceeding with installing Red Hat Insights, ensure the following prerequisites are met:</p><ul><li translate="translate">Red Hat Enterprise Linux (RHEL) 7.0 or later host configured to run containers</li><li translate="translate">RHEL firewall rules must allow Red Hat Insights to make outbound connections to https://api.access.redhat.com:443 and https://cert-api.access.redhat.com:443</li></ul><section id="enablerepo"><div class="step-num">1</div><h2 translate="translate" class="section-header">Enable the Red Hat Insights Repository</h2><p translate="translate">To start the installation, the Red Hat Insights repository must be enabled:</p><pre class="code-block code-terminal"><code class="language-shell"> ~ $ sudo yum-config-manager --add-repo </code>http://copr.fedorainfracloud.org/coprs/insights/insights-client-beta/repo/epel-7/insights-insights-client-beta-epel-7.repo</pre></section><section id="install"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights Client</h2><p translate="translate">The following command will install the Red Hat Insights client:    </p><pre class="code-block code-terminal"><code>~ $ yum install insights-client -y --nogpgcheck</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Run and Register the Red Hat Insights Client</h2><p translate="translate">The following command will run and register the Insights client:</p><pre class="code-block code-terminal"><code>~ $ sudo insights-client --container --register  </code></pre><p translate="translate">After running the Insights client, it will upload initial system and image information to Red Hat Insights. You should be able to immediately see your system and image information in the Insights user interface.</p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">3</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">4</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),e.put("js/states/getting-started/views/getting-started-direct.html",'<section id="activate"><div class="step-num">1</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="install"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights Client and Register Your Systems</h2><p translate="translate">Register your system for updates with Red Hat Subscription Manager to resolve software dependencies:</p><pre class="code-block code-terminal"><code class="language-shell"> # subscription-manager register --auto-attach</code></pre><p translate="translate">Install the Red Hat Insights RPM:</p><pre class="code-block code-terminal"><code class="language-shell"> # yum install redhat-access-insights</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Register the system to Red Hat Insights</h2><p translate="translate"><strong>Note: </strong>Registration with <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic </a> is also available but requires <a href="#classic" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><pre class="code-block code-terminal"><code># redhat-access-insights --register</code></pre><p translate="translate">After registration, the Insights client will upload initial system information to Red Hat Insights. You should be able to immediately see your system in the <a ui-sref="app.inventory">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shorty thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">4</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">5</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),e.put("js/states/getting-started/views/getting-started-osp.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites for Installing the Red Hat Insights for OpenStack Private Beta</h2><p translate="translate">Before proceeding with installing the Red Hat Insights for OpenStack Private Beta, ensure the following prerequisites are met:</p><ul><li translate="translate">The OpenStack deployment must be Red Hat OpenStack Platform (OSP) 7 or later and set up with the OSP Director.</li><li translate="translate">The OSP Director node (also referred to as the Undercloud in these directions) must have the rhel-7-server-rh-common-rpms repository\nenabled.</li><li translate="translate">Firewall rules must allow the Insights Coordinator to make outbound connections to https://api.access.redhat.com:443 and https://cert-api.access.redhat.com:443</li></ul></section><section id="installrepo"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights for OpenStack Private Beta Repositories on the Undercloud</h2><p translate="translate">To start the installation, the Red Hat Insights for OpenStack Private Beta repositories must be installed on the OSP Director node.</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo yum-config-manager --add-repo http://copr.fedorainfracloud.org/coprs/insights/insights-client/repo/epel-7/insights-insights-client-epel-7.repo</code><br/><code class="language-shell"> stack@undercloud $ sudo yum-config-manager --add-repo http://copr.fedorainfracloud.org/coprs/insights/insights-coordinator-rhosp/repo/epel-7/insights-insights-coordinator-rhosp-epel-7.repo</code></pre></section><section id="completeinstallation"><div class="step-num">3</div><h2 translate="translate" class="section-header">Install the Red Hat Insights for OpenStack Private Beta Components</h2><p translate="translate">Follow this set of instructions to install the Insights Coordinator and Client packages. </p><p translate="translate">The following command will install the OpenStack Coordinator on the Undercloud node:</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo yum install insights-coordinator-rhosp --nogpgcheck -y</code></pre><p translate="translate">The following command will install the Client on the Undercloud and Overcloud nodes and register the stack with Red Hat Insights:</p><pre class="code-block code-terminal"><code class="language-shell">stack@undercloud $ sudo redhat-access-insights --register --no-schedule --no-upload --silent</code></pre><p translate="translate">The Client cron job and Coordinator cron jobs cannot be symlinked simultaneously or conflicts will occur. The following command will remove the symlink that will have been created in /etc/cron.daily for the Client:</p><pre class="code-block code-terminal"><code class="language-shell">sudo redhat-access-insights --no-schedule</code></pre><p translate="translate">Edit /etc/redhat-access-insights/redhat-access-insights.conf and add no_schedule=True. This value should already exist at the bottom of the file so it will just need to be uncommented and changed to True, but should it not exist it will need to be added.</p></section><p translate="translate">The following command will configure the Coordinator and Client installations:<pre class="code-block code-terminal"><code class="language-shell">stack@undercloud $ sudo insights-coordinator-rhosp --configure</code></pre><p translate="translate"><strong>Note: </strong>The Coordinator will attempt to auto-configure the communication to Red Hat based on the subscription-management information on the Undercloud node. However, using a proxy and/or using <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic</a>credentials is available but requires <a href="#proxy" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><p translate="translate">If issues arise with these commands, examine /etc/redhat-access-insights/redhat-access-insights.conf and ensure everything is set properly.</p><p translate="translate">Last, run the following command to complete the installation and view any messages from the Coordinator during the execution and upload of the archive:</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo insights-coordinator-rhosp --verbose</code></pre><p translate="translate">After the above command finishes, the Insights Coordinator has uploaded the initial deployment information to Red Hat Insights. \nYou should be able to immediately see your stack in the <a href="https://access.redhat.com/insightsbeta" target="_blank">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></p><section id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">5</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">6</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></section>'),e.put("js/states/getting-started/views/getting-started-rhv.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites for Installing Red Hat Insights for RHV</h2><p translate="translate">Before proceeding with installing Red Hat Insights on RHV, ensure the following prerequisites are met:</p><ul><li translate="translate">The RHV deployment must be Red Hat Enterprise Virtualization (RHV) 3.5 or later and RHV Manager must be running Red Hat Enterprise Linux 6.7 or later.</li><li translate="translate">Firewall rules must allow Red Hat Insights to make outbound connections to https://api.redhat.com:443 and https://cert-api.access.redhat.com:443 </li><li translate="translate">Ensure that the RHV Manager can SSH into all individual hypervisor nodes, and that the SSH fingerprints have been accepted for all hypervisor nodes. The manager must have access to all of the individual hypervisors via public key access (defined in the configuration files, or by running --configure).</li></ul></section><section id="installrepo"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the repositories</h2><p translate="translate">To start the installation, the Red Hat Insights repositories must be installed.</p><p translate="translate">Run the following commands on the RHV Manager to obtain the Red Hat Insights repositories:</p><pre class="code-block code-terminal"><code class="language-shell"> sudo yum-config-manager --add-repo </code>https://copr.fedorainfracloud.org/coprs/insights/insights-client/repo/epel-6/insights-insights-client-epel-6.repo<br/><code class="language-shell"> sudo yum-config-manager --add-repo </code>http://copr.fedorainfracloud.org/coprs/insights/insights-coordinator-rhev/repo/epel-6/insights-insights-coordinator-rhev-epel-6.repo</pre></section><section id="installclient"><div class="step-num">3</div><h2 translate="translate" class="section-header">Install the Red Hat Insights client</h2><p translate="translate">The following command installs Red Hat Insights on the RHV Manager, which will collect information from all the virtualization hosts in the environment.   </p><p translate="translate"><strong>Note: </strong>Registration with <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic </a>is also available but requires <a href="#classic" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><pre class="code-block code-terminal"><code class="language-shell"> sudo yum install insights-coordinator-rhev --nogpgcheck</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Registration</h2><p translate="translate">When configuring your RHV Manager for Red Hat Insights, be sure to have your RHV Manager API and Hypervisor SSH information ready; Red Hat Insights will guide you through the configuration.</p><pre class="code-block code-terminal"><code># sudo insights-coordinator-rhev --configure</code></pre><p translate="translate">Once configured, this next step installs Red Hat Insights on the RHV Manager and all of the hypervisor nodes.</p><pre class="code-block code-terminal"><code># sudo insights-coordinator-rhev --verbose</code></pre><p translate="translate">After registration, the Insights client will upload initial system metadata to Red Hat Insights. You should be able to immediately see your system in the Insights user interface.</p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">5</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it using the following commands on the RHV Manager:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">6</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password using the following commands on the RHV Manager:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),e.put("js/states/getting-started/views/getting-started-sat5.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Ensure that you\'re running Satellite 5.7.</li><li translate="translate">Install redhat-access-plugin-sat5:</li><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-plugin-sat5</code></pre><li translate="translate">Restart Satellite</li><pre class="code-block code-terminal"><code class="language-shell"># rhn-satellite restart</code></pre><li translate="translate">Satellite Organizations with Insights must be running in Connected mode. Any firewalls or proxies through which the Satellite server communicates to Red Hat must allow https communications to <a href="https://access.redhat.com">https://access.redhat.com</a></li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="enable"><div class="step-num">3</div><h2 translate="translate" class="section-header">Enable Red Hat Insights</h2><p translate="translate">Log in to the Satellite Administrator account. Navigate to the <strong>Admin --&gt; Insights</strong> page. Before enabling Insights, click \'Test Connection to Red Hat Insights API\'. If the test is successful you will see a green check circle next to the button. Otherwise you will see a red circle and a log will appear. When the test is successful, select "Enable Insights Service" then click the "Update" button. The Red Hat Insights GUI pieces will now appear in Satellite.</p><img src="images/img-sat5-step2-admin.png" class="screenshot"/></section><section id="rpm"><div class="step-num">4</div><h2 translate="translate" class="section-header">Install RPM on Systems</h2><p translate="translate">There are multiple ways to automate this process. See the <a href="#register" relative-hash="relative-hash" permalink="permalink">Register Systems</a> section for details.</p><p translate="translate">Navigate to the <strong>Systems --&gt; Insights --&gt; Setup</strong> tab as an Organization Administrator. Select the systems to install the redhat-access-insights RPM onto, then click "Apply".</p><img src="images/img-sat5-step3-setup.png" class="screenshot"/><p translate="translate">Check the status of the RPM installation by navigating to the <strong>Schedule --&gt; Pending Actions</strong> page.</p><img src="images/img-sat5-step3-pending.png" class="screenshot"/><p translate="translate">This could take some time depending on your Satellite configuration. <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/5.7/html/Installation_Guide/Enabling_Push_to_Clients.html">Enabling push to clients</a> will speed up the install. When the RPM is installed you are ready to move on to the next step.</p><img src="images/img-sat5-step3-completed.png" class="screenshot"/></section><section id="register"><div class="step-num">5</div><h2 translate="translate" class="section-header">Register Your Systems</h2><p translate="translate">To register a system manually:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">There are multiple ways to automate this process including Red Hat Satellite\'s built-in<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/5.7/html/Getting_Started_Guide/sect-Managing_Configuration_Channels.html" target="_blank"> Configuration Management Channels.</a></p><p translate="translate">We\'ve also provided several options for popular configuration management tools below:</p><ul><li><a href="https://forge.puppetlabs.com/lphiri/access_insights_client" target="_blank" translate="translate">Puppet</a></li><li><a href="https://supermarket.chef.io/cookbooks/redhat-access-insights-client" target="_blank" translate="translate">Chef</a></li><li><a href="https://galaxy.ansible.com/list#/roles/4098" target="_blank" translate="translate">Ansible</a></li></ul></section><section id="validate"><div class="step-num">6</div><h2 translate="translate" class="section-header">Validate Data was Reported</h2><p translate="translate">Shortly after you execute `redhat-access-insights --register` on at least one machine, navigate to <strong>Systems --&gt; Overview</strong> in Satellite. Find the system you registered. The status should either be a green check or a red exclamation point.</p><img src="images/img-sat5-step5-systems.png" class="screenshot"/><p translate="translate">If you see a red exclamation, click it to see the reports about your system.</p><img src="images/img-sat5-step5-reports.png" class="screenshot"/><p translate="translate">To view an overview of all system reports, navigate to <strong>Systems --&gt; Insights</strong>.</p><img src="images/img-sat5-step5-overview.png" class="screenshot"/></section>'),e.put("js/states/getting-started/views/getting-started-sat6.html",'<section id="prerequisites" class="section"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Ensure that you’re running the latest Satellite 6.1.</li><li translate="translate">Ensure that you’ve synchronized the latest RHEL 6.7 and RHEL 7.1.z RPMs to your Satellite, and that they are available to your clients.</li><li translate="translate">In order for the Red Hat Satellite Server to be an Insights client, please follow the <a ui-sref="info.getting-started.direct">direct</a> registration instructions and run the following command prior to installing the redhat-access-insights client.</li><pre class="code-block code-terminal"><code class="language-shell"># yum update python-requests</code></pre><li translate="translate">A manifest must be downloaded and imported into the Satellite Organization in which Insights will be enabled.\nFor more information on managing manifests, see the official Satellite 6<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/Installation_Guide/chap-Red_Hat_Satellite-Installation_Guide-Populating_Red_Hat_Satellite_with_Content.html#sect-Red_Hat_Satellite-Installation_Guide-Setting_up_a_Manifest"> documentation.</a></li><li translate="translate">Satellite Organizations with Insights must be running in Connected mode. Any firewalls or proxies through which the Satellite server communicates to Red Hat must allow https communications to <a href="https://cert-api.access.redhat.com">https://cert-api.access.redhat.com</a></li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="verifyconnection" class="section"><div class="step-num">3</div><h2 translate="translate" class="section-header">Verify Connection to Red Hat Insights</h2><p translate="translate">Verify that the Satellite server can successfully communicate with Red Hat Insights.  In the Satellite UI, navigate to <strong>Insights -&gt; Manage</strong>. Verify that the engine connection status is "Connected" and that the account number displayed is correct for your organization.</p><img src="images/img-sat6-step2-manage.jpg" class="screenshot"/></section><section id="register" class="section"><div class="step-num">4</div><h2 translate="translate" class="section-header">Register Your Systems</h2><p translate="translate">To register Satellite clients to Red Hat Insights, you\'ll need to install the client rpm and then register the system.</p><p translate="translate">Install the RPM:</p><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-insights</code></pre><p translate="translate">Register the system:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">If you are using Red Hat Satellite’s configuration management provided by Puppet this process can be automated by applying the preinstalled Puppet class \'access_insights_clients\'. This class can be imported from the Puppet Master into the appropriate Puppet environment and applied to hosts that you wish to subscribe to Red Hat Insights.\nFor more information on using on Puppet with Satellite 6, refer to the official <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/User_Guide/chap-Red_Hat_Satellite-User_Guide-Configuring_the_Provisioning_Environment.html#sect-Red_Hat_Satellite-User_Guide-Creating_a_Host_Group">documentation.</a></p></section><section id="viewingandmanaging" class="section"><div class="step-num">5</div><h2 translate="translate" class="section-header">Viewing Reports and Managing Access From the Satellite UI</h2><p translate="translate" class="margin-top">To view Insights reports, navigate to <strong>Insights -&gt; Overview</strong> in the Satellite 6 UI.</p><img src="images/img-sat6-step5-overview.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view and manage Insights rules, navigate to <strong>Insights -&gt; Rules</strong>.</p><img src="images/img-sat6-step5-rules.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view the list of systems that are reporting data to Red Hat Insights, navigate to <strong>Insights -&gt; Systems</strong>.</p><img src="images/img-sat6-step5-systems.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view connection status or enable/disable Red Hat Insights globally for an Organization, navigate to <strong>Insights -&gt; Manage</strong>.</p><img src="images/img-sat6-step5-manage.jpg" class="screenshot"/></section><section id="userroles" class="section"><div class="step-num">6</div><h2 translate="translate" class="section-header">Assign Red Hat Insights Roles to Users</h2><p translate="translate">By default, only administrators can view Insights Report and Configuration screens. You can give users who are not administrators access to the Insights screens by assigning them the appropriate roles as follows.</p><ul><li translate="translate">To give users access to all Insights screens, including the "Manage" screen, assign them the "Insights Admin" role. In addition, users must be granted the "view_content_host" permission.</li><li translate="translate">To give users Insights report and rule viewing access, assign them the "Insights Viewer" role. In addition, users must be granted the "view_content_host" permission.</li></ul><p translate="translate">For more information on roles refer to the official Satellite 6 <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/User_Guide/chap-Red_Hat_Satellite-User_Guide-Users_and_Roles.html">documentation.</a></p></section>'),
e.put("js/states/getting-started/views/getting-started.html",'<div class="container getting-started-page-intro text-center"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div><div class="col-sm-8 col-sm-offset-2"><insights-tagline></insights-tagline></div></div></div><div id="getting-started" class="band getting-started info-page fixed-scroll-content"><div class="container"><div class="row flex-container"><div id="navvy-container" class="col-md-3 hidden-xs hidden-sm navvy-container"><div id="navvy" data-sticky-nav="" parent="#getting-started" child="#navvy" sibling="#info" offset="40" class="navvy"><div class="header"><h2 translate="translate">Getting Started</h2></div><div class="content"><nav><ul><li ng-repeat="s in sections()" class="fade-in ng-animate-enabled"><a ng-href="{{s.id}}" du-scrollspy="du-scrollspy" relative-hash="relative-hash" permalink="permalink"><span class="arrow"></span>{{s.text | translate}}</a></li></ul></nav></div></div></div><div id="info" class="col-md-9 info"><div class="content"><getting-started-tabs></getting-started-tabs><div ui-view="" class="ng-animate-enabled fade-in"></div><section class="section"><h2 translate="translate" class="section-header">Additional resources</h2><a ui-sref="info.info" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Learn More about Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></section></div></div></div></div></div>'),e.put("js/states/config/views/config.html",'<div class="page-header"><h1 translate="translate" class="title page-title">Configuration</h1></div><div class="content-wrap"><tabset class="config-tabs"><tab heading="{{\'Hidden Rules\'|translate}}" active="current.hidden" ng-click="tabClick(\'hidden\')"><config-hidden ng-if="current.hidden"></config-hidden></tab><tab heading="{{\'Groups\'|translate}}" active="current.groups" ng-click="tabClick(\'groups\')"><config-groups ng-if="current.groups"></config-groups></tab><tab heading="{{\'Messaging\'|translate}}" active="current.messaging" ng-click="tabClick(\'messaging\')"><config-messaging ng-if="current.messaging"></config-messaging></tab><tab heading="{{\'Settings\'|translate}}" active="current.settings" ng-click="tabClick(\'settings\')"><config-settings ng-if="current.settings"></config-settings></tab><!-- rh only--><tab heading="Permissions" active="current.permissions" ng-if="user.is_internal &amp;&amp; perms.has(user, perms.PERMS.SU)" ng-click="tabClick(\'permissions\')"><config-permissions ng-if="current.permissions"></config-permissions></tab><tab heading="Dev" active="current.dev" ng-click="tabClick(\'dev\')" ng-if="user.is_internal || user.demo_mode"><config-dev ng-if="current.dev"></config-dev></tab></tabset></div>'),e.put("js/states/pages/views/402.html",'<div class="page"><section><h1> <i class="fa fa-lock"> </i> 402 <small> No Red Hat Account Found</small></h1></section></div>'),e.put("js/states/pages/views/403.html",'<div class="page"><section><h1> <i class="fa fa-lock"> </i> 403 <small> Forbidden</small></h1></section></div>'),e.put("js/states/hidden/components/components.html",'<div class="components"><div class="page-header"><h1 class="page-title">Components Library</h1></div><section class="section-flex-grid"><h2>Brand new FLEX BOX MODEL layout with equal height layout</h2><h3 class="section-title red">2 column grid set on the flex-grid container</h3><div class="flexgrid equalheights"><div class="row"><div class="col-sm-2"><div class="content gray"><p>testing the content</p></div></div><div class="col-sm-2"><div class="content gray"><p>testing the content</p><p>and again</p></div></div></div><pre class="code-block code-terminal"><code class="code">.flexgrid.equalheights\n  .row\n    .col-sm-2\n      .content\n        p testing the content</code></pre><div class="row"><div class="col-sm-6"><div class="content gray"><p>testing the content</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p></div></div></div></div></section><section><h2>Regular Card</h2><card><card-header>Some header HTML</card-header><card-content>Some content HTML</card-content><card-footer></card-footer></card></section><section><h2>Expandable Card</h2><card expandable="expandable"><card-header>Some header HTML</card-header><card-content>Some content HTML</card-content><card-footer></card-footer></card></section></div>'),e.put("js/states/topics/views/edit-topics.html",'<div class="page topic-form"><div class="row margin-top"></div><div class="rha-notifications"></div><form novalidate="novalidate" name="topicForm" class="form-horizontal"><section><h2>Topic details</h2><div ng-class="{\'has-error\': topicForm.title.$invalid &amp;&amp; topicForm.title.$dirty}" class="form-group"><label for="title" class="control-label col-sm-2">Title</label><div class="col-sm-10"><input id="title" type="text" name="title" ng-model="topic.title" required="required" class="form-control"/></div></div><div ng-class="{\'has-error\': topicForm.slug.$invalid &amp;&amp; topicForm.slug.$dirty}" class="form-group"><label for="title" class="control-label col-sm-2">Slug</label><div class="col-sm-10"><div class="input-group"><div class="input-group-addon"><strong>/actions/</strong></div><input id="slug" type="text" name="slug" ng-model="topic.slug" class="form-control"/></div></div></div><div class="form-group"><label for="priority" class="control-label col-sm-2">Priority</label><div class="col-sm-1"><p id="priority" class="form-control-static">{{topic.priority + 1}}</p></div><div class="col-sm-9"><p class="form-control-static">Priority is determined from the order of topics in the &nbsp;<a ui-sref="app.admin-topic">topic admin table</a></p></div></div><div class="form-group"><label class="control-label col-sm-2">Topic listing behavior<i tooltip="Controls when this topic shows up for a customer in the topic list (actions page)." class="fa fa-question-circle inline-left"></i></label><div class="col-sm-10"><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="\'always\'"/>Always<i tooltip="This topic will be shown always, no matter if customer\'s systems are affected or not. The topic content should use interpolation and conditionals to react to different scenarios (e.g. there are no hits, user has 0 systems registered, product with 0 hits selected, user ignored certain rules, ...)" class="fa fa-question-circle inline-left"></i></label><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="&quot;has_hits&quot;"/>Systems affected<i tooltip="This topic will only be shown to a customer if at least one of their systems is affected. More precisely, the topic is shown if any of the active non-ignored rules associated with this topic (see below) has hits (unresolved actions) on customer\'s systems. If the customer used the product filter to select a particular product, the topic is only shown if there are hits for the selected product." class="fa fa-question-circle inline-left"></i></label><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="&quot;never&quot;"/>Never<i tooltip="This topic is never shown in the topic list. It can still be accessed by a direct link. It can also be used for backing a widget. Implicit topics (based on severity or category) will typically use this option." class="fa fa-question-circle inline-left"></i></label></div></div><div ng-class="{\'has-error\': error.content}" class="form-group"><label for="content" class="control-label col-sm-2">Content</label><div class="col-sm-10"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no><yes-no yes="true" text="doT"></yes-no></div><topic-admin-help-bar text-area="content"></topic-admin-help-bar><textarea id="content" placeholder="Topic content" ng-model="topic.content" rows="20" class="form-control content"></textarea><div ng-show="error.content" class="error red"><strong>{{error.content}}</strong></div><button ng-click="preview(topic, false, true)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-secondary pull-right"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div></div><div ng-class="{\'has-error\': error.summary}" class="form-group"><label for="summary" class="control-label col-sm-2">Summary</label><div class="col-sm-10"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no><yes-no yes="true" text="doT"></yes-no></div><topic-admin-help-bar text-area="summary"></topic-admin-help-bar><textarea id="summary" placeholder="Topic summary" ng-model="topic.summary" rows="10" class="form-control summary"></textarea><div ng-show="error.summary" class="error red"><strong>{{error.summary}}</strong></div><button ng-click="preview(topic, true, false)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-secondary pull-right"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div></div><hr/></section><section><h2>Rule selection</h2><p>There are multiple ways of associating rules with this topic. Choose the one that best suits the type of this topic.</p><div ng-class="{selected: ruleBinding === \'tagged\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="tagged" class="col-sm-2"/><label ng-click="ruleBinding = \'tagged\'">Tagged</label></div><div class="col-sm-10"><ui-select ng-model="topic.tag" append-to-body="false" ng-disabled="ruleBinding !== \'tagged\'" on-select="updateTaggedRules()"><ui-select-match placeholder="Select a tag" class="form-control ui-select-match">{{$select.selected}}</ui-select-match><ui-select-choices repeat="tag in (availableTags | filter: $select.search)" class="ui-select-choices">{{tag}}</ui-select-choices></ui-select><p class="form-control-static"><span translate="translate" translate-n="taggedRules.length" translate-plural="There are {{$count}} rules currently tagged with this tag.">There is 1 rule currently tagged with this tag.</span><span>&nbsp;This number may change in the future if additional rules are tagged with &nbsp;<strong ng-show="topic.tag">{{topic.tag}}.</strong><strong ng-hide="topic.tag">the tag.</strong></span><span>(or if the tag is removed from any of these rules)</span></p><rule-list-simple rules="taggedRules" on-select="selectedRule = rule.rule_id" order="[\'-severityNum\', \'-count\']"></rule-list-simple><p class="form-control-static">If you select an existing tag then all the rules tagged with this tag become part of this topic.\nThis binding is dynamic so if more rules are tagged by this tag in the future, these rules will become part of this topic.\nYou can also create a&nbsp;<a ui-sref="app.admin-rule-tags">new tag</a></p></div></div><div ng-class="{selected: ruleBinding === \'explicit\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="explicit" class="col-sm-2"/><label ng-click="ruleBinding = \'explicit\'">Explicit</label></div><div class="col-sm-10"><ui-select ng-model="select.rule" append-to-body="false" ng-disabled="ruleBinding !== \'explicit\'" on-select="addRule($item)"><ui-select-match placeholder="Add a rule" class="form-control ui-select-match">{{$select.selected.description}}</ui-select-match><ui-select-choices repeat="rule in (getAvailableRules() | filter: {description: $select.search}) | orderBy:[\'-severityNum\', \'-date\'] track by rule.rule_id" class="ui-select-choices"><div class="title">{{rule.description}}</div><all-severity-icons rule="rule"></all-severity-icons></ui-select-choices></ui-select><p class="form-control-static">You can explicitly pick one or multiple rules.</p><p ng-hide="topic.rules.length">No rules selected</p><rule-list-simple rules="topic.rules" on-select="selectedRule = rule.rule_id" on-delete="removeRule(rule)"></rule-list-simple></div></div><div ng-class="{selected: ruleBinding === \'implicit\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="implicit" class="col-sm-2"/><label ng-click="ruleBinding = \'implicit\'" class="text-muted">Implicit</label></div><div class="col-sm-10"><div class="row"><div class="col-sm-5"><simple-select model="topic.category" options="categories" disabled="ruleBinding !== \'implicit\'"></simple-select></div><div class="col-sm-2 text-center"><strong>AND</strong></div><div class="col-sm-5"><simple-select model="topic.severity" options="severities" disabled="ruleBinding !== \'implicit\'"></simple-select></div></div><div class="row"><div class="col-sm-12"><p ng-hide="implicitRules.length" class="form-control-static">No rules with this category</p><p class="form-control-static"><rule-list-simple rules="implicitRules" on-select="selectedRule = rule.rule_id" order="[\'-severityNum\', \'-count\']"></rule-list-simple></p><p class="form-control-static text-muted">Binds all rules that are of certain severity, belong to a certain category or combination of there of.\nThis binding is dynamic so if more rules are added for this category/severity in the future, these rules will become part of this topic.</p></div></div></div></div><hr/></section><div class="btn-group pull-right"><button ng-click="goBack()" class="btn btn-sm btn-default">Cancel</button><button ng-click="update(topic)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-primary">Save</button></div></form></div>'),e.put("js/states/topics/views/topic-admin.html",'<div class="page"><div class="row margin-top"></div><div class="rha-notifications"></div><section><h2 class="push-top-narrow">Topic administration</h2><table class="table table-striped table-bordered ng-table"><thead><tr><th>Title&nbsp;<i tooltip="User-facing name of this topic" class="fa fa-question-circle"></i></th><th>URL</th><th>Rules</th><th>Visibility<i tooltip="Controls when this topic shows up for a customer in the topic list (actions page)." class="fa fa-question-circle inline-left"></i></th><th>Actions</th></tr></thead><tbody><tr ng-repeat="topic in topics track by topic.id" ng-show="!loader.loading" class="ng-cloak"><td><a ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id})">{{topic.title}}</a></td><td><a ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id})">/actions/{{topic.slug ? topic.slug : topic.id}}</a></td><td>{{topic.rules.length}} ({{topic.ruleBinding}})<span ng-show="topic.ruleBinding === \'tagged\'">&nbsp;-&nbsp;<em>{{topic.tag}}</em></span><span ng-show="topic.ruleBinding === \'implicit\'">&nbsp;-&nbsp;<em ng-if="topic.category">{{topic.category}}</em><em ng-if="topic.category &amp;&amp; topic.severity">,&nbsp;</em><em ng-if="topic.severity">{{topic.severity}}</em></span></td><td><span ng-if="topic.listed === &quot;always&quot;">Always</span><span ng-if="topic.listed === &quot;has_hits&quot;">If systems affected</span><span ng-if="topic.listed === &quot;never&quot;">Never</span><span ng-show="topic.hidden" class="icon-inline"><i tooltip="This topic is not published. Only internal users can see it. Use the actions column to publish this topic." class="red fa fa-eye-slash inline-left"></i></span></td><td><span ng-show="topic.hidden" ng-click="hide(topic, false)" class="icon-inline"><i tooltip="Publish this topic" class="fa fa-eye"></i></span><span ng-hide="topic.hidden" ng-click="hide(topic, true)" class="icon-inline"><i tooltip="Hide this topic" class="fa fa-eye-slash"></i></span><span class="icon-inline"><a ui-sref="app.edit-topic({id: topic.id})" tooltip="Edit this topic"><i class="fa fa-pencil-square-o pointer"></i></a></span><span class="icon-inline"><i ng-click="delete(topic)" tooltip="Remove this topic" class="fa fa-remove"></i></span><a ng-click="move(topic, true)" ng-disabled="topic.priority === 0" tooltip="Move this topic higher in the priority list. This affects the order in which topics are presented to customers." class="icon-inline"><i class="fa fa-arrow-up"></i></a><a ng-click="move(topic, false)" ng-disabled="topic.priority === topics.length - 1" tooltip="Move this topic lower in the priority list. This affects the order in which topics are presented to customers." class="icon-inline"><i class="fa fa-arrow-down"></i></a></td></tr><tr ng-show="loader.loading"><td colspan="5"><div class="spinner spinner-lg"></div></td></tr><tr ng-show="!loader.loading &amp;&amp; !topics.length"><td colspan="5" class="text-center">No topics</td></tr></tbody><tfoot><tr><td colspan="5"><button ng-click="newTopic()" class="btn btn-secondary btn-sm pull-right">New topic</button></td></tr></tfoot></table></section></div>'),e.put("js/states/topics/views/topic-list.html",'<div class="actions-page actions-back"><!--platform-filter--><div ng-hide="loading" class="content-wrap"><actions-breadcrumbs ng-hide="loading" class="actions-breadcrumbs push-top"></actions-breadcrumbs><section class="gray section-topic-details"><topic-details ng-hide="loading" topic="topic"></topic-details></section><section class="section-rules-group-content"><topic-rule-list ng-hide="loading" topic="topic"></topic-rule-list></section><!-- Spinner--><div ng-show="loading" class="margin-top text-center"><div class="spinner spinner-lg"></div></div></div></div>'),e.put("js/components/overview/widgets/actionsLite/actionsLite.html",'<div class="actions-light"><div ng-show="loader.loading" class="actions"><div class="spinner spinner-lg"></div></div><div ng-show="!loader.loading" class="actions"><div class="row"><div ng-repeat="category in categories track by category.id" class="col-sm-6"><a ui-sref="app.topic({id: category.id})"><div ng-class="category.id + \'-color\'" class="action-block"><div title="{{category.title}}" class="num">{{category.count}}</div><div class="text"><div class="msg">{{category.label}}</div></div></div></a></div></div></div></div>'),e.put("js/components/overview/widgets/goals/goalsLite.html",'<div id="goals-lite" class="goals-lite"><div ng-if="actionsLoading" class="row"><div class="col sm-12"><div class="spinner spinner-lg"></div></div></div><div ng-if="!actionsLoading &amp;&amp; systemCount &gt; 0" class="row"><div ng-if="securityErrors" class="col-sm-6 block-md"><div class="count circle">{{securityErrors}}</div><h4 translate="translate">Protect yourself!</h4><p translate="translate">Fix all of your<br/>{{securityErrors}} security issues</p><a translate="translate" ui-sref="app.topic({id: \'security\'})" class="cta-link">View security issues</a></div><div ng-if="!securityErrors" class="col-sm-6 block-md"><div class="check circle"><i class="fa fa-check"></i></div><h4 translate="translate">You\'ve fixed all of the high severity security errors</h4></div><div ng-if="stabilityErrors" class="col-sm-6 block-md"><div class="count circle">{{stabilityErrors}}</div><h4 translate="translate">Increase your uptime!</h4><p translate="translate">Fix all of your<br/>{{stabilityErrors}} stability issues</p><a translate="translate" ui-sref="app.topic({id: \'stability\'})" class="cta-link">View stability issues</a></div><div ng-if="!stabilityErrors" class="col-sm-6 block-md"><div class="check circle"><i class="fa fa-check"></i></div><h4 translate="translate">You\'ve fixed all of the high severity stability errors</h4></div></div><div ng-if="!actionsLoading &amp;&amp; systemCount === 0" class="row"><div class="col-sm-12 text-center"><h3>You have no systems registered. Take full advantage of Red Hat Insights by&nbsp;<a translate="translate" href="{{gettingStartedLink}}" target="_blank" class="link">registering systems.</a></h3></div></div></div>'),e.put("js/components/overview/widgets/handcraftedContent/handcraftedContent.html",'<div id="handcrafted-conent" class="handcrafted-conent"><h3><strong>{{overview.article.title}}</strong></h3><span ng-bind-html="overview.article.content_html | trust_html" class="handcrafted-content"></span></div>'),e.put("js/components/overview/widgets/highPrio/highPrio.html",'<div ng-show="items.staleSystems" class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Alerts&nbsp;</span></h2><div class="high-prio list-alert"><div ng-if="loading" class="spinner spinner-lg"></div><table ng-if="items.staleSystems &amp;&amp; !loading" class="table table-separated error"><tbody><tr><td width="50%"><strong>{{items.staleSystems}}&nbsp;</strong>Systems not checking in</td><td class="text-right"><a ui-sref="app.inventory({offline:true})" class="link">View Offline Systems</a></td><td ng-if="false" class="dismiss"><i class="fa fa-moon-o"></i></td></tr></tbody></table></div></section></div>'),e.put("js/components/overview/widgets/maintenancePlanLite/maintenancePlanLite.html",'<section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Plan&nbsp;</span><span translate="translate" class="light">Summary</span><a ui-sref="app.maintenance" translate="translate" class="cta-link">View planner</a></h2><div class="maintenance-plan-lite"><div ng-if="getFirstSuggestion()" class="row row-short padding-top"><div class="col-sm-12"><div class="maintenance-plan-lite"><a ng-click="openPlan(getFirstSuggestion())" class="link suggestions"><span class="icon icon-inline"><i aria-hidden="true" class="fa fa-check-square-o"></i></span><strong translate="translate" translate-n="plans.suggested[0].actions.length" translate-plural="You have a new plan suggestion ({{$count}} actions)" class="underline">You have a new plan suggestion (1 action)</strong></a></div></div></div><div ng-if="plans.future.length" class="row row-short"><div class="col-sm-12"><maintenance-plan-lite-table plans="plans.future" silence="silence" duration="duration"></maintenance-plan-lite-table></div></div><div ng-if="!plans.future.length &amp;&amp; plans.unscheduled.length" class="row"><div class="col-sm-12"><table class="table table-separated"><thead class="lite"><tr><th translate="translate"><b>Newest Plans</b></th><th width="11%" translate="translate"><b>Actions</b></th></tr></thead><tbody><tr ng-repeat="plan in (plans.unscheduled | limitTo:3 | orderBy:\'-maintenance_id\') track by plan.maintenance_id"><td ng-click="openPlan(plan)" class="start"><a>{{MaintenanceService.getPlanName(plan)}}</a></td><td ng-click="openPlan(plan)" class="action-count"><span>{{plan.actionsDone}}/{{plan.actions.length}}</span></td></tr></tbody></table></div></div><div ng-if="stats.rules.ansible" class="row row-short"><div class="col-sm-12 text-center"><strong translate="translate" translate-n="stats.rules.ansible" translate-plural="{{$count}} issues can be resolved automatically">1 issue can be resolved automatically</strong><span translate="translate">&nbsp;using&nbsp;</span><ansible-icon value="true" class="inline-right"></ansible-icon><span translate="translate">Ansible</span></div></div><div class="row"><div class="col-sm-12 text-center"><a ui-sref="app.maintenance({newPlan: true})" class="btn btn-accent"><strong translate="translate">Create a new Plan/Playbook</strong></a></div></div></div></section>'),e.put("js/components/overview/widgets/newSystems/newSystems.html",'<div class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Newest Systems</span><a ui-sref="app.inventory" translate="translate" class="cta-link">View inventory</a></h2><div class="content"><div ng-show="loader.loading" class="spinner"></div><table ng-show="!loader.loading &amp;&amp; systems.length" class="table table-separated"><thead class="lite"><tr><th translate="translate">System</th><th translate="translate">Registration Date</th></tr></thead><tbody><tr ng-repeat="system in systems | orderBy:\'system.created_at\' track by system.system_id"><td><a ng-click="showSystemModal(system)" class="strong">{{system.toString}}</a></td><td><span>{{system.created_at | timeAgo}}</span></td></tr></tbody></table><p ng-show="!loader.loading &amp;&amp; !systems.length" translate="translate">No systems registered</p></div></section></div>'),e.put("js/components/filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.html",'<div class="environment-filter"><label translate="translate">Host</label><div class="dropdown gray"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded\'false="aria-expanded\'false" class="btn btn-default dropdown-toggle">{{getSelectedDockerHost().hostname}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="host in getDockerHosts()"><a ng-click="doSelectDockerHost(host)">{{host.hostname}}</a></li></ul></div></div>'),e.put("js/components/filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="dockerNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),e.put("js/components/filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="rhevNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),e.put("js/components/filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.html",'<div class="environment-filter"><label translate="translate">Deployment</label><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle">{{getSelectedOSPDeployment().display_name}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="deployment in getOSPDeployments()"><a ng-click="doSelectOSPDeployment(deployment)">{{deployment.display_name}}</a></li></ul></div></div>'),e.put("js/components/filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="ospNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),e.put("js/components/overview/widgets/goals/goalsBar/goalsBar.html",'<div class="gauge"><div class="bar-chart-wrapper"></div></div>'),e.put("js/components/overview/widgets/goals/goalsGauge/goalsGauge.html",'<div class="gauge"><div class="chart-wrapper"></div><div class="chart-metrics"><span>{{gaugeNumber + \'/\' +  gaugeMax}}</span></div></div>'),e.put("js/components/overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.html",'<table class="table table-separated"><thead class="lite"><tr><th width="5%" class="count"><span>{{plans.length}}</span></th><th width="30%" translate="translate">Scheduled Plans</th><th translate="translate" class="start">Start</th><th translate="translate" class="duration">Duration</th><th width="11%" translate="translate">Actions</th></tr></thead><tbody><tr ng-repeat="plan in (plans | limitTo:3 | orderBy:\'start\') track by plan.maintenance_id"><td colspan="2" ng-click="openPlan(plan)" tooltip="{{MaintenanceService.getPlanName(plan)}}"><strong>{{plan.start | moment:\'LL\'}}</strong></td><td ng-click="openPlan(plan)" class="start">{{plan.start | moment:\'LT\' | lowercase}}</td><td ng-click="openPlan(plan)" translate="translate" translate-n="duration(plan.start, plan.end)" translate-plural="{{$count}} minutes" class="duration">1 minute</td><td ng-click="openPlan(plan)" class="action-count"><span>{{plan.actionsDone}}/{{plan.actions.length}}</span></td></tr></tbody></table>')}])},{}],260:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],261:[function(e,t,n){(function(r,a){!function(e,r){"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.ES6Promise=r()}(this,function(){"use strict";function t(e){return"function"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e}function n(e){return"function"==typeof e}function i(e){X=e}function o(e){Q=e}function s(){return function(){return r.nextTick(p)}}function l(){return function(){Y(p)}}function c(){var e=0,t=new J(p),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<W;e+=2){var t=ne[e],n=ne[e+1];t(n),ne[e]=void 0,ne[e+1]=void 0}W=0}function f(){try{var t=e,n=t("vertx");return Y=n.runOnLoop||n.runOnContext,l()}catch(r){return d()}}function h(e,t){var n=arguments,r=this,a=new this.constructor(m);void 0===a[ae]&&L(a);var i=r._state;return i?!function(){var e=n[i-1];Q(function(){return P(i,a,e,r._result)})}():C(r,a,e,t),a}function g(e){var t=this;if(e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.constructor===t)return e;var n=new t(m);return S(n,e),n}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return le.error=t,le}}function x(e,t,n,r){try{e.call(t,n,r)}catch(a){return a}}function w(e,t,n){Q(function(e){var r=!1,a=x(n,t,function(n){r||(r=!0,t!==n?S(e,n):T(e,n))},function(t){r||(r=!0,$(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&a&&(r=!0,$(e,a))},e)}function _(e,t){t._state===oe?T(e,t._result):t._state===se?$(e,t._result):C(t,void 0,function(t){return S(e,t)},function(t){return $(e,t)})}function k(e,t,r){t.constructor===e.constructor&&r===h&&t.constructor.resolve===g?_(e,t):r===le?$(e,le.error):void 0===r?T(e,t):n(r)?w(e,t,r):T(e,t)}function S(e,n){e===n?$(e,v()):t(n)?k(e,n,b(n)):T(e,n)}function A(e){e._onerror&&e._onerror(e._result),M(e)}function T(e,t){e._state===ie&&(e._result=t,e._state=oe,0!==e._subscribers.length&&Q(M,e))}function $(e,t){e._state===ie&&(e._state=se,e._result=t,Q(A,e))}function C(e,t,n,r){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+oe]=n,a[i+se]=r,0===i&&e._state&&Q(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)r=t[o],a=t[o+n],r?P(n,r,a,i):a(i);e._subscribers.length=0}}function E(){this.error=null}function I(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function P(e,t,r,a){var i=n(r),o=void 0,s=void 0,l=void 0,c=void 0;if(i){if(o=I(r,a),o===ce?(c=!0,s=o.error,o=null):l=!0,t===o)return void $(t,y())}else o=a,l=!0;t._state!==ie||(i&&l?S(t,o):c?$(t,s):e===oe?T(t,o):e===se&&$(t,o))}function j(e,t){try{t(function(t){S(e,t)},function(t){$(e,t)})}catch(n){$(e,n)}}function D(){return ue++}function L(e){e[ae]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[ae]||L(this.promise),G(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):$(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function N(e){return new O(this,e).promise}function z(e){var t=this;return new t(G(e)?function(n,r){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function B(e){var t=this,n=new t(m);return $(n,e),n}function F(){
throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this[ae]=D(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&F(),this instanceof U?j(this,e):H())}function q(){var e=void 0;if("undefined"!=typeof a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}e.Promise=U}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var G=V,W=0,Y=void 0,X=void 0,Q=function(e,t){ne[W]=e,ne[W+1]=t,W+=2,2===W&&(X?X(p):re())},K="undefined"!=typeof window?window:void 0,Z=K||{},J=Z.MutationObserver||Z.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),re=void 0;re=ee?s():J?c():te?u():void 0===K&&"function"==typeof e?f():d();var ae=Math.random().toString(36).substring(16),ie=void 0,oe=1,se=2,le=new E,ce=new E,ue=0;return O.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ie&&n<e;n++)this._eachEntry(t[n],n)},O.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===g){var a=b(e);if(a===h&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===U){var i=new n(m);k(i,e,a),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},O.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===ie&&(this._remaining--,e===se?$(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},O.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,function(e){return n._settledAt(oe,t,e)},function(e){return n._settledAt(se,t,e)})},U.all=N,U.race=z,U.resolve=g,U.reject=B,U._setScheduler=i,U._setAsap=o,U._asap=Q,U.prototype={constructor:U,then:h,"catch":function(e){return this.then(null,e)}},q(),U.polyfill=q,U.Promise=U,U})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:665}],262:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],s(n))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,"function"==typeof console.trace)),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],a(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],263:[function(e,t,n){"use strict";function r(e){for(var t,n=e.length,r=0;r<n;r++)if(t=e.charCodeAt(r),(t<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}t.exports=function(e){var t="undefined"==typeof e?"undefined":_typeof(e);if("string"===t){var n=e;if(e=+e,0===e&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{}],264:[function(e,t,n){var r=r||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",u=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,u)},p=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(i){l(i)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(t,l,u){u||(t=f(t));var h,g=this,m=t.type,v=m===c,y=function(){p(g,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,g.readyState=g.DONE,y()},r.readAsDataURL(t),void(g.readyState=g.INIT)}if(h||(h=n().createObjectURL(t)),v)e.location.href=h;else{var a=e.open(h,"_blank");a||(e.location.href=h)}g.readyState=g.DONE,y(),d(h)};return g.readyState=g.INIT,a?(h=n().createObjectURL(t),void setTimeout(function(){r.href=h,r.download=l,i(r),y(),d(h),g.readyState=g.DONE})):void b()},g=h.prototype,m=function(e,t,n){return new h(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=r:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return r})},{}],265:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,l=a+a,c=n*o,u=r*o,d=r*s,p=a*o,f=a*s,h=a*l,g=i*o,m=i*s,v=i*l;return e[0]=1-d-h,e[1]=u+v,e[2]=p-m,e[3]=0,e[4]=u-v,e[5]=1-c-h,e[6]=f+g,e[7]=0,e[8]=p+m,e[9]=f-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],266:[function(e,t,n){var r=e("../internal/baseDifference"),a=e("../internal/baseFlatten"),i=e("../internal/isArrayLike"),o=e("../function/restParam"),s=o(function(e,t){return i(e)?r(e,a(t,!1,!0)):[]});t.exports=s},{"../function/restParam":291,"../internal/baseDifference":309,"../internal/baseFlatten":316,"../internal/isArrayLike":368}],267:[function(e,t,n){var r=e("../internal/createFindIndex"),a=r();t.exports=a},{"../internal/createFindIndex":354}],268:[function(e,t,n){function r(e,t,n){var r=e?e.length:0;return n&&i(e,t,n)&&(t=!1),r?a(e,t):[]}var a=e("../internal/baseFlatten"),i=e("../internal/isIterateeCall");t.exports=r},{"../internal/baseFlatten":316,"../internal/isIterateeCall":370}],269:[function(e,t,n){function r(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?o(r+n,0):n;else if(n){var s=i(e,t),l=e[s];return(t===t?t===l:l!==l)?s:-1}return a(e,t,n||0)}var a=e("../internal/baseIndexOf"),i=e("../internal/binaryIndex"),o=Math.max;t.exports=r},{"../internal/baseIndexOf":321,"../internal/binaryIndex":340}],270:[function(e,t,n){function r(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=r},{}],271:[function(e,t,n){function r(e,t,n){var r=[];if(!e||!e.length)return r;var o=-1,s=[],l=e.length;for(t=a(t,n,3);++o<l;){var c=e[o];t(c,o,e)&&(r.push(c),s.push(o))}return i(e,s),r}var a=e("../internal/baseCallback"),i=e("../internal/basePullAt");t.exports=r},{"../internal/baseCallback":305,"../internal/basePullAt":331}],272:[function(e,t,n){function r(e,t,n){var r=e?e.length:0;return r?((n?i(e,t,n):null==t)&&(t=1),t=r-(+t||0),a(e,t<0?0:t)):[]}var a=e("../internal/baseSlice"),i=e("../internal/isIterateeCall");t.exports=r},{"../internal/baseSlice":333,"../internal/isIterateeCall":370}],273:[function(e,t,n){function r(e,t,n,r){var l=e?e.length:0;return l?(null!=t&&"boolean"!=typeof t&&(r=n,n=o(e,t,r)?null:t,t=!1),n=null==n?n:a(n,r,3),t?s(e,n):i(e,n)):[]}var a=e("../internal/baseCallback"),i=e("../internal/baseUniq"),o=e("../internal/isIterateeCall"),s=e("../internal/sortedUniq");t.exports=r},{"../internal/baseCallback":305,"../internal/baseUniq":338,"../internal/isIterateeCall":370,"../internal/sortedUniq":378}],274:[function(e,t,n){var r=e("../internal/createAggregator"),a=Object.prototype,i=a.hasOwnProperty,o=r(function(e,t,n){i.call(e,n)?++e[n]:e[n]=1});t.exports=o},{"../internal/createAggregator":347}],275:[function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return n&&l(e,t,n)&&(t=null),"function"==typeof t&&void 0===n||(t=i(t,n,3)),r(e,t)}var a=e("../internal/arrayEvery"),i=e("../internal/baseCallback"),o=e("../internal/baseEvery"),s=e("../lang/isArray"),l=e("../internal/isIterateeCall");t.exports=r},{"../internal/arrayEvery":296,"../internal/baseCallback":305,"../internal/baseEvery":311,"../internal/isIterateeCall":370,"../lang/isArray":386}],276:[function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return t=i(t,n,3),r(e,t)}var a=e("../internal/arrayFilter"),i=e("../internal/baseCallback"),o=e("../internal/baseFilter"),s=e("../lang/isArray");t.exports=r},{"../internal/arrayFilter":298,"../internal/baseCallback":305,"../internal/baseFilter":313,"../lang/isArray":386}],277:[function(e,t,n){var r=e("../internal/baseEach"),a=e("../internal/createFind"),i=a(r);t.exports=i},{"../internal/baseEach":310,"../internal/createFind":353}],278:[function(e,t,n){function r(e,t){return i(e,a(t))}var a=e("../internal/baseMatches"),i=e("./find");t.exports=r},{"../internal/baseMatches":327,"./find":277}],279:[function(e,t,n){var r=e("../internal/arrayEach"),a=e("../internal/baseEach"),i=e("../internal/createForEach"),o=i(r,a);t.exports=o},{"../internal/arrayEach":295,"../internal/baseEach":310,"../internal/createForEach":355}],280:[function(e,t,n){var r=e("../internal/createAggregator"),a=Object.prototype,i=a.hasOwnProperty,o=r(function(e,t,n){i.call(e,n)?e[n].push(t):e[n]=[t]});t.exports=o},{"../internal/createAggregator":347}],281:[function(e,t,n){function r(e,t,n,r){var p=e?i(e):0;return l(p)||(e=u(e),p=e.length),!!p&&(n="number"!=typeof n||r&&s(t,n,r)?0:n<0?d(p+n,0):n||0,"string"==typeof e||!o(e)&&c(e)?n<p&&e.indexOf(t,n)>-1:a(e,t,n)>-1)}var a=e("../internal/baseIndexOf"),i=e("../internal/getLength"),o=e("../lang/isArray"),s=e("../internal/isIterateeCall"),l=e("../internal/isLength"),c=e("../lang/isString"),u=e("../object/values"),d=Math.max;t.exports=r},{"../internal/baseIndexOf":321,"../internal/getLength":361,"../internal/isIterateeCall":370,"../internal/isLength":372,"../lang/isArray":386,"../lang/isString":391,"../object/values":403}],282:[function(e,t,n){var r=e("../internal/createAggregator"),a=r(function(e,t,n){e[n]=t});t.exports=a},{"../internal/createAggregator":347}],283:[function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return t=i(t,n,3),r(e,t)}var a=e("../internal/arrayMap"),i=e("../internal/baseCallback"),o=e("../internal/baseMap"),s=e("../lang/isArray");t.exports=r},{"../internal/arrayMap":299,"../internal/baseCallback":305,"../internal/baseMap":326,"../lang/isArray":386}],284:[function(e,t,n){var r=e("../internal/createAggregator"),a=r(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});t.exports=a},{"../internal/createAggregator":347}],285:[function(e,t,n){var r=e("../internal/arrayReduce"),a=e("../internal/baseEach"),i=e("../internal/createReduce"),o=i(r,a);t.exports=o},{"../internal/arrayReduce":300,"../internal/baseEach":310,"../internal/createReduce":357}],286:[function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return t=i(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}var a=e("../internal/arrayFilter"),i=e("../internal/baseCallback"),o=e("../internal/baseFilter"),s=e("../lang/isArray");t.exports=r},{"../internal/arrayFilter":298,"../internal/baseCallback":305,"../internal/baseFilter":313,"../lang/isArray":386}],287:[function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return n&&l(e,t,n)&&(t=null),"function"==typeof t&&void 0===n||(t=i(t,n,3)),r(e,t)}var a=e("../internal/arraySome"),i=e("../internal/baseCallback"),o=e("../internal/baseSome"),s=e("../lang/isArray"),l=e("../internal/isIterateeCall");t.exports=r},{"../internal/arraySome":301,"../internal/baseCallback":305,"../internal/baseSome":334,"../internal/isIterateeCall":370,"../lang/isArray":386}],288:[function(e,t,n){function r(e,t,n){if(null==e)return[];n&&l(e,t,n)&&(t=null);var r=-1;t=a(t,n,3);var c=i(e,function(e,n,a){return{criteria:t(e,n,a),index:++r,value:e}});return o(c,s)}var a=e("../internal/baseCallback"),i=e("../internal/baseMap"),o=e("../internal/baseSortBy"),s=e("../internal/compareAscending"),l=e("../internal/isIterateeCall");t.exports=r},{"../internal/baseCallback":305,"../internal/baseMap":326,"../internal/baseSortBy":335,"../internal/compareAscending":346,"../internal/isIterateeCall":370}],289:[function(e,t,n){var r=e("../internal/getNative"),a=r(Date,"now"),i=a||function(){return(new Date).getTime()};t.exports=i},{"../internal/getNative":363}],290:[function(e,t,n){function r(e,t,n){function r(){m&&clearTimeout(m),p&&clearTimeout(p),p=m=v=void 0}function l(){var n=t-(i()-h);if(n<=0||n>t){p&&clearTimeout(p);var r=v;p=m=v=void 0,r&&(y=i(),f=e.apply(g,d),m||p||(d=g=null))}else m=setTimeout(l,n)}function c(){m&&clearTimeout(m),p=m=v=void 0,(x||b!==t)&&(y=i(),f=e.apply(g,d),m||p||(d=g=null))}function u(){if(d=arguments,h=i(),g=this,v=x&&(m||!w),b===!1)var n=w&&!m;else{p||w||(y=h);var r=b-(h-y),a=r<=0||r>b;a?(p&&(p=clearTimeout(p)),y=h,f=e.apply(g,d)):p||(p=setTimeout(c,r))}return a&&m?m=clearTimeout(m):m||t===b||(m=setTimeout(l,t)),n&&(a=!0,f=e.apply(g,d)),!a||m||p||(d=g=null),f}var d,p,f,h,g,m,v,y=0,b=!1,x=!0;if("function"!=typeof e)throw new TypeError(o);if(t=t<0?0:+t||0,n===!0){var w=!0;x=!1}else a(n)&&(w=n.leading,b="maxWait"in n&&s(+n.maxWait||0,t),x="trailing"in n?n.trailing:x);return u.cancel=r,u}var a=e("../lang/isObject"),i=e("../date/now"),o="Expected a function",s=Math.max;t.exports=r},{"../date/now":289,"../lang/isObject":390}],291:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(a);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,a=i(n.length-t,0),o=Array(a);++r<a;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,e.apply(this,s)}}var a="Expected a function",i=Math.max;t.exports=r},{}],292:[function(e,t,n){function r(e,t,n){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(o);return n===!1?r=!1:i(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),s.leading=r,s.maxWait=+t,s.trailing=l,a(e,t,s)}var a=e("./debounce"),i=e("../lang/isObject"),o="Expected a function",s={leading:!1,maxWait:0,trailing:!1};t.exports=r},{"../lang/isObject":390,"./debounce":290}],293:[function(e,t,n){(function(n){function r(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new o};t--;)this.push(e[t])}var a=e("./cachePush"),i=e("./getNative"),o=i(n,"Set"),s=i(Object,"create");r.prototype.push=a,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":345,"./getNative":363}],294:[function(e,t,n){function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=r},{}],295:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=r},{}],296:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}t.exports=r},{}],297:[function(e,t,n){function r(e,t,n,r){for(var a=-1,i=e.length,o=r,s=o;++a<i;){var l=e[a],c=+t(l);n(c,o)&&(o=c,s=l)}return s}t.exports=r},{}],298:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length,a=-1,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[++a]=o)}return i}t.exports=r},{}],299:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}t.exports=r},{}],300:[function(e,t,n){function r(e,t,n,r){var a=-1,i=e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}t.exports=r},{}],301:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}t.exports=r},{}],302:[function(e,t,n){function r(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}t.exports=r},{}],303:[function(e,t,n){function r(e,t,n){for(var r=-1,i=a(t),o=i.length;++r<o;){var s=i[r],l=e[s],c=n(l,t[s],s,e,t);(c===c?c===l:l!==l)&&(void 0!==l||s in e)||(e[s]=c)}return e}var a=e("../object/keys");t.exports=r},{"../object/keys":399}],304:[function(e,t,n){function r(e,t){return null==t?e:a(t,i(t),e)}var a=e("./baseCopy"),i=e("../object/keys");t.exports=r},{"../object/keys":399,"./baseCopy":308}],305:[function(e,t,n){function r(e,t,n){var r="undefined"==typeof e?"undefined":_typeof(e);return"function"==r?void 0===t?e:o(e,t,n):null==e?s:"object"==r?a(e):void 0===t?l(e):i(e,t)}var a=e("./baseMatches"),i=e("./baseMatchesProperty"),o=e("./bindCallback"),s=e("../utility/identity"),l=e("../utility/property");t.exports=r},{"../utility/identity":407,"../utility/property":408,"./baseMatches":327,"./baseMatchesProperty":328,"./bindCallback":342}],306:[function(e,t,n){function r(e,t,n,h,g,m,v){var b;if(n&&(b=g?n(e,h,g):n(e)),void 0!==b)return b;if(!p(e))return e;var x=d(e);if(x){if(b=l(e),!t)return a(e,b)}else{var _=N.call(e),k=_==y;if(_!=w&&_!=f&&(!k||g))return O[_]?c(e,_,t):g?e:{};if(b=u(k?{}:e),!t)return o(b,e)}m||(m=[]),v||(v=[]);for(var S=m.length;S--;)if(m[S]==e)return v[S];return m.push(e),v.push(b),(x?i:s)(e,function(a,i){b[i]=r(a,t,n,i,e,m,v)}),b}var a=e("./arrayCopy"),i=e("./arrayEach"),o=e("./baseAssign"),s=e("./baseForOwn"),l=e("./initCloneArray"),c=e("./initCloneByTag"),u=e("./initCloneObject"),d=e("../lang/isArray"),p=e("../lang/isObject"),f="[object Arguments]",h="[object Array]",g="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Function]",b="[object Map]",x="[object Number]",w="[object Object]",_="[object RegExp]",k="[object Set]",S="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",$="[object Float32Array]",C="[object Float64Array]",M="[object Int8Array]",E="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",L="[object Uint32Array]",O={};O[f]=O[h]=O[T]=O[g]=O[m]=O[$]=O[C]=O[M]=O[E]=O[I]=O[x]=O[w]=O[_]=O[S]=O[P]=O[j]=O[D]=O[L]=!0,O[v]=O[y]=O[b]=O[k]=O[A]=!1;var R=Object.prototype,N=R.toString;t.exports=r},{"../lang/isArray":386,"../lang/isObject":390,"./arrayCopy":294,"./arrayEach":295,"./baseAssign":304,"./baseForOwn":319,"./initCloneArray":365,"./initCloneByTag":366,"./initCloneObject":367}],307:[function(e,t,n){function r(e,t){if(e!==t){var n=null===e,r=void 0===e,a=e===e,i=null===t,o=void 0===t,s=t===t;if(e>t&&!i||!a||n&&!o&&s||r&&s)return 1;if(e<t&&!n||!s||i&&!r&&a||o&&a)return-1}return 0}t.exports=r},{}],308:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,a=t.length;++r<a;){var i=t[r];n[i]=e[i]}return n}t.exports=r},{}],309:[function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var s=-1,l=a,c=!0,u=c&&t.length>=200?o(t):null,d=t.length;u&&(l=i,c=!1,t=u);e:for(;++s<n;){var p=e[s];if(c&&p===p){for(var f=d;f--;)if(t[f]===p)continue e;r.push(p)}else l(t,p,0)<0&&r.push(p)}return r}var a=e("./baseIndexOf"),i=e("./cacheIndexOf"),o=e("./createCache");t.exports=r},{"./baseIndexOf":321,"./cacheIndexOf":344,"./createCache":351}],310:[function(e,t,n){var r=e("./baseForOwn"),a=e("./createBaseEach"),i=a(r);t.exports=i},{"./baseForOwn":319,"./createBaseEach":349}],311:[function(e,t,n){function r(e,t){var n=!0;return a(e,function(e,r,a){return n=!!t(e,r,a)}),n}var a=e("./baseEach");t.exports=r},{"./baseEach":310}],312:[function(e,t,n){function r(e,t,n,r){var i=r,o=i;return a(e,function(e,a,s){var l=+t(e,a,s);(n(l,i)||l===r&&l===o)&&(i=l,o=e)}),o}var a=e("./baseEach");t.exports=r},{"./baseEach":310}],313:[function(e,t,n){function r(e,t){var n=[];return a(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}var a=e("./baseEach");t.exports=r},{"./baseEach":310}],314:[function(e,t,n){function r(e,t,n,r){var a;return n(e,function(e,n,i){if(t(e,n,i))return a=r?n:e,!1}),a}t.exports=r},{}],315:[function(e,t,n){function r(e,t,n){for(var r=e.length,a=n?r:-1;n?a--:++a<r;)if(t(e[a],a,e))return a;return-1}t.exports=r},{}],316:[function(e,t,n){function r(e,t,n){for(var l=-1,c=e.length,u=-1,d=[];++l<c;){var p=e[l];if(s(p)&&o(p)&&(n||i(p)||a(p))){t&&(p=r(p,t,n));for(var f=-1,h=p.length;++f<h;)d[++u]=p[f]}else n||(d[++u]=p)}return d}var a=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("./isArrayLike"),s=e("./isObjectLike");t.exports=r},{"../lang/isArguments":385,"../lang/isArray":386,"./isArrayLike":368,"./isObjectLike":373}],317:[function(e,t,n){var r=e("./createBaseFor"),a=r();t.exports=a},{"./createBaseFor":350}],318:[function(e,t,n){function r(e,t){return a(e,t,i)}var a=e("./baseFor"),i=e("../object/keysIn");t.exports=r},{"../object/keysIn":400,"./baseFor":317}],319:[function(e,t,n){function r(e,t){return a(e,t,i)}var a=e("./baseFor"),i=e("../object/keys");t.exports=r},{"../object/keys":399,"./baseFor":317}],320:[function(e,t,n){function r(e,t,n){if(null!=e){void 0!==n&&n in a(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:void 0}}var a=e("./toObject");t.exports=r},{"./toObject":380}],321:[function(e,t,n){function r(e,t,n){if(t!==t)return a(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var a=e("./indexOfNaN");t.exports=r},{"./indexOfNaN":364}],322:[function(e,t,n){function r(e,t,n,s,l,c){return e===t||(null==e||null==t||!i(e)&&!o(t)?e!==e&&t!==t:a(e,t,r,n,s,l,c))}var a=e("./baseIsEqualDeep"),i=e("../lang/isObject"),o=e("./isObjectLike");t.exports=r},{"../lang/isObject":390,"./baseIsEqualDeep":323,"./isObjectLike":373}],323:[function(e,t,n){function r(e,t,n,r,p,g,m){var v=s(e),y=s(t),b=u,x=u;v||(b=h.call(e),b==c?b=d:b!=d&&(v=l(e))),y||(x=h.call(t),x==c?x=d:x!=d&&(y=l(t)));var w=b==d,_=x==d,k=b==x;if(k&&!v&&!w)return i(e,t,b);if(!p){var S=w&&f.call(e,"__wrapped__"),A=_&&f.call(t,"__wrapped__");if(S||A)return n(S?e.value():e,A?t.value():t,r,p,g,m)}if(!k)return!1;g||(g=[]),m||(m=[]);for(var T=g.length;T--;)if(g[T]==e)return m[T]==t;g.push(e),m.push(t);var $=(v?a:o)(e,t,n,r,p,g,m);return g.pop(),m.pop(),$}var a=e("./equalArrays"),i=e("./equalByTag"),o=e("./equalObjects"),s=e("../lang/isArray"),l=e("../lang/isTypedArray"),c="[object Arguments]",u="[object Array]",d="[object Object]",p=Object.prototype,f=p.hasOwnProperty,h=p.toString;t.exports=r},{"../lang/isArray":386,"../lang/isTypedArray":392,"./equalArrays":358,"./equalByTag":359,"./equalObjects":360}],324:[function(e,t,n){function r(e){return"function"==typeof e||!1}t.exports=r},{}],325:[function(e,t,n){function r(e,t,n){var r=t.length,o=r,s=!n;if(null==e)return!o;for(e=i(e);r--;){var l=t[r];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<o;){l=t[r];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(void 0===u&&!(c in e))return!1}else{var p=n?n(u,d,c):void 0;if(!(void 0===p?a(d,u,n,!0):p))return!1}}return!0}var a=e("./baseIsEqual"),i=e("./toObject");t.exports=r},{"./baseIsEqual":322,"./toObject":380}],326:[function(e,t,n){function r(e,t){var n=-1,r=i(e)?Array(e.length):[];return a(e,function(e,a,i){r[++n]=t(e,a,i)}),r}var a=e("./baseEach"),i=e("./isArrayLike");t.exports=r},{"./baseEach":310,"./isArrayLike":368}],327:[function(e,t,n){function r(e){var t=i(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(void 0!==r||n in o(e)))}}return function(e){return a(e,t)}}var a=e("./baseIsMatch"),i=e("./getMatchData"),o=e("./toObject");t.exports=r},{"./baseIsMatch":325,"./getMatchData":362,"./toObject":380}],328:[function(e,t,n){function r(e,t){var n=s(e),r=l(e)&&c(t),f=e+"";return e=p(e),function(s){if(null==s)return!1;var l=f;if(s=d(s),(n||!r)&&!(l in s)){if(s=1==e.length?s:a(s,o(e,0,-1)),null==s)return!1;l=u(e),s=d(s)}return s[l]===t?void 0!==t||l in s:i(t,s[l],void 0,!0)}}var a=e("./baseGet"),i=e("./baseIsEqual"),o=e("./baseSlice"),s=e("../lang/isArray"),l=e("./isKey"),c=e("./isStrictComparable"),u=e("../array/last"),d=e("./toObject"),p=e("./toPath");t.exports=r},{"../array/last":270,"../lang/isArray":386,"./baseGet":320,"./baseIsEqual":322,"./baseSlice":333,"./isKey":371,"./isStrictComparable":374,"./toObject":380,"./toPath":381}],329:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],330:[function(e,t,n){function r(e){var t=e+"";return e=i(e),function(n){return a(n,e,t)}}var a=e("./baseGet"),i=e("./toPath");t.exports=r},{"./baseGet":320,"./toPath":381}],331:[function(e,t,n){function r(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&a(r)){var i=r;o.call(e,r,1)}}return e}var a=e("./isIndex"),i=Array.prototype,o=i.splice;t.exports=r},{"./isIndex":369}],332:[function(e,t,n){function r(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n}t.exports=r},{}],333:[function(e,t,n){function r(e,t,n){var r=-1,a=e.length;t=null==t?0:+t||0,t<0&&(t=-t>a?0:a+t),n=void 0===n||n>a?a:+n||0,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}t.exports=r},{}],334:[function(e,t,n){function r(e,t){var n;return a(e,function(e,r,a){return n=t(e,r,a),!n}),!!n}var a=e("./baseEach");t.exports=r},{"./baseEach":310}],335:[function(e,t,n){function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}t.exports=r},{}],336:[function(e,t,n){function r(e,t){var n=0;return a(e,function(e,r,a){n+=+t(e,r,a)||0}),n}var a=e("./baseEach");t.exports=r},{"./baseEach":310}],337:[function(e,t,n){function r(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=r},{}],338:[function(e,t,n){function r(e,t){var n=-1,r=a,s=e.length,l=!0,c=l&&s>=200,u=c?o():null,d=[];u?(r=i,l=!1):(c=!1,u=t?[]:d);e:for(;++n<s;){var p=e[n],f=t?t(p,n,e):p;if(l&&p===p){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),d.push(p)}else r(u,f,0)<0&&((t||c)&&u.push(f),d.push(p))}return d}var a=e("./baseIndexOf"),i=e("./cacheIndexOf"),o=e("./createCache");t.exports=r},{"./baseIndexOf":321,"./cacheIndexOf":344,"./createCache":351}],339:[function(e,t,n){function r(e,t){for(var n=-1,r=t.length,a=Array(r);++n<r;)a[n]=e[t[n]];return a}t.exports=r},{}],340:[function(e,t,n){function r(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&o<=s){for(;r<o;){var l=r+o>>>1,c=e[l];(n?c<=t:c<t)&&null!==c?r=l+1:o=l}return o}return a(e,t,i,n)}var a=e("./binaryIndexBy"),i=e("../utility/identity"),o=4294967295,s=o>>>1;t.exports=r},{"../utility/identity":407,"./binaryIndexBy":341}],341:[function(e,t,n){function r(e,t,n,r){t=n(t);for(var o=0,l=e?e.length:0,c=t!==t,u=null===t,d=void 0===t;o<l;){var p=a((o+l)/2),f=n(e[p]),h=void 0!==f,g=f===f;if(c)var m=g||r;else m=u?g&&h&&(r||null!=f):d?g&&(r||h):null!=f&&(r?f<=t:f<t);m?o=p+1:l=p}return i(l,s)}var a=Math.floor,i=Math.min,o=4294967295,s=o-1;t.exports=r},{}],342:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return a;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,i){return e.call(t,n,r,a,i)};case 5:return function(n,r,a,i,o){return e.call(t,n,r,a,i,o)}}return function(){return e.apply(t,arguments)}}var a=e("../utility/identity");t.exports=r},{"../utility/identity":407}],343:[function(e,t,n){(function(n){function r(e){return s.call(e,0)}var a=e("../utility/constant"),i=e("./getNative"),o=i(n,"ArrayBuffer"),s=i(o&&new o(0),"slice"),l=Math.floor,c=i(n,"Uint8Array"),u=function(){try{var e=i(n,"Float64Array"),t=new e(new o(10),0,1)&&e}catch(r){}return t||null}(),d=u?u.BYTES_PER_ELEMENT:0;s||(r=o&&c?function(e){var t=e.byteLength,n=u?l(t/d):0,r=n*d,a=new o(t);if(n){var i=new u(a,0,n);i.set(new u(e,0,n))}return t!=r&&(i=new c(a,r),i.set(new c(e,r))),a}:a(null)),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/constant":406,"./getNative":363}],344:[function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||a(t)?n.set.has(t):n.hash[t];return r?0:-1}var a=e("../lang/isObject");t.exports=r},{"../lang/isObject":390}],345:[function(e,t,n){function r(e){var t=this.data;"string"==typeof e||a(e)?t.set.add(e):t.hash[e]=!0}var a=e("../lang/isObject");t.exports=r},{"../lang/isObject":390}],346:[function(e,t,n){function r(e,t){return a(e.criteria,t.criteria)||e.index-t.index}var a=e("./baseCompareAscending");t.exports=r},{"./baseCompareAscending":307}],347:[function(e,t,n){function r(e,t){return function(n,r,s){var l=t?t():{};if(r=a(r,s,3),o(n))for(var c=-1,u=n.length;++c<u;){var d=n[c];e(l,d,r(d,c,n),n)}else i(n,function(t,n,a){e(l,t,r(t,n,a),a)});return l}}var a=e("./baseCallback"),i=e("./baseEach"),o=e("../lang/isArray");t.exports=r},{"../lang/isArray":386,"./baseCallback":305,"./baseEach":310}],348:[function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=null==t?0:n.length,s=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,c=o>1?n[o-1]:void 0;
for("function"==typeof s?(s=a(s,c,5),o-=2):(s="function"==typeof c?c:void 0,o-=s?1:0),l&&i(n[0],n[1],l)&&(s=o<3?void 0:s,o=1);++r<o;){var u=n[r];u&&e(t,u,s)}return t})}var a=e("./bindCallback"),i=e("./isIterateeCall"),o=e("../function/restParam");t.exports=r},{"../function/restParam":291,"./bindCallback":342,"./isIterateeCall":370}],349:[function(e,t,n){function r(e,t){return function(n,r){var s=n?a(n):0;if(!i(s))return e(n,r);for(var l=t?s:-1,c=o(n);(t?l--:++l<s)&&r(c[l],l,c)!==!1;);return n}}var a=e("./getLength"),i=e("./isLength"),o=e("./toObject");t.exports=r},{"./getLength":361,"./isLength":372,"./toObject":380}],350:[function(e,t,n){function r(e){return function(t,n,r){for(var i=a(t),o=r(t),s=o.length,l=e?s:-1;e?l--:++l<s;){var c=o[l];if(n(i[c],c,i)===!1)break}return t}}var a=e("./toObject");t.exports=r},{"./toObject":380}],351:[function(e,t,n){(function(n){var r=e("./SetCache"),a=e("../utility/constant"),i=e("./getNative"),o=i(n,"Set"),s=i(Object,"create"),l=s&&o?function(e){return new r(e)}:a(null);t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/constant":406,"./SetCache":293,"./getNative":363}],352:[function(e,t,n){function r(e,t){return function(n,r,c){if(c&&s(n,r,c)&&(r=null),r=i(r,c,3),1==r.length){n=l(n);var u=a(n,r,e,t);if(!n.length||u!==t)return u}return o(n,r,e,t)}}var a=e("./arrayExtremum"),i=e("./baseCallback"),o=e("./baseExtremum"),s=e("./isIterateeCall"),l=e("./toIterable");t.exports=r},{"./arrayExtremum":297,"./baseCallback":305,"./baseExtremum":312,"./isIterateeCall":370,"./toIterable":379}],353:[function(e,t,n){function r(e,t){return function(n,r,l){if(r=a(r,l,3),s(n)){var c=o(n,r,t);return c>-1?n[c]:void 0}return i(n,r,e)}}var a=e("./baseCallback"),i=e("./baseFind"),o=e("./baseFindIndex"),s=e("../lang/isArray");t.exports=r},{"../lang/isArray":386,"./baseCallback":305,"./baseFind":314,"./baseFindIndex":315}],354:[function(e,t,n){function r(e){return function(t,n,r){return t&&t.length?(n=a(n,r,3),i(t,n,e)):-1}}var a=e("./baseCallback"),i=e("./baseFindIndex");t.exports=r},{"./baseCallback":305,"./baseFindIndex":315}],355:[function(e,t,n){function r(e,t){return function(n,r,o){return"function"==typeof r&&void 0===o&&i(n)?e(n,r):t(n,a(r,o,3))}}var a=e("./bindCallback"),i=e("../lang/isArray");t.exports=r},{"../lang/isArray":386,"./bindCallback":342}],356:[function(e,t,n){function r(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=a(n,r,3)),e(t,n)}}var a=e("./bindCallback");t.exports=r},{"./bindCallback":342}],357:[function(e,t,n){function r(e,t){return function(n,r,s,l){var c=arguments.length<3;return"function"==typeof r&&void 0===l&&o(n)?e(n,r,s,c):i(n,a(r,l,4),s,c,t)}}var a=e("./baseCallback"),i=e("./baseReduce"),o=e("../lang/isArray");t.exports=r},{"../lang/isArray":386,"./baseCallback":305,"./baseReduce":332}],358:[function(e,t,n){function r(e,t,n,r,i,o,s){var l=-1,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;for(;++l<c;){var d=e[l],p=t[l],f=r?r(i?p:d,i?d:p,l):void 0;if(void 0!==f){if(f)continue;return!1}if(i){if(!a(t,function(e){return d===e||n(d,e,r,i,o,s)}))return!1}else if(d!==p&&!n(d,p,r,i,o,s))return!1}return!0}var a=e("./arraySome");t.exports=r},{"./arraySome":301}],359:[function(e,t,n){function r(e,t,n){switch(n){case a:case i:return+e==+t;case o:return e.name==t.name&&e.message==t.message;case s:return e!=+e?t!=+t:e==+t;case l:case c:return e==t+""}return!1}var a="[object Boolean]",i="[object Date]",o="[object Error]",s="[object Number]",l="[object RegExp]",c="[object String]";t.exports=r},{}],360:[function(e,t,n){function r(e,t,n,r,i,s,l){var c=a(e),u=c.length,d=a(t),p=d.length;if(u!=p&&!i)return!1;for(var f=u;f--;){var h=c[f];if(!(i?h in t:o.call(t,h)))return!1}for(var g=i;++f<u;){h=c[f];var m=e[h],v=t[h],y=r?r(i?v:m,i?m:v,h):void 0;if(!(void 0===y?n(m,v,r,i,s,l):y))return!1;g||(g="constructor"==h)}if(!g){var b=e.constructor,x=t.constructor;if(b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x))return!1}return!0}var a=e("../object/keys"),i=Object.prototype,o=i.hasOwnProperty;t.exports=r},{"../object/keys":399}],361:[function(e,t,n){var r=e("./baseProperty"),a=r("length");t.exports=a},{"./baseProperty":329}],362:[function(e,t,n){function r(e){for(var t=i(e),n=t.length;n--;)t[n][2]=a(t[n][1]);return t}var a=e("./isStrictComparable"),i=e("../object/pairs");t.exports=r},{"../object/pairs":401,"./isStrictComparable":374}],363:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}var a=e("../lang/isNative");t.exports=r},{"../lang/isNative":389}],364:[function(e,t,n){function r(e,t,n){for(var r=e.length,a=t+(n?0:-1);n?a--:++a<r;){var i=e[a];if(i!==i)return a}return-1}t.exports=r},{}],365:[function(e,t,n){function r(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var a=Object.prototype,i=a.hasOwnProperty;t.exports=r},{}],366:[function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case u:return a(e);case i:case o:return new r((+e));case d:case p:case f:case h:case g:case m:case v:case y:case b:var w=e.buffer;return new r(n?a(w):w,e.byteOffset,e.length);case s:case c:return new r(e);case l:var _=new r(e.source,x.exec(e));_.lastIndex=e.lastIndex}return _}var a=e("./bufferClone"),i="[object Boolean]",o="[object Date]",s="[object Number]",l="[object RegExp]",c="[object String]",u="[object ArrayBuffer]",d="[object Float32Array]",p="[object Float64Array]",f="[object Int8Array]",h="[object Int16Array]",g="[object Int32Array]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",x=/\w*$/;t.exports=r},{"./bufferClone":343}],367:[function(e,t,n){function r(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=r},{}],368:[function(e,t,n){function r(e){return null!=e&&i(a(e))}var a=e("./getLength"),i=e("./isLength");t.exports=r},{"./getLength":361,"./isLength":372}],369:[function(e,t,n){function r(e,t){return e="number"==typeof e||a.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&e<t}var a=/^\d+$/,i=9007199254740991;t.exports=r},{}],370:[function(e,t,n){function r(e,t,n){if(!o(n))return!1;var r="undefined"==typeof t?"undefined":_typeof(t);if("number"==r?a(n)&&i(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var a=e("./isArrayLike"),i=e("./isIndex"),o=e("../lang/isObject");t.exports=r},{"../lang/isObject":390,"./isArrayLike":368,"./isIndex":369}],371:[function(e,t,n){function r(e,t){var n="undefined"==typeof e?"undefined":_typeof(e);if("string"==n&&s.test(e)||"number"==n)return!0;if(a(e))return!1;var r=!o.test(e);return r||null!=t&&e in i(t)}var a=e("../lang/isArray"),i=e("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},{"../lang/isArray":386,"./toObject":380}],372:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}var a=9007199254740991;t.exports=r},{}],373:[function(e,t,n){function r(e){return!!e&&"object"==("undefined"==typeof e?"undefined":_typeof(e))}t.exports=r},{}],374:[function(e,t,n){function r(e){return e===e&&!a(e)}var a=e("../lang/isObject");t.exports=r},{"../lang/isObject":390}],375:[function(e,t,n){function r(e,t){e=a(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}var a=e("./toObject");t.exports=r},{"./toObject":380}],376:[function(e,t,n){function r(e,t){var n={};return a(e,function(e,r,a){t(e,r,a)&&(n[r]=e)}),n}var a=e("./baseForIn");t.exports=r},{"./baseForIn":318}],377:[function(e,t,n){function r(e){for(var t=l(e),n=t.length,r=n&&e.length,c=!!r&&s(r)&&(i(e)||a(e)),d=-1,p=[];++d<n;){var f=t[d];(c&&o(f,r)||u.call(e,f))&&p.push(f)}return p}var a=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("./isIndex"),s=e("./isLength"),l=e("../object/keysIn"),c=Object.prototype,u=c.hasOwnProperty;t.exports=r},{"../lang/isArguments":385,"../lang/isArray":386,"../object/keysIn":400,"./isIndex":369,"./isLength":372}],378:[function(e,t,n){function r(e,t){for(var n,r=-1,a=e.length,i=-1,o=[];++r<a;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++i]=s)}return o}t.exports=r},{}],379:[function(e,t,n){function r(e){return null==e?[]:a(e)?i(e)?e:Object(e):o(e)}var a=e("./isArrayLike"),i=e("../lang/isObject"),o=e("../object/values");t.exports=r},{"../lang/isObject":390,"../object/values":403,"./isArrayLike":368}],380:[function(e,t,n){function r(e){return a(e)?e:Object(e)}var a=e("../lang/isObject");t.exports=r},{"../lang/isObject":390}],381:[function(e,t,n){function r(e){if(i(e))return e;var t=[];return a(e).replace(o,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t}var a=e("./baseToString"),i=e("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=r},{"../lang/isArray":386,"./baseToString":337}],382:[function(e,t,n){function r(e,t,n,r){return t&&"boolean"!=typeof t&&o(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?a(e,t,i(n,r,1)):a(e,t)}var a=e("../internal/baseClone"),i=e("../internal/bindCallback"),o=e("../internal/isIterateeCall");t.exports=r},{"../internal/baseClone":306,"../internal/bindCallback":342,"../internal/isIterateeCall":370}],383:[function(e,t,n){function r(e,t,n){return"function"==typeof t?a(e,!0,i(t,n,1)):a(e,!0)}var a=e("../internal/baseClone"),i=e("../internal/bindCallback");t.exports=r},{"../internal/baseClone":306,"../internal/bindCallback":342}],384:[function(e,t,n){function r(e,t){return e>t}t.exports=r},{}],385:[function(e,t,n){function r(e){return i(e)&&a(e)&&l.call(e)==o}var a=e("../internal/isArrayLike"),i=e("../internal/isObjectLike"),o="[object Arguments]",s=Object.prototype,l=s.toString;t.exports=r},{"../internal/isArrayLike":368,"../internal/isObjectLike":373}],386:[function(e,t,n){var r=e("../internal/getNative"),a=e("../internal/isLength"),i=e("../internal/isObjectLike"),o="[object Array]",s=Object.prototype,l=s.toString,c=r(Array,"isArray"),u=c||function(e){return i(e)&&a(e.length)&&l.call(e)==o};t.exports=u},{"../internal/getNative":363,"../internal/isLength":372,"../internal/isObjectLike":373}],387:[function(e,t,n){function r(e){return null==e||(o(e)&&(i(e)||c(e)||a(e)||l(e)&&s(e.splice))?!e.length:!u(e).length)}var a=e("./isArguments"),i=e("./isArray"),o=e("../internal/isArrayLike"),s=e("./isFunction"),l=e("../internal/isObjectLike"),c=e("./isString"),u=e("../object/keys");t.exports=r},{"../internal/isArrayLike":368,"../internal/isObjectLike":373,"../object/keys":399,"./isArguments":385,"./isArray":386,"./isFunction":388,"./isString":391}],388:[function(e,t,n){(function(n){var r=e("../internal/baseIsFunction"),a=e("../internal/getNative"),i="[object Function]",o=Object.prototype,s=o.toString,l=a(n,"Uint8Array"),c=r(/x/)||l&&!r(l)?function(e){return s.call(e)==i}:r;t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":324,"../internal/getNative":363}],389:[function(e,t,n){function r(e){return null!=e&&(d.call(e)==o?p.test(c.call(e)):i(e)&&s.test(e))}var a=e("../string/escapeRegExp"),i=e("../internal/isObjectLike"),o="[object Function]",s=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=l.toString,p=RegExp("^"+a(c.call(u)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{"../internal/isObjectLike":373,"../string/escapeRegExp":405}],390:[function(e,t,n){function r(e){var t="undefined"==typeof e?"undefined":_typeof(e);return!!e&&("object"==t||"function"==t)}t.exports=r},{}],391:[function(e,t,n){function r(e){return"string"==typeof e||a(e)&&s.call(e)==i}var a=e("../internal/isObjectLike"),i="[object String]",o=Object.prototype,s=o.toString;t.exports=r},{"../internal/isObjectLike":373}],392:[function(e,t,n){function r(e){return i(e)&&a(e.length)&&!!M[I.call(e)]}var a=e("../internal/isLength"),i=e("../internal/isObjectLike"),o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",$="[object Uint16Array]",C="[object Uint32Array]",M={};M[x]=M[w]=M[_]=M[k]=M[S]=M[A]=M[T]=M[$]=M[C]=!0,M[o]=M[s]=M[b]=M[l]=M[c]=M[u]=M[d]=M[p]=M[f]=M[h]=M[g]=M[m]=M[v]=M[y]=!1;var E=Object.prototype,I=E.toString;t.exports=r},{"../internal/isLength":372,"../internal/isObjectLike":373}],393:[function(e,t,n){var r=e("../internal/createExtremum"),a=e("../lang/gt"),i=Number.NEGATIVE_INFINITY,o=r(a,i);t.exports=o},{"../internal/createExtremum":352,"../lang/gt":384}],394:[function(e,t,n){function r(e,t,n){n&&l(e,t,n)&&(t=null);var r=null==t;return t=r?t:i(t,n,3),r?a(s(e)?e:c(e)):o(e,t)}var a=e("../internal/arraySum"),i=e("../internal/baseCallback"),o=e("../internal/baseSum"),s=e("../lang/isArray"),l=e("../internal/isIterateeCall"),c=e("../internal/toIterable");t.exports=r},{"../internal/arraySum":302,"../internal/baseCallback":305,"../internal/baseSum":336,"../internal/isIterateeCall":370,"../internal/toIterable":379,"../lang/isArray":386}],395:[function(e,t,n){var r=e("../internal/assignWith"),a=e("../internal/baseAssign"),i=e("../internal/createAssigner"),o=i(function(e,t,n){return n?r(e,t,n):a(e,t)});t.exports=o},{"../internal/assignWith":303,"../internal/baseAssign":304,"../internal/createAssigner":348}],396:[function(e,t,n){var r=e("../internal/baseForOwn"),a=e("../internal/createForOwn"),i=a(r);t.exports=i},{"../internal/baseForOwn":319,"../internal/createForOwn":356}],397:[function(e,t,n){function r(e,t,n){var r=null==e?void 0:a(e,i(t),t+"");return void 0===r?n:r}var a=e("../internal/baseGet"),i=e("../internal/toPath");t.exports=r},{"../internal/baseGet":320,"../internal/toPath":381}],398:[function(e,t,n){function r(e,t){if(null==e)return!1;var n=h.call(e,t);if(!n&&!c(t)){if(t=p(t),e=1==t.length?e:a(e,i(t,0,-1)),null==e)return!1;t=d(t),n=h.call(e,t)}return n||u(e.length)&&l(t,e.length)&&(s(e)||o(e))}var a=e("../internal/baseGet"),i=e("../internal/baseSlice"),o=e("../lang/isArguments"),s=e("../lang/isArray"),l=e("../internal/isIndex"),c=e("../internal/isKey"),u=e("../internal/isLength"),d=e("../array/last"),p=e("../internal/toPath"),f=Object.prototype,h=f.hasOwnProperty;t.exports=r},{"../array/last":270,"../internal/baseGet":320,"../internal/baseSlice":333,"../internal/isIndex":369,"../internal/isKey":371,"../internal/isLength":372,"../internal/toPath":381,"../lang/isArguments":385,"../lang/isArray":386}],399:[function(e,t,n){var r=e("../internal/getNative"),a=e("../internal/isArrayLike"),i=e("../lang/isObject"),o=e("../internal/shimKeys"),s=r(Object,"keys"),l=s?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&a(e)?o(e):i(e)?s(e):[]}:o;t.exports=l},{"../internal/getNative":363,"../internal/isArrayLike":368,"../internal/shimKeys":377,"../lang/isObject":390}],400:[function(e,t,n){function r(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(i(e)||a(e))&&t||0;for(var n=e.constructor,r=-1,c="function"==typeof n&&n.prototype===e,d=Array(t),p=t>0;++r<t;)d[r]=r+"";for(var f in e)p&&o(f,t)||"constructor"==f&&(c||!u.call(e,f))||d.push(f);return d}var a=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("../internal/isIndex"),s=e("../internal/isLength"),l=e("../lang/isObject"),c=Object.prototype,u=c.hasOwnProperty;t.exports=r},{"../internal/isIndex":369,"../internal/isLength":372,"../lang/isArguments":385,"../lang/isArray":386,"../lang/isObject":390}],401:[function(e,t,n){function r(e){e=i(e);for(var t=-1,n=a(e),r=n.length,o=Array(r);++t<r;){var s=n[t];o[t]=[s,e[s]]}return o}var a=e("./keys"),i=e("../internal/toObject");t.exports=r},{"../internal/toObject":380,"./keys":399}],402:[function(e,t,n){var r=e("../internal/baseFlatten"),a=e("../internal/bindCallback"),i=e("../internal/pickByArray"),o=e("../internal/pickByCallback"),s=e("../function/restParam"),l=s(function(e,t){return null==e?{}:"function"==typeof t[0]?o(e,a(t[0],t[1],3)):i(e,r(t))});t.exports=l},{"../function/restParam":291,"../internal/baseFlatten":316,"../internal/bindCallback":342,"../internal/pickByArray":375,"../internal/pickByCallback":376}],403:[function(e,t,n){function r(e){return a(e,i(e))}var a=e("../internal/baseValues"),i=e("./keys");t.exports=r},{"../internal/baseValues":339,"./keys":399}],404:[function(e,t,n){function r(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}var a=e("../internal/baseToString");t.exports=r},{"../internal/baseToString":337}],405:[function(e,t,n){function r(e){return e=a(e),e&&o.test(e)?e.replace(i,"\\$&"):e}var a=e("../internal/baseToString"),i=/[.*+?^${}()|[\]\/\\]/g,o=RegExp(i.source);t.exports=r},{"../internal/baseToString":337}],406:[function(e,t,n){function r(e){return function(){return e}}t.exports=r},{}],407:[function(e,t,n){function r(e){return e}t.exports=r},{}],408:[function(e,t,n){function r(e){return o(e)?a(e):i(e)}var a=e("../internal/baseProperty"),i=e("../internal/basePropertyDeep"),o=e("../internal/isKey");t.exports=r},{"../internal/baseProperty":329,"../internal/basePropertyDeep":330,"../internal/isKey":371}],409:[function(e,t,n){function r(e){var t=/(?:;|,)/g,n=/=/;if(e&&t.test(e)){var r=e.split(t);n.test(e)?r.forEach(function(e,t){var r=e.split(n).map(function(e){return e.trim()});2===r.length?(this[r[0]]||(this[r[0]]={}),this[r[0]]=r[1],this[t]={},this[t][r[0]]=r[1]):this[t]=e},this):this[0]=r[0]}else this[0]=e;return this}r.prototype.toArray=function(){return Object.keys(this).filter(function(e){return!isNaN(+e)}).map(function(e){return this[e]},this)},t.exports=function(e){return r.prototype.toString=function(){return e},new r(e)}},{}],410:[function(e,t,n){"use strict";var r=e("../src/lib"),a={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in a){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,a[i])}},{"../src/lib":538}],411:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},{}],412:[function(e,t,n){"use strict";t.exports=e("../src/traces/bar")},{"../src/traces/bar":622}],413:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":527}],414:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./bar"),e("./pie")]),t.exports=r},{"./bar":412,"./core":413,"./pie":415}],415:[function(e,t,n){"use strict";t.exports=e("../src/traces/pie")},{"../src/traces/pie":635}],416:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color"),i=e("../../plots/cartesian/axes"),o=e("./attributes");t.exports=function(e,t,n,s,l){function c(n,a){return r.coerce(e,t,o,n,a)}s=s||{},l=l||{};var u=c("visible",!l.itemIsNotPlainObject),d=c("clicktoshow");if(!u&&!d)return t;c("opacity");var p=c("bgcolor"),f=c("bordercolor"),h=a.opacity(f);c("borderpad");var g=c("borderwidth"),m=c("showarrow");c("text",m?" ":"new text"),c("textangle"),r.coerceFont(c,"font",n.font),c("width"),c("align");var v=c("height");v&&c("valign");for(var y=["x","y"],b=[-10,-30],x={_fullLayout:n},w=0;w<2;w++){var _=y[w],k=i.coerceRef(e,t,x,_,"","paper");if(i.coercePosition(t,x,c,k,_,.5),m){var S="a"+_,A=i.coerceRef(e,t,x,S,"pixel");"pixel"!==A&&A!==k&&(A=t[S]="pixel");var T="pixel"===A?b[w]:.4;i.coercePosition(t,x,c,A,S,T)}c(_+"anchor"),c(_+"shift")}if(r.noneOrAll(e,t,["x","y"]),m&&(c("arrowcolor",h?t.bordercolor:a.defaultLine),c("arrowhead"),c("arrowsize"),c("arrowwidth",2*(h&&g||1)),c("standoff"),r.noneOrAll(e,t,["ax","ay"])),d){var $=c("xclick"),C=c("yclick");t._xclick=void 0===$?t.x:$,t._yclick=void 0===C?t.y:C}var M=c("hovertext"),E=n.hoverlabel||{};if(M){var I=c("hoverlabel.bgcolor",E.bgcolor||(a.opacity(p)?a.rgb(p):a.defaultLine)),P=c("hoverlabel.bordercolor",E.bordercolor||a.contrast(I));r.coerceFont(c,"hoverlabel.font",{family:E.font.family,size:E.font.size,color:E.font.color||P})}return c("captureevents",!!M),t}},{"../../lib":538,"../../plots/cartesian/axes":573,"../color":427,"./attributes":418}],417:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],418:[function(e,t,n){"use strict";var r=e("./arrow_paths"),a=e("../../plots/font_attributes"),i=e("../../plots/cartesian/constants"),o=e("../../lib/extend").extendFlat;
t.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:o({},a,{description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,role:"style",description:"Sets the annotation arrow head style."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",description:"Sets the size (in px) of annotation arrow head."},arrowwidth:{valType:"number",min:.1,role:"style",description:"Sets the width (in px) of annotation arrow."},standoff:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a distance, in pixels, to move the arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],role:"info",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],role:"info",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:o({},a,{description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")})},captureevents:{valType:"boolean",role:"info",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},_deprecated:{ref:{valType:"string",role:"info",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},{"../../lib/extend":534,"../../plots/cartesian/constants":578,"../../plots/font_attributes":597,"./arrow_paths":417}],419:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout;a.filterVisible(t.annotations).forEach(function(t){var n,r,a=i.getFromId(e,t.xref),o=i.getFromId(e,t.yref),s=3*t.arrowsize*t.arrowwidth||0;a&&a.autorange&&(n=s+t.xshift,r=s-t.xshift,t.axref===t.xref?(i.expand(a,[a.r2c(t.x)],{ppadplus:n,ppadminus:r}),i.expand(a,[a.r2c(t.ax)],{ppadplus:t._xpadplus,ppadminus:t._xpadminus})):i.expand(a,[a.r2c(t.x)],{ppadplus:Math.max(t._xpadplus,n),ppadminus:Math.max(t._xpadminus,r)})),o&&o.autorange&&(n=s-t.yshift,r=s+t.yshift,t.ayref===t.yref?(i.expand(o,[o.r2c(t.y)],{ppadplus:n,ppadminus:r}),i.expand(o,[o.r2c(t.ay)],{ppadplus:t._ypadplus,ppadminus:t._ypadminus})):i.expand(o,[o.r2c(t.y)],{ppadplus:Math.max(t._ypadplus,n),ppadminus:Math.max(t._ypadminus,r)}))})}var a=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./draw").draw;t.exports=function(e){var t=e._fullLayout,n=a.filterVisible(t.annotations);if(n.length&&e._fullData.length){var s={};n.forEach(function(e){s[e.xref]=!0,s[e.yref]=!0});var l=i.list(e).filter(function(e){return e.autorange&&s[e._id]});if(l.length)return a.syncOrAsync([o,r],e)}}},{"../../lib":538,"../../plots/cartesian/axes":573,"./draw":423}],420:[function(e,t,n){"use strict";function r(e,t){var n=i(e,t);return n.on.length>0||n.explicitOff.length>0}function a(e,t){var n,r=i(e,t),a=r.on,s=r.off.concat(r.explicitOff),l={};if(a.length||s.length){for(n=0;n<a.length;n++)l["annotations["+a[n]+"].visible"]=!0;for(n=0;n<s.length;n++)l["annotations["+s[n]+"].visible"]=!1;return o.update(e,{},l)}}function i(e,t){var n,r,a,i,o,s,l=e._fullLayout.annotations,c=[],u=[],d=[],p=(t||[]).length;for(n=0;n<l.length;n++)if(a=l[n],i=a.clicktoshow){for(r=0;r<p;r++)if(o=t[r],o.xaxis._id===a.xref&&o.yaxis._id===a.yref&&o.xaxis.d2r(o.x)===a._xclick&&o.yaxis.d2r(o.y)===a._yclick){s=a.visible?"onout"===i?u:d:c,s.push(n);break}r===p&&a.visible&&"onout"===i&&u.push(n)}return{on:c,off:u,explicitOff:d}}var o=e("../../plotly");t.exports={hasClickToShow:r,onClick:a}},{"../../plotly":568}],421:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,i){function o(e){var n=c[e],o=null;o=s?a(n,t.range):Math.pow(10,n),r(o)||(o=null),i(u+e,o)}t=t||{};var s="log"===n&&"linear"===t.type,l="linear"===n&&"log"===t.type;if(s||l)for(var c,u,d=e._fullLayout.annotations,p=t._id.charAt(0),f=0;f<d.length;f++)c=d[f],u="annotations["+f+"].",c[p+"ref"]===t._id&&o(p),c["a"+p+"ref"]===t._id&&o("a"+p)}},{"../../lib/to_log_range":556,"fast-isnumeric":263}],422:[function(e,t,n){"use strict";var r=e("../../plots/array_container_defaults"),a=e("./annotation_defaults");t.exports=function(e,t){var n={name:"annotations",handleItemDefaults:a};r(e,t,n)}},{"../../plots/array_container_defaults":570,"./annotation_defaults":416}],423:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&a(e,n);return l.previousPromises(e)}function a(e,t){function n(e){return e.call(p.font,L).attr({"text-anchor":{left:"start",right:"end"}[x.align]||"middle"}),h.convertToTspans(e,r),e}function r(){function n(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}var r=O.selectAll("a");if(1===r.size()&&r.text()===O.text()){var a=C.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"});a.node().appendChild(P.node())}O.selectAll("tspan.line").attr({y:0,x:0});var f=C.select(".annotation-math-group"),h=!f.empty(),b=p.bBox((h?f:O).node()),E=b.width,L=b.height,R=x.width||E,N=x.height||L,z=Math.round(R+2*I),B=Math.round(N+2*I);x._w=R,x._h=N;var F=!1;if(["x","y"].forEach(function(t){var r,a,i,o,s,d=x[t+"ref"]||t,p=x["a"+t+"ref"],f=u.getFromId(e,d),h=(A+("x"===t?0:-90))*Math.PI/180,g=z*Math.cos(h),m=B*Math.sin(h),v=Math.abs(g)+Math.abs(m),b=x[t+"anchor"],w=x[t+"shift"]*("x"===t?1:-1),_=S[t];if(f){var k=f.r2fraction(x[t]);if((e._dragging||!f.autorange)&&(k<0||k>1)&&(p===d?(k=f.r2fraction(x["a"+t]),(k<0||k>1)&&(F=!0)):F=!0,F))return;r=f._offset+f.r2p(x[t]),o=.5}else"x"===t?(i=x[t],r=y.l+y.w*i):(i=1-x[t],r=y.t+y.h*i),o=x.showarrow?.5:i;if(x.showarrow){_.head=r;var T=x["a"+t];s=g*n(.5,x.xanchor)-m*n(.5,x.yanchor),p===d?(_.tail=f._offset+f.r2p(T),a=s):(_.tail=r+T,a=s+T),_.text=_.tail+s;var $=l["x"===t?"width":"height"];if("paper"===d&&(_.head=c.constrain(_.head,1,$-1)),"pixel"===p){var C=-Math.max(_.tail-3,_.text),M=Math.min(_.tail+3,_.text)-$;C>0?(_.tail+=C,_.text+=C):M>0&&(_.tail-=M,_.text-=M)}_.tail+=w,_.head+=w}else s=v*n(o,b),a=s,_.text=r+s;_.text+=w,s+=w,a+=w,x["_"+t+"padplus"]=v/2+a,x["_"+t+"padminus"]=v/2-a,x["_"+t+"size"]=v,x["_"+t+"shift"]=s}),F)return void C.remove();var H=0,U=0;if("left"!==x.align&&(H=(R-E)*("center"===x.align?.5:1)),"top"!==x.valign&&(U=(N-L)*("middle"===x.valign?.5:1)),h)f.select("svg").attr({x:I+H-1,y:I+U}).call(p.setClipUrl,j?w:null);else{var q=I+U-b.top,V=I+H-b.left;O.attr({x:V,y:q}).call(p.setClipUrl,j?w:null),O.selectAll("tspan.line").attr({y:q,x:V})}D.select("rect").call(p.setRect,I,I,R,N),P.call(p.setRect,M/2,M/2,z-M,B-M),C.call(p.setTranslate,Math.round(S.x.text-z/2),Math.round(S.y.text-B/2)),$.attr({transform:"rotate("+A+","+S.x.text+","+S.y.text+")"});var G="annotations["+t+"]",W=function(n,r){o.select(e).selectAll('.annotation-arrow-g[data-index="'+t+'"]').remove();var a=S.x.head,l=S.y.head,u=S.x.tail+n,f=S.y.tail+r,h=S.x.text+n,g=S.y.text+r,b=c.rotationXYMatrix(A,h,g),w=c.apply2DTransform(b),M=c.apply2DTransform2(b),E=+P.attr("width"),I=+P.attr("height"),j=h-.5*E,D=j+E,L=g-.5*I,O=L+I,R=[[j,L,j,O],[j,O,D,O],[D,O,D,L],[D,L,j,L]].map(M);if(!R.reduce(function(e,t){return e^!!i(a,l,a+1e6,l+1e6,t[0],t[1],t[2],t[3])},!1)){R.forEach(function(e){var t=i(u,f,a,l,e[0],e[1],e[2],e[3]);t&&(u=t.x,f=t.y)});var N=x.arrowwidth,z=x.arrowcolor,B=T.append("g").style({opacity:d.opacity(z)}).classed("annotation-arrow-g",!0).attr("data-index",String(t)),F=B.append("path").attr("d","M"+u+","+f+"L"+a+","+l).style("stroke-width",N+"px").call(d.stroke,d.rgb(z));if(v(F,x.arrowhead,"end",x.arrowsize,x.standoff),e._context.editable&&F.node().parentNode){var H=a,U=l;if(x.standoff){var q=Math.sqrt(Math.pow(a-u,2)+Math.pow(l-f,2));H+=x.standoff*(u-a)/q,U+=x.standoff*(f-l)/q}var V,W,Y,X=B.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(t),d:"M3,3H-3V-3H3ZM0,0L"+(u-H)+","+(f-U),transform:"translate("+H+","+U+")"}).style("stroke-width",N+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");m.init({element:X.node(),prepFn:function(){var e=p.getTranslate(C);W=e.x,Y=e.y,V={},_&&_.autorange&&(V[_._name+".autorange"]=!0),k&&k.autorange&&(V[k._name+".autorange"]=!0)},moveFn:function(e,t){var n=w(W,Y),r=n[0]+e,a=n[1]+t;C.call(p.setTranslate,r,a),V[G+".x"]=_?_.p2r(_.r2p(x.x)+e):x.x+e/y.w,V[G+".y"]=k?k.p2r(k.r2p(x.y)+t):x.y-t/y.h,x.axref===x.xref&&(V[G+".ax"]=_.p2r(_.r2p(x.ax)+e)),x.ayref===x.yref&&(V[G+".ay"]=k.p2r(k.r2p(x.ay)+t)),B.attr("transform","translate("+e+","+t+")"),$.attr({transform:"rotate("+A+","+r+","+a+")"})},doneFn:function(t){if(t){s.relayout(e,V);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};if(x.showarrow&&W(0,0),e._context.editable){var Y,X;m.init({element:C.node(),prepFn:function(){X=$.attr("transform"),Y={}},moveFn:function(e,t){var n="pointer";if(x.showarrow)x.axref===x.xref?Y[G+".ax"]=_.p2r(_.r2p(x.ax)+e):Y[G+".ax"]=x.ax+e,x.ayref===x.yref?Y[G+".ay"]=k.p2r(k.r2p(x.ay)+t):Y[G+".ay"]=x.ay+t,W(e,t);else{if(_)Y[G+".x"]=x.x+e/_._m;else{var r=x._xsize/y.w,a=x.x+(x._xshift-x.xshift)/y.w-r/2;Y[G+".x"]=m.align(a+e/y.w,r,0,1,x.xanchor)}if(k)Y[G+".y"]=x.y+t/k._m;else{var i=x._ysize/y.h,o=x.y-(x._yshift+x.yshift)/y.h-i/2;Y[G+".y"]=m.align(o-t/y.h,i,0,1,x.yanchor)}_&&k||(n=m.getCursor(_?.5:Y[G+".x"],k?.5:Y[G+".y"],x.xanchor,x.yanchor))}$.attr({transform:"translate("+e+","+t+")"+X}),g(C,n)},doneFn:function(t){if(g(C),t){s.relayout(e,Y);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var a=e.layout,l=e._fullLayout,y=e._fullLayout._size;l._infolayer.selectAll('.annotation[data-index="'+t+'"]').remove();var b=(a.annotations||[])[t],x=l.annotations[t],w="clip"+l._uid+"_ann"+t;if(!b||x.visible===!1)return void o.selectAll("#"+w).remove();var _=u.getFromId(e,x.xref),k=u.getFromId(e,x.yref),S={x:{},y:{}},A=+x.textangle||0,T=l._infolayer.append("g").classed("annotation",!0).attr("data-index",String(t)).style("opacity",x.opacity),$=T.append("g").classed("annotation-text-g",!0).attr("data-index",String(t)),C=$.append("g").style("pointer-events",x.captureevents?"all":null).call(g,"default").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",{index:t,annotation:b,fullAnnotation:x,event:o.event})});x.hovertext&&C.on("mouseover",function(){var t=x.hoverlabel,n=t.font,r=this.getBoundingClientRect(),a=e.getBoundingClientRect();f.loneHover({x0:r.left-a.left,x1:r.right-a.left,y:(r.top+r.bottom)/2-a.top,text:x.hovertext,color:t.bgcolor,borderColor:t.bordercolor,fontFamily:n.family,fontSize:n.size,fontColor:n.color},{container:l._hoverlayer.node(),outerContainer:l._paper.node()})}).on("mouseout",function(){f.loneUnhover(l._hoverlayer.node())});var M=x.borderwidth,E=x.borderpad,I=M+E,P=C.append("rect").attr("class","bg").style("stroke-width",M+"px").call(d.stroke,x.bordercolor).call(d.fill,x.bgcolor),j=x.width||x.height,D=l._defs.select(".clips").selectAll("#"+w).data(j?[0]:[]);D.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),D.exit().remove();var L=x.font,O=C.append("text").classed("annotation",!0).attr("data-unformatted",x.text).text(x.text);e._context.editable?O.call(h.makeEditable,C).call(n).on("edit",function(r){x.text=r,this.attr({"data-unformatted":x.text}),this.call(n);var a={};a["annotations["+t+"].text"]=x.text,_&&_.autorange&&(a[_._name+".autorange"]=!0),k&&k.autorange&&(a[k._name+".autorange"]=!0),s.relayout(e,a)}):O.call(n)}function i(e,t,n,r,a,i,o,s){var l=n-e,c=a-e,u=o-a,d=r-t,p=i-t,f=s-i,h=l*f-u*d;if(0===h)return null;var g=(c*f-u*p)/h,m=(c*d-l*p)/h;return m<0||m>1||g<0||g>1?null:{x:e+l*g,y:t+d*g}}var o=e("d3"),s=e("../../plotly"),l=e("../../plots/plots"),c=e("../../lib"),u=e("../../plots/cartesian/axes"),d=e("../color"),p=e("../drawing"),f=e("../fx"),h=e("../../lib/svg_text_utils"),g=e("../../lib/setcursor"),m=e("../dragelement"),v=e("./draw_arrow_head");t.exports={draw:r,drawOne:a}},{"../../lib":538,"../../lib/setcursor":553,"../../lib/svg_text_utils":555,"../../plotly":568,"../../plots/cartesian/axes":573,"../../plots/plots":601,"../color":427,"../dragelement":448,"../drawing":451,"../fx":468,"./draw_arrow_head":424,d3:260}],424:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../color"),o=e("../drawing"),s=e("./arrow_paths");t.exports=function(e,t,n,l,c){function u(){e.style("stroke-dasharray","0px,100px")}function d(n,a){f.path&&(t>5&&(a=0),r.select(p.parentElement).append("path").attr({"class":e.attr("class"),d:f.path,transform:"translate("+n.x+","+n.y+")rotate("+180*a/Math.PI+")scale("+y+")"}).style({fill:b,opacity:x,"stroke-width":0}))}a(l)||(l=1);var p=e.node(),f=s[t||0];"string"==typeof n&&n||(n="end");var h,g,m,v,y=(o.getPx(e,"stroke-width")||1)*l,b=e.style("stroke")||i.defaultLine,x=e.style("stroke-opacity")||1,w=n.indexOf("start")>=0,_=n.indexOf("end")>=0,k=f.backoff*y+c;if("line"===p.nodeName){h={x:+e.attr("x1"),y:+e.attr("y1")},g={x:+e.attr("x2"),y:+e.attr("y2")};var S=h.x-g.x,A=h.y-g.y;if(m=Math.atan2(A,S),v=m+Math.PI,k){if(k*k>S*S+A*A)return void u();var T=k*Math.cos(m),$=k*Math.sin(m);w&&(h.x-=T,h.y-=$,e.attr({x1:h.x,y1:h.y})),_&&(g.x+=T,g.y+=$,e.attr({x2:g.x,y2:g.y}))}}else if("path"===p.nodeName){var C=p.getTotalLength(),M="";if(C<k)return void u();if(w){var E=p.getPointAtLength(0),I=p.getPointAtLength(.1);m=Math.atan2(E.y-I.y,E.x-I.x),h=p.getPointAtLength(Math.min(k,C)),k&&(M="0px,"+k+"px,")}if(_){var P=p.getPointAtLength(C),j=p.getPointAtLength(C-.1);if(v=Math.atan2(P.y-j.y,P.x-j.x),g=p.getPointAtLength(Math.max(0,C-k)),k){var D=M?2*k:k;M+=C-D+"px,"+C+"px"}}else M&&(M+=C+"px");M&&e.style("stroke-dasharray",M)}w&&d(h,m),_&&d(g,v)}},{"../color":427,"../drawing":451,"./arrow_paths":417,d3:260,"fast-isnumeric":263}],425:[function(e,t,n){"use strict";var r=e("./draw"),a=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:e("./convert_coords")}},{"./attributes":418,"./calc_autorange":419,"./click":420,"./convert_coords":421,"./defaults":422,"./draw":423}],426:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],427:[function(e,t,n){"use strict";function r(e){if(i(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),a="a"===t.charAt(3)&&4===r.length;if(!a&&3!==r.length)return e;for(var o=0;o<r.length;o++){if(!r[o].length)return e;if(r[o]=Number(r[o]),!(r[o]>=0))return e;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return a?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}var a=e("tinycolor2"),i=e("fast-isnumeric"),o=t.exports={},s=e("./attributes");o.defaults=s.defaults;var l=o.defaultLine=s.defaultLine;o.lightLine=s.lightLine;var c=o.background=s.background;o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(a(e))},o.opacity=function(e){return e?a(e).getAlpha():0},o.addOpacity=function(e,t){var n=a(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=a(e).toRgb();if(1===n.a)return a(e).toRgbString();var r=a(t||c).toRgb(),i=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},o={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return a(o).toRgbString()},o.contrast=function(e,t,n){var r=a(e);1!==r.getAlpha()&&(r=a(o.combine(e,c)));var i=r.isDark()?t?r.lighten(t):c:n?r.darken(n):l;return i.toString()},o.stroke=function(e,t){var n=a(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=a(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))){var t,n,a,i,s=Object.keys(e);for(t=0;t<s.length;t++)if(a=s[t],i=e[a],"color"===a.substr(a.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=r(i[n]);else e[a]=r(i);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=r(i[n][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"===("undefined"==typeof l?"undefined":_typeof(l)))for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"===("undefined"==typeof i?"undefined":_typeof(i))&&o.clean(i)}}},{"./attributes":426,"fast-isnumeric":263,tinycolor2:666}],428:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),a=e("../../plots/font_attributes"),i=e("../../lib/extend").extendFlat;t.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string",role:"info",dflt:"Click to enter colorscale title",description:"Sets the title of the color bar."},titlefont:i({},a,{description:["Sets this color bar's title font."].join(" ")}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")}}},{"../../lib/extend":534,"../../plots/cartesian/layout_attributes":584,"../../plots/font_attributes":597}],429:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/tick_value_defaults"),i=e("../../plots/cartesian/tick_mark_defaults"),o=e("../../plots/cartesian/tick_label_defaults"),s=e("./attributes");t.exports=function(e,t,n){function l(e,t){return r.coerce(u,c,s,e,t)}var c=t.colorbar={},u=e.colorbar||{},d=l("thicknessmode");l("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var p=l("lenmode");l("len","fraction"===p?1:n.height-n.margin.t-n.margin.b),l("x"),l("xanchor"),l("xpad"),l("y"),l("yanchor"),l("ypad"),r.noneOrAll(u,c,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor"),a(u,c,l,"linear"),o(u,c,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),i(u,c,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),l("title"),r.coerceFont(l,"titlefont",n.font),l("titleside")}},{"../../lib":538,"../../plots/cartesian/tick_label_defaults":591,"../../plots/cartesian/tick_mark_defaults":592,"../../plots/cartesian/tick_value_defaults":593,"./attributes":428}],430:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),i=e("../../plotly"),o=e("../../plots/plots"),s=e("../../registry"),l=e("../../plots/cartesian/axes"),c=e("../dragelement"),u=e("../../lib"),d=e("../../lib/extend").extendFlat,p=e("../../lib/setcursor"),f=e("../drawing"),h=e("../color"),g=e("../titles"),m=e("../../plots/cartesian/axis_defaults"),v=e("../../plots/cartesian/position_defaults"),y=e("../../plots/cartesian/layout_attributes"),b=e("./attributes");t.exports=function(e,t){function n(){function b(e,t){return u.coerce(Z,J,y,e,t)}function _(){if(["top","bottom"].indexOf(w.titleside)!==-1){var t=ie.select(".cbtitle"),n=t.select("text"),i=[-w.outlinewidth/2,w.outlinewidth/2],o=t.select(".h"+J._id+"title-math-group").node(),s=15.6;
if(n.node()&&(s=1.3*parseInt(n.style("font-size"),10)),o?(se=f.bBox(o).height,se>s&&(i[1]-=(se-s)/2)):n.node()&&!n.classed("js-placeholder")&&(se=f.bBox(t.node()).height),se){if(se+=5,"top"===w.titleside)J.domain[1]-=se/T.h,i[1]*=-1;else{J.domain[0]+=se/T.h;var c=Math.max(1,n.selectAll("tspan.line").size());i[1]+=(1-c)*s}t.attr("transform","translate("+i+")"),J.setScale()}}ie.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(T.h*(1-J.domain[1]))+")");var d=ie.select(".cbfills").selectAll("rect.cbfill").data(E);d.enter().append("rect").classed("cbfill",!0).style("stroke","none"),d.exit().remove(),d.each(function(e,t){var n=[0===t?C[0]:(E[t]+E[t-1])/2,t===E.length-1?C[1]:(E[t]+E[t+1])/2].map(J.c2p).map(Math.round);t!==E.length-1&&(n[1]+=n[1]>n[0]?1:-1);var i=P(e).replace("e-",""),o=a(i).toHexString();r.select(this).attr({x:W,width:Math.max(B,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:o})});var p=ie.select(".cblines").selectAll("path.cbline").data(w.line.color&&w.line.width?M:[]);return p.enter().append("path").classed("cbline",!0),p.exit().remove(),p.each(function(e){r.select(this).attr("d","M"+W+","+(Math.round(J.c2p(e))+w.line.width/2%1)+"h"+B).call(f.lineGroupStyle,w.line.width,I(e),w.line.dash)}),J._axislayer.selectAll("g."+J._id+"tick,path").remove(),J._pos=W+B+(w.outlinewidth||0)/2-("outside"===w.ticks?1:0),J.side="right",u.syncOrAsync([function(){return l.doTicks(e,J,!0)},function(){if(["top","bottom"].indexOf(w.titleside)===-1){var t=J.titlefont.size,n=J._offset+J._length/2,a=T.l+(J.position||0)*T.w+("right"===J.side?10+t*(J.showticklabels?1:.5):-10-t*(J.showticklabels?.5:0));k("h"+J._id+"title",{avoid:{selection:r.select(e).selectAll("g."+J._id+"tick"),side:w.titleside,offsetLeft:T.l,offsetTop:T.t,maxShift:A.width},attributes:{x:a,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function k(t,n){var r,a=x();r=s.traceIs(a,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var i={propContainer:J,propName:r,traceIndex:a.index,dfltName:"colorscale",containerGroup:ie.select(".cbtitle")},o="h"===t.charAt(0)?t.substr(1):"h"+t;ie.selectAll("."+o+",."+o+"-math-group").remove(),g.draw(e,t,d(i,n||{}))}function S(){var n=B+w.outlinewidth/2+f.bBox(J._axislayer.node()).width;if(R=oe.select("text"),R.node()&&!R.classed("js-placeholder")){var r,a=oe.select(".h"+J._id+"title-math-group").node();r=a&&["top","bottom"].indexOf(w.titleside)!==-1?f.bBox(a).width:f.bBox(oe.node()).right-W-T.l,n=Math.max(n,r)}var i=2*w.xpad+n+w.borderwidth+w.outlinewidth/2,s=Q-K;ie.select(".cbbg").attr({x:W-w.xpad-(w.borderwidth+w.outlinewidth)/2,y:K-V,width:Math.max(i,2),height:Math.max(s+2*V,2)}).call(h.fill,w.bgcolor).call(h.stroke,w.bordercolor).style({"stroke-width":w.borderwidth}),ie.selectAll(".cboutline").attr({x:W,y:K+w.ypad+("top"===w.titleside?se:0),width:Math.max(B,2),height:Math.max(s-2*w.ypad-se,2)}).call(h.stroke,w.outlinecolor).style({fill:"None","stroke-width":w.outlinewidth});var l=({center:.5,right:1}[w.xanchor]||0)*i;ie.attr("transform","translate("+(T.l-l)+","+T.t+")"),o.autoMargin(e,t,{x:w.x,y:w.y,l:i*({right:1,center:.5}[w.xanchor]||0),r:i*({left:1,center:.5}[w.xanchor]||0),t:s*({bottom:1,middle:.5}[w.yanchor]||0),b:s*({top:1,middle:.5}[w.yanchor]||0)})}var A=e._fullLayout,T=A._size;if("function"!=typeof w.fillcolor&&"function"!=typeof w.line.color)return void A._infolayer.selectAll("g."+t).remove();var $,C=r.extent(("function"==typeof w.fillcolor?w.fillcolor:w.line.color).domain()),M=[],E=[],I="function"==typeof w.line.color?w.line.color:function(){return w.line.color},P="function"==typeof w.fillcolor?w.fillcolor:function(){return w.fillcolor},j=w.levels.end+w.levels.size/100,D=w.levels.size,L=1.001*C[0]-.001*C[1],O=1.001*C[1]-.001*C[0];for($=w.levels.start;($-j)*D<0;$+=D)$>L&&$<O&&M.push($);if("function"==typeof w.fillcolor)if(w.filllevels)for(j=w.filllevels.end+w.filllevels.size/100,D=w.filllevels.size,$=w.filllevels.start;($-j)*D<0;$+=D)$>C[0]&&$<C[1]&&E.push($);else E=M.map(function(e){return e-w.levels.size/2}),E.push(E[E.length-1]+w.levels.size);else w.fillcolor&&"string"==typeof w.fillcolor&&(E=[0]);w.levels.size<0&&(M.reverse(),E.reverse());var R,N=A.height-A.margin.t-A.margin.b,z=A.width-A.margin.l-A.margin.r,B=Math.round(w.thickness*("fraction"===w.thicknessmode?z:1)),F=B/T.w,H=Math.round(w.len*("fraction"===w.lenmode?N:1)),U=H/T.h,q=w.xpad/T.w,V=(w.borderwidth+w.outlinewidth)/2,G=w.ypad/T.h,W=Math.round(w.x*T.w+w.xpad),Y=w.x-F*({middle:.5,right:1}[w.xanchor]||0),X=w.y+U*(({top:-.5,bottom:.5}[w.yanchor]||0)-.5),Q=Math.round(T.h*(1-X)),K=Q-H,Z={type:"linear",range:C,tickmode:w.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,showticklabels:w.showticklabels,tickfont:w.tickfont,tickangle:w.tickangle,tickformat:w.tickformat,exponentformat:w.exponentformat,separatethousands:w.separatethousands,showexponent:w.showexponent,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,title:w.title,titlefont:w.titlefont,anchor:"free",position:1},J={type:"linear",_id:"y"+t},ee={letter:"y",font:A.font,noHover:!0,calendar:A.calendar};if(m(Z,J,b,ee,A),v(Z,J,b,ee),J.position=w.x+q+F,n.axis=J,["top","bottom"].indexOf(w.titleside)!==-1&&(J.titleside=w.titleside,J.titlex=w.x+q,J.titley=X+("top"===w.titleside?U-G:G)),w.line.color&&"auto"===w.tickmode){J.tickmode="linear",J.tick0=w.levels.start;var te=w.levels.size,ne=u.constrain((Q-K)/50,4,15)+1,re=(C[1]-C[0])/((w.nticks||ne)*te);if(re>1){var ae=Math.pow(10,Math.floor(Math.log(re)/Math.LN10));te*=ae*u.roundUp(re/ae,[2,5,10]),(Math.abs(w.levels.start)/w.levels.size+1e-6)%1<2e-6&&(J.tick0=0)}J.dtick=te}J.domain=[X+G,X+U-G],J.setScale();var ie=A._infolayer.selectAll("g."+t).data([0]);ie.enter().append("g").classed(t,!0).each(function(){var e=r.select(this);e.append("rect").classed("cbbg",!0),e.append("g").classed("cbfills",!0),e.append("g").classed("cblines",!0),e.append("g").classed("cbaxis",!0).classed("crisp",!0),e.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),e.append("rect").classed("cboutline",!0),e.select(".cbtitle").datum(0)}),ie.attr("transform","translate("+Math.round(T.l)+","+Math.round(T.t)+")");var oe=ie.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(T.l)+",-"+Math.round(T.t)+")");J._axislayer=ie.select(".cbaxis");var se=0;if(["top","bottom"].indexOf(w.titleside)!==-1){var le,ce=T.l+(w.x+q)*T.w,ue=J.titlefont.size;le="top"===w.titleside?(1-(X+U-G))*T.h+T.t+3+.75*ue:(1-(X+G))*T.h+T.t-3-.25*ue,k(J._id+"title",{attributes:{x:ce,y:le,"text-anchor":"start"}})}var de=u.syncOrAsync([o.previousPromises,_,o.previousPromises,S],e);if(de&&de.then&&(e._promises||[]).push(de),e._context.editable){var pe,fe,he;c.init({element:ie.node(),prepFn:function(){pe=ie.attr("transform"),p(ie)},moveFn:function(e,t){ie.attr("transform",pe+" translate("+e+","+t+")"),fe=c.align(Y+e/T.w,F,0,1,w.xanchor),he=c.align(X-t/T.h,U,0,1,w.yanchor);var n=c.getCursor(fe,he,w.xanchor,w.yanchor);p(ie,n)},doneFn:function(t){p(ie),t&&void 0!==fe&&void 0!==he&&i.restyle(e,{"colorbar.x":fe,"colorbar.y":he},x().index)}})}return de}function x(){var n,r,a=t.substr(2);for(n=0;n<e._fullData.length;n++)if(r=e._fullData[n],r.uid===a)return r}var w={};return Object.keys(b).forEach(function(e){w[e]=null}),w.fillcolor=null,w.line={color:null,width:null,dash:null},w.levels={start:null,end:null,size:null},w.filllevels=null,Object.keys(w).forEach(function(e){n[e]=function(t){return arguments.length?(w[e]=u.isPlainObject(w[e])?u.extendFlat(w[e],t):t,n):w[e]}}),n.options=function(e){return Object.keys(e).forEach(function(t){"function"==typeof n[t]&&n[t](e[t])}),n},n._opts=w,n}},{"../../lib":538,"../../lib/extend":534,"../../lib/setcursor":553,"../../plotly":568,"../../plots/cartesian/axes":573,"../../plots/cartesian/axis_defaults":575,"../../plots/cartesian/layout_attributes":584,"../../plots/cartesian/position_defaults":587,"../../plots/plots":601,"../../registry":608,"../color":427,"../dragelement":448,"../drawing":451,"../titles":516,"./attributes":428,d3:260,tinycolor2:666}],431:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":538}],432:[function(e,t,n){"use strict";t.exports={zauto:{valType:"boolean",role:"info",dflt:!0,description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},{}],433:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./scales"),i=e("./flip_scale");t.exports=function(e,t,n,o){var s,l;n?(s=r.nestedProperty(e,n).get(),l=r.nestedProperty(e._input,n).get()):(s=e,l=e._input);var c=o+"auto",u=o+"min",d=o+"max",p=s[c],f=s[u],h=s[d],g=s.colorscale;p===!1&&void 0!==f||(f=r.aggNums(Math.min,null,t)),p===!1&&void 0!==h||(h=r.aggNums(Math.max,null,t)),f===h&&(f-=.5,h+=.5),s[u]=f,s[d]=h,l[u]=f,l[d]=h,l[c]=p!==!1||void 0===f&&void 0===h,s.autocolorscale&&(g=f*h<0?a.RdBu:f>=0?a.Reds:a.Blues,l.colorscale=g,s.reversescale&&(g=i(g)),s.colorscale=g)}},{"../../lib":538,"./flip_scale":438,"./scales":445}],434:[function(e,t,n){"use strict";var r=e("./attributes"),a=e("../../lib/extend").extendDeep,i=e("./scales.js");t.exports=function(e){return{color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the ",e," color. It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," `cmin` and `cmax` if set."].join("")},colorscale:a({},r.colorscale,{description:["Sets the colorscale and only has an effect"," if `",e,".color` is set to a numerical array."," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use `",e,".cmin` and `",e,".cmax`."," Alternatively, `colorscale` may be a palette name string"," of the following list: "].join("").concat(Object.keys(i).join(", "))}),cauto:a({},r.zauto,{description:["Has an effect only if `",e,".color` is set to a numerical array"," and `cmin`, `cmax` are set by the user. In this case,"," it controls whether the range of colors in `colorscale` is mapped to"," the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`"," values (`cauto: false`)."," Defaults to `false` when `cmin`, `cmax` are set by the user."].join("")}),cmax:a({},r.zmax,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Sets the upper bound of the color domain."," Value should be associated to the `",e,".color` array index,"," and if set, `",e,".cmin` must be set as well."].join("")}),cmin:a({},r.zmin,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Sets the lower bound of the color domain."," Value should be associated to the `",e,".color` array index,"," and if set, `",e,".cmax` must be set as well."].join("")}),autocolorscale:a({},r.autocolorscale,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by `",e,".colorscale`."," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")}),reversescale:a({},r.reversescale,{description:["Has an effect only if `",e,".color` is set to a numerical array."," Reverses the color mapping if true (`cmin` will correspond to the last color"," in the array and `cmax` will correspond to the first color)."].join("")})}}},{"../../lib/extend":534,"./attributes":432,"./scales.js":445}],435:[function(e,t,n){"use strict";var r=e("./scales");t.exports=r.RdBu},{"./scales":445}],436:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../colorbar/has_colorbar"),o=e("../colorbar/defaults"),s=e("./is_valid_scale"),l=e("./flip_scale");t.exports=function(e,t,n,c,u){var d=u.prefix,p=u.cLetter,f=d.slice(0,d.length-1),h=d?a.nestedProperty(e,f).get()||{}:e,g=d?a.nestedProperty(t,f).get()||{}:t,m=h[p+"min"],v=h[p+"max"],y=h.colorscale,b=r(m)&&r(v)&&m<v;c(d+p+"auto",!b),c(d+p+"min"),c(d+p+"max");var x;void 0!==y&&(x=!s(y)),c(d+"autocolorscale",x);var w=c(d+"colorscale"),_=c(d+"reversescale");if(_&&(g.colorscale=l(w)),"marker.line."!==d){var k;d&&(k=i(h));var S=c(d+"showscale",k);S&&o(h,g,n)}}},{"../../lib":538,"../colorbar/defaults":429,"../colorbar/has_colorbar":431,"./flip_scale":438,"./is_valid_scale":442,"fast-isnumeric":263}],437:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r=e.length,a=new Array(r),i=new Array(r),o=0;o<r;o++){var s=e[o];a[o]=t+s[0]*(n-t),i[o]=s[1]}return{domain:a,range:i}}},{}],438:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=new Array(n),a=n-1,i=0;a>=0;a--,i++)t=e[a],r[i]=[1-t[0],t[1]];return r}},{}],439:[function(e,t,n){"use strict";var r=e("./scales"),a=e("./default_scale"),i=e("./is_valid_scale_array");t.exports=function(e,t){function n(){try{e=r[e]||JSON.parse(e)}catch(n){e=t}}return t||(t=a),e?("string"==typeof e&&(n(),"string"==typeof e&&n()),i(e)?e:t):t}},{"./default_scale":435,"./is_valid_scale_array":443,"./scales":445}],440:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("./is_valid_scale");t.exports=function(e,t){var n=t?a.nestedProperty(e,t).get()||{}:e,o=n.color,s=!1;if(Array.isArray(o))for(var l=0;l<o.length;l++)if(r(o[l])){s=!0;break}return a.isPlainObject(n)&&(s||n.showscale===!0||r(n.cmin)&&r(n.cmax)||i(n.colorscale)||a.isPlainObject(n.colorbar))}},{"../../lib":538,"./is_valid_scale":442,"fast-isnumeric":263}],441:[function(e,t,n){"use strict";n.scales=e("./scales"),n.defaultScale=e("./default_scale"),n.attributes=e("./attributes"),n.handleDefaults=e("./defaults"),n.calc=e("./calc"),n.hasColorscale=e("./has_colorscale"),n.isValidScale=e("./is_valid_scale"),n.getScale=e("./get_scale"),n.flipScale=e("./flip_scale"),n.extractScale=e("./extract_scale"),n.makeColorScaleFunc=e("./make_color_scale_func")},{"./attributes":432,"./calc":433,"./default_scale":435,"./defaults":436,"./extract_scale":437,"./flip_scale":438,"./get_scale":439,"./has_colorscale":440,"./is_valid_scale":442,"./make_color_scale_func":444,"./scales":445}],442:[function(e,t,n){"use strict";var r=e("./scales"),a=e("./is_valid_scale_array");t.exports=function(e){return void 0!==r[e]||a(e)}},{"./is_valid_scale_array":443,"./scales":445}],443:[function(e,t,n){"use strict";var r=e("tinycolor2");t.exports=function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var a=e[n];if(2!==a.length||+a[0]<t||!r(a[1]).isValid())return!1;t=+a[0]}return!0}},{tinycolor2:666}],444:[function(e,t,n){"use strict";function r(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}var a=e("d3"),i=e("tinycolor2"),o=e("fast-isnumeric"),s=e("../color");t.exports=function(e,t){t=t||{};for(var n=e.domain,l=e.range,c=l.length,u=new Array(c),d=0;d<c;d++){var p=i(l[d]).toRgb();u[d]=[p.r,p.g,p.b,p.a]}var f,h=a.scale.linear().domain(n).range(u).clamp(!0),g=t.noNumericCheck,m=t.returnArray;return f=g&&m?h:g?function(e){return r(h(e))}:m?function(e){return o(e)?h(e):i(e).isValid()?e:s.defaultLine}:function(e){return o(e)?r(h(e)):i(e).isValid()?e:s.defaultLine},f.domain=h.domain,f.range=function(){return l},f}},{"../color":427,d3:260,"fast-isnumeric":263,tinycolor2:666}],445:[function(e,t,n){"use strict";t.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],446:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,a){var i=(e-n)/(r-n),o=i+t/(r-n),s=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?s:"right"===a||"top"===a?o:i<2/3-s?i:o>4/3-s?o:s}},{}],447:[function(e,t,n){"use strict";var r=e("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,i){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*t),0,2),a[t][e]}},{"../../lib":538}],448:[function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function a(e){e._dragging=!1,e._replotPending&&i.plot(e)}var i=e("../../plotly"),o=e("../../lib"),s=e("../../plots/cartesian/constants"),l=e("../../constants/interactions"),c=t.exports={};c.align=e("./align"),c.getCursor=e("./cursor");var u=e("./unhover");c.unhover=u.wrapped,c.unhoverRaw=u.raw,c.init=function(e){function t(t){return e.element.onmousemove=g,m._dragged=!1,m._dragging=!0,u=t.clientX,d=t.clientY,h=t.target,p=(new Date).getTime(),p-m._mouseDownTime<y?v+=1:(v=1,m._mouseDownTime=p),e.prepFn&&e.prepFn(t,u,d),f=r(),f.onmousemove=n,f.onmouseup=i,f.onmouseout=i,f.style.cursor=window.getComputedStyle(e.element).cursor,o.pauseEvent(t)}function n(t){var n=t.clientX-u,r=t.clientY-d,a=e.minDrag||s.MINDRAG;return Math.abs(n)<a&&(n=0),Math.abs(r)<a&&(r=0),(n||r)&&(m._dragged=!0,c.unhover(m)),e.moveFn&&e.moveFn(n,r,m._dragged),o.pauseEvent(t)}function i(t){if(g=e.element.onmousemove,e.setCursor&&(e.element.onmousemove=e.setCursor),f.onmousemove=null,f.onmouseup=null,f.onmouseout=null,o.removeElement(f),!m._dragging)return void(m._dragged=!1);if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>y&&(v=Math.max(v-1,1)),e.doneFn&&e.doneFn(m._dragged,v,t),!m._dragged){var n;try{n=new MouseEvent("click",t)}catch(r){n=document.createEvent("MouseEvents"),n.initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}h.dispatchEvent(n)}return a(m),m._dragged=!1,o.pauseEvent(t)}var u,d,p,f,h,g,m=o.getPlotDiv(e.element)||{},v=1,y=l.DBLCLICKDELAY;m._mouseDownTime||(m._mouseDownTime=0),g=e.element.onmousemove,e.setCursor&&(e.element.onmousemove=e.setCursor),e.element.onmousedown=t,e.element.style.pointerEvents="all"},c.coverSlip=r},{"../../constants/interactions":523,"../../lib":538,"../../plotly":568,"../../plots/cartesian/constants":578,"./align":446,"./cursor":447,"./unhover":449}],449:[function(e,t,n){"use strict";var r=e("../../lib/events"),a=t.exports={};a.wrapped=function(e,t,n){"string"==typeof e&&(e=document.getElementById(e)),e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),a.raw(e,t,n)},a.raw=function(e,t){var n=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&r.triggerHandler(e,"plotly_beforehover",t)===!1||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},{"../../lib/events":533}],450:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},{}],451:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,s){if(l.traceIs(n,"symbols")){var u=g(n);t.attr("d",function(e){var t;t="various"===e.ms||"various"===i.size?3:h.isBubble(n)?u(e.ms):(i.size||6)/2,e.mrc=t;var r=m.symbolNumber(e.mx||i.symbol)||0,a=r%100;return e.om=r%200>=100,m.symbolFuncs[a](t)+(r>=200?b:"")}).style("opacity",function(e){return(e.mo+1||i.opacity+1)-1})}var d,p,f,v=!1;if(e.so?(f=o.outlierwidth,p=o.outliercolor,d=i.outliercolor):(f=(e.mlw+1||o.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,p="mlc"in e?e.mlcc=a(e.mlc):Array.isArray(o.color)?c.defaultLine:o.color,Array.isArray(i.color)&&(d=c.defaultLine,v=!0),d="mc"in e?e.mcc=r(e.mc):i.color||"rgba(0,0,0,0)"),e.om)t.call(c.stroke,d).style({"stroke-width":(f||1)+"px",fill:"none"});else{t.style("stroke-width",f+"px");var y=i.gradient,x=e.mgt;if(x?v=!0:x=y&&y.type,x&&"none"!==x){var w=e.mgc;w?v=!0:w=y.color;var _="g"+s._fullLayout._uid+"-"+n.uid;v&&(_+="-"+e.i),t.call(m.gradient,s,_,x,d,w)}else t.call(c.fill,d);f&&t.call(c.stroke,p)}}function a(e,t,n,r){var a=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],c=Math.pow(a*a+o*o,S/2),u=Math.pow(s*s+l*l,S/2),d=(u*u*a-c*c*s)*r,p=(u*u*o-c*c*l)*r,f=3*u*(c+u),h=3*c*(c+u);return[[i.round(t[0]+(f&&d/f),2),i.round(t[1]+(f&&p/f),2)],[i.round(t[0]-(h&&d/h),2),i.round(t[1]-(h&&p/h),2)]]}var i=e("d3"),o=e("fast-isnumeric"),s=e("tinycolor2"),l=e("../../registry"),c=e("../color"),u=e("../colorscale"),d=e("../../lib"),p=e("../../lib/svg_text_utils"),f=e("../../constants/xmlns_namespaces"),h=e("../../traces/scatter/subtypes"),g=e("../../traces/scatter/make_bubble_size_func"),m=t.exports={};m.font=function(e,t,n,r){t&&t.family&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(c.fill,r)},m.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},m.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},m.setRect=function(e,t,n,r,a){e.call(m.setPosition,t,n).call(m.setSize,r,a)},m.translatePoint=function(e,t,n,r){var a=e.xp||n.c2p(e.x),i=e.yp||r.c2p(e.y);return o(a)&&o(i)&&t.node()?("text"===t.node().nodeName?t.attr("x",a).attr("y",i):t.attr("transform","translate("+a+","+i+")"),!0):(t.remove(),!1)},m.translatePoints=function(e,t,n,r){e.each(function(e){var a=i.select(this);m.translatePoint(e,a,t,n,r)})},m.getPx=function(e,t){return Number(e.style(t).replace(/px$/,""))},m.crispRound=function(e,t,n){return t&&o(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},m.singleLineStyle=function(e,t,n,r,a){t.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},o=n||i.width||0,s=a||i.dash||"";c.stroke(t,r||i.color),m.dashLine(t,s,o)},m.lineGroupStyle=function(e,t,n,r){e.style("fill","none").each(function(e){var a=(((e||[])[0]||{}).trace||{}).line||{},o=t||a.width||0,s=r||a.dash||"";i.select(this).call(c.stroke,n||a.color).call(m.dashLine,s,o)})},m.dashLine=function(e,t,n){n=+n||0,t=m.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},m.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},m.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(t){var n=i.select(this);try{n.call(c.fill,t[0].trace.fillcolor)}catch(r){d.error(r,e),n.remove()}})};var v=e("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolList=[],Object.keys(v).forEach(function(e){var t=v[e];m.symbolList=m.symbolList.concat([t.n,e,t.n+100,e+"-open"]),m.symbolNames[t.n]=e,m.symbolFuncs[t.n]=t.f,t.needLine&&(m.symbolNeedLines[t.n]=!0),t.noDot?m.symbolNoDot[t.n]=!0:m.symbolList=m.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"])});var y=m.symbolNames.length,b="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";m.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),e=m.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=y||e>=400?0:Math.floor(Math.max(e,0))};var x={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0};m.gradient=function(e,t,n,r,a,o){var l=t._fullLayout._defs.select(".gradients").selectAll("#"+n).data([r+a+o],d.identity);l.exit().remove(),l.enter().append("radial"===r?"radialGradient":"linearGradient").each(function(){var e=i.select(this);"horizontal"===r?e.attr(x):"vertical"===r&&e.attr(w),e.attr("id",n);var t=s(a),l=s(o);e.append("stop").attr({offset:"0%","stop-color":c.tinyRGB(l),"stop-opacity":l.getAlpha()}),e.append("stop").attr({offset:"100%","stop-color":c.tinyRGB(t),"stop-opacity":t.getAlpha()})}),e.style({fill:"url(#"+n+")","fill-opacity":null})},m.initGradients=function(e){var t=e._fullLayout._defs.selectAll(".gradients").data([0]);t.enter().append("g").classed("gradients",!0),t.selectAll("linearGradient,radialGradient").remove()},m.singlePointStyle=function(e,t,n,a,i,o){var s=n.marker;r(e,t,n,a,i,s,s.line,o)},m.pointStyle=function(e,t){if(e.size()){var n=t.marker,r=m.tryColorscale(n,""),a=m.tryColorscale(n,"line"),o=d.getPlotDiv(e.node());e.each(function(e){m.singlePointStyle(e,i.select(this),t,r,a,o)})}},m.tryColorscale=function(e,t){var n=t?d.nestedProperty(e,t).get():e,r=n.colorscale,a=n.color;return r&&Array.isArray(a)?u.makeColorScaleFunc(u.extractScale(r,n.cmin,n.cmax)):d.identity};var _={start:1,end:-1,middle:0,bottom:1,top:-1},k=1.3;m.textPointStyle=function(e,t){e.each(function(e){var n=i.select(this),r=e.tx||t.text;if(!r||Array.isArray(r))return void n.remove();var a=e.tp||t.textposition,s=a.indexOf("top")!==-1?"top":a.indexOf("bottom")!==-1?"bottom":"middle",l=a.indexOf("left")!==-1?"end":a.indexOf("right")!==-1?"start":"middle",c=e.ts||t.textfont.size,u=e.mrc?e.mrc/.8+1:0;c=o(c)&&c>0?c:0,n.call(m.font,e.tf||t.textfont.family,c,e.tc||t.textfont.color).attr("text-anchor",l).text(r).call(p.convertToTspans);var d=i.select(this.parentNode),f=n.selectAll("tspan.line"),h=((f[0].length||1)-1)*k+1,g=_[l]*u,v=.75*c+_[s]*u+(_[s]-1)*h*c/2;d.attr("transform","translate("+g+","+v+")"),h>1&&f.attr({x:n.attr("x"),y:n.attr("y")})})};var S=.5;m.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(a(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+="Q"+i[e.length-3][1]+" "+e[e.length-1]},m.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,o=[a(e[i],e[0],e[1],t)];for(n=1;n<i;n++)o.push(a(e[n-1],e[n],e[n+1],t));for(o.push(a(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+="C"+o[i][1]+" "+o[0][0]+" "+e[0]+"Z"};var A={hv:function(e,t){return"H"+i.round(t[0],2)+"V"+i.round(t[1],2)},vh:function(e,t){return"V"+i.round(t[1],2)+"H"+i.round(t[0],2)},hvh:function(e,t){return"H"+i.round((e[0]+t[0])/2,2)+"V"+i.round(t[1],2)+"H"+i.round(t[0],2)},vhv:function(e,t){return"V"+i.round((e[1]+t[1])/2,2)+"H"+i.round(t[0],2)+"V"+i.round(t[1],2)}},T=function(e,t){return"L"+i.round(t[0],2)+","+i.round(t[1],2)};m.steps=function(e){var t=A[e]||T;return function(e){for(var n="M"+i.round(e[0][0],2)+","+i.round(e[0][1],2),r=1;r<e.length;r++)n+=t(e[r-1],e[r]);return n}},m.makeTester=function(){var e=i.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr("id","js-plotly-tester").attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var t=e.selectAll(".js-reference-point").data([0]);t.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),e.node()._cache||(e.node()._cache={}),m.tester=e,m.testref=t};var $=[],C=1e4;m.bBox=function(e){var t=e.attributes["data-bb"];if(t&&t.value)return d.extendFlat({},$[t.value]);var n=m.tester,r=n.node(),a=e.cloneNode(!0);r.appendChild(a),i.select(a).attr({x:0,y:0,transform:""});var o=a.getBoundingClientRect(),s=m.testref.node().getBoundingClientRect();r.removeChild(a);var l={height:o.height,width:o.width,left:o.left-s.left,top:o.top-s.top,right:o.right-s.left,bottom:o.bottom-s.top};return $.length>=C&&(i.selectAll("[data-bb]").attr("data-bb",null),$=[]),e.setAttribute("data-bb",$.length),$.push(l),d.extendFlat({},l)},m.setClipUrl=function(e,t){if(!t)return void e.attr("clip-path",null);var n="#"+t,r=i.select("base");
r.size()&&r.attr("href")&&(n=window.location.href.split("#")[0]+n),e.attr("clip-path","url("+n+")")},m.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",a=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}},m.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[a]("transform")||"";return t=t||0,n=n||0,o=o.replace(r,"").trim(),o+=" translate("+t+", "+n+")",o=o.trim(),e[i]("transform",o),o},m.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",a=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}},m.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[a]("transform")||"";return t=t||1,n=n||1,o=o.replace(r,"").trim(),o+=" scale("+t+", "+n+")",o=o.trim(),e[i]("transform",o),o},m.setPointGroupScale=function(e,t,n){var r,a,i;return t=t||1,n=n||1,a=1===t&&1===n?"":" scale("+t+","+n+")",i=/\s*sc.*/,e.each(function(){r=(this.getAttribute("transform")||"").replace(i,""),r+=a,r=r.trim(),this.setAttribute("transform",r)}),a};var M=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(e,t,n){e.each(function(){var e,r=i.select(this),a=r.select("text"),o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(r.attr("transform")||"").match(M);e=1===t&&1===n?[]:["translate("+o+","+s+")","scale("+t+","+n+")","translate("+-o+","+-s+")"],l&&e.push(l),r.attr("transform",e.join(" "))})},m.measureText=function(e,t,n){var r=e.append("text").text(t).call(m.font,n),a=m.bBox(r.node());return r.remove(),a}},{"../../constants/xmlns_namespaces":526,"../../lib":538,"../../lib/svg_text_utils":555,"../../registry":608,"../../traces/scatter/make_bubble_size_func":657,"../../traces/scatter/subtypes":662,"../color":427,"../colorscale":441,"./symbol_defs":452,d3:260,"fast-isnumeric":263,tinycolor2:666}],452:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,a="l"+t+",-"+t,i="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+n+a+i+a+i+o+i+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+t+","+n+"H"+t+"L0,-"+a+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+t+",-"+n+"H"+t+"L0,"+a+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M"+n+",-"+t+"V"+t+"L-"+a+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2),n=r.round(e/2,2),a=r.round(e,2);return"M-"+n+",-"+t+"V"+t+"L"+a+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),a=r.round(-e,2),i=r.round(e*-.309,2),o=r.round(.809*e,2);return"M"+t+","+i+"L"+n+","+o+"H-"+n+"L-"+t+","+i+"L0,"+a+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M"+a+",-"+n+"V"+n+"L0,"+t+"L-"+a+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+a+"H"+n+"L"+t+",0L"+n+",-"+a+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),a=r.round(.951*t,2),i=r.round(.363*t,2),o=r.round(.588*t,2),s=r.round(-t,2),l=r.round(t*-.309,2),c=r.round(.118*t,2),u=r.round(.809*t,2),d=r.round(.382*t,2);return"M"+n+","+l+"H"+a+"L"+i+","+c+"L"+o+","+u+"L0,"+d+"L-"+o+","+u+"L-"+i+","+c+"L-"+a+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),a=r.round(.76*e,2);return"M-"+a+",0l-"+n+",-"+t+"h"+a+"l"+n+",-"+t+"l"+n+","+t+"h"+a+"l-"+n+","+t+"l"+n+","+t+"h-"+a+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+a+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M-"+t+","+n+o+t+","+n+o+"0,-"+a+o+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M"+t+",-"+n+o+"-"+t+",-"+n+o+"0,"+a+o+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+a+"-"+t+","+t+a+t+","+t+a+t+",-"+t+a+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+a+"0,"+t+a+t+",0"+a+"0,-"+t+a+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+","+a+"L0,0M"+t+","+a+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+",-"+a+"L0,0M"+t+",-"+a+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M"+a+","+t+"L0,0M"+a+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+a+","+t+"L0,0M-"+a+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0}}},{d3:260}],453:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info"},copy_ystyle:{valType:"boolean",role:"style"},copy_zstyle:{valType:"boolean",role:"style"},color:{valType:"color",role:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},_deprecated:{opacity:{valType:"number",role:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},{}],454:[function(e,t,n){"use strict";function r(e,t,n,r){var i=t["error_"+r]||{},l=i.visible&&["linear","log"].indexOf(n.type)!==-1,c=[];if(l){for(var u=s(i),d=0;d<e.length;d++){var p=e[d],f=p[r];if(a(n.c2l(f))){var h=u(f,d);if(a(h[0])&&a(h[1])){var g=p[r+"s"]=f-h[0],m=p[r+"h"]=f+h[1];c.push(g,m)}}}o.expand(n,c,{padded:!0})}}var a=e("fast-isnumeric"),i=e("../../registry"),o=e("../../plots/cartesian/axes"),s=e("./compute_error");t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var a=t[n],s=a[0].trace;if(i.traceIs(s,"errorBarsOK")){var l=o.getFromId(e,s.xaxis),c=o.getFromId(e,s.yaxis);r(a,s,l,"x"),r(a,s,c,"y")}}}},{"../../plots/cartesian/axes":573,"../../registry":608,"./compute_error":455,"fast-isnumeric":263}],455:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var a=e.array,i=e.arrayminus;return n||void 0===i?function(e,t){var n=+a[t];return[n,n]}:function(e,t){return[+i[t],+a[t]]}}var o=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[s(e),o(e)]}}},{}],456:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),i=e("../../lib"),o=e("./attributes");t.exports=function(e,t,n,s){function l(e,t){return i.coerce(d,u,o,e,t)}var c="error_"+s.axis,u=t[c]={},d=e[c]||{},p=void 0!==d.array||void 0!==d.value||"sqrt"===d.type,f=l("visible",p);if(f!==!1){var h=l("type","array"in d?"data":"percent"),g=!0;if("sqrt"!==h&&(g=l("symmetric",!(("data"===h?"arrayminus":"valueminus")in d))),"data"===h){var m=l("array");if(m||(u.array=[]),l("traceref"),!g){var v=l("arrayminus");v||(u.arrayminus=[]),l("tracerefminus")}}else"percent"!==h&&"constant"!==h||(l("value"),g||l("valueminus"));var y="copy_"+s.inherit+"style";if(s.inherit){var b=t["error_"+s.inherit];(b||{}).visible&&l(y,!(d.color||r(d.thickness)||r(d.width)))}s.inherit&&u[y]||(l("color",n),l("thickness"),l("width",a.traceIs(t,"gl3d")?0:4))}}},{"../../lib":538,"../../registry":608,"./attributes":453,"fast-isnumeric":263}],457:[function(e,t,n){"use strict";var r=t.exports={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.calc=e("./calc"),r.calcFromTrace=function(e,t){for(var n=e.x||[],a=e.y||[],i=n.length||a.length,o=new Array(i),s=0;s<i;s++)o[s]={x:n[s],y:a[s]};return o[0].trace=e,r.calc({calcdata:[o],_fullLayout:t}),o},r.plot=e("./plot"),r.style=e("./style"),r.hoverInfo=function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}},{"./attributes":453,"./calc":454,"./defaults":456,"./plot":458,"./style":459}],458:[function(e,t,n){"use strict";function r(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}var a=e("d3"),i=e("fast-isnumeric"),o=e("../../traces/scatter/subtypes");t.exports=function(e,t,n){var s,l=t.xaxis,c=t.yaxis,u=n&&n.duration>0;e.each(function(e){var t,d=e[0].trace,p=d.error_x||{},f=d.error_y||{};d.ids&&(t=function(e){return e.id});var h=o.hasMarkers(d)&&d.marker.maxdisplayed>0;if(f.visible||p.visible){var g=a.select(this).selectAll("g.errorbar").data(e,t);g.exit().remove(),g.style("opacity",1);var m=g.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(n.duration).style("opacity",1),g.each(function(e){var t=a.select(this),o=r(e,l,c);if(!h||e.vis){var d;if(f.visible&&i(o.x)&&i(o.yh)&&i(o.ys)){var g=f.width;d="M"+(o.x-g)+","+o.yh+"h"+2*g+"m-"+g+",0V"+o.ys,o.noYS||(d+="m-"+g+",0h"+2*g);var m=t.select("path.yerror");s=!m.size(),s?m=t.append("path").classed("yerror",!0):u&&(m=m.transition().duration(n.duration).ease(n.easing)),m.attr("d",d)}if(p.visible&&i(o.y)&&i(o.xh)&&i(o.xs)){var v=(p.copy_ystyle?f:p).width;d="M"+o.xh+","+(o.y-v)+"v"+2*v+"m0,-"+v+"H"+o.xs,o.noXS||(d+="m0,-"+v+"v"+2*v);var y=t.select("path.xerror");s=!y.size(),s?y=t.append("path").classed("xerror",!0):u&&(y=y.transition().duration(n.duration).ease(n.easing)),y.attr("d",d)}}})}})}},{"../../traces/scatter/subtypes":662,d3:260,"fast-isnumeric":263}],459:[function(e,t,n){"use strict";var r=e("d3"),a=e("../color");t.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},i=t.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(a.stroke,n.color),i.copy_ystyle&&(i=n),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(a.stroke,i.color)})}},{"../color":427,d3:260}],460:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,a=e("../../plots/font_attributes");t.exports={hoverlabel:{bgcolor:{valType:"color",role:"style",arrayOk:!0,description:["Sets the background color of the hover labels for this trace"].join(" ")},bordercolor:{valType:"color",role:"style",arrayOk:!0,description:["Sets the border color of the hover labels for this trace."].join(" ")},font:{family:r({},a.family,{arrayOk:!0}),size:r({},a.size,{arrayOk:!0}),color:r({},a.color,{arrayOk:!0})}}}},{"../../lib/extend":534,"../../plots/font_attributes":597}],461:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)&&(t[0][n]=e)}var a=e("../../lib"),i=e("../../registry");t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var o=t[n],s=o[0].trace;if(s.hoverlabel){var l=i.traceIs(s,"2dMap")?r:a.mergeArray;l(s.hoverlabel.bgcolor,o,"hbg"),l(s.hoverlabel.bordercolor,o,"hbc"),l(s.hoverlabel.font.size,o,"hts"),l(s.hoverlabel.font.color,o,"htc"),l(s.hoverlabel.font.family,o,"htf")}}}},{"../../lib":538,"../../registry":608}],462:[function(e,t,n){"use strict";var r=e("../../registry");t.exports=function(e,t){function n(){e.emit("plotly_click",{points:e._hoverdata,event:t})}var a=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);e._hoverdata&&t&&t.target&&(a&&a.then?a.then(n):n(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":608}],463:[function(e,t,n){"use strict";t.exports={MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50}},{}],464:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),i=e("./hoverlabel_defaults");t.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}i(e,t,s,o.hoverlabel)}},{"../../lib":538,"./attributes":460,"./hoverlabel_defaults":467}],465:[function(e,t,n){"use strict";function r(e,t){return function(n){var r=e(n),a=t(n);return Math.sqrt(r*r+a*a)}}var a=e("./constants");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,n,a){return"closest"===e?a||r(t,n):"x"===e?t:n},n.getClosest=function(e,t,n){if(n.index!==!1)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var a=t(e[r]);a<=n.distance&&(n.index=r,n.distance=a)}return n},n.inbox=function(e,t){return e*t<0||0===e?a.MAXDIST*(.6-.3/Math.max(3,Math.abs(e-t))):1/0}},{"./constants":463}],466:[function(e,t,n){"use strict";function r(e,t,n){if("pie"===n||"sankey"===n)return void e.emit("plotly_hover",{event:t.originalEvent,points:[t]});n||(n="xy");var r=Array.isArray(n)?n:[n],p=e._fullLayout,g=p._plots||[],v=g[n];if(v){var S=v.overlays.map(function(e){return e.id});r=r.concat(S)}for(var A=r.length,T=new Array(A),$=new Array(A),C=0;C<A;C++){var M=r[C],E=g[M];if(E)T[C]=x.getFromId(e,E.xaxis._id),$[C]=x.getFromId(e,E.yaxis._id);else{var I=p[M]._subplot;T[C]=I.xaxis,$[C]=I.yaxis}}var P=t.hovermode||p.hovermode;if(["x","y","closest"].indexOf(P)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return b.unhoverRaw(e,t);var j,D,L,O,R,N,z,B,F,H,U,q,V,G=[],W=[];if(Array.isArray(t))for(P="array",L=0;L<t.length;L++)R=e.calcdata[t[L].curveNumber||0],"skip"!==R[0].trace.hoverinfo&&W.push(R);else{for(O=0;O<e.calcdata.length;O++)R=e.calcdata[O],N=R[0].trace,"skip"!==N.hoverinfo&&r.indexOf(_.getSubplot(N))!==-1&&W.push(R);var Y,X,Q=!t.target;if(Q)Y="xpx"in t?t.xpx:T[0]._length/2,X="ypx"in t?t.ypx:$[0]._length/2;else{if(h.triggerHandler(e,"plotly_beforehover",t)===!1)return;var K=t.target.getBoundingClientRect();if(Y=t.clientX-K.left,X=t.clientY-K.top,Y<0||Y>K.width||X<0||X>K.height)return b.unhoverRaw(e,t)}if(j="xval"in t?_.flat(r,t.xval):_.p2c(T,Y),D="yval"in t?_.flat(r,t.yval):_.p2c($,X),!d(j[0])||!d(D[0]))return f.warn("Fx.hover failed",t,e),b.unhoverRaw(e,t)}var Z=1/0;for(O=0;O<W.length;O++)if(R=W[O],R&&R[0]&&R[0].trace&&R[0].trace.visible===!0&&(N=R[0].trace,["carpet","contourcarpet"].indexOf(N._module.name)===-1)){if(z=_.getSubplot(N),B=r.indexOf(z),F=P,q={cd:R,trace:N,xa:T[B],ya:$[B],name:e.data.length>1||N.hoverinfo.indexOf("name")!==-1?N.name:void 0,index:!1,distance:Math.min(Z,k.MAXDIST),color:y.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},p[z]&&(q.subplot=p[z]._subplot),V=G.length,"array"===F){var J=t[O];"pointNumber"in J?(q.index=J.pointNumber,F="closest"):(F="","xval"in J&&(H=J.xval,F="x"),"yval"in J&&(U=J.yval,F=F?"closest":"y"))}else H=j[B],U=D[B];if(N._module&&N._module.hoverPoints){var ee=N._module.hoverPoints(q,H,U,F);if(ee)for(var te,ne=0;ne<ee.length;ne++)te=ee[ne],d(te.x0)&&d(te.y0)&&G.push(s(te,P))}else f.log("Unrecognized trace type in hover:",N);"closest"===P&&G.length>V&&(G.splice(0,V),Z=G[0].distance)}if(0===G.length)return b.unhoverRaw(e,t);G.sort(function(e,t){return e.distance-t.distance});var re=e._hoverdata,ae=[];for(L=0;L<G.length;L++){var ie=G[L],oe={data:ie.trace._input,fullData:ie.trace,curveNumber:ie.trace.index,pointNumber:ie.index};ie.trace._module.eventData?oe=ie.trace._module.eventData(oe,ie):(oe.x=ie.xVal,oe.y=ie.yVal,oe.xaxis=ie.xa,oe.yaxis=ie.ya,void 0!==ie.zLabelVal&&(oe.z=ie.zLabelVal)),ae.push(oe)}if(e._hoverdata=ae,c(e,t,re)&&p._hasCartesian){var se={hovermode:P,fullLayout:p,container:p._hoverlayer,outerContainer:p._paperdiv};l(G,se)}var le="y"===P&&W.length>1,ce=y.combine(p.plot_bgcolor||y.background,p.paper_bgcolor),ue={hovermode:P,rotateLabels:le,bgColor:ce,container:p._hoverlayer,outerContainer:p._paperdiv,commonLabelOpts:p.hoverlabel},de=a(G,ue);if(i(G,le?"xa":"ya"),o(de,le),t.target&&t.target.tagName){var pe=w.getComponentMethod("annotations","hasClickToShow")(e,ae);m(u.select(t.target),pe?"pointer":"")}t.target&&c(e,t,re)&&(re&&e.emit("plotly_unhover",{event:t,points:re}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:T,yaxes:$,xvals:j,yvals:D}))}function a(e,t){var n,r,a=t.hovermode,i=t.rotateLabels,o=t.bgColor,s=t.container,l=t.outerContainer,c=t.commonLabelOpts||{},d=t.fontFamily||k.HOVERFONT,p=t.fontSize||k.HOVERFONTSIZE,f=e[0],h=f.xa,m=f.ya,b="y"===a?"yLabel":"xLabel",x=f[b],w=(String(x)||"").split(" ")[0],_=l.node().getBoundingClientRect(),A=_.top,T=_.width,$=_.height,C=f.distance<=k.MAXDIST&&("x"===a||"y"===a);for(n=0;n<e.length;n++){r=e[n].trace.hoverinfo;var I=r.split("+");if(I.indexOf("all")===-1&&I.indexOf(a)===-1){C=!1;break}}var P=s.selectAll("g.axistext").data(C?[0]:[]);P.enter().append("g").classed("axistext",!0),P.exit().remove(),P.each(function(){var t=u.select(this),n=t.selectAll("path").data([0]),r=t.selectAll("text").data([0]);n.enter().append("path").style({fill:c.bgcolor||y.defaultLine,stroke:c.bordercolor||y.background,"stroke-width":"1px"}),r.enter().append("text").call(v.font,c.font.family||d,c.font.size||p,c.font.color||y.background).attr("data-notex",1),r.text(x).call(g.convertToTspans).call(v.setPosition,0,0).selectAll("tspan.line").call(v.setPosition,0,0),t.attr("transform","");var i=r.node().getBoundingClientRect();if("x"===a){r.attr("text-anchor","middle").call(v.setPosition,0,"top"===h.side?A-i.bottom-M-E:A-i.top+M+E).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var o="top"===h.side?"-":"";n.attr("d","M0,0L"+M+","+o+M+"H"+(E+i.width/2)+"v"+o+(2*E+i.height)+"H-"+(E+i.width/2)+"V"+o+M+"H-"+M+"Z"),t.attr("transform","translate("+(h._offset+(f.x0+f.x1)/2)+","+(m._offset+("top"===h.side?0:m._length))+")")}else{r.attr("text-anchor","right"===m.side?"start":"end").call(v.setPosition,("right"===m.side?1:-1)*(E+M),A-i.top-i.height/2).selectAll("tspan.line").attr({x:r.attr("x"),y:r.attr("y")});var s="right"===m.side?"":"-";n.attr("d","M0,0L"+s+M+","+M+"V"+(E+i.height/2)+"h"+s+(2*E+i.width)+"V-"+(E+i.height/2)+"H"+s+M+"V-"+M+"Z"),t.attr("transform","translate("+(h._offset+("right"===m.side?h._length:0))+","+(m._offset+(f.y0+f.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[b]||"").split(" ")[0]===w})});var j=s.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return j.enter().append("g").classed("hovertext",!0).each(function(){var e=u.select(this);e.append("rect").call(y.fill,y.addOpacity(o,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(v.font,d,p)}),j.exit().remove(),j.each(function(e){var t=u.select(this).attr("transform",""),n="",r="",s=y.opacity(e.color)?e.color:y.defaultLine,l=y.combine(s,o),c=e.borderColor||y.contrast(l);void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(n=g.plainText(e.name||""),n.length>15&&(n=n.substr(0,12)+"...")),void 0!==e.extraText&&(r+=e.extraText),void 0!==e.zLabel?(void 0!==e.xLabel&&(r+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(r+="y: "+e.yLabel+"<br>"),r+=(r?"z: ":"")+e.zLabel):C&&e[a+"Label"]===x?r=e[("x"===a?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(r=e.yLabel):r=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",e.text&&!Array.isArray(e.text)&&(r+=(r?"<br>":"")+e.text),""===r&&(""===n&&t.remove(),r=n);var f=t.select("text.nums").call(v.font,e.fontFamily||d,e.fontSize||p,e.fontColor||c).call(v.setPosition,0,0).text(r).attr("data-notex",1).call(g.convertToTspans);f.selectAll("tspan.line").call(v.setPosition,0,0);var h=t.select("text.name"),m=0;n&&n!==r?(h.call(v.font,e.fontFamily||d,e.fontSize||p,l).text(n).call(v.setPosition,0,0).attr("data-notex",1).call(g.convertToTspans),h.selectAll("tspan.line").call(v.setPosition,0,0),m=h.node().getBoundingClientRect().width+2*E):(h.remove(),t.select("rect").remove()),t.select("path").style({fill:l,stroke:c});var b,w,_=f.node().getBoundingClientRect(),k=e.xa._offset+(e.x0+e.x1)/2,I=e.ya._offset+(e.y0+e.y1)/2,P=Math.abs(e.x1-e.x0),j=Math.abs(e.y1-e.y0),D=_.width+M+E+m;e.ty0=A-_.top,e.bx=_.width+2*E,e.by=_.height+2*E,e.anchor="start",e.txwidth=_.width,e.tx2width=m,e.offset=0,i?(e.pos=k,b=I+j/2+D<=$,w=I-j/2-D>=0,"top"!==e.idealAlign&&b||!w?b?(I+=j/2,e.anchor="start"):e.anchor="middle":(I-=j/2,e.anchor="end")):(e.pos=I,b=k+P/2+D<=T,w=k-P/2-D>=0,"left"!==e.idealAlign&&b||!w?b?(k+=P/2,e.anchor="start"):e.anchor="middle":(k-=P/2,e.anchor="end")),f.attr("text-anchor",e.anchor),m&&h.attr("text-anchor",e.anchor),t.attr("transform","translate("+k+","+I+")"+(i?"rotate("+S+")":""))}),j}function i(e,t){function n(e){var t=e[0],n=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,i=n.pos+n.dp+n.size-t.pmax,a>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=a;r=!1}if(!(i<.01)){if(a<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=i;r=!1}if(r){var c=0;for(o=0;o<e.length;o++)l=e[o],l.pos+l.dp+l.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)l=e[o],l.pos>t.pmax-1&&(l.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if(l=e[o],l.pos<t.pmin+1)for(l.del=!0,c--,i=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)l=e[o],l.pos+l.dp+l.size>t.pmax&&(l.del=!0,c--)}}}for(var r,a,i,o,s,l,c,u=0,d=e.map(function(e,n){var r=e[t];return[{i:n,dp:0,pos:e.pos,posref:e.posref,size:e.by*("x"===r._id.charAt(0)?T:1)/2,pmin:r._offset,pmax:r._offset+r._length}]}).sort(function(e,t){return e[0].posref-t[0].posref});!r&&u<=e.length;){for(u++,r=!0,o=0;o<d.length-1;){var p=d[o],f=d[o+1],h=p[p.length-1],g=f[0];if(a=h.pos+h.dp+h.size-g.pos-g.dp+g.size,a>.01&&h.pmin===g.pmin&&h.pmax===g.pmax){for(s=f.length-1;s>=0;s--)f[s].dp+=a;for(p.push.apply(p,f),d.splice(o+1,1),c=0,s=p.length-1;s>=0;s--)c+=p[s].dp;for(i=c/p.length,s=p.length-1;s>=0;s--)p[s].dp-=i;r=!1}else o++}d.forEach(n)}for(o=d.length-1;o>=0;o--){var m=d[o];for(s=m.length-1;s>=0;s--){var v=m[s],y=e[v.i];y.offset=v.dp,y.del=v.del}}}function o(e,t){e.each(function(e){var n=u.select(this);if(e.del)return void n.remove();var r="end"===e.anchor?-1:1,a=n.select("text.nums"),i={start:1,end:-1,middle:0}[e.anchor],o=i*(M+E),s=o+i*(e.txwidth+E),l=0,c=e.offset;"middle"===e.anchor&&(o-=e.tx2width/2,s-=e.tx2width/2),t&&(c*=-C,l=e.offset*$),n.select("path").attr("d","middle"===e.anchor?"M-"+e.bx/2+",-"+e.by/2+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(r*M+l)+","+(M+c)+"v"+(e.by/2-M)+"h"+r*e.bx+"v-"+e.by+"H"+(r*M+l)+"V"+(c-M)+"Z"),a.call(v.setPosition,o+l,c+e.ty0-e.by/2+E).selectAll("tspan.line").attr({x:a.attr("x"),y:a.attr("y")}),e.tx2width&&(n.select("text.name, text.name tspan.line").call(v.setPosition,s+i*E+l,c+e.ty0-e.by/2+E),n.select("rect").call(v.setRect,s+(i-1)*e.tx2width/2+l,c-e.by/2-1,e.tx2width,e.by+2))})}function s(e,t){function n(t,n,o){var s;if(i[n])s=i[n];else if(a[n]){var l=a[n];Array.isArray(l)&&Array.isArray(l[e.index[0]])&&(s=l[e.index[0]][e.index[1]])}else s=f.nestedProperty(r,o).get();s&&(e[t]=s)}var r=e.trace||{},a=e.cd[0],i=e.cd[e.index]||{};e.posref="y"===t?(e.x0+e.x1)/2:(e.y0+e.y1)/2,e.x0=f.constrain(e.x0,0,e.xa._length),e.x1=f.constrain(e.x1,0,e.xa._length),e.y0=f.constrain(e.y0,0,e.ya._length),e.y1=f.constrain(e.y1,0,e.ya._length);var o;if(void 0!==e.xLabelVal){o="log"===e.xa.type&&e.xLabelVal<=0;var s=x.tickText(e.xa,e.xa.c2l(o?-e.xLabelVal:e.xLabelVal),"hover");o?0===e.xLabelVal?e.xLabel="0":e.xLabel="-"+s.text:e.xLabel=s.text,e.xVal=e.xa.c2d(e.xLabelVal)}if(void 0!==e.yLabelVal){o="log"===e.ya.type&&e.yLabelVal<=0;var l=x.tickText(e.ya,e.ya.c2l(o?-e.yLabelVal:e.yLabelVal),"hover");o?0===e.yLabelVal?e.yLabel="0":e.yLabel="-"+l.text:e.yLabel=l.text,e.yVal=e.ya.c2d(e.yLabelVal)}if(void 0!==e.zLabelVal&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var c=x.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+c+" / -"+x.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+c,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var u=x.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+u+" / -"+x.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+u,"y"===t&&(e.distance+=1)}var d=e.trace.hoverinfo;return"all"!==d&&(d=d.split("+"),d.indexOf("x")===-1&&(e.xLabel=void 0),d.indexOf("y")===-1&&(e.yLabel=void 0),d.indexOf("z")===-1&&(e.zLabel=void 0),d.indexOf("text")===-1&&(e.text=void 0),d.indexOf("name")===-1&&(e.name=void 0)),n("color","hbg","hoverlabel.bgcolor"),n("borderColor","hbc","hoverlabel.bordercolor"),n("fontFamily","htf","hoverlabel.font.family"),n("fontSize","hts","hoverlabel.font.size"),n("fontColor","htc","hoverlabel.font.color"),e}function l(e,t){var n=t.hovermode,r=t.container,a=e[0],i=a.xa,o=a.ya,s=i.showspikes,l=o.showspikes;if(r.selectAll(".spikeline").remove(),"closest"===n&&(s||l)){var c=t.fullLayout,u=i._offset+(a.x0+a.x1)/2,d=o._offset+(a.y0+a.y1)/2,f=y.combine(c.plot_bgcolor,c.paper_bgcolor),h=p.readability(a.color,f)<1.5?y.contrast(f):a.color;if(l){var g=o.spikemode,m=o.spikethickness,b=o.spikecolor||h,x=o._boundingBox,w=(x.left+x.right)/2<u?x.right:x.left;if(g.indexOf("toaxis")!==-1||g.indexOf("across")!==-1){var _=w,k=u;g.indexOf("across")!==-1&&(_=o._counterSpan[0],k=o._counterSpan[1]),r.append("line").attr({x1:_,x2:k,y1:d,y2:d,"stroke-width":m+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:_,x2:k,y1:d,y2:d,"stroke-width":m,stroke:b,"stroke-dasharray":v.dashStyle(o.spikedash,m)}).classed("spikeline",!0).classed("crisp",!0)}g.indexOf("marker")!==-1&&r.append("circle").attr({cx:w+("right"!==o.side?m:-m),cy:d,r:m,fill:b}).classed("spikeline",!0)}if(s){var S=i.spikemode,A=i.spikethickness,T=i.spikecolor||h,$=i._boundingBox,C=($.top+$.bottom)/2<d?$.bottom:$.top;if(S.indexOf("toaxis")!==-1||S.indexOf("across")!==-1){
var M=C,E=d;S.indexOf("across")!==-1&&(M=i._counterSpan[0],E=i._counterSpan[1]),r.append("line").attr({x1:u,x2:u,y1:M,y2:E,"stroke-width":A+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:u,x2:u,y1:M,y2:E,"stroke-width":A,stroke:T,"stroke-dasharray":v.dashStyle(i.spikedash,A)}).classed("spikeline",!0).classed("crisp",!0)}S.indexOf("marker")!==-1&&r.append("circle").attr({cx:u,cy:C-("top"!==i.side?A:-A),r:A,fill:T}).classed("spikeline",!0)}}}function c(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],i=e._hoverdata[r];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber))return!0}return!1}var u=e("d3"),d=e("fast-isnumeric"),p=e("tinycolor2"),f=e("../../lib"),h=e("../../lib/events"),g=e("../../lib/svg_text_utils"),m=e("../../lib/override_cursor"),v=e("../drawing"),y=e("../color"),b=e("../dragelement"),x=e("../../plots/cartesian/axes"),w=e("../../registry"),_=e("./helpers"),k=e("./constants"),S=k.YANGLE,A=Math.PI*S/180,T=1/Math.sin(A),$=Math.cos(A),C=Math.sin(A),M=k.HOVERARROWSIZE,E=k.HOVERTEXTPAD;n.hover=function(e,t,n){return"string"==typeof e&&(e=document.getElementById(e)),void 0===e._lastHoverTime&&(e._lastHoverTime=0),void 0!==e._hoverTimer&&(clearTimeout(e._hoverTimer),e._hoverTimer=void 0),Date.now()>e._lastHoverTime+k.HOVERMINTIME?(r(e,t,n),void(e._lastHoverTime=Date.now())):void(e._hoverTimer=setTimeout(function(){r(e,t,n),e._lastHoverTime=Date.now(),e._hoverTimer=void 0},k.HOVERMINTIME))},n.loneHover=function(e,t){var n={color:e.color||y.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=u.select(t.container),i=t.outerContainer?u.select(t.outerContainer):r,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||y.background,container:r,outerContainer:i},l=a([n],s);return o(l,s.rotateLabels),l.node()}},{"../../lib":538,"../../lib/events":533,"../../lib/override_cursor":547,"../../lib/svg_text_utils":555,"../../plots/cartesian/axes":573,"../../registry":608,"../color":427,"../dragelement":448,"../drawing":451,"./constants":463,"./helpers":465,d3:260,"fast-isnumeric":263,tinycolor2:666}],467:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a){a=a||{},n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),r.coerceFont(n,"hoverlabel.font",a.font)}},{"../../lib":538}],468:[function(e,t,n){"use strict";function r(e){var t=o.isD3Selection(e)?e:i.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function a(e,t,n){var r=e.hoverlabel||{},a=o.nestedProperty(r,n).get();return Array.isArray(a)?Array.isArray(t)&&Array.isArray(a[t[0]])?a[t[0]][t[1]]:a[t]:a}var i=e("d3"),o=e("../../lib"),s=e("../dragelement"),l=e("./helpers"),c=e("./layout_attributes");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:c},attributes:e("./attributes"),layoutAttributes:c,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,castHoverOption:a,hover:e("./hover").hover,unhover:s.unhover,loneHover:e("./hover").loneHover,loneUnhover:r,click:e("./click")}},{"../../lib":538,"../dragelement":448,"./attributes":460,"./calc":461,"./click":462,"./constants":463,"./defaults":464,"./helpers":465,"./hover":466,"./layout_attributes":469,"./layout_defaults":470,"./layout_global_defaults":471,d3:260}],469:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,a=e("../../plots/font_attributes"),i=e("./constants");t.exports={dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],description:"Determines the mode of hover interactions."},hoverlabel:{bgcolor:{valType:"color",role:"style",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",description:["Sets the border color of all hover labels on graph."].join(" ")},font:{family:r({},a.family,{dflt:i.HOVERFONT}),size:r({},a.size,{dflt:i.HOVERFONTSIZE}),color:r({},a.color)}}}},{"../../lib/extend":534,"../../plots/font_attributes":597,"./constants":463}],470:[function(e,t,n){"use strict";function r(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if("h"!==r.orientation){t=!1;break}}return t}var a=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n){function o(n,r){return a.coerce(e,t,i,n,r)}o("dragmode");var s;t._has("cartesian")?(t._isHoriz=r(n),s=t._isHoriz?"y":"x"):s="closest",o("hovermode",s)}},{"../../lib":538,"./layout_attributes":469}],471:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./hoverlabel_defaults"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}a(e,t,n)}},{"../../lib":538,"./hoverlabel_defaults":467,"./layout_attributes":469}],472:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants");t.exports={_isLinkedToArray:"image",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",role:"info",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",role:"info",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}}},{"../../plots/cartesian/constants":578}],473:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,i){t=t||{};var o="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(o||s)for(var l,c,u=e._fullLayout.images,d=t._id.charAt(0),p=0;p<u.length;p++)if(l=u[p],c="images["+p+"].",l[d+"ref"]===t._id){var f=l[d],h=l["size"+d],g=null,m=null;if(o){g=a(f,t.range);var v=h/Math.pow(10,g)/2;m=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else g=Math.pow(10,f),m=g*(Math.pow(10,h/2)-Math.pow(10,-h/2));r(g)?r(m)||(m=null):(g=null,m=null),i(c+d,g),i(c+"size"+d,m)}}},{"../../lib/to_log_range":556,"fast-isnumeric":263}],474:[function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return a.coerce(e,t,s,n,r)}var o=r("source"),l=r("visible",!!o);if(!l)return t;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var c={_fullLayout:n},u=["x","y"],d=0;d<2;d++){var p=u[d],f=i.coerceRef(e,t,c,p,"paper");i.coercePosition(t,c,r,f,p,0)}return t}var a=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),s=e("./attributes"),l="images";t.exports=function(e,t){var n={name:l,handleItemDefaults:r};o(e,t,n)}},{"../../lib":538,"../../plots/array_container_defaults":570,"../../plots/cartesian/axes":573,"./attributes":472}],475:[function(e,t,n){"use strict";var r=e("d3"),a=e("../drawing"),i=e("../../plots/cartesian/axes"),o=e("../../constants/xmlns_namespaces");t.exports=function(e){function t(t){var n=r.select(this);if(!this.img||this.img.src!==t.source){n.attr("xmlns",o.svg);var a=new Promise(function(e){function r(){n.remove(),e()}var a=new Image;this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=r,a.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var r=t.getContext("2d");r.drawImage(this,0,0);var a=t.toDataURL("image/png");n.attr("xlink:href",a),e()},n.on("error",r),a.src=t.source}.bind(this));e._promises.push(a)}}function n(t){var n=r.select(this),o=i.getFromId(e,t.xref),s=i.getFromId(e,t.yref),l=c._size,u=o?Math.abs(o.l2p(t.sizex)-o.l2p(0)):t.sizex*l.w,d=s?Math.abs(s.l2p(t.sizey)-s.l2p(0)):t.sizey*l.h,p=u*g.x[t.xanchor].offset,f=d*g.y[t.yanchor].offset,h=g.x[t.xanchor].sizing+g.y[t.yanchor].sizing,m=(o?o.r2p(t.x)+o._offset:t.x*l.w+l.l)+p,v=(s?s.r2p(t.y)+s._offset:l.h-t.y*l.h+l.t)+f;switch(t.sizing){case"fill":h+=" slice";break;case"stretch":h="none"}n.attr({x:m,y:v,width:u,height:d,preserveAspectRatio:h,opacity:t.opacity});var y=o?o._id:"",b=s?s._id:"",x=y+b;n.call(a.setClipUrl,x?"clip"+c._uid+x:null)}var s,l,c=e._fullLayout,u=[],d={},p=[];for(l=0;l<c.images.length;l++){var f=c.images[l];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){s=f.xref+f.yref;var h=c._plots[s];if(!h){p.push(f);continue}h.mainplot&&(s=h.mainplot.id),d[s]||(d[s]=[]),d[s].push(f)}else"above"===f.layer?u.push(f):p.push(f)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},m=c._imageLowerLayer.selectAll("image").data(p),v=c._imageUpperLayer.selectAll("image").data(u);m.enter().append("image"),v.enter().append("image"),m.exit().remove(),v.exit().remove(),m.each(function(e){t.bind(this)(e),n.bind(this)(e)}),v.each(function(e){t.bind(this)(e),n.bind(this)(e)});var y=Object.keys(c._plots);for(l=0;l<y.length;l++){s=y[l];var b=c._plots[s];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(d[s]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(e){t.bind(this)(e),n.bind(this)(e)})}}}},{"../../constants/xmlns_namespaces":526,"../../plots/cartesian/axes":573,"../drawing":451,d3:260}],476:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"./attributes":472,"./convert_coords":473,"./defaults":474,"./draw":475}],477:[function(e,t,n){"use strict";n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},{}],478:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),i=e("../../lib/extend").extendFlat;t.exports={bgcolor:{valType:"color",role:"style",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the legend."},font:i({},r,{description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")}}},{"../../lib/extend":534,"../../plots/font_attributes":597,"../color/attributes":426}],479:[function(e,t,n){"use strict";t.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],480:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),i=e("./attributes"),o=e("../../plots/layout_attributes"),s=e("./helpers");t.exports=function(e,t,n){function l(e,t){return a.coerce(f,h,i,e,t)}for(var c,u,d,p,f=e.legend||{},h=t.legend={},g=0,m="normal",v=0;v<n.length;v++){var y=n[v];s.legendGetsTrace(y)&&(g++,r.traceIs(y,"pie")&&g++),(r.traceIs(y,"bar")&&"stack"===t.barmode||["tonextx","tonexty"].indexOf(y.fill)!==-1)&&(m=s.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(m=s.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var b=a.coerce(e,t,o,"showlegend",g>1);if(b!==!1){if(l("bgcolor",t.paper_bgcolor),l("bordercolor"),l("borderwidth"),a.coerceFont(l,"font",t.font),l("orientation"),"h"===h.orientation){var x=e.xaxis;x&&x.rangeslider&&x.rangeslider.visible?(c=0,d="left",u=1.1,p="bottom"):(c=0,d="left",u=-.1,p="top")}l("traceorder",m),s.isGrouped(t.legend)&&l("tracegroupgap"),l("x",c),l("xanchor",d),l("y",u),l("yanchor",p),a.noneOrAll(f,h,["x","y"])}}},{"../../lib":538,"../../plots/layout_attributes":599,"../../registry":608,"./attributes":478,"./helpers":483}],481:[function(e,t,n){"use strict";function r(e,t){function n(n){y.convertToTspans(n,function(){n.selectAll("tspan.line").attr({x:n.attr("x")}),e.call(o,t)})}var r=e.data()[0][0],a=t._fullLayout,i=r.trace,s=h.traceIs(i,"pie"),l=i.index,c=s?r.label:i.name,u=e.selectAll("text.legendtext").data([0]);u.enter().append("text").classed("legendtext",!0),u.attr({x:40,y:0,"data-unformatted":c}).style("text-anchor","start").classed("user-select-none",!0).call(m.font,a.legend.font).text(c),t._context.editable&&!s?u.call(y.makeEditable).call(n).on("edit",function(e){this.attr({"data-unformatted":e}),this.text(e).call(n),this.text()||(e="    ");var a,i=r.trace._fullInput||{};if(["ohlc","candlestick"].indexOf(i.type)!==-1){var o=r.trace.transforms,s=o[o.length-1].direction;a=s+".name"}else a="name";d.restyle(t,a,e,l)}):u.call(n)}function a(e,t){var n,r=1,a=e.selectAll("rect").data([0]);a.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(v.fill,"rgba(0,0,0,0)"),a.on("mousedown",function(){n=(new Date).getTime(),n-t._legendMouseDownTime<T?r+=1:(r=1,t._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>T&&(r=Math.max(r-1,1)),1===r?n._clickTimeout=setTimeout(function(){i(e,t,r)},T):2===r&&(n._clickTimeout&&clearTimeout(n._clickTimeout),t._legendMouseDownTime=0,i(e,t,r))}})}function i(e,t,n){if(!t._dragged&&!t._editing){var r,a,i=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],o=e.data()[0][0],s=t._fullData,l=o.trace,c=l.legendgroup,u=[];if(1===n&&A&&t.data&&t._context.showTips?(p.notifier("Double click on legend to isolate individual trace","long"),A=!1):A=!1,h.traceIs(l,"pie")){var f=o.label,g=i.indexOf(f);1===n?g===-1?i.push(f):i.splice(g,1):2===n&&(i=[],t.calcdata[0].forEach(function(e){f!==e.label&&i.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===i.length&&g===-1&&(i=[])),d.relayout(t,"hiddenlabels",i)}else{var m,v=[],y=[];for(m=0;m<s.length;m++)v.push(m),y.push(!!h.traceIs(s[m],"notLegendIsolatable")||"legendonly");if(""===c)u=[l.index],y[l.index]=!0;else for(m=0;m<s.length;m++)r=s[m],r.legendgroup===c&&(u.push(r.index),y[v.indexOf(m)]=!0);if(1===n)a=l.visible!==!0||"legendonly",d.restyle(t,"visible",a,u);else if(2===n){var b=!0;for(m=0;m<s.length;m++)if(s[m].visible!==y[m]){b=!1;break}b&&(y=!0);var x=[];for(m=0;m<s.length;m++)x.push(v[m]);d.restyle(t,"visible",y,x)}}}}function o(e,t){var n,r,a=e.data()[0][0],i=e.select("g[class*=math-group]"),o=t._fullLayout.legend,s=1.3*o.font.size;if(!a.trace.showlegend)return void e.remove();if(i.node()){var l=m.bBox(i.node());n=l.height,r=l.width,m.setTranslate(i,0,n/4)}else{var c=e.selectAll(".legendtext"),u=e.selectAll(".legendtext>tspan"),d=u[0].length||1;n=s*d,r=c.node()&&m.bBox(c.node()).width;var p=s*(.3+(1-d)/2);c.attr("y",p),u.attr("y",p)}n=Math.max(n,16)+3,a.height=n,a.width=r}function s(e,t,n){var r=e._fullLayout,a=r.legend,i=a.borderwidth,o=k.isGrouped(a);if(k.isVertical(a))o&&t.each(function(e,t){m.setTranslate(this,0,t*a.tracegroupgap)}),a.width=0,a.height=0,n.each(function(e){var t=e[0],n=t.height,r=t.width;m.setTranslate(this,i,5+i+a.height+n/2),a.height+=n,a.width=Math.max(a.width,r)}),a.width+=45+2*i,a.height+=10+2*i,o&&(a.height+=(a._lgroupsLength-1)*a.tracegroupgap),a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),n.each(function(t){var n=t[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,(e._context.editable?0:a.width)+40,n.height)});else if(o){a.width=0,a.height=0;for(var s=[a.width],l=t.data(),c=0,d=l.length;c<d;c++){var p=l[c].map(function(e){return e[0].width}),f=40+Math.max.apply(null,p);a.width+=a.tracegroupgap+f,s.push(a.width)}t.each(function(e,t){m.setTranslate(this,s[t],0)}),t.each(function(){var e=u.select(this),t=e.selectAll("g.traces"),n=0;t.each(function(e){var t=e[0],r=t.height;m.setTranslate(this,0,5+i+n+r/2),n+=r}),a.height=Math.max(a.height,n)}),a.height+=10+2*i,a.width+=2*i,a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),n.each(function(t){var n=t[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,e._context.editable?0:a.width,n.height)})}else{a.width=0,a.height=0;var h=0,g=0,v=0,y=0;n.each(function(e){v=Math.max(40+e[0].width,v)}),n.each(function(e){var t=e[0],n=v,o=a.tracegroupgap||5;i+y+o+n>r.width-(r.margin.r+r.margin.l)&&(y=0,h+=g,a.height=a.height+g,g=0),m.setTranslate(this,i+y,5+i+t.height/2+h),a.width+=o+n,a.height=Math.max(a.height,t.height),y+=o+n,g=Math.max(t.height,g)}),a.width+=2*i,a.height+=10+2*i,a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),n.each(function(t){var n=t[0],r=u.select(this).select(".legendtoggle");r.call(m.setRect,0,-n.height/2,e._context.editable?0:a.width,n.height)})}}function l(e){var t=e._fullLayout,n=t.legend,r="left";S.isRightAnchor(n)?r="right":S.isCenterAnchor(n)&&(r="center");var a="top";S.isBottomAnchor(n)?a="bottom":S.isMiddleAnchor(n)&&(a="middle"),f.autoMargin(e,"legend",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:n.height*({top:1,middle:.5}[a]||0),t:n.height*({bottom:1,middle:.5}[a]||0)})}function c(e){var t=e._fullLayout,n=t.legend,r="left";S.isRightAnchor(n)?r="right":S.isCenterAnchor(n)&&(r="center"),f.autoMargin(e,"legend",{x:n.x,y:.5,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:0,t:0})}var u=e("d3"),d=e("../../plotly"),p=e("../../lib"),f=e("../../plots/plots"),h=e("../../registry"),g=e("../dragelement"),m=e("../drawing"),v=e("../color"),y=e("../../lib/svg_text_utils"),b=e("./constants"),x=e("../../constants/interactions"),w=e("./get_legend_data"),_=e("./style"),k=e("./helpers"),S=e("./anchor_utils"),A=!0,T=x.DBLCLICKDELAY;t.exports=function(e){function t(e,t){M.attr("data-scroll",t).call(m.setTranslate,0,t),E.call(m.setRect,F,e,b.scrollBarWidth,b.scrollBarHeight),$.select("rect").attr({y:y.borderwidth-t})}var n=e._fullLayout,o="legend"+n._uid;if(n._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var y=n.legend,x=n.showlegend&&w(e.calcdata,y),k=n.hiddenlabels||[];if(!n.showlegend||!x.length)return n._infolayer.selectAll(".legend").remove(),n._topdefs.select("#"+o).remove(),void f.autoMargin(e,"legend");var A=n._infolayer.selectAll("g.legend").data([0]);A.enter().append("g").attr({"class":"legend","pointer-events":"all"});var $=n._topdefs.selectAll("#"+o).data([0]);$.enter().append("clipPath").attr("id",o).append("rect");var C=A.selectAll("rect.bg").data([0]);C.enter().append("rect").attr({"class":"bg","shape-rendering":"crispEdges"}),C.call(v.stroke,y.bordercolor),C.call(v.fill,y.bgcolor),C.style("stroke-width",y.borderwidth+"px");var M=A.selectAll("g.scrollbox").data([0]);M.enter().append("g").attr("class","scrollbox");var E=A.selectAll("rect.scrollbar").data([0]);E.enter().append("rect").attr({"class":"scrollbar",rx:20,ry:2,width:0,height:0}).call(v.fill,"#808BA4");var I=M.selectAll("g.groups").data(x);I.enter().append("g").attr("class","groups"),I.exit().remove();var P=I.selectAll("g.traces").data(p.identity);P.enter().append("g").attr("class","traces"),P.exit().remove(),P.call(_).style("opacity",function(e){var t=e[0].trace;return h.traceIs(t,"pie")?k.indexOf(e[0].label)!==-1?.5:1:"legendonly"===t.visible?.5:1}).each(function(){u.select(this).call(r,e).call(a,e)});var j=0!==A.enter().size();j&&(s(e,I,P),l(e));var D=0,L=n.width,O=0,R=n.height;s(e,I,P),y.height>R?c(e):l(e);var N=n._size,z=N.l+N.w*y.x,B=N.t+N.h*(1-y.y);S.isRightAnchor(y)?z-=y.width:S.isCenterAnchor(y)&&(z-=y.width/2),S.isBottomAnchor(y)?B-=y.height:S.isMiddleAnchor(y)&&(B-=y.height/2);var F=y.width,H=N.w;F>H?(z=N.l,F=H):(z+F>L&&(z=L-F),z<D&&(z=D),F=Math.min(L-z,y.width));var U=y.height,q=N.h;U>q?(B=N.t,U=q):(B+U>R&&(B=R-U),B<O&&(B=O),U=Math.min(R-B,y.height)),m.setTranslate(A,z,B);var V,G,W=U-b.scrollBarHeight-2*b.scrollBarMargin,Y=y.height-U;if(y.height<=U||e._context.staticPlot)C.attr({width:F-y.borderwidth,height:U-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),m.setTranslate(M,0,0),$.select("rect").attr({width:F-2*y.borderwidth,height:U-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth}),M.call(m.setClipUrl,o);else{V=b.scrollBarMargin,G=M.attr("data-scroll")||0,C.attr({width:F-2*y.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:U-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),$.select("rect").attr({width:F-2*y.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:U-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth-G}),M.call(m.setClipUrl,o),j&&t(V,G),A.on("wheel",null),A.on("wheel",function(){G=p.constrain(M.attr("data-scroll")-u.event.deltaY/W*Y,-Y,0),V=b.scrollBarMargin-G/Y*W,t(V,G),0!==G&&G!==-Y&&u.event.preventDefault()}),E.on(".drag",null),M.on(".drag",null);var X=u.behavior.drag().on("drag",function(){V=p.constrain(u.event.y-b.scrollBarHeight/2,b.scrollBarMargin,b.scrollBarMargin+W),G=-(V-b.scrollBarMargin)/W*Y,t(V,G)});E.call(X),M.call(X)}if(e._context.editable){var Q,K,Z,J;A.classed("cursor-move",!0),g.init({element:A.node(),prepFn:function(){var e=m.getTranslate(A);Z=e.x,J=e.y},moveFn:function(e,t){var n=Z+e,r=J+t;m.setTranslate(A,n,r),Q=g.align(n,0,N.l,N.l+N.w,y.xanchor),K=g.align(r,0,N.t+N.h,N.t,y.yanchor)},doneFn:function(t,r,a){if(t&&void 0!==Q&&void 0!==K)d.relayout(e,{"legend.x":Q,"legend.y":K});else{var o=n._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom});o.size()>0&&(1===r?A._clickTimeout=setTimeout(function(){i(o,e,r)},T):2===r&&(A._clickTimeout&&clearTimeout(A._clickTimeout),i(o,e,r)))}}})}}}},{"../../constants/interactions":523,"../../lib":538,"../../lib/svg_text_utils":555,"../../plotly":568,"../../plots/plots":601,"../../registry":608,"../color":427,"../dragelement":448,"../drawing":451,"./anchor_utils":477,"./constants":479,"./get_legend_data":482,"./helpers":483,"./style":485,d3:260}],482:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./helpers");t.exports=function(e,t){function n(e,n){if(""!==e&&a.isGrouped(t))l.indexOf(e)===-1?(l.push(e),c=!0,s[e]=[[n]]):s[e].push([n]);else{var r="~~i"+d;l.push(r),s[r]=[[n]],d++}}var i,o,s={},l=[],c=!1,u={},d=0;for(i=0;i<e.length;i++){var p=e[i],f=p[0],h=f.trace,g=h.legendgroup;if(a.legendGetsTrace(h)&&h.showlegend)if(r.traceIs(h,"pie"))for(u[g]||(u[g]={}),o=0;o<p.length;o++){var m=p[o].label;u[g][m]||(n(g,{label:m,color:p[o].color,i:p[o].i,trace:h}),u[g][m]=!0)}else n(g,f)}if(!l.length)return[];var v,y,b=l.length;if(c&&a.isGrouped(t))for(y=new Array(b),i=0;i<b;i++)v=s[l[i]],y[i]=a.isReversed(t)?v.reverse():v;else{for(y=[new Array(b)],i=0;i<b;i++)v=s[l[i]][0],y[0][a.isReversed(t)?b-i-1:i]=v;b=1}return t._lgroupsLength=b,y}},{"../../registry":608,"./helpers":483}],483:[function(e,t,n){"use strict";var r=e("../../registry");n.legendGetsTrace=function(e){return e.visible&&r.traceIs(e,"showLegend")},n.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},{"../../registry":608}],484:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":478,"./defaults":480,"./draw":481,"./style":485}],485:[function(e,t,n){"use strict";function r(e){var t=e[0].trace,n=t.visible&&t.fill&&"none"!==t.fill,r=f.hasLines(t);t&&t._module&&"contourcarpet"===t._module.name&&(r=t.contours.showlines,n="fill"===t.contours.coloring);var a=l.select(this).select(".legendfill").selectAll("path").data(n?[e]:[]);a.enter().append("path").classed("js-fill",!0),a.exit().remove(),a.attr("d","M5,0h30v6h-30z").call(d.fillGroupStyle);var i=l.select(this).select(".legendlines").selectAll("path").data(r?[e]:[]);i.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),i.exit().remove(),i.call(d.lineGroupStyle)}function a(e){function t(e,t,n){var r=u.nestedProperty(o,e).get(),a=Array.isArray(r)&&t?t(r):r;if(n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function n(e){return e[0]}var r,a,i=e[0],o=i.trace,s=f.hasMarkers(o),c=f.hasText(o),p=f.hasLines(o);if(s||c||p){var h={},g={};s&&(h.mc=t("marker.color",n),h.mo=t("marker.opacity",u.mean,[.2,1]),h.ms=t("marker.size",u.mean,[2,16]),h.mlc=t("marker.line.color",n),h.mlw=t("marker.line.width",u.mean,[0,5]),g.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),p&&(g.line={width:t("line.width",n,[0,10])}),c&&(h.tx="Aa",h.tp=t("textposition",n),h.ts=10,h.tc=t("textfont.color",n),h.tf=t("textfont.family",n)),r=[u.minExtend(i,h)],a=u.minExtend(o,g)}var m=l.select(this).select("g.legendpoints"),v=m.selectAll("path.scatterpts").data(s?r:[]);v.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),v.exit().remove(),v.call(d.pointStyle,a),s&&(r[0].mrc=3);var y=m.selectAll("g.pointtext").data(c?r:[]);y.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),y.exit().remove(),y.selectAll("text").call(d.textPointStyle,a)}function i(e){var t=e[0].trace,n=t.marker||{},r=n.line||{},a=l.select(this).select("g.legendpoints").selectAll("path.legendbar").data(c.traceIs(t,"bar")?[e]:[]);a.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),a.exit().remove(),a.each(function(e){var t=l.select(this),a=e[0],i=(a.mlw+1||r.width+1)-1;t.style("stroke-width",i+"px").call(p.fill,a.mc||n.color),i&&t.call(p.stroke,a.mlc||r.color)})}function o(e){var t=e[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(c.traceIs(t,"box")&&t.visible?[e]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var e=t.line.width,n=l.select(this);n.style("stroke-width",e+"px").call(p.fill,t.fillcolor),e&&n.call(p.stroke,t.line.color)})}function s(e){var t=e[0].trace,n=l.select(this).select("g.legendpoints").selectAll("path.legendpie").data(c.traceIs(t,"pie")&&t.visible?[e]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(h,e[0],t)}var l=e("d3"),c=e("../../registry"),u=e("../../lib"),d=e("../drawing"),p=e("../color"),f=e("../../traces/scatter/subtypes"),h=e("../../traces/pie/style_one");t.exports=function(e){e.each(function(e){var t=l.select(this),n=t.selectAll("g.layers").data([0]);n.enter().append("g").classed("layers",!0),n.style("opacity",e[0].trace.opacity);var r=n.selectAll("g.legendfill").data([e]);r.enter().append("g").classed("legendfill",!0);var a=n.selectAll("g.legendlines").data([e]);a.enter().append("g").classed("legendlines",!0);var i=n.selectAll("g.legendsymbols").data([e]);i.enter().append("g").classed("legendsymbols",!0),i.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(i).each(o).each(s).each(r).each(a)}},{"../../lib":538,"../../registry":608,"../../traces/pie/style_one":640,"../../traces/scatter/subtypes":662,"../color":427,"../drawing":451,d3:260}],486:[function(e,t,n){"use strict";function r(e,t){var n,r,a=t.currentTarget,i=a.getAttribute("data-attr"),o=a.getAttribute("data-val")||!0,s=e._fullLayout,l={},c=p.list(e,null,!0),d="on";if("zoom"===i){var f,h="in"===o?.5:2,g=(1+h)/2,m=(1-h)/2;for(r=0;r<c.length;r++)if(n=c[r],
!n.fixedrange)if(f=n._name,"auto"===o)l[f+".autorange"]=!0;else if("reset"===o){if(void 0===n._rangeInitial)l[f+".autorange"]=!0;else{var v=n._rangeInitial.slice();l[f+".range[0]"]=v[0],l[f+".range[1]"]=v[1]}void 0!==n._showSpikeInitial&&(l[f+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*y[0]+m*y[1],g*y[1]+m*y[0]];l[f+".range[0]"]=n.l2r(b[0]),l[f+".range[1]"]=n.l2r(b[1])}s._cartesianSpikesEnabled=d}else{if("hovermode"!==i||"x"!==o&&"y"!==o){if("hovermode"===i&&"closest"===o){for(r=0;r<c.length;r++)n=c[r],"on"!==d||n.showspikes||(d="off");s._cartesianSpikesEnabled=d}}else o=s._isHoriz?"y":"x",a.setAttribute("data-val",o),"closest"!==o&&(s._cartesianSpikesEnabled="off");l[i]=o}u.relayout(e,l)}function a(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=e._fullLayout,o=d.getSubplotIds(i,"gl3d"),s={},l=r.split("."),c=0;c<o.length;c++)s[o[c]+"."+l[1]]=a;u.relayout(e,s)}function i(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=e._fullLayout,i=d.getSubplotIds(a,"gl3d"),o={},s=0;s<i.length;s++){var l=i[s],c=l+".camera",p=a[l]._scene;"resetDefault"===r?o[c]=null:"resetLastSave"===r&&(o[c]=f.extendDeep({},p.cameraInitial))}u.relayout(e,o)}function o(e,t){var n=t.currentTarget,r=n._previousVal||!1,a=e.layout,i=e._fullLayout,o=d.getSubplotIds(i,"gl3d"),s=["xaxis","yaxis","zaxis"],l=["showspikes","spikesides","spikethickness","spikecolor"],c={},p={},h={};if(r)h=f.extendDeep(a,r),n._previousVal=null;else{h={"allaxes.showspikes":!1};for(var g=0;g<o.length;g++){var m=o[g],v=i[m],y=c[m]={};y.hovermode=v.hovermode,h[m+".hovermode"]=!1;for(var b=0;b<3;b++){var x=s[b];p=y[x]={};for(var w=0;w<l.length;w++){var _=l[w];p[_]=v[x][_]}}}n._previousVal=f.extendDeep({},c)}u.relayout(e,h)}function s(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=e._fullLayout,o=d.getSubplotIds(i,"geo"),s=0;s<o.length;s++){var l=i[o[s]]._subplot;if("zoom"===r){var c=l.projection.scale(),u="in"===a?2*c:.5*c;l.projection.scale(u),l.zoom.scale(u),l.render()}else"reset"===r&&l.zoomReset()}}function l(e){var t,n=e._fullLayout;t=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var r=!e._fullLayout.hovermode&&t;u.relayout(e,"hovermode",r)}function c(e){for(var t,n,r=e._fullLayout,a=p.list(e,null,!0),i={},o=0;o<a.length;o++)t=a[o],n=t._name,i[n+".showspikes"]="on"===r._cartesianSpikesEnabled;return i}var u=e("../../plotly"),d=e("../../plots/plots"),p=e("../../plots/cartesian/axes"),f=e("../../lib"),h=e("../../snapshot/download"),g=e("../../../build/ploticon"),m=t.exports={};m.toImage={name:"toImage",title:"Download plot as a png",icon:g.camera,click:function(e){var t="png";f.notifier("Taking snapshot - this may take a few seconds","long"),f.isIE()&&(f.notifier("IE only supports svg.  Changing format to svg.","long"),t="svg"),h(e,{format:t}).then(function(e){f.notifier("Snapshot succeeded - "+e,"long")})["catch"](function(){f.notifier("Sorry there was a problem downloading your snapshot!","long")})}},m.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:g.disk,click:function(e){d.sendDataToCloud(e)}},m.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:g.zoombox,click:r},m.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:g.pan,click:r},m.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:g.selectbox,click:r},m.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:g.lasso,click:r},m.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:g.zoom_plus,click:r},m.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:g.zoom_minus,click:r},m.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:g.autoscale,click:r},m.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:g.home,click:r},m.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:g.tooltip_basic,gravity:"ne",click:r},m.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:g.tooltip_compare,gravity:"ne",click:r},m.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:g.zoombox,click:a},m.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:g.pan,click:a},m.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:g["3d_rotate"],click:a},m.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:g["z-axis"],click:a},m.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:g.home,click:i},m.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:g.movie,click:i},m.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:o},m.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:g.zoom_plus,click:s},m.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:g.zoom_minus,click:s},m.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:g.autoscale,click:s},m.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:l},m.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:l},m.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:g.tooltip_basic,gravity:"ne",click:l},m.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:function(e,t){l(e),o(e,t)}},m.resetViews={name:"resetViews",title:"Reset views",icon:g.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),r(e,t),n.setAttribute("data-attr","resetLastSave"),i(e,t)}},m.toggleSpikelines={name:"toggleSpikelines",title:"Toggle Spike Lines",icon:g.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="closest"===t.hovermode&&"on"===t._cartesianSpikesEnabled?"off":"on";var n=c(e);n.hovermode="closest",u.relayout(e,n)}}},{"../../../build/ploticon":411,"../../lib":538,"../../plotly":568,"../../plots/cartesian/axes":573,"../../plots/plots":601,"../../snapshot/download":610}],487:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":488}],488:[function(e,t,n){"use strict";function r(e,t,n){function r(e){for(var n=[],r=0;r<e.length;r++){var a=e[r];t.indexOf(a)===-1&&n.push(d[a])}m.push(n)}var s=e._fullLayout,l=e._fullData,c=s._has("cartesian"),u=s._has("gl3d"),p=s._has("geo"),f=s._has("pie"),h=s._has("gl2d"),g=s._has("ternary"),m=[];if(r(["toImage","sendDataToCloud"]),(c||h||f||g)+p+u>1)return r(["resetViews","toggleHover"]),o(m,n);u&&(r(["zoom3d","pan3d","orbitRotation","tableRotation"]),r(["resetCameraDefault3d","resetCameraLastSave3d"]),r(["hoverClosest3d"])),p&&(r(["zoomInGeo","zoomOutGeo","resetGeo"]),r(["hoverClosestGeo"]));var v=a(s),y=[];return((c||h)&&!v||g)&&(y=["zoom2d","pan2d"]),(c||g)&&i(l)&&(y.push("select2d"),y.push("lasso2d")),y.length&&r(y),!c&&!h||v||g||r(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),c&&f?r(["toggleHover"]):h?r(["hoverClosestGl2d"]):c?r(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):f&&r(["hoverClosestPie"]),o(m,n)}function a(e){for(var t=l.list({_fullLayout:e},null,!0),n=!0,r=0;r<t.length;r++)if(!t[r].fixedrange){n=!1;break}return n}function i(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&("scatter"===r.type||"scatterternary"===r.type?(c.hasMarkers(r)||c.hasText(r))&&(t=!0):t=!0)}return t}function o(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function s(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===d[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=d[a]}}return e}var l=e("../../plots/cartesian/axes"),c=e("../../traces/scatter/subtypes"),u=e("./modebar"),d=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,a=t._modeBar;if(!n.displayModeBar)return void(a&&(a.destroy(),delete t._modeBar));if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,o=n.modeBarButtons;i=Array.isArray(o)&&o.length?s(o):r(e,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),a?a.update(e,i):t._modeBar=u(e,i)}},{"../../plots/cartesian/axes":573,"../../traces/scatter/subtypes":662,"./buttons":486,"./modebar":489}],489:[function(e,t,n){"use strict";function r(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}function a(e,t){var n=e._fullLayout,a=new r({graphInfo:e,container:n._paperdiv.node(),buttons:t});return n._privateplot&&i.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}var i=e("d3"),o=e("../../lib"),s=e("../../../build/ploticon"),l=r.prototype;l.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(t),a=this.hasLogo!==n.displaylogo;(r||a)&&(this.removeAllButtons(),this.updateButtons(t),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(t.buttonsNames.indexOf(r)!==-1)throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var a=t.createButton(e);t.buttonElements.push(a),n.appendChild(a)}),t.element.appendChild(n)})},l.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},l.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=e.title;void 0===r&&(r=e.name),(r||0===r)&&n.setAttribute("data-title",r),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var a=e.val;void 0!==a&&("function"==typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a));var o=e.click;if("function"!=typeof o)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&i.select(n).classed("active",!0),n.appendChild(this.createIcon(e.icon||s.question,e.name)),n.setAttribute("data-gravity",e.gravity||"n"),n},l.createIcon=function(e,t){var n=e.ascent-e.descent,r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"path");a.setAttribute("height","1em"),a.setAttribute("width",e.width/n+"em"),a.setAttribute("viewBox",[0,0,e.width,n].join(" "));var o="toggleSpikelines"===t?"matrix(1.5 0 0 -1.5 0 "+e.ascent+")":"matrix(1 0 0 -1 0 "+e.ascent+")";return i.setAttribute("d",e.path),i.setAttribute("transform",o),a.appendChild(i),a},l.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var r=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=i.select(e);if(s)a===n&&l.classed("active",!l.classed("active"));else{var c=null===a?a:o.nestedProperty(t,a).get();l.classed("active",c===r)}})},l.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},l.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title","Produced with Plotly"),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(s.plotlylogo)),e.appendChild(t),e},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){o.removeElement(this.container.querySelector(".modebar"))},t.exports=a},{"../../../build/ploticon":411,"../../lib":538,d3:260}],490:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),i=e("../../lib/extend").extendFlat,o=e("./button_attributes");o=i(o,{_isLinkedToArray:"button",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),t.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:o,x:{valType:"number",min:-2,max:3,role:"style",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:i({},r,{description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:a.lightLine,role:"style",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the range selector."}}},{"../../lib/extend":534,"../../plots/font_attributes":597,"../color/attributes":426,"./button_attributes":491}],491:[function(e,t,n){"use strict";t.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the button."}}},{}],492:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],493:[function(e,t,n){"use strict";function r(e,t,n){function r(e,t){return i.coerce(a,o,l,e,t)}for(var a,o,s=e.buttons||[],c=t.buttons=[],u=0;u<s.length;u++)if(a=s[u],o={},i.isPlainObject(a)){var d=r("step");"all"!==d&&(!n||"gregorian"===n||"month"!==d&&"year"!==d?r("stepmode"):o.stepmode="backward",r("count")),r("label"),o._index=u,c.push(o)}return c}function a(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),a=0,i=0;i<r.length;i++){var o=t[r[i]].domain;o&&(a=Math.max(o[1],a))}return[e.domain[0],a+c.yPad]}var i=e("../../lib"),o=e("../color"),s=e("./attributes"),l=e("./button_attributes"),c=e("./constants");t.exports=function(e,t,n,l,u){function d(e,t){return i.coerce(p,f,s,e,t)}var p=e.rangeselector||{},f=t.rangeselector={},h=r(p,f,u),g=d("visible",h.length>0);if(g){var m=a(t,n,l);d("x",m[0]),d("y",m[1]),i.noneOrAll(e,t,["x","y"]),d("xanchor"),d("yanchor"),i.coerceFont(d,"font",n.font);var v=d("bgcolor");d("activecolor",o.contrast(v,c.lightAmount,c.darkAmount)),d("bordercolor"),d("borderwidth")}}},{"../../lib":538,"../color":427,"./attributes":490,"./button_attributes":491,"./constants":492}],494:[function(e,t,n){"use strict";function r(e){for(var t=v.list(e,"x",!0),n=[],r=0;r<t.length;r++){var a=t[r];a.rangeselector&&a.rangeselector.visible&&n.push(a)}return n}function a(e){return e._id}function i(e,t,n){if("all"===t.step)return e.autorange===!0;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function o(e,t,n){var r=e.selectAll("rect").data([0]);r.enter().append("rect").classed("selector-rect",!0),r.attr("shape-rendering","crispEdges"),r.attr({rx:b.rx,ry:b.ry}),r.call(h.stroke,t.bordercolor).call(h.fill,s(t,n)).style("stroke-width",t.borderwidth+"px")}function s(e,t){return t.isActive||t.isHovered?e.activecolor:e.bgcolor}function l(e,t,n){function r(e){m.convertToTspans(e)}var a=e.selectAll("text").data([0]);a.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),a.attr("text-anchor","middle"),a.call(g.font,t.font).text(c(n)).call(r)}function c(e){return e.label?e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function u(e,t,n,r){n.width=0,n.height=0;var a=n.borderwidth;t.each(function(){var e=d.select(this),t=e.select(".selector-text"),r=t.selectAll("tspan"),a=1.3*n.font.size,i=r[0].length||1,o=Math.max(a*i,16)+3;n.height=Math.max(n.height,o)}),t.each(function(){var e=d.select(this),t=e.select(".selector-rect"),r=e.select(".selector-text"),i=r.selectAll("tspan"),o=r.node()&&g.bBox(r.node()).width,s=1.3*n.font.size,l=i[0].length||1,c=Math.max(o+10,b.minButtonWidth);e.attr("transform","translate("+(a+n.width)+","+a+")"),t.attr({x:0,y:0,width:c,height:n.height});var u={x:c/2,y:n.height/2-(l-1)*s/2+3};r.attr(u),i.attr(u),n.width+=c+5}),t.selectAll("rect").attr("height",n.height);var i=e._fullLayout._size;n.lx=i.l+i.w*n.x,n.ly=i.t+i.h*(1-n.y);var o="left";y.isRightAnchor(n)&&(n.lx-=n.width,o="right"),y.isCenterAnchor(n)&&(n.lx-=n.width/2,o="center");var s="top";y.isBottomAnchor(n)&&(n.ly-=n.height,s="bottom"),y.isMiddleAnchor(n)&&(n.ly-=n.height/2,s="middle"),n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),f.autoMargin(e,r+"-range-selector",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[o]||0),r:n.width*({left:1,center:.5}[o]||0),b:n.height*({top:1,middle:.5}[s]||0),t:n.height*({bottom:1,middle:.5}[s]||0)})}var d=e("d3"),p=e("../../plotly"),f=e("../../plots/plots"),h=e("../color"),g=e("../drawing"),m=e("../../lib/svg_text_utils"),v=e("../../plots/cartesian/axis_ids"),y=e("../legend/anchor_utils"),b=e("./constants"),x=e("./get_update_object");t.exports=function(e){var t=e._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(r(e),a);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(t){var n=d.select(this),r=t,a=r.rangeselector,s=n.selectAll("g.button").data(a.buttons);s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(t){var n=d.select(this),s=x(r,t);t.isActive=i(r,t,s),n.call(o,a,t),n.call(l,a,t),n.on("click",function(){e._dragged||p.relayout(e,s)}),n.on("mouseover",function(){t.isHovered=!0,n.call(o,a,t)}),n.on("mouseout",function(){t.isHovered=!1,n.call(o,a,t)})}),u(e,s,a,r._name),n.attr("transform","translate("+a.lx+","+a.ly+")")})}},{"../../lib/svg_text_utils":555,"../../plotly":568,"../../plots/cartesian/axis_ids":576,"../../plots/plots":601,"../color":427,"../drawing":451,"../legend/anchor_utils":477,"./constants":492,"./get_update_object":495,d3:260}],495:[function(e,t,n){"use strict";function r(e,t){var n,r=e.range,i=new Date(e.r2l(r[1])),o=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+a.time[o].utc.offset(i,-s));break;case"todate":var l=a.time[o].utc.offset(i,-s);n=e.l2r(+a.time[o].utc.ceil(l))}var c=r[1];return[n,c]}var a=e("d3");t.exports=function(e,t){var n=e._name,a={};if("all"===t.step)a[n+".autorange"]=!0;else{var i=r(e,t);a[n+".range[0]"]=i[0],a[n+".range[1]"]=i[1]}return a}},{d3:260}],496:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{layout:{"xaxis.rangeselector":e("./attributes")}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":490,"./defaults":493,"./draw":494}],497:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,role:"style",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:r.defaultLine,role:"style",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")}}},{"../color/attributes":426}],498:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),a=e("./constants");t.exports=function(e){for(var t=r.list(e,"x",!0),n=0;n<t.length;n++){var i=t[n],o=i[a.name];o&&o.visible&&o.autorange&&i._min.length&&i._max.length&&(o._input.autorange=!0,o._input.range=o.range=r.getAutoRange(i))}}},{"../../plots/cartesian/axes":573,"./constants":499}],499:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],500:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes");t.exports=function(e,t,n){function i(e,t){return r.coerce(o,l,a,e,t)}if(e[n].rangeslider){r.isPlainObject(e[n].rangeslider)||(e[n].rangeslider={});var o=e[n].rangeslider,s=t[n],l=s.rangeslider={},c=i("visible");if(c){if(i("bgcolor",t.plot_bgcolor),i("bordercolor"),i("borderwidth"),i("thickness"),i("autorange",!s.isValidRange(o.range)),i("range"),l.range){var u=l.range,d=s.range;u[0]=s.l2r(Math.min(s.r2l(u[0]),s.r2l(d[0]))),u[1]=s.l2r(Math.max(s.r2l(u[1]),s.r2l(d[1])))}s.cleanRange("rangeslider.range"),l._input=o}}}},{"../../lib":538,"./attributes":497}],501:[function(e,t,n){"use strict";function r(e){var t=_.list({_fullLayout:e},"x",!0),n=A.name,r=[];if(e._has("gl2d"))return r;for(var a=0;a<t.length;a++){var i=t[a];i[n]&&i[n].visible&&r.push(i)}return r}function a(e,t,n,r){var a=e.select("rect."+A.slideBoxClassName).node(),o=e.select("rect."+A.grabAreaMinClassName).node(),s=e.select("rect."+A.grabAreaMaxClassName).node();e.on("mousedown",function(){function l(l){var c,u,y,b=+l.clientX-p;switch(d){case a:y="ew-resize",c=h+b,u=m+b;break;case o:y="col-resize",c=h+b,u=m;break;case s:y="col-resize",c=h,u=m+b;break;default:y="ew-resize",c=f,u=f+b}if(u<c){var x=u;u=c,c=x}r._pixelMin=c,r._pixelMax=u,S(g.select(v),y),i(e,t,n,r)}function c(){v.removeEventListener("mousemove",l),v.removeEventListener("mouseup",c),y.removeElement(v)}var u=g.event,d=u.target,p=u.clientX,f=p-e.node().getBoundingClientRect().left,h=r.d2p(n._rl[0]),m=r.d2p(n._rl[1]),v=k.coverSlip();v.addEventListener("mousemove",l),v.addEventListener("mouseup",c)})}function i(e,t,n,r){function a(e){return n.l2r(y.constrain(e,r._rl[0],r._rl[1]))}var i=a(r.p2d(r._pixelMin)),o=a(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){m.relayout(t,n._name+".range",[i,o])})}function o(e,t,n,r){function a(e){return y.constrain(e,0,r._width)}function i(e){return y.constrain(e,-o,r._width+o)}var o=A.handleWidth/2,s=a(r.d2p(n._rl[0])),l=a(r.d2p(n._rl[1]));e.select("rect."+A.slideBoxClassName).attr("x",s).attr("width",l-s),e.select("rect."+A.maskMinClassName).attr("width",s),e.select("rect."+A.maskMaxClassName).attr("x",l).attr("width",r._width-l);var c=.5,u=Math.round(i(s-o))-c,d=Math.round(i(l-o))+c;e.select("g."+A.grabberMinClassName).attr("transform","translate("+u+","+c+")"),e.select("g."+A.grabberMaxClassName).attr("transform","translate("+d+","+c+")")}function s(e,t,n,r){var a=e.selectAll("rect."+A.bgClassName).data([0]);a.enter().append("rect").classed(A.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var i=r.borderwidth%2===0?r.borderwidth:r.borderwidth-1,o=-r._offsetShift,s=b.crispRound(t,r.borderwidth);a.attr({width:r._width+i,height:r._height+i,transform:"translate("+o+","+o+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":s})}function l(e,t,n,r){var a=t._fullLayout,i=a._topdefs.selectAll("#"+r._clipId).data([0]);i.enter().append("clipPath").attr("id",r._clipId).append("rect").attr({x:0,y:0}),i.select("rect").attr({width:r._width,height:r._height})}function c(e,t,n,r){var a=_.getSubplots(t,n),i=t.calcdata,o=e.selectAll("g."+A.rangePlotClassName).data(a,y.identity);o.enter().append("g").attr("class",function(e){return A.rangePlotClassName+" "+e}).call(b.setClipUrl,r._clipId),o.order(),o.exit().remove();var s;o.each(function(e,a){var o=g.select(this),l=0===a,c=_.getFromId(t,e,"y"),d=c._name,p={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:r.range.slice(),calendar:n.calendar},width:r._width,height:r._height,margin:{t:0,b:0,l:0,r:0}}};p.layout[d]={type:c.type,domain:[0,1],range:c.range.slice(),calendar:c.calendar},v.supplyDefaults(p);var f=p._fullLayout.xaxis,h=p._fullLayout[d],m={id:e,plotgroup:o,xaxis:f,yaxis:h};l?s=m:(m.mainplot="xy",m.mainplotinfo=s),w.rangePlot(t,m,u(i,e))})}function u(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],i=a[0].trace;i.xaxis+i.yaxis===t&&n.push(a)}return n}function d(e,t,n,r){var a=e.selectAll("rect."+A.maskMinClassName).data([0]);a.enter().append("rect").classed(A.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),a.attr("height",r._height).call(x.fill,A.maskColor);var i=e.selectAll("rect."+A.maskMaxClassName).data([0]);i.enter().append("rect").classed(A.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),i.attr("height",r._height).call(x.fill,A.maskColor)}function p(e,t,n,r){if(!t._context.staticPlot){var a=e.selectAll("rect."+A.slideBoxClassName).data([0]);a.enter().append("rect").classed(A.slideBoxClassName,!0).attr("y",0).attr("cursor",A.slideBoxCursor).attr("shape-rendering","crispEdges"),a.attr({height:r._height,fill:A.slideBoxFill})}}function f(e,t,n,r){var a=e.selectAll("g."+A.grabberMinClassName).data([0]);a.enter().append("g").classed(A.grabberMinClassName,!0);var i=e.selectAll("g."+A.grabberMaxClassName).data([0]);i.enter().append("g").classed(A.grabberMaxClassName,!0);var o={x:0,width:A.handleWidth,rx:A.handleRadius,fill:x.background,stroke:x.defaultLine,"stroke-width":A.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(r._height/4),height:Math.round(r._height/2)},l=a.selectAll("rect."+A.handleMinClassName).data([0]);l.enter().append("rect").classed(A.handleMinClassName,!0).attr(o),l.attr(s);var c=i.selectAll("rect."+A.handleMaxClassName).data([0]);if(c.enter().append("rect").classed(A.handleMaxClassName,!0).attr(o),c.attr(s),!t._context.staticPlot){var u={width:A.grabAreaWidth,x:0,y:0,fill:A.grabAreaFill,cursor:A.grabAreaCursor},d=a.selectAll("rect."+A.grabAreaMinClassName).data([0]);d.enter().append("rect").classed(A.grabAreaMinClassName,!0).attr(u),d.attr("height",r._height);var p=i.selectAll("rect."+A.grabAreaMaxClassName).data([0]);p.enter().append("rect").classed(A.grabAreaMaxClassName,!0).attr(u),p.attr("height",r._height)}}function h(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];a.indexOf(A.name)!==-1&&v.autoMargin(e,a)}}var g=e("d3"),m=e("../../plotly"),v=e("../../plots/plots"),y=e("../../lib"),b=e("../drawing"),x=e("../color"),w=e("../../plots/cartesian"),_=e("../../plots/cartesian/axes"),k=e("../dragelement"),S=e("../../lib/setcursor"),A=e("./constants");t.exports=function(e){function t(e){return e._name}var n=e._fullLayout,i=r(n),u=n._infolayer.selectAll("g."+A.containerClassName).data(i,t);u.enter().append("g").classed(A.containerClassName,!0).attr("pointer-events","all"),u.exit().each(function(e){var t=g.select(this),r=e[A.name];t.remove(),n._topdefs.select("#"+r._clipId).remove()}),u.exit().size()&&h(e),0!==i.length&&u.each(function(t){var r=g.select(this),i=t[A.name],u=n[_.id2name(t.anchor)],h=n.margin,m=n._size,y=t.domain,b=u.domain,x=(t._boundingBox||{}).height||0;i._id=A.name+t._id,i._clipId=i._id+"-"+n._uid,i._width=m.w*(y[1]-y[0]),i._height=(n.height-h.b-h.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2);var w=Math.round(h.l+m.w*y[0]),k=Math.round(h.t+m.h*(1-b[0])+x+i._offsetShift+A.extraPad);r.attr("transform","translate("+w+","+k+")");var S=t.r2l(i.range[0]),T=t.r2l(i.range[1]),$=T-S;i.p2d=function(e){return e/i._width*$+S},i.d2p=function(e){return(e-S)/$*i._width},i._rl=[S,T],r.call(s,e,t,i).call(l,e,t,i).call(c,e,t,i).call(d,e,t,i).call(p,e,t,i).call(f,e,t,i),a(r,e,t,i),o(r,e,t,i),v.autoMargin(e,i._id,{
x:y[0],y:b[0],l:0,r:0,t:0,b:i._height+h.b+x,pad:A.extraPad+2*i._offsetShift})})}},{"../../lib":538,"../../lib/setcursor":553,"../../plotly":568,"../../plots/cartesian":583,"../../plots/cartesian/axes":573,"../../plots/plots":601,"../color":427,"../dragelement":448,"../drawing":451,"./constants":499,d3:260}],502:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeslider",schema:{layout:{"xaxis.rangeslider":e("./attributes")}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw")}},{"./attributes":497,"./calc_autorange":498,"./defaults":500,"./draw":501}],503:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),a=e("../../traces/scatter/attributes").line,i=e("../drawing/attributes").dash,o=e("../../lib/extend").extendFlat;t.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:"Specifies whether shapes are drawn below or above traces."},xref:o({},r.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:o({},r.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",description:"Sets the opacity of the shape."},line:{color:a.color,width:a.width,dash:i,role:"info"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",description:["Sets the color filling the shape's interior."].join(" ")}}},{"../../lib/extend":534,"../../traces/scatter/attributes":642,"../annotations/attributes":418,"../drawing/attributes":450}],504:[function(e,t,n){"use strict";function r(e,t,n,r,a){var i="category"===e.type?Number:e.d2c;if(void 0!==t)return[i(t),i(n)];if(r){var l,c,u,d,p,f=1/0,h=-(1/0),g=r.match(o.segmentRE);for("date"===e.type&&(i=s.decodeDate(i)),l=0;l<g.length;l++)c=g[l],u=a[c.charAt(0)].drawn,void 0!==u&&(d=g[l].substr(1).match(o.paramRE),!d||d.length<u||(p=i(d[u]),p<f&&(f=p),p>h&&(h=p)));return h>=f?[f,h]:void 0}}var a=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./constants"),s=e("./helpers");t.exports=function(e){var t=e._fullLayout,n=a.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var s=0;s<n.length;s++){var l,c,u=n[s],d=u.line.width/2;"paper"!==u.xref&&(l=i.getFromId(e,u.xref),c=r(l,u.x0,u.x1,u.path,o.paramIsX),c&&i.expand(l,c,{ppad:d})),"paper"!==u.yref&&(l=i.getFromId(e,u.yref),c=r(l,u.y0,u.y1,u.path,o.paramIsY),c&&i.expand(l,c,{ppad:d}))}}},{"../../lib":538,"../../plots/cartesian/axes":573,"./constants":505,"./helpers":508}],505:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],506:[function(e,t,n){"use strict";var r=e("../../plots/array_container_defaults"),a=e("./shape_defaults");t.exports=function(e,t){var n={name:"shapes",handleItemDefaults:a};r(e,t,n)}},{"../../plots/array_container_defaults":570,"./shape_defaults":510}],507:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._shapeSubplotLayers.selectAll("path").remove();for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&a(e,n)}function a(e,t){function n(n){var r={"data-index":t,"fill-rule":"evenodd",d:o(e,a)},s=a.line.width?a.line.color:"rgba(0,0,0,0)",l=n.append("path").attr(r).style("opacity",a.opacity).call(p.stroke,s).call(p.fill,a.fillcolor).call(f.dashLine,a.line.dash,a.line.width),c=(a.xref+a.yref).replace(/paper/g,"");l.call(f.setClipUrl,c?"clip"+e._fullLayout._uid+c:null),e._context.editable&&i(e,l,a,t)}e._fullLayout._paper.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=(e.layout.shapes||[])[t],a=e._fullLayout.shapes[t];if(r&&a.visible!==!1)if("below"!==a.layer)n(e._fullLayout._shapeUpperLayer);else if("paper"===a.xref||"paper"===a.yref)n(e._fullLayout._shapeLowerLayer);else{var s=e._fullLayout._plots[a.xref+a.yref];if(s){var l=s.mainplot||s;n(l.shapelayer)}else n(e._fullLayout._shapeLowerLayer)}}function i(e,t,n,r){function a(e){var n=X.right-X.left,r=X.bottom-X.top,a=e.clientX-X.left,i=e.clientY-X.top,o=n>G&&r>W&&!e.shiftKey?h.getCursor(a/n,1-i/r):"move";g(t,o),V=o.split("-")[0]}function i(t){z=d.getFromId(e,n.xref),B=d.getFromId(e,n.yref),F=v.getDataToPixel(e,z),H=v.getDataToPixel(e,B,!0),U=v.getPixelToData(e,z),q=v.getPixelToData(e,B,!0);var i="shapes["+r+"]";"path"===n.type?(R=n.path,N=i+".path"):(m=F(n.x0),y=H(n.y0),b=F(n.x1),x=H(n.y1),w=i+".x0",_=i+".y0",k=i+".x1",S=i+".y1"),m<b?($=m,I=i+".x0",L="x0",C=b,P=i+".x1",O="x1"):($=b,I=i+".x1",L="x1",C=m,P=i+".x0",O="x0"),y<x?(A=y,M=i+".y0",j="y0",T=x,E=i+".y1",D="y1"):(A=x,M=i+".y1",j="y1",T=y,E=i+".y0",D="y0"),f={},a(t),Y.moveFn="move"===V?u:p}function s(n){g(t),n&&c.relayout(e,f)}function u(r,a){if("path"===n.type){var i=function(e){return U(F(e)+r)};z&&"date"===z.type&&(i=v.encodeDate(i));var s=function(e){return q(H(e)+a)};B&&"date"===B.type&&(s=v.encodeDate(s)),n.path=l(R,i,s),f[N]=n.path}else f[w]=n.x0=U(m+r),f[_]=n.y0=q(y+a),f[k]=n.x1=U(b+r),f[S]=n.y1=q(x+a);t.attr("d",o(e,n))}function p(r,a){if("path"===n.type){var i=function(e){return U(F(e)+r)};z&&"date"===z.type&&(i=v.encodeDate(i));var s=function(e){return q(H(e)+a)};B&&"date"===B.type&&(s=v.encodeDate(s)),n.path=l(R,i,s),f[N]=n.path}else{var c=~V.indexOf("n")?A+a:A,u=~V.indexOf("s")?T+a:T,d=~V.indexOf("w")?$+r:$,p=~V.indexOf("e")?C+r:C;u-c>W&&(f[M]=n[j]=q(c),f[E]=n[D]=q(u)),p-d>G&&(f[I]=n[L]=U(d),f[P]=n[O]=U(p))}t.attr("d",o(e,n))}var f,m,y,b,x,w,_,k,S,A,T,$,C,M,E,I,P,j,D,L,O,R,N,z,B,F,H,U,q,V,G=10,W=10,Y={setCursor:a,element:t.node(),prepFn:i,doneFn:s},X=Y.element.getBoundingClientRect();h.init(Y)}function o(e,t){var n,r,a,i,o=t.type,l=d.getFromId(e,t.xref),c=d.getFromId(e,t.yref),u=e._fullLayout._size;if(l?(n=v.shapePositionToRange(l),r=function(e){return l._offset+l.r2p(n(e,!0))}):r=function(e){return u.l+u.w*e},c?(a=v.shapePositionToRange(c),i=function(e){return c._offset+c.r2p(a(e,!0))}):i=function(e){return u.t+u.h*(1-e)},"path"===o)return l&&"date"===l.type&&(r=v.decodeDate(r)),c&&"date"===c.type&&(i=v.decodeDate(i)),s(t.path,r,i);var p=r(t.x0),f=r(t.x1),h=i(t.y0),g=i(t.y1);if("line"===o)return"M"+p+","+h+"L"+f+","+g;if("rect"===o)return"M"+p+","+h+"H"+f+"V"+g+"H"+p+"Z";var m=(p+f)/2,y=(h+g)/2,b=Math.abs(m-p),x=Math.abs(y-h),w="A"+b+","+x,_=m+b+","+y,k=m+","+(y-x);return"M"+_+w+" 0 1,1 "+k+w+" 0 0,1 "+_+"Z"}function s(e,t,n){return e.replace(m.segmentRE,function(e){var r=0,a=e.charAt(0),i=m.paramIsX[a],o=m.paramIsY[a],s=m.numParams[a],l=e.substr(1).replace(m.paramRE,function(e){return i[r]?e=t(e):o[r]&&(e=n(e)),r++,r>s&&(e="X"),e});return r>s&&(l=l.replace(/[\s,]*X.*/,""),u.log("Ignoring extra params in segment "+e)),a+l})}function l(e,t,n){return e.replace(m.segmentRE,function(e){var r=0,a=e.charAt(0),i=m.paramIsX[a],o=m.paramIsY[a],s=m.numParams[a],l=e.substr(1).replace(m.paramRE,function(e){return r>=s?e:(i[r]?e=t(e):o[r]&&(e=n(e)),r++,e)});return a+l})}var c=e("../../plotly"),u=e("../../lib"),d=e("../../plots/cartesian/axes"),p=e("../color"),f=e("../drawing"),h=e("../dragelement"),g=e("../../lib/setcursor"),m=e("./constants"),v=e("./helpers");t.exports={draw:r,drawOne:a}},{"../../lib":538,"../../lib/setcursor":553,"../../plotly":568,"../../plots/cartesian/axes":573,"../color":427,"../dragelement":448,"../drawing":451,"./constants":505,"./helpers":508}],508:[function(e,t,n){"use strict";n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.getDataToPixel=function(e,t,r){var a,i=e._fullLayout._size;if(t){var o=n.shapePositionToRange(t);a=function(e){return t._offset+t.r2p(o(e,!0))},"date"===t.type&&(a=n.decodeDate(a))}else a=r?function(e){return i.t+i.h*(1-e)}:function(e){return i.l+i.w*e};return a},n.getPixelToData=function(e,t,r){var a,i=e._fullLayout._size;if(t){var o=n.rangeToShapePosition(t);a=function(e){return o(t.p2r(e-t._offset))}}else a=r?function(e){return 1-(e-i.t)/i.h}:function(e){return(e-i.l)/i.w};return a}},{}],509:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"./attributes":503,"./calc_autorange":504,"./defaults":506,"./draw":507}],510:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("./attributes"),o=e("./helpers");t.exports=function(e,t,n,s,l){function c(n,a){return r.coerce(e,t,i,n,a)}s=s||{},l=l||{};var u=c("visible",!l.itemIsNotPlainObject);if(!u)return t;c("layer"),c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var d=e.path?"path":"rect",p=c("type",d),f=["x","y"],h=0;h<2;h++){var g=f[h],m={_fullLayout:n},v=a.coerceRef(e,t,m,g,"","paper");if("path"!==p){var y,b,x,w=.25,_=.75;"paper"!==v?(y=a.getFromId(m,v),x=o.rangeToShapePosition(y),b=o.shapePositionToRange(y)):b=x=r.identity;var k=g+"0",S=g+"1",A=e[k],T=e[S];e[k]=b(e[k],!0),e[S]=b(e[S],!0),a.coercePosition(t,m,c,v,k,w),a.coercePosition(t,m,c,v,S,_),t[k]=x(t[k]),t[S]=x(t[S]),e[k]=A,e[S]=T}}return"path"===p?c("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"]),t}},{"../../lib":538,"../../plots/cartesian/axes":573,"./attributes":503,"./helpers":508}],511:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../../plots/pad_attributes"),i=e("../../lib/extend").extendFlat,o=e("../../lib/extend").extendDeep,s=e("../../plots/animation_attributes"),l=e("./constants"),c={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")}};t.exports={_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:o({},a,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:s.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:i({},r,{description:"Sets the font of the current value label text."})},font:i({},r,{description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:l.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:l.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:l.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:l.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:l.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}},{"../../lib/extend":534,"../../plots/animation_attributes":569,"../../plots/font_attributes":597,"../../plots/pad_attributes":600,"./constants":512}],512:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],513:[function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return i.coerce(e,t,s,n,r)}var o=a(e,t),l=r("visible",o.length>0);if(l){r("active"),r("x"),r("y"),i.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font);var c=r("currentvalue.visible");c&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),i.coerceFont(r,"currentvalue.font",t.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function a(e,t){function n(e,t){return i.coerce(r,a,u,e,t)}for(var r,a,o=e.steps||[],s=t.steps=[],l=0;l<o.length;l++)r=o[l],a={},i.isPlainObject(r)&&Array.isArray(r.args)&&(n("method"),n("args"),n("label","step-"+l),n("value",a.label),s.push(a));return s}var i=e("../../lib"),o=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants"),c=l.name,u=s.steps;t.exports=function(e,t){var n={name:c,handleItemDefaults:r};o(e,t,n)}},{"../../lib":538,"../../plots/array_container_defaults":570,"./attributes":511,"./constants":512}],514:[function(e,t,n){"use strict";function r(e){for(var t=e[C.name],n=[],r=0;r<t.length;r++){var a=t[r];a.visible&&a.steps.length&&n.push(a)}return n}function a(e){return e._index}function i(e,t){var n=A.tester.selectAll("g."+C.labelGroupClass).data(t.steps);n.enter().append("g").classed(C.labelGroupClass,!0);var r=0,a=0;if(n.each(function(e){var n=_.select(this),i=c(n,{step:e},t),o=i.node()&&A.bBox(i.node()).width||0;a=i.node()&&A.bBox(i.node()).height||0,r=Math.max(r,o)}),n.remove(),t.inputAreaWidth=Math.max(C.railWidth,C.gripHeight),t.currentValueMaxWidth=0,t.currentValueHeight=0,t.currentValueTotalHeight=0,t.currentvalue.visible){var i=A.tester.append("g");n.each(function(e){var n=s(i,t,e.label),r=n.node()&&A.bBox(n.node())||{width:0,height:0};t.currentValueMaxWidth=Math.max(t.currentValueMaxWidth,Math.ceil(r.width)),t.currentValueHeight=Math.max(t.currentValueHeight,Math.ceil(r.height))}),t.currentValueTotalHeight=t.currentValueHeight+t.currentvalue.offset,i.remove()}var o=e._fullLayout._size;t.lx=o.l+o.w*t.x,t.ly=o.t+o.h*(1-t.y),"fraction"===t.lenmode?t.outerLength=Math.round(o.w*t.len):t.outerLength=t.len,t.lenPad=Math.round(.5*C.gripWidth),t.inputAreaStart=0,t.inputAreaLength=Math.round(t.outerLength-t.pad.l-t.pad.r);var l=t.inputAreaLength-2*C.stepInset,u=l/(t.steps.length-1),d=r+C.labelPadding;t.labelStride=Math.max(1,Math.ceil(d/u)),t.labelHeight=a,t.height=t.currentValueTotalHeight+C.tickOffset+t.ticklen+C.labelOffset+t.labelHeight+t.pad.t+t.pad.b;var p="left";$.isRightAnchor(t)&&(t.lx-=t.outerLength,p="right"),$.isCenterAnchor(t)&&(t.lx-=t.outerLength/2,p="center");var f="top";$.isBottomAnchor(t)&&(t.ly-=t.height,f="bottom"),$.isMiddleAnchor(t)&&(t.ly-=t.height/2,f="middle"),t.outerLength=Math.ceil(t.outerLength),t.height=Math.ceil(t.height),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),k.autoMargin(e,C.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:t.outerLength*({right:1,center:.5}[p]||0),r:t.outerLength*({left:1,center:.5}[p]||0),b:t.height*({top:1,middle:.5}[f]||0),t:t.height*({bottom:1,middle:.5}[f]||0)})}function o(e,t,n){n.active>=n.steps.length&&(n.active=0),t.call(s,n).call(x,n).call(u,n).call(h,n).call(b,e,n).call(l,e,n),A.setTranslate(t,n.lx+n.pad.l,n.ly+n.pad.t),t.call(m,n,n.active/(n.steps.length-1),!1),t.call(s,n)}function s(e,t,n){if(t.currentvalue.visible){var r,a,i=e.selectAll("text").data([0]);switch(t.currentvalue.xanchor){case"right":r=t.inputAreaLength-C.currentValueInset-t.currentValueMaxWidth,a="left";break;case"center":r=.5*t.inputAreaLength,a="middle";break;default:r=C.currentValueInset,a="left"}i.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor",a);var o=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)o+=n;else{var s=t.steps[t.active].label;o+=s}return t.currentvalue.suffix&&(o+=t.currentvalue.suffix),i.call(A.font,t.currentvalue.font).text(o).call(T.convertToTspans),A.setTranslate(i,r,t.currentValueHeight),i}}function l(e,t,n){var r=e.selectAll("rect."+C.gripRectClass).data([0]);r.enter().append("rect").classed(C.gripRectClass,!0).call(f,t,e,n).style("pointer-events","all"),r.attr({width:C.gripWidth,height:C.gripHeight,rx:C.gripRadius,ry:C.gripRadius}).call(S.stroke,n.bordercolor).call(S.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function c(e,t,n){var r=e.selectAll("text").data([0]);return r.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor","middle"),r.call(A.font,n.font).text(t.step.label).call(T.convertToTspans),r}function u(e,t){var n=e.selectAll("g."+C.labelsClass).data([0]);n.enter().append("g").classed(C.labelsClass,!0);var r=n.selectAll("g."+C.labelGroupClass).data(t.labelSteps);r.enter().append("g").classed(C.labelGroupClass,!0),r.exit().remove(),r.each(function(e){var n=_.select(this);n.call(c,e,t),A.setTranslate(n,v(t,e.fraction),C.tickOffset+t.ticklen+t.labelHeight+C.labelOffset+t.currentValueTotalHeight)})}function d(e,t,n,r,a){var i=Math.round(r*(n.steps.length-1));i!==n.active&&p(e,t,n,i,!0,a)}function p(e,t,n,r,a,i){var o=n.active;n._input.active=n.active=r;var l=n.steps[n.active];t.call(m,n,n.active/(n.steps.length-1),i),t.call(s,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:o}),l&&l.method&&a&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=a,t._nextMethod.doTransition=i):(t._nextMethod={step:l,doCallback:a,doTransition:i},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(k.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function f(e,t,n){function r(){return n.data()[0]}var a=n.node(),i=_.select(t);e.on("mousedown",function(){var e=r();t.emit("plotly_sliderstart",{slider:e});var o=n.select("."+C.gripRectClass);_.event.stopPropagation(),_.event.preventDefault(),o.call(S.fill,e.activebgcolor);var s=y(e,_.mouse(a)[0]);d(t,n,e,s,!0),e._dragging=!0,i.on("mousemove",function(){var e=r(),i=y(e,_.mouse(a)[0]);d(t,n,e,i,!1)}),i.on("mouseup",function(){var e=r();e._dragging=!1,o.call(S.fill,e.bgcolor),i.on("mouseup",null),i.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function h(e,t){var n=e.selectAll("rect."+C.tickRectClass).data(t.steps);n.enter().append("rect").classed(C.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var r=n%t.labelStride===0,a=_.select(this);a.attr({height:r?t.ticklen:t.minorticklen}).call(S.fill,r?t.tickcolor:t.tickcolor),A.setTranslate(a,v(t,n/(t.steps.length-1))-.5*t.tickwidth,(r?C.tickOffset:C.minorTickOffset)+t.currentValueTotalHeight)})}function g(e){e.labelSteps=[];for(var t=0,n=e.steps.length,r=t;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:e.steps[r]})}function m(e,t,n,r){var a=e.select("rect."+C.gripRectClass),i=v(t,n);if(!t._invokingCommand){var o=a;r&&t.transition.duration>0&&(o=o.transition().duration(t.transition.duration).ease(t.transition.easing)),o.attr("transform","translate("+(i-.5*C.gripWidth)+","+t.currentValueTotalHeight+")")}}function v(e,t){return e.inputAreaStart+C.stepInset+(e.inputAreaLength-2*C.stepInset)*Math.min(1,Math.max(0,t))}function y(e,t){return Math.min(1,Math.max(0,(t-C.stepInset-e.inputAreaStart)/(e.inputAreaLength-2*C.stepInset-2*e.inputAreaStart)))}function b(e,t,n){var r=e.selectAll("rect."+C.railTouchRectClass).data([0]);r.enter().append("rect").classed(C.railTouchRectClass,!0).call(f,t,e,n).style("pointer-events","all"),r.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,C.tickOffset+n.ticklen+n.labelHeight)}).call(S.fill,n.bgcolor).attr("opacity",0),A.setTranslate(r,0,n.currentValueTotalHeight)}function x(e,t){var n=e.selectAll("rect."+C.railRectClass).data([0]);n.enter().append("rect").classed(C.railRectClass,!0);var r=t.inputAreaLength-2*C.railInset;n.attr({width:r,height:C.railWidth,rx:C.railRadius,ry:C.railRadius,"shape-rendering":"crispEdges"}).call(S.stroke,t.bordercolor).call(S.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),A.setTranslate(n,C.railInset,.5*(t.inputAreaWidth-C.railWidth)+t.currentValueTotalHeight)}function w(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];a.indexOf(C.autoMarginIdRoot)!==-1&&k.autoMargin(e,a)}}var _=e("d3"),k=e("../../plots/plots"),S=e("../color"),A=e("../drawing"),T=e("../../lib/svg_text_utils"),$=e("../legend/anchor_utils"),C=e("./constants");t.exports=function(e){var t=e._fullLayout,n=r(t),s=t._infolayer.selectAll("g."+C.containerClassName).data(n.length>0?[0]:[]);if(s.enter().append("g").classed(C.containerClassName,!0).style("cursor","ew-resize"),s.exit().remove(),s.exit().size()&&w(e),0!==n.length){var l=s.selectAll("g."+C.groupClassName).data(n,a);l.enter().append("g").classed(C.groupClassName,!0),l.exit().each(function(t){_.select(this).remove(),t._commandObserver.remove(),delete t._commandObserver,k.autoMargin(e,C.autoMarginIdRoot+t._index)});for(var c=0;c<n.length;c++){var u=n[c];i(e,u)}l.each(function(t){if(!(t.steps.length<2)){var n=_.select(this);g(t),k.manageCommandObserver(e,t,t.steps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||p(e,n,r,t.index,!1,!0))}),o(e,_.select(this),t)}})}}},{"../../lib/svg_text_utils":555,"../../plots/plots":601,"../color":427,"../drawing":451,"../legend/anchor_utils":477,"./constants":512,d3:260}],515:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":511,"./constants":512,"./defaults":513,"./draw":514}],516:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../../plotly"),o=e("../../plots/plots"),s=e("../../lib"),l=e("../drawing"),c=e("../color"),u=e("../../lib/svg_text_utils"),d=e("../../constants/interactions"),p=t.exports={};p.draw=function(e,t,n){function p(e){s.syncOrAsync([f,h],e)}function f(t){return t.attr("transform",_?"rotate("+[_.rotate,w.x,w.y]+") translate(0, "+_.offset+")":null),t.style({"font-family":A,"font-size":r.round(T,2)+"px",fill:c.rgb($),opacity:C*c.opacity($),"font-weight":o.fontWeight}).attr(w).call(u.convertToTspans).attr(w),t.selectAll("tspan.line").attr(w),o.previousPromises(e)}function h(e){var t=r.select(e.node().parentNode);if(x&&x.selection&&x.side&&E){t.attr("transform",null);var n=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[x.side],o=["left","top"].indexOf(x.side)!==-1?-1:1,c=a(x.pad)?x.pad:2,u=l.bBox(t.node()),d={left:0,top:0,right:S.width,bottom:S.height},p=x.maxShift||(d[x.side]-u[x.side])*("left"===x.side||"top"===x.side?-1:1);if(p<0)n=p;else{var f=x.offsetLeft||0,h=x.offsetTop||0;u.left-=f,u.right-=f,u.top-=h,u.bottom-=h,x.selection.each(function(){var e=l.bBox(this);s.bBoxIntersect(u,e,c)&&(n=Math.max(n,o*(e[x.side]-u[i])+c))}),n=Math.min(p,n)}if(n>0||p<0){var g={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[x.side];t.attr("transform","translate("+g+")")}}}function g(){C=0,M=!0,E=P,I.attr({"data-unformatted":E}).text(E).on("mouseover.opacity",function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})}var m=n.propContainer,v=n.propName,y=n.traceIndex,b=n.dfltName,x=n.avoid||{},w=n.attributes,_=n.transform,k=n.containerGroup,S=e._fullLayout,A=m.titlefont.family,T=m.titlefont.size,$=m.titlefont.color,C=1,M=!1,E=m.title.trim();""===E&&(C=0),E.match(/Click to enter .+ title/)&&(C=.2,M=!0),k||(k=S._infolayer.selectAll(".g-"+t).data([0]),k.enter().append("g").classed("g-"+t,!0));var I=k.selectAll("text").data([0]);I.enter().append("text"),I.text(E).attr("class",t),I.attr({"data-unformatted":E}).call(p);var P="Click to enter "+b+" title";e._context.editable?(E?I.on(".opacity",null):g(),I.call(u.makeEditable).on("edit",function(t){void 0!==y?i.restyle(e,v,t,y):i.relayout(e,v,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(p)}).on("input",function(e){this.text(e||" ").attr(w).selectAll("tspan.line").attr(w)})):E&&!E.match(/Click to enter .+ title/)||I.remove(),I.classed("js-placeholder",M)}},{"../../constants/interactions":523,"../../lib":538,"../../lib/svg_text_utils":555,"../../plotly":568,"../../plots/plots":601,"../color":427,"../drawing":451,d3:260,"fast-isnumeric":263}],517:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),i=e("../../lib/extend").extendFlat,o=e("../../plots/pad_attributes"),s={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")
},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."}};t.exports={_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:i({},o,{description:"Sets the padding around the buttons or dropdown menu."}),font:i({},r,{description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:a.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the border enclosing the update menu."}}},{"../../lib/extend":534,"../../plots/font_attributes":597,"../../plots/pad_attributes":600,"../color/attributes":426}],518:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},{}],519:[function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return i.coerce(e,t,s,n,r)}var o=a(e,t),l=r("visible",o.length>0);l&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),i.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function a(e,t){function n(e,t){return i.coerce(r,a,u,e,t)}for(var r,a,o=e.buttons||[],s=t.buttons=[],l=0;l<o.length;l++)r=o[l],a={},i.isPlainObject(r)&&Array.isArray(r.args)&&(n("method"),n("args"),n("label"),a._index=l,s.push(a));return s}var i=e("../../lib"),o=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants"),c=l.name,u=s.buttons;t.exports=function(e,t){var n={name:c,handleItemDefaults:r};o(e,t,n)}},{"../../lib":538,"../../plots/array_container_defaults":570,"./attributes":517,"./constants":518}],520:[function(e,t,n){"use strict";function r(e){for(var t=e[C.name],n=[],r=0;r<t.length;r++){var a=t[r];a.visible&&n.push(a)}return n}function a(e){return e._index}function i(e){return+e.attr(C.menuIndexAttrName)===-1}function o(e,t){return+e.attr(C.menuIndexAttrName)===t._index}function s(e,t,n,r,a,i,o,s){t._input.active=t.active=o,"buttons"===t.type?c(e,r,null,null,t):"dropdown"===t.type&&(a.attr(C.menuIndexAttrName,"-1"),l(e,r,a,i,t),s||c(e,r,a,i,t))}function l(e,t,n,r,a){var i=t.selectAll("g."+C.headerClassName).data([0]);i.enter().append("g").classed(C.headerClassName,!0).style("pointer-events","all");var s=a.active,l=a.buttons[s]||C.blankHeaderOpts,u={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},d={width:a.headerWidth,height:a.headerHeight};i.call(p,a,l).call(b,a,u,d);var f=t.selectAll("text."+C.headerArrowClassName).data([0]);f.enter().append("text").classed(C.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(A.font,a.font).text("▼"),f.attr({x:a.headerWidth-C.arrowOffsetX+a.pad.l,y:a.headerHeight/2+C.textOffsetY+a.pad.t}),i.on("click",function(){n.call(x),n.attr(C.menuIndexAttrName,o(n,a)?-1:String(a._index)),c(e,t,n,r,a)}),i.on("mouseover",function(){i.call(m)}),i.on("mouseout",function(){i.call(v,a)}),A.setTranslate(t,a.lx,a.ly)}function c(e,t,n,r,a){n||(n=t,n.attr("pointer-events","all"));var o=i(n)&&"buttons"!==a.type?[]:a.buttons,l="dropdown"===a.type?C.dropdownButtonClassName:C.buttonClassName,c=n.selectAll("g."+l).data(o),f=c.enter().append("g").classed(l,!0),h=c.exit();"dropdown"===a.type?(f.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var y=0,x=0,w=["up","down"].indexOf(a.direction)!==-1;"dropdown"===a.type&&(w?x=a.headerHeight+C.gapButtonHeader:y=a.headerWidth+C.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(x=-C.gapButtonHeader+C.gapButton-a.openHeight),"dropdown"===a.type&&"left"===a.direction&&(y=-C.gapButtonHeader+C.gapButton-a.openWidth);var S={x:a.lx+y+a.pad.l,y:a.ly+x+a.pad.t,yPad:C.gapButton,xPad:C.gapButton,index:0},A={l:S.x+a.borderwidth,t:S.y+a.borderwidth};c.each(function(i,o){var l=_.select(this);l.call(p,a,i).call(b,a,S),l.on("click",function(){_.event.defaultPrevented||(s(e,a,i,t,n,r,o),k.executeAPICommand(e,i.method,i.args),e.emit("plotly_buttonclicked",{menu:a,button:i,active:a.active}))}),l.on("mouseover",function(){l.call(m)}),l.on("mouseout",function(){l.call(v,a),c.call(g,a)})}),c.call(g,a),w?(A.w=Math.max(a.openWidth,a.headerWidth),A.h=S.y-A.t):(A.w=S.x-A.l,A.h=Math.max(a.openHeight,a.headerHeight)),A.direction=a.direction,r&&(c.size()?u(e,t,n,r,a,A):d(r))}function u(e,t,n,r,a,i){var o,s,l,c=a.direction,u="up"===c||"down"===c,d=a.active;if(u)for(s=0,l=0;l<d;l++)s+=a.heights[l]+C.gapButton;else for(o=0,l=0;l<d;l++)o+=a.widths[l]+C.gapButton;r.enable(i,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function d(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr("opacity","0").each("end",function(){n=!1,t||e.disable()})}function p(e,t,n){e.call(f,t).call(h,t,n)}function f(e,t){var n=e.selectAll("rect").data([0]);n.enter().append("rect").classed(C.itemRectClassName,!0).attr({rx:C.rx,ry:C.ry,"shape-rendering":"crispEdges"}),n.call(S.stroke,t.bordercolor).call(S.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function h(e,t,n){var r=e.selectAll("text").data([0]);r.enter().append("text").classed(C.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),r.call(A.font,t.font).text(n.label).call(T.convertToTspans)}function g(e,t){var n=t.active;e.each(function(e,r){var a=_.select(this);r===n&&t.showactive&&a.select("rect."+C.itemRectClassName).call(S.fill,C.activeColor)})}function m(e){e.select("rect."+C.itemRectClassName).call(S.fill,C.hoverColor)}function v(e,t){e.select("rect."+C.itemRectClassName).call(S.fill,t.bgcolor)}function y(e,t){t.width1=0,t.height1=0,t.heights=[],t.widths=[],t.totalWidth=0,t.totalHeight=0,t.openWidth=0,t.openHeight=0,t.lx=0,t.ly=0;var n=A.tester.selectAll("g."+C.dropdownButtonClassName).data(t.buttons);n.enter().append("g").classed(C.dropdownButtonClassName,!0);var r=["up","down"].indexOf(t.direction)!==-1;n.each(function(e,n){var a=_.select(this);a.call(p,t,e);var i=a.select("."+C.itemTextClassName),o=i.selectAll("tspan"),s=i.node()&&A.bBox(i.node()).width,l=Math.max(s+C.textPadX,C.minWidth),c=t.font.size*C.fontSizeToHeight,u=o[0].length||1,d=Math.max(c*u,C.minHeight)+C.textOffsetY;d=Math.ceil(d),l=Math.ceil(l),t.widths[n]=l,t.heights[n]=d,t.height1=Math.max(t.height1,d),t.width1=Math.max(t.width1,l),r?(t.totalWidth=Math.max(t.totalWidth,l),t.openWidth=t.totalWidth,t.totalHeight+=d+C.gapButton,t.openHeight+=d+C.gapButton):(t.totalWidth+=l+C.gapButton,t.openWidth+=l+C.gapButton,t.totalHeight=Math.max(t.totalHeight,d),t.openHeight=t.totalHeight)}),r?t.totalHeight-=C.gapButton:t.totalWidth-=C.gapButton,t.headerWidth=t.width1+C.arrowPadX,t.headerHeight=t.height1,"dropdown"===t.type&&(r?(t.width1+=C.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=C.arrowPadX),n.remove();var a=t.totalWidth+t.pad.l+t.pad.r,i=t.totalHeight+t.pad.t+t.pad.b,o=e._fullLayout._size;t.lx=o.l+o.w*t.x,t.ly=o.t+o.h*(1-t.y);var s="left";$.isRightAnchor(t)&&(t.lx-=a,s="right"),$.isCenterAnchor(t)&&(t.lx-=a/2,s="center");var l="top";$.isBottomAnchor(t)&&(t.ly-=i,l="bottom"),$.isMiddleAnchor(t)&&(t.ly-=i/2,l="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),k.autoMargin(e,C.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:a*({right:1,center:.5}[s]||0),r:a*({left:1,center:.5}[s]||0),b:i*({top:1,middle:.5}[l]||0),t:i*({bottom:1,middle:.5}[l]||0)})}function b(e,t,n,r){r=r||{};var a=e.select("."+C.itemRectClassName),i=e.select("."+C.itemTextClassName),o=i.selectAll("tspan"),s=t.borderwidth,l=n.index;A.setTranslate(e,s+n.x,s+n.y);var c=["up","down"].indexOf(t.direction)!==-1;a.attr({x:0,y:0,width:r.width||(c?t.width1:t.widths[l]),height:r.height||(c?t.heights[l]:t.height1)});var u=t.font.size*C.fontSizeToHeight,d=o[0].length||1,p=(d-1)*u/4,f={x:C.textOffsetX,y:t.heights[l]/2-p+C.textOffsetY};i.attr(f),o.attr(f),c?n.y+=t.heights[l]+n.yPad:n.x+=t.widths[l]+n.xPad,n.index++}function x(e){e.selectAll("g."+C.dropdownButtonClassName).remove()}function w(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];a.indexOf(C.autoMarginIdRoot)!==-1&&k.autoMargin(e,a)}}var _=e("d3"),k=e("../../plots/plots"),S=e("../color"),A=e("../drawing"),T=e("../../lib/svg_text_utils"),$=e("../legend/anchor_utils"),C=e("./constants"),M=e("./scrollbox");t.exports=function(e){var t=e._fullLayout,n=r(t),i=t._infolayer.selectAll("g."+C.containerClassName).data(n.length>0?[0]:[]);if(i.enter().append("g").classed(C.containerClassName,!0).style("cursor","pointer"),i.exit().remove(),i.exit().size()&&w(e),0!==n.length){var u=i.selectAll("g."+C.headerGroupClassName).data(n,a);u.enter().append("g").classed(C.headerGroupClassName,!0);var d=i.selectAll("g."+C.dropdownButtonGroupClassName).data([0]);d.enter().append("g").classed(C.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var p=0;p<n.length;p++){var f=n[p];y(e,f)}var h="updatemenus"+t._uid,g=new M(e,d,h);u.enter().size()&&d.call(x).attr(C.menuIndexAttrName,"-1"),u.exit().each(function(t){_.select(this).remove(),d.call(x).attr(C.menuIndexAttrName,"-1"),k.autoMargin(e,C.autoMarginIdRoot+t._index)}),u.each(function(t){var n=_.select(this),r="dropdown"===t.type?d:null;k.manageCommandObserver(e,t,t.buttons,function(a){s(e,t,t.buttons[a.index],n,r,g,a.index,!0)}),"dropdown"===t.type?(l(e,n,d,g,t),o(d,t)&&c(e,n,d,g,t)):c(e,n,null,null,t)})}}},{"../../lib/svg_text_utils":555,"../../plots/plots":601,"../color":427,"../drawing":451,"../legend/anchor_utils":477,"./constants":518,"./scrollbox":522,d3:260}],521:[function(e,t,n){arguments[4][515][0].apply(n,arguments)},{"./attributes":517,"./constants":518,"./defaults":519,"./draw":520,dup:515}],522:[function(e,t,n){"use strict";function r(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}t.exports=r;var a=e("d3"),i=e("../color"),o=e("../drawing"),s=e("../../lib");r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(e,t,n){var s=this.gd._fullLayout,l=s.width,c=s.height;this.position=e;var u,d,p,f,h=this.position.l,g=this.position.w,m=this.position.t,v=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,w="right"===y,_="up"===y,k=g,S=v;b||x||w||_||(this.position.direction="down",b=!0);var A=b||_;A?(u=h,d=u+k,b?(p=m,f=Math.min(p+S,c),S=f-p):(f=m+S,p=Math.max(f-S,0),S=f-p)):(p=m,f=p+S,x?(d=h+k,u=Math.max(d-k,0),k=d-u):(u=h,d=Math.min(u+k,l),k=d-u)),this._box={l:u,t:p,w:k,h:S};var T=g>k,$=r.barLength+2*r.barPad,C=r.barWidth+2*r.barPad,M=h,E=m+v;E+C>c&&(E=c-C);var I=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);I.exit().on(".drag",null).remove(),I.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,r.barColor),T?(this.hbar=I.attr({rx:r.barRadius,ry:r.barRadius,x:M,y:E,width:$,height:C}),this._hbarXMin=M+$/2,this._hbarTranslateMax=k-$):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var P=v>S,j=r.barWidth+2*r.barPad,D=r.barLength+2*r.barPad,L=h+g,O=m;L+j>l&&(L=l-j);var R=this.container.selectAll("rect.scrollbar-vertical").data(P?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,r.barColor),P?(this.vbar=R.attr({rx:r.barRadius,ry:r.barRadius,x:L,y:O,width:j,height:D}),this._vbarYMin=O+D/2,this._vbarTranslateMax=S-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,z=u-.5,B=P?d+j+.5:d+.5,F=p-.5,H=T?f+C+.5:f+.5,U=s._topdefs.selectAll("#"+N).data(T||P?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",N).append("rect"),T||P?(this._clipRect=U.select("rect").attr({x:Math.floor(z),y:Math.floor(F),width:Math.ceil(B)-Math.floor(z),height:Math.ceil(H)-Math.floor(F)}),this.container.call(o.setClipUrl,N),this.bg.attr({x:h,y:m,width:g,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||P){var q=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(V),P&&this.vbar.on(".drag",null).call(V)}this.setTranslate(t,n)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(t-=a.event.dy),this.setTranslate(e,t)},r.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(t+=a.event.deltaY),this.setTranslate(e,t)},r.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,r=n+this._hbarTranslateMax,i=s.constrain(a.event.x,n,r),o=(i-n)/(r-n),l=this.position.w-this._box.w;e=o*l}if(this.vbar){var c=t+this._vbarYMin,u=c+this._vbarTranslateMax,d=s.constrain(a.event.y,c,u),p=(d-c)/(u-c),f=this.position.h-this._box.h;t=p*f}this.setTranslate(e,t)},r.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=s.constrain(e||0,0,n),t=s.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=e/n;this.hbar.call(o.setTranslate,e+a*this._hbarTranslateMax,t)}if(this.vbar){var i=t/r;this.vbar.call(o.setTranslate,e,t+i*this._vbarTranslateMax)}}},{"../../lib":538,"../color":427,"../drawing":451,d3:260}],523:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300}},{}],524:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6}},{}],525:[function(e,t,n){"use strict";t.exports={entityToUnicode:{mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},{}],526:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],527:[function(e,t,n){"use strict";var r=e("./plotly");n.version="1.27.1",e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config"),n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.setPlotConfig=e("./plot_api/set_plot_config"),n.register=e("./plot_api/register"),n.toImage=e("./plot_api/to_image"),n.downloadImage=e("./snapshot/download"),n.validate=e("./plot_api/validate"),n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.register(e("./traces/scatter")),n.register([e("./components/fx"),e("./components/legend"),e("./components/annotations"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector")]),n.Icons=e("../build/ploticon"),n.Plots=r.Plots,n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":410,"../build/ploticon":411,"./components/annotations":425,"./components/fx":468,"./components/images":476,"./components/legend":484,"./components/rangeselector":496,"./components/rangeslider":502,"./components/shapes":509,"./components/sliders":515,"./components/updatemenus":521,"./fonts/mathjax_config":528,"./lib/queue":550,"./plot_api/plot_schema":562,"./plot_api/register":563,"./plot_api/set_plot_config":564,"./plot_api/to_image":566,"./plot_api/validate":567,"./plotly":568,"./snapshot":613,"./snapshot/download":610,"./traces/scatter":652,d3:260,"es6-promise":261}],528:[function(e,t,n){"use strict";"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],529:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(i,"")),r(e)?Number(e):a}},{"../constants/numerical":524,"fast-isnumeric":263}],530:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),i=e("../components/colorscale/get_scale"),o=Object.keys(e("../components/colorscale/scales")),s=e("./nested_property"),l=/^([2-9]|[1-9][0-9]+)$/;n.valObjects={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){Array.isArray(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),r.values.indexOf(e)===-1?t.set(n):t.set(e)}},"boolean":{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){e===!0||e===!1?t.set(e):t.set(n)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,n,a){!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max"],coerceFunction:function(e,t,n,a){e%1||!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(e,t,n,r){if("string"!=typeof e){var a="number"==typeof e;r.strict!==!0&&a?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(e,t,n){a(e).isValid()?t.set(e):t.set(n)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",o.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){t.set(i(e,n))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?(Math.abs(e)>180&&(e-=360*Math.round(e/360)),t.set(+e)):t.set(n)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(e,t,n){var r=n.length;return"string"==typeof e&&e.substr(0,r)===n&&l.test(e.substr(r))?void t.set(e):void t.set(n)},validateFunction:function(e,t){var n=t.dflt,r=n.length;return e===n||"string"==typeof e&&!(e.substr(0,r)!==n||!l.test(e.substr(r)))}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras"],coerceFunction:function(e,t,n,r){if("string"!=typeof e)return void t.set(n);if((r.extras||[]).indexOf(e)!==-1)return void t.set(e);for(var a=e.split("+"),i=0;i<a.length;){var o=a[i];r.flags.indexOf(o)===-1||a.indexOf(o)<i?a.splice(i,1):i++}a.length?t.set(a.join("+")):t.set(n)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(e,t,r,a){if(!Array.isArray(e))return void t.set(r);var i=a.items,o=[];r=Array.isArray(r)?r:[];for(var s=0;s<i.length;s++)n.coerce(e,o,i,"["+s+"]",r[s]);t.set(o)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var r=t.items;if(!t.freeLength&&e.length!==r.length)return!1;for(var a=0;a<e.length;a++){var i=n.validate(e[a],t.items[a]);if(!i)return!1}return!0}}},n.coerce=function(e,t,r,a,i){var o=s(r,a).get(),l=s(e,a),c=s(t,a),u=l.get();return void 0===i&&(i=o.dflt),o.arrayOk&&Array.isArray(u)?(c.set(u),u):(n.valObjects[o.valType].coerceFunction(u,c,i,o),c.get())},n.coerce2=function(e,t,r,a,i){var o=s(e,a),l=n.coerce(e,t,r,a,i),c=o.get();return void 0!==c&&null!==c&&l},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.validate=function(e,t){var r=n.valObjects[t.valType];if(t.arrayOk&&Array.isArray(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var a={},i=a,o={set:function(e){i=e}};return r.coerceFunction(e,o,a,t),i!==a}},{"../components/colorscale/get_scale":439,"../components/colorscale/scales":445,"./nested_property":544,"fast-isnumeric":263,tinycolor2:666}],531:[function(e,t,n){"use strict";function r(e){return e&&k.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function a(e,t){return String(e+Math.pow(10,t)).substr(1)}function i(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+a(t,2)+":"+a(n,2),(r||i)&&(e+=":"+a(r,2),i))){for(var o=4;i%10===0;)o-=1,i/=10;e+="."+a(i,o)}return e}function o(e,t,n){e=e.replace(j,function(e){var n=Math.min(+e.charAt(1)||6,6),r=(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0";return r});var a=new Date(Math.floor(t+.05));if(r(n))try{e=k.getComponentMethod("calendars","worldCalFmt")(e,t,n)}catch(i){return"Invalid"}return S(e)(a)}function s(e,t){var n=g(e+.05,y),r=a(Math.floor(n/b),2)+":"+a(g(Math.floor(n/x),60),2);if("M"!==t){f(t)||(t=0);var i=Math.min(g(e/w,60),D[t]),o=(100+i).toFixed(t).substr(1);t>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+o}return r}function l(e){return e.formatDate("yyyy")}function c(e){return e.formatDate("M yyyy")}function u(e){return e.formatDate("M d")}function d(e){return e.formatDate("M d, yyyy")}var p=e("d3"),f=e("fast-isnumeric"),h=e("./loggers").error,g=e("./mod"),m=e("../constants/numerical"),v=m.BADNUM,y=m.ONEDAY,b=m.ONEHOUR,x=m.ONEMIN,w=m.ONESEC,_=m.EPOCHJD,k=e("../registry"),S=p.time.format.utc,A=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,$=(new Date).getFullYear()-70;n.dateTick0=function(e,t){return r(e)?t?k.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:k.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},n.dfltRange=function(e){return r(e)?k.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e&&"function"==typeof e.getTime};var C,M;n.dateTime2ms=function(e,t){if(n.isJSDate(e))return e=Number(e)-e.getTimezoneOffset()*x,e>=C&&e<=M?e:v;if("string"!=typeof e&&"number"!=typeof e)return v;e=String(e);var a=r(t),i=e.charAt(0);!a||"G"!==i&&"g"!==i||(e=e.substr(1),t="");var o=a&&"chinese"===t.substr(0,7),s=e.match(o?T:A);if(!s)return v;var l=s[1],c=s[3]||"1",u=Number(s[5]||1),d=Number(s[7]||0),p=Number(s[9]||0),f=Number(s[11]||0);if(a){if(2===l.length)return v;l=Number(l);var h;try{var g=k.getComponentMethod("calendars","getCal")(t);if(o){var m="i"===c.charAt(c.length-1);c=parseInt(c,10),h=g.newDate(l,g.toMonthIndex(l,c,m),u)}else h=g.newDate(l,Number(c),u)}catch(S){return v}return h?(h.toJD()-_)*y+d*b+p*x+f*w:v}l=2===l.length?(Number(l)+2e3-$)%100+$:Number(l),c-=1;var E=new Date(Date.UTC(2e3,c,u,d,p));return E.setUTCFullYear(l),E.getUTCMonth()!==c?v:E.getUTCDate()!==u?v:E.getTime()+f*w},C=n.MIN_MS=n.dateTime2ms("-9999"),M=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==v};var E=90*y,I=3*b,P=5*x;n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=C&&e<=M))return v;t||(t=0);var a,o,s,l,c,u,d=Math.floor(10*g(e+.05,1)),p=Math.round(e-d/10);if(r(n)){var f=Math.floor(p/y)+_,h=Math.floor(g(e,y));try{a=k.getComponentMethod("calendars","getCal")(n).fromJD(f).formatDate("yyyy-mm-dd")}catch(m){a=S("G%Y-%m-%d")(new Date(p))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=t<E?Math.floor(h/b):0,s=t<E?Math.floor(h%b/x):0,l=t<I?Math.floor(h%x/w):0,c=t<P?h%w*10+d:0}else u=new Date(p),a=S("%Y-%m-%d")(u),o=t<E?u.getUTCHours():0,s=t<E?u.getUTCMinutes():0,l=t<I?u.getUTCSeconds():0,c=t<P?10*u.getUTCMilliseconds()+d:0;return i(a,o,s,l,c)},n.ms2DateTimeLocal=function(e){if(!(e>=C+y&&e<=M-y))return v;var t=Math.floor(10*g(e+.05,1)),n=new Date(Math.round(e-t/10)),r=p.time.format("%Y-%m-%d")(n),a=n.getHours(),o=n.getMinutes(),s=n.getSeconds(),l=10*n.getUTCMilliseconds()+t;return i(r,a,o,s,l)},n.cleanDate=function(e,t,a){if(n.isJSDate(e)||"number"==typeof e){if(r(a))return h("JS Dates and milliseconds are incompatible with world calendars",e),t;if(e=n.ms2DateTimeLocal(+e),!e&&void 0!==t)return t}else if(!n.isDateTime(e,a))return h("unrecognized date",e),t;return e};var j=/%\d?f/g,D=[59,59.9,59.99,59.999,59.9999],L=S("%Y"),O=S("%b %Y"),R=S("%b %-d"),N=S("%b %-d, %Y");n.formatDate=function(e,t,n,a){var i,p;if(a=r(a)&&a,t)return o(t,e,a);if(a)try{var f=Math.floor((e+.05)/y)+_,h=k.getComponentMethod("calendars","getCal")(a).fromJD(f);"y"===n?p=l(h):"m"===n?p=c(h):"d"===n?(i=l(h),p=u(h)):(i=d(h),p=s(e,n))}catch(g){return"Invalid"}else{var m=new Date(Math.floor(e+.05));"y"===n?p=L(m):"m"===n?p=O(m):"d"===n?(i=L(m),p=R(m)):(i=N(m),p=s(e,n))}return p+(i?"\n"+i:"")};var z=3*y;n.incrementMonth=function(e,t,n){n=r(n)&&n;var a=g(e,y);if(e=Math.round(e-a),n)try{var i=Math.round(e/y)+_,o=k.getComponentMethod("calendars","getCal")(n),s=o.fromJD(i);return t%12?o.add(s,t,"m"):o.add(s,t/12,"y"),(s.toJD()-_)*y+a}catch(l){h("invalid ms "+e+" in calendar "+n)}var c=new Date(e+z);return c.setUTCMonth(c.getUTCMonth()+t)+a-z},n.findExactDates=function(e,t){for(var n,a,i=0,o=0,s=0,l=0,c=r(t)&&k.getComponentMethod("calendars","getCal")(t),u=0;u<e.length;u++)if(a=e[u],f(a)){if(!(a%y))if(c)try{n=c.fromJD(a/y+_),1===n.day()?1===n.month()?i++:o++:s++}catch(d){}else n=new Date(a),1===n.getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else l++;o+=i,s+=o;var p=e.length-l;return{exactYears:i/p,exactMonths:o/p,exactDays:s/p}}},{"../constants/numerical":524,"../registry":608,"./loggers":541,"./mod":543,d3:260,"fast-isnumeric":263}],532:[function(e,t,n){"use strict";t.exports=function(e,t){return Array.isArray(e)||(e=[]),e.length=t,e}},{}],533:[function(e,t,n){"use strict";var r=e("events").EventEmitter,a={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),
e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,a),t.emit(r,a),n.emit(r,a)},e},triggerHandler:function(e,t,n){var r,a;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var i=e._ev;if(!i)return r;var o=i._events[t];if(!o)return r;"function"==typeof o&&(o=[o]);for(var s=o.pop(),l=0;l<o.length;l++)o[l](n);return a=s(n),void 0!==r?r:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=a},{events:262}],534:[function(e,t,n){"use strict";function r(e,t){var n,r;for(n=0;n<e.length;n++){if(r=e[n],null!==r&&"object"===("undefined"==typeof r?"undefined":_typeof(r)))return!1;void 0!==r&&(t[n]=r)}return!0}function a(e,t,n,s){var l,c,u,d,p,f,h,g=e[0],m=e.length;if(2===m&&o(g)&&o(e[1])&&0===g.length){if(h=r(e[1],g))return g;g.splice(0,g.length)}for(var v=1;v<m;v++){l=e[v];for(c in l)u=g[c],d=l[c],s&&o(d)?g[c]=d:t&&d&&(i(d)||(p=o(d)))?(p?(p=!1,f=u&&o(u)?u:[]):f=u&&i(u)?u:{},g[c]=a([f,d],t,n,s)):("undefined"!=typeof d||n)&&(g[c]=d)}return g}var i=e("./is_plain_object.js"),o=Array.isArray;n.extendFlat=function(){return a(arguments,!1,!1,!1)},n.extendDeep=function(){return a(arguments,!0,!1,!1)},n.extendDeepAll=function(){return a(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},{"./is_plain_object.js":540}],535:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,a=0;a<e.length;a++){var i=e[a];1!==t[i]&&(t[i]=1,n[r++]=i)}return n}},{}],536:[function(e,t,n){"use strict";t.exports=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.visible===!0&&t.push(r)}return t}},{}],537:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],538:[function(e,t,n){"use strict";var r=e("d3"),a=t.exports={};a.nestedProperty=e("./nested_property"),a.isPlainObject=e("./is_plain_object"),a.isArray=e("./is_array"),a.mod=e("./mod"),a.toLogRange=e("./to_log_range"),a.relinkPrivateKeys=e("./relink_private"),a.ensureArray=e("./ensure_array");var i=e("./coerce");a.valObjects=i.valObjects,a.coerce=i.coerce,a.coerce2=i.coerce2,a.coerceFont=i.coerceFont,a.validate=i.validate;var o=e("./dates");a.dateTime2ms=o.dateTime2ms,a.isDateTime=o.isDateTime,a.ms2DateTime=o.ms2DateTime,a.ms2DateTimeLocal=o.ms2DateTimeLocal,a.cleanDate=o.cleanDate,a.isJSDate=o.isJSDate,a.formatDate=o.formatDate,a.incrementMonth=o.incrementMonth,a.dateTick0=o.dateTick0,a.dfltRange=o.dfltRange,a.findExactDates=o.findExactDates,a.MIN_MS=o.MIN_MS,a.MAX_MS=o.MAX_MS;var s=e("./search");a.findBin=s.findBin,a.sorterAsc=s.sorterAsc,a.sorterDes=s.sorterDes,a.distinctVals=s.distinctVals,a.roundUp=s.roundUp;var l=e("./stats");a.aggNums=l.aggNums,a.len=l.len,a.mean=l.mean,a.variance=l.variance,a.stdev=l.stdev,a.interp=l.interp;var c=e("./matrix");a.init2dArray=c.init2dArray,a.transposeRagged=c.transposeRagged,a.dot=c.dot,a.translationMatrix=c.translationMatrix,a.rotationMatrix=c.rotationMatrix,a.rotationXYMatrix=c.rotationXYMatrix,a.apply2DTransform=c.apply2DTransform,a.apply2DTransform2=c.apply2DTransform2;var u=e("./extend");a.extendFlat=u.extendFlat,a.extendDeep=u.extendDeep,a.extendDeepAll=u.extendDeepAll,a.extendDeepNoArrays=u.extendDeepNoArrays;var d=e("./loggers");a.log=d.log,a.warn=d.warn,a.error=d.error,a.notifier=e("./notifier"),a.filterUnique=e("./filter_unique"),a.filterVisible=e("./filter_visible"),a.pushUnique=e("./push_unique"),a.cleanNumber=e("./clean_number"),a.noop=e("./noop"),a.identity=e("./identity"),a.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var o=t[i],s=a.nestedProperty(e,o.replace("?",n)),l=a.nestedProperty(e,o.replace("?",r)),c=s.get();s.set(l.get()),l.set(c)}},a.pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1},a.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},a.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},a.simpleMap=function(e,t,n,r){for(var a=e.length,i=new Array(a),o=0;o<a;o++)i[o]=t(e[o],n,r);return i},a.randstr=function h(e,t,n){if(n||(n=16),void 0===t&&(t=24),t<=0)return"0";var r,a,i,o=Math.log(Math.pow(2,t))/Math.log(n),s="";for(r=2;o===1/0;r*=2)o=Math.log(Math.pow(2,t/r))/Math.log(n)*r;var l=o-Math.floor(o);for(r=0;r<Math.floor(o);r++)i=Math.floor(Math.random()*n).toString(n),s=i+s;l&&(a=Math.pow(n,l),i=Math.floor(Math.random()*a).toString(n),s=i+s);var c=parseInt(s,n);return e&&e.indexOf(s)>-1||c!==1/0&&c>=Math.pow(2,t)?h(e,t,n):s},a.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={};return n.optionList=[],n._newoption=function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)},n["_"+t]=e,n},a.smooth=function(e,t){if(t=Math.round(t)||0,t<2)return e;var n,r,a,i,o=e.length,s=2*o,l=2*t-1,c=new Array(l),u=new Array(o);for(n=0;n<l;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<o;n++){for(i=0,r=0;r<l;r++)a=n+r+1-t,a<-o?a-=s*Math.round(a/s):a>=s&&(a-=s*Math.floor(a/s)),a<0?a=-1-a:a>=o&&(a=s-1-a),i+=e[a]*c[r];u[n]=i}return u},a.syncOrAsync=function(e,t,n){function r(){return a.syncOrAsync(e,t,n)}for(var i,o;e.length;)if(o=e.splice(0,1)[0],i=o(t),i&&i.then)return i.then(r).then(void 0,a.promiseError);return n&&n(t)},a.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},a.noneOrAll=function(e,t,n){if(e){var r,a,i=!1,o=!0;for(r=0;r<n.length;r++)a=e[n[r]],void 0!==a&&null!==a?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},a.mergeArray=function(e,t,n){if(Array.isArray(e))for(var r=Math.min(e.length,t.length),a=0;a<r;a++)t[a][n]=e[a]},a.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=a.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},a.minExtend=function(e,t){var n={};"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&(t={});var r,i,o,s=3,l=Object.keys(e);for(r=0;r<l.length;r++)i=l[r],o=e[i],"_"!==i.charAt(0)&&"function"!=typeof o&&("module"===i?n[i]=o:Array.isArray(o)?n[i]=o.slice(0,s):o&&"object"===("undefined"==typeof o?"undefined":_typeof(o))?n[i]=a.minExtend(e[i],t[i]):n[i]=o);for(l=Object.keys(t),r=0;r<l.length;r++)i=l[r],o=t[i],"object"===("undefined"==typeof o?"undefined":_typeof(o))&&i in n&&"object"===_typeof(n[i])||(n[i]=o);return n},a.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},a.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])!==-1)return!0;return!1},a.getPlotDiv=function(e){for(;e&&e.removeAttribute;e=e.parentNode)if(a.isPlotDiv(e))return e},a.isPlotDiv=function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},a.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},a.addStyleRule=function(e,t){if(!a.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),a.styleSheet=n.sheet}var r=a.styleSheet;r.insertRule?r.insertRule(e+"{"+t+"}",0):r.addRule?r.addRule(e,t,0):a.warn("addStyleRule failed")},a.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob},a.isD3Selection=function(e){return e&&"function"==typeof e.classed},a.objectFromPath=function(e,t){for(var n,r=e.split("."),a=n={},i=0;i<r.length;i++){var o=r[i],s=null,l=r[i].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],i===r.length-1?n[s]=t:n[s]={},n=n[s]):(i===r.length-1?n[o]=t:n[o]={},n=n[o])}return a};var p=/^([^\[\.]+)\.(.+)?/,f=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;a.expandObjectPaths=function(e){var t,n,r,i,o,s,l;if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(p))?(i=e[n],r=t[1],delete e[n],e[r]=a.extendDeepNoArrays(e[r]||{},a.objectFromPath(n,a.expandObjectPaths(i))[r])):(t=n.match(f))?(i=e[n],r=t[1],o=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(l=t[4],s=e[r][o]=e[r][o]||{},a.extendDeepNoArrays(s,a.objectFromPath(l,a.expandObjectPaths(i)))):e[r][o]=a.expandObjectPaths(i)):e[n]=a.expandObjectPaths(e[n]));return e},a.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,a=t.charAt(0),i=t.charAt(1),o=e.split("."),s=o[0],l=o.length>1?a+o[1]:"";if(i&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+i+"$2");return s+l}},{"./clean_number":529,"./coerce":530,"./dates":531,"./ensure_array":532,"./extend":534,"./filter_unique":535,"./filter_visible":536,"./identity":537,"./is_array":539,"./is_plain_object":540,"./loggers":541,"./matrix":542,"./mod":543,"./nested_property":544,"./noop":545,"./notifier":546,"./push_unique":549,"./relink_private":551,"./search":552,"./stats":554,"./to_log_range":556,d3:260}],539:[function(e,t,n){"use strict";var r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};t.exports=function(e){return Array.isArray(e)||r.isView(e)}},{}],540:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],541:[function(e,t,n){"use strict";function r(e,t){if(e.apply)e.apply(e,t);else for(var n=0;n<t.length;n++)e(t[n])}var a=e("../plot_api/plot_config"),i=t.exports={};i.log=function(){if(a.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},i.warn=function(){if(a.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},i.error=function(){if(a.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.error,e)}}},{"../plot_api/plot_config":561}],542:[function(e,t,n){"use strict";n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,a=e.length;for(t=0;t<a;t++)r=Math.max(r,e[t].length);var i=new Array(r);for(t=0;t<r;t++)for(i[t]=new Array(a),n=0;n<a;n++)i[t][n]=e[n][t];return i},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,a,i=e.length;if(e[0].length)for(r=new Array(i),a=0;a<i;a++)r[a]=n.dot(e[a],t);else if(t[0].length){var o=n.transposeRagged(t);for(r=new Array(o.length),a=0;a<o.length;a++)r[a]=n.dot(e,o[a])}else for(r=0,a=0;a<i;a++)r+=e[a]*t[a];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}}},{}],543:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e%t;return n<0?n+t:n}},{}],544:[function(e,t,n){"use strict";function r(e,t){return function(){var n,a,i,o,s,l=e;for(o=0;o<t.length-1;o++){if(n=t[o],n===-1){for(a=!0,i=[],s=0;s<l.length;s++)i[s]=r(l[s],t.slice(o+1))(),i[s]!==i[0]&&(a=!1);return a?i[0]:i}if("number"==typeof n&&!f(l))return;if(l=l[n],"object"!==("undefined"==typeof l?"undefined":_typeof(l))||null===l)return}if("object"===("undefined"==typeof l?"undefined":_typeof(l))&&null!==l&&(i=l[t[o]],null!==i))return i}}function a(e,t){if(!u(e)||h(e)&&"]"===t.charAt(t.length-1)||t.match(v)&&void 0!==e)return!1;if(!f(e))return!0;if(t.match(m))return!0;var n=g(t);return n&&""===n.index}function i(e,t,n){return function(r){var i,u,d=e,p="",h=[[e,p]],g=a(r,n);for(u=0;u<t.length-1;u++){if(i=t[u],"number"==typeof i&&!f(d))throw"array index but container is not an array";if(i===-1){if(g=!s(d,t.slice(u+1),r,n))break;return}if(!l(d,i,t[u+1],g))break;if(d=d[i],"object"!==("undefined"==typeof d?"undefined":_typeof(d))||null===d)throw"container is not an object";p=o(p,i),h.push([d,p])}g?(u===t.length-1&&delete d[t[u]],c(h)):d[t[u]]=r}}function o(e,t){var n=t;return p(t)?n="["+t+"]":e&&(n="."+t),e+n}function s(e,t,n,r){var o,s=f(n),c=!0,u=n,d=r.replace("-1",0),p=!s&&a(n,d),h=t[0];for(o=0;o<e.length;o++)d=r.replace("-1",o),s&&(u=n[o%n.length],p=a(u,d)),p&&(c=!1),l(e,o,h,p)&&i(e[o],t,r.replace("-1",o))(u);return c}function l(e,t,n,r){if(void 0===e[t]){if(r)return!1;"number"==typeof n?e[t]=[]:e[t]={}}return!0}function c(e){var t,n,r,i,s,l;for(t=e.length-1;t>=0;t--){if(r=e[t][0],i=e[t][1],l=!1,f(r))for(n=r.length-1;n>=0;n--)a(r[n],o(i,n))?l?r[n]=void 0:r.pop():l=!0;else if("object"===("undefined"==typeof r?"undefined":_typeof(r))&&null!==r)for(s=Object.keys(r),l=!1,n=s.length-1;n>=0;n--)a(r[s[n]],o(i,s[n]))?delete r[s[n]]:l=!0;if(l)return}}function u(e){return void 0===e||null===e||"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(f(e)?!e.length:!Object.keys(e).length)}function d(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}var p=e("fast-isnumeric"),f=e("./is_array"),h=e("./is_plain_object"),g=e("../plot_api/container_array_match");t.exports=function(e,t){if(p(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,a,o,s=0,l=t.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(a=n[2].substr(1,n[2].length-2).split("]["),o=0;o<a.length;o++)s++,l.splice(s,0,Number(a[o]))}s++}return"object"!==("undefined"==typeof e?"undefined":_typeof(e))?d(e,t,l):{set:i(e,l,t),get:r(e,l),astr:t,parts:l,obj:e}};var m=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,v=/(^|\.)args\[/},{"../plot_api/container_array_match":557,"./is_array":539,"./is_plain_object":540,"fast-isnumeric":263}],545:[function(e,t,n){"use strict";t.exports=function(){}},{}],546:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=[];t.exports=function(e,t){function n(e){e.duration(700).style("opacity",0).each("end",function(e){var t=i.indexOf(e);t!==-1&&i.splice(t,1),r.select(this).remove()})}if(i.indexOf(e)===-1){i.push(e);var o=1e3;a(t)?o=t:"long"===t&&(o=3e3);var s=r.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var l=s.selectAll(".notifier-note").data(i);l.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(n)});for(var a=t.append("p"),i=e.split(/<br\s*\/?>/g),s=0;s<i.length;s++)s&&a.append("br"),a.append("span").text(i[s]);t.transition().duration(700).style("opacity",1).transition().delay(o).call(n)})}}},{d3:260,"fast-isnumeric":263}],547:[function(e,t,n){"use strict";var r=e("./setcursor"),a="data-savedcursor",i="!!";t.exports=function(e,t){var n=e.attr(a);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),s=0;s<o.length;s++){var l=o[s];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,i)}r(e,t)}else n&&(e.attr(a,null),n===i?r(e):r(e,n))}},{"./setcursor":553}],548:[function(e,t,n){"use strict";var r=e("./matrix").dot,a=e("../constants/numerical").BADNUM,i=t.exports={};i.tester=function(e){function t(e,t){var n=e[0],r=e[1];return!(n===a||n<i||n>o||r===a||r<s||r>l)&&(!t||!u(e))}function n(e,t){var n=e[0],c=e[1];if(n===a||n<i||n>o||c===a||c<s||c>l)return!1;var u,d,p,f,h,g=r.length,m=r[0][0],v=r[0][1],y=0;for(u=1;u<g;u++)if(d=m,p=v,m=r[u][0],v=r[u][1],f=Math.min(d,m),!(n<f||n>Math.max(d,m)||c>Math.max(p,v)))if(c<Math.min(p,v))n!==f&&y++;else{if(h=m===d?c:p+(n-d)*(v-p)/(m-d),c===h)return 1!==u||!t;c<=h&&n!==f&&y++}return y%2===1}var r=e.slice(),i=r[0][0],o=i,s=r[0][1],l=s;r.push(r[0]);for(var c=1;c<r.length;c++)i=Math.min(i,r[c][0]),o=Math.max(o,r[c][0]),s=Math.min(s,r[c][1]),l=Math.max(l,r[c][1]);var u,d=!1;return 5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(d=!0,u=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(d=!0,u=function(e){return e[1]===r[0][1]})),{xmin:i,xmax:o,ymin:s,ymax:l,pts:r,contains:d?t:n,isRect:d}};var o=i.isSegmentBent=function(e,t,n,a){var i,o,s,l=e[t],c=[e[n][0]-l[0],e[n][1]-l[1]],u=r(c,c),d=Math.sqrt(u),p=[-c[1]/d,c[0]/d];for(i=t+1;i<n;i++)if(o=[e[i][0]-l[0],e[i][1]-l[1]],s=r(o,c),s<0||s>u||Math.abs(r(o,p))>a)return!0;return!1};i.filter=function(e,t){function n(n){e.push(n);var s=r.length,l=a;r.splice(i+1);for(var c=l+1;c<e.length;c++)(c===e.length-1||o(e,l,c+1,t))&&(r.push(e[c]),r.length<s-2&&(a=c,i=r.length-1),l=c)}var r=[e[0]],a=0,i=0;if(e.length>1){var s=e.pop();n(s)}return{addPt:n,raw:e,filtered:r}}},{"../constants/numerical":524,"./matrix":542}],549:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){var n,r=t.toString();for(n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===r)return e;e.push(t)}else t&&e.indexOf(t)===-1&&e.push(t);return e}},{}],550:[function(e,t,n){"use strict";function r(e,t){for(var n,r=[],i=0;i<t.length;i++)n=t[i],n===e?r[i]=n:"object"===("undefined"==typeof n?"undefined":_typeof(n))?r[i]=Array.isArray(n)?a.extendDeep([],n):a.extendDeepAll({},n):r[i]=n;return r}var a=e("../lib"),i=e("../plot_api/plot_config"),o={};o.add=function(e,t,n,r,a){var o,s;return e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?void(e.undoQueue.inSequence||(e.autoplay=!1)):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,o),e.undoQueue.index+=1):o=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),void(e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)))},o.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},o.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},o.undo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.undo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},o.redo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.redo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},o.plotDo=function(e,t,n){e.autoplay=!0,n=r(e,n),t.apply(null,n)},t.exports=o},{"../lib":538,"../plot_api/plot_config":561}],551:[function(e,t,n){"use strict";var r=e("./is_array"),a=e("./is_plain_object");t.exports=function i(e,t){for(var n=Object.keys(t||{}),o=0;o<n.length;o++){var s=n[o],l=t[s],c=e[s];if("_"===s.charAt(0)||"function"==typeof l){if(s in e)continue;e[s]=l}else if(r(l)&&r(c)&&a(l[0]))for(var u=0;u<l.length;u++)a(l[u])&&a(c[u])&&i(c[u],l[u]);else a(l)&&a(c)&&(i(c,l),Object.keys(c).length||delete e[s])}}},{"./is_array":539,"./is_plain_object":540}],552:[function(e,t,n){"use strict";function r(e,t){return e<t}function a(e,t){return e<=t}function i(e,t){return e>t}function o(e,t){return e>=t}var s=e("fast-isnumeric"),l=e("./loggers");n.findBin=function(e,t,n){if(s(t.start))return n?Math.ceil((e-t.start)/t.size)-1:Math.floor((e-t.start)/t.size);var c,u,d=0,p=t.length,f=0;for(u=t[t.length-1]>=t[0]?n?r:a:n?o:i;d<p&&f++<100;)c=Math.floor((d+p)/2),u(t[c],e)?d=c+1:p=c;return f>90&&l.log("Long binary search..."),d-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t=e.slice();t.sort(n.sorterAsc);for(var r=t.length-1,a=t[r]-t[0]||1,i=a/(r||1)/1e4,o=[t[0]],s=0;s<r;s++)t[s+1]>t[s]+i&&(a=Math.min(a,t[s+1]-t[s]),o.push(t[s+1]));return{vals:o,minDiff:a}},n.roundUp=function(e,t,n){for(var r,a=0,i=t.length-1,o=0,s=n?0:1,l=n?1:0,c=n?Math.ceil:Math.floor;a<i&&o++<100;)r=c((a+i)/2),t[r]<=e?a=r+s:i=r-l;return t[a]}},{"./loggers":541,"fast-isnumeric":263}],553:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},{}],554:[function(e,t,n){"use strict";var r=e("fast-isnumeric");n.aggNums=function(e,t,a,i){var o,s;if(i||(i=a.length),r(t)||(t=!1),Array.isArray(a[0])){for(s=new Array(i),o=0;o<i;o++)s[o]=n.aggNums(e,t,a[o]);a=s}for(o=0;o<i;o++)r(t)?r(a[o])&&(t=e(+t,+a[o])):t=a[o];return t},n.len=function(e){return n.aggNums(function(e){return e+1},0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums(function(e,t){return e+t},0,e)/t},n.variance=function(e,t,a){return t||(t=n.len(e)),r(a)||(a=n.mean(e,t)),n.aggNums(function(e,t){return e+Math.pow(t-a,2)},0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if(t=t*e.length-.5,t<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"fast-isnumeric":263}],555:[function(e,t,n){"use strict";function r(e,t){return e.node().getBoundingClientRect()[t]}function a(e){return e.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function i(e,t,n){var r="math-output-"+f.randstr([],64),i=p.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(a(e));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var t=p.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())f.log("There was an error in the tex syntax.",e),n();else{var r=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),t,r)}i.remove()})}function o(e,t){for(var n=e||"",r=0;r<t.length;r++){var a=t[r];n=n.replace(a.regExp,a.sub)}return n}function s(e){return o(e,x)}function l(e){return o(e,w)}function c(e){e=s(e).replace(_," ");for(var t=e.split(k).map(function(e){var t=e.match(S),r=t&&t[2].toLowerCase(),a=m[r];if(void 0!==a){var i=t[1];if(i)return("a"===r?"</a>":"</tspan>")+(v[r]||"");if("br"===r)return"<br>";var o,s=t[4];if("a"===r){var c=s&&s.match(T),u=c&&(c[3]||c[4]);if(o="<a",u){var d=document.createElement("a");d.href=u,y.indexOf(d.protocol)!==-1&&(o+=' xlink:show="new" xlink:href="'+l(u)+'"')}}else o="<tspan","sup"!==r&&"sub"!==r||(o="&#x200b;"+o);var p=s&&s.match(A),f=p&&(p[3]||p[4]);return f?(f=l(f.replace($,"$1 fill:")),a&&(f+=";"+a)):a&&(f=a),f?o+' style="'+f+'">':o+">"}return n.xml_entity_encode(e).replace(/</g,"&lt;")}),r=[],a=t.indexOf("<br>");a>0;a=t.indexOf("<br>",a+1))r.push(a);var i=0;r.forEach(function(e){for(var n=e+i,r=t.slice(0,n),a="",o=r.length-1;o>=0;o--){var s=r[o].match(/<(\/?).*>/i);if(s&&"<br>"!==r[o]){s[1]||(a=r[o]);break}}a&&(t.splice(n+1,0,a),t.splice(n,0,"</tspan>"),i+=2)});var o=t.join(""),c=o.split(/<br>/gi);return c.length>1&&(t=c.map(function(e,t){return'<tspan class="line" dy="'+1.3*t+'em">'+e+"</tspan>"})),t.join("")}function u(e,t,n){var r,a,i,o=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return a="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},i="right"===o?function(){return l.right-r.width}:"center"===o?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:a()-c.top+"px",left:i()-c.left+"px","z-index":1e3}),this}}var d,p=e("d3"),f=e("../lib"),h=e("../constants/xmlns_namespaces"),g=e("../constants/string_mappings");n.getDOMParser=function(){if(d)return d;if(window.DOMParser)return d=new window.DOMParser;throw new Error("Cannot initialize DOMParser")},p.selection.prototype.appendSVG=function(e){for(var t=['<svg xmlns="',h.svg,'" ','xmlns:xlink="',h.xlink,'">',e,"</svg>"].join(""),r=n.getDOMParser(),a=r.parseFromString(t,"application/xml"),i=a.documentElement.firstChild;i;)this.node().appendChild(this.node().ownerDocument.importNode(i,!0)),i=i.nextSibling;return a.querySelector("parsererror")?(f.log(a.querySelector("parsererror div").textContent),null):p.select(this.node().lastChild)},n.html_entity_decode=function(e){var t=p.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":e.indexOf("<")!==-1||e.indexOf(">")!==-1?"":t.html(e).text()});return t.remove(),n},n.xml_entity_encode=function(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},n.convertToTspans=function(e,t){function n(){d.empty()||(h=s.attr("class")+"-math",d.select("svg."+h).remove()),e.text("").style({visibility:"inherit","white-space":"pre"}),u=e.appendSVG(o),u||e.text(a),e.select("a").size()&&e.style("pointer-events","all"),t&&t.call(s)}var a=e.text(),o=c(a),s=e,l=!s.attr("data-notex")&&o.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),u=a,d=p.select(s.node().parentNode);if(!d.empty()){var h=s.attr("class")?s.attr("class").split(" ")[0]:"text";h+="-math",d.selectAll("svg."+h).remove(),d.selectAll("g."+h+"-group").remove(),e.style({visibility:null});for(var g=e.node();g&&g.removeAttribute;g=g.parentNode)g.removeAttribute("data-bb");if(l){var m=f.getPlotDiv(s.node());(m&&m._promises||[]).push(new Promise(function(e){s.style({visibility:"hidden"});var a={fontSize:parseInt(s.style("font-size"),10)};i(l[2],a,function(a,i,o){d.selectAll("svg."+h).remove(),d.selectAll("g."+h+"-group").remove();var l=a&&a.select("svg");if(!l||!l.node())return n(),void e();var c=d.append("g").classed(h+"-group",!0).attr({"pointer-events":"none"});c.node().appendChild(l.node()),i&&i.node()&&l.node().insertBefore(i.node().cloneNode(!0),l.node().firstChild),l.attr({"class":h,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=s.style("fill")||"black";l.select("g").attr({fill:u,stroke:u});var p=r(l,"width"),f=r(l,"height"),g=+s.attr("x")-p*{start:0,middle:.5,end:1}[s.attr("text-anchor")||"start"],m=parseInt(s.style("font-size"),10)||r(s,"height"),v=-m/4;"y"===h[0]?(c.attr({transform:"rotate("+[-90,+s.attr("x"),+s.attr("y")]+") translate("+[-p/2,v-f/2]+")"}),l.attr({x:+s.attr("x"),y:+s.attr("y")})):"l"===h[0]?l.attr({x:s.attr("x"),y:v-f/2}):"a"===h[0]?l.attr({x:0,y:v}):l.attr({x:g,y:+s.attr("y")+v-f/2}),t&&t.call(s,c),e(c)})}))}else n();return e}};var m={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",br:"",em:"font-style:italic;font-weight:bold"},v={sup:'<tspan dy="0.42em">&#x200b;</tspan>',sub:'<tspan dy="-0.21em">&#x200b;</tspan>'},y=["http:","https:","mailto:"],b=new RegExp("</?("+Object.keys(m).join("|")+")( [^>]*)?/?>","g"),x=Object.keys(g.entityToUnicode).map(function(e){return{regExp:new RegExp("&"+e+";","g"),sub:g.entityToUnicode[e]}}),w=Object.keys(g.unicodeToEntity).map(function(e){return{regExp:new RegExp(e,"g"),sub:"&"+g.unicodeToEntity[e]+";"}}),_=/(\r\n?|\n)/g,k=/(<[^<>]*>)/,S=/<(\/?)([^ >]*)(\s+(.*))?>/i,A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,$=/(^|;)\s*color:/;n.plainText=function(e){return(e||"").replace(b," ")},n.makeEditable=function(e,t,n){function r(){i(),o.style({opacity:0});var e,t=c.attr("class");e=t?"."+t.split(" ")[0]+"-math-group":"[class*=-math-group]",e&&p.select(o.node().parentNode).select(e).style({opacity:0})}function a(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function i(){var e=f.getPlotDiv(o.node()),t=p.select(e),r=t.select(".svg-container"),i=r.append("div");i.classed("plugin-editable editable",!0).style({position:"absolute","font-family":o.style("font-family")||"Arial","font-size":o.style("font-size")||12,color:n.fill||o.style("fill")||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(o.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(n.text||o.attr("data-unformatted")).call(u(o,r,n)).on("blur",function(){e._editing=!1,o.text(this.textContent).style({opacity:1});var t,n=p.select(this).attr("class");t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&p.select(o.node().parentNode).select(t).style({opacity:0});var r=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),s.edit.call(o,r)}).on("focus",function(){var t=this;e._editing=!0,p.select(document).on("mouseup",function(){return p.event.target!==t&&void(document.activeElement===i.node()&&i.node().blur())})}).on("keyup",function(){27===p.event.which?(e._editing=!1,o.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),s.cancel.call(o,this.textContent)):(s.input.call(o,this.textContent),p.select(this).call(u(o,r,n)))}).on("keydown",function(){13===p.event.which&&this.blur()}).call(a)}n||(n={});var o=this,s=p.dispatch("edit","input","cancel"),l=p.select(this.node()).style({"pointer-events":"all"}),c=t||l;return t&&l.style({"pointer-events":"none"}),n.immediate?r():c.on("click",r),p.rebind(this,s,"on")}},{"../constants/string_mappings":525,"../constants/xmlns_namespaces":526,"../lib":538,d3:260}],556:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":263}],557:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,a=r.layoutArrayContainers,i=r.layoutArrayRegexes,o=e.split("[")[0],s=0;s<i.length;s++)if(n=e.match(i[s]),n&&0===n.index){t=n[0];break}if(t||(t=a[a.indexOf(o)]),!t)return!1;var l=e.substr(t.length);return l?(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),!!n&&{array:t,index:Number(n[1]),property:n[3]||""}):{array:t,index:"",property:""}}},{"../registry":608}],558:[function(e,t,n){"use strict";function r(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=p.cleanId(n,r))}function a(e){var t="middle",n="center";return e.indexOf("top")!==-1?t="top":e.indexOf("bottom")!==-1&&(t="bottom"),e.indexOf("left")!==-1?n="left":e.indexOf("right")!==-1&&(n="right"),t+" "+n}function i(e,t){return t in e&&"object"===_typeof(e[t])&&0===Object.keys(e[t]).length}function o(e){var t=e.search(h);if(t>0)return e.substr(0,t)}var s=e("fast-isnumeric"),l=e("gl-mat4/fromQuat"),c=e("../registry"),u=e("../lib"),d=e("../plots/plots"),p=e("../plots/cartesian/axes"),f=e("../components/color");n.getGraphDiv=function(e){var t;if("string"==typeof e){if(t=document.getElementById(e),null===t)throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");
return e},n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&u.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1);var a=p.list({_fullLayout:e});for(t=0;t<a.length;t++){var o=a[t];o.anchor&&"free"!==o.anchor&&(o.anchor=p.cleanId(o.anchor)),o.overlaying&&(o.overlaying=p.cleanId(o.overlaying)),o.type||(o.isdate?o.type="date":o.islog?o.type="log":o.isdate===!1&&o.islog===!1&&(o.type="linear")),"withzero"!==o.autorange&&"tozero"!==o.autorange||(o.autorange=!0,o.rangemode="tozero"),delete o.islog,delete o.isdate,delete o.categories,i(o,"domain")&&delete o.domain,void 0!==o.autotick&&(void 0===o.tickmode&&(o.tickmode=o.autotick?"auto":"linear"),delete o.autotick)}var s=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<s;t++){var c=e.annotations[t];u.isPlainObject(c)&&(c.ref&&("paper"===c.ref?(c.xref="paper",c.yref="paper"):"data"===c.ref&&(c.xref="x",c.yref="y"),delete c.ref),r(c,"xref"),r(c,"yref"))}var h=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<h;t++){var g=e.shapes[t];u.isPlainObject(g)&&(r(g,"xref"),r(g,"yref"))}var m=e.legend;m&&(m.x>3?(m.x=1.02,m.xanchor="left"):m.x<-2&&(m.x=-.02,m.xanchor="right"),m.y>3?(m.y=1.02,m.yanchor="bottom"):m.y<-2&&(m.y=-.02,m.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var v=d.getSubplotIds(e,"gl3d");for(t=0;t<v.length;t++){var y=e[v[t]],b=y.cameraposition;if(Array.isArray(b)&&4===b[0].length){var x=b[0],w=b[1],_=b[2],k=l([],x),S=[];for(n=0;n<3;++n)S[n]=w[t]+_*k[2+4*n];y.camera={eye:{x:S[0],y:S[1],z:S[2]},center:{x:w[0],y:w[1],z:w[2]},up:{x:k[1],y:k[5],z:k[9]}},delete y.cameraposition}}return f.clean(e),e},n.cleanData=function(e,t){for(var r=[],o=(e.concat(Array.isArray(t)?t:[]).filter(function(e){return"uid"in e}).map(function(e){return e.uid})),s=0;s<e.length;s++){var l,h=e[s];if(!("uid"in h)||r.indexOf(h.uid)!==-1){var g;for(l=0;l<100&&(g=u.randstr(o),r.indexOf(g)!==-1);l++);h.uid=u.randstr(o),o.push(h.uid)}if(r.push(h.uid),"histogramy"===h.type&&"xbins"in h&&!("ybins"in h)&&(h.ybins=h.xbins,delete h.xbins),h.error_y&&"opacity"in h.error_y){var m=f.defaults,v=h.error_y.color||(c.traceIs(h,"bar")?f.defaultLine:m[s%m.length]);h.error_y.color=f.addOpacity(f.rgb(v),f.opacity(v)*h.error_y.opacity),delete h.error_y.opacity}if("bardir"in h&&("h"!==h.bardir||!c.traceIs(h,"bar")&&"histogram"!==h.type.substr(0,9)||(h.orientation="h",n.swapXYData(h)),delete h.bardir),"histogramy"===h.type&&n.swapXYData(h),"histogramx"!==h.type&&"histogramy"!==h.type||(h.type="histogram"),"scl"in h&&(h.colorscale=h.scl,delete h.scl),"reversescl"in h&&(h.reversescale=h.reversescl,delete h.reversescl),h.xaxis&&(h.xaxis=p.cleanId(h.xaxis,"x")),h.yaxis&&(h.yaxis=p.cleanId(h.yaxis,"y")),c.traceIs(h,"gl3d")&&h.scene&&(h.scene=d.subplotsRegistry.gl3d.cleanId(h.scene)),c.traceIs(h,"pie")||c.traceIs(h,"bar")||(Array.isArray(h.textposition)?h.textposition=h.textposition.map(a):h.textposition&&(h.textposition=a(h.textposition))),c.traceIs(h,"2dMap")&&("YIGnBu"===h.colorscale&&(h.colorscale="YlGnBu"),"YIOrRd"===h.colorscale&&(h.colorscale="YlOrRd")),c.traceIs(h,"markerColorscale")&&h.marker){var y=h.marker;"YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd")}if("surface"===h.type&&u.isPlainObject(h.contours)){var b=["x","y","z"];for(l=0;l<b.length;l++){var x=h.contours[b[l]];u.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if(Array.isArray(h.transforms)){var w=h.transforms;for(l=0;l<w.length;l++){var _=w[l];u.isPlainObject(_)&&"filter"===_.type&&(_.filtersrc&&(_.target=_.filtersrc,delete _.filtersrc),_.calendar&&(_.valuecalendar||(_.valuecalendar=_.calendar),delete _.calendar))}}i(h,"line")&&delete h.line,"marker"in h&&(i(h.marker,"line")&&delete h.marker.line,i(h,"marker")&&delete h.marker),f.clean(h)}},n.swapXYData=function(e){var t;if(u.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);u.swapAttrs(e,["error_?.copy_ystyle"]),r&&u.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(e.hoverinfo){var a=e.hoverinfo.split("+");for(t=0;t<a.length;t++)"x"===a[t]?a[t]="y":"y"===a[t]&&(a[t]="x");e.hoverinfo=a.join("+")}},n.coerceTraceIndices=function(e,t){return s(t)?[t]:Array.isArray(t)&&t.length?t:e.data.map(function(e,t){return t})},n.manageArrayContainers=function(e,t,n){var r=e.obj,a=e.parts,i=a.length,o=a[i-1],l=s(o);if(l&&null===t){var c=a.slice(0,i-1).join("."),d=u.nestedProperty(r,c).get();d.splice(o,1)}else l&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var h=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;n.hasParent=function(e,t){for(var n=o(t);n;){if(n in e)return!0;n=o(n)}return!1}},{"../components/color":427,"../lib":538,"../plots/cartesian/axes":573,"../plots/plots":601,"../registry":608,"fast-isnumeric":263,"gl-mat4/fromQuat":265}],559:[function(e,t,n){"use strict";var r=e("../lib/nested_property"),a=e("../lib/is_plain_object"),i=e("../lib/noop"),o=e("../lib/loggers"),s=e("../lib/search").sorterAsc,l=e("../registry");n.containerArrayMatch=e("./container_array_match");var c=n.isAddVal=function(e){return"add"===e||a(e)},u=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,a){var d=t.astr,p=l.getComponentMethod(d,"supplyLayoutDefaults"),f=l.getComponentMethod(d,"draw"),h=l.getComponentMethod(d,"drawOne"),g=a.replot||a.recalc||p===i||f===i,m=e.layout,v=e._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",d);var y=n[""][""];if(u(y))t.set(null);else{if(!Array.isArray(y))return o.warn("Unrecognized full array edit value",d,y),!0;t.set(y)}return!g&&(p(m,v),f(e),!0)}var b,x,w,_,k,S,A,T=Object.keys(n).map(Number).sort(s),$=t.get(),C=$||[],M=r(v,d).get(),E=[],I=-1,P=C.length;for(b=0;b<T.length;b++)if(w=T[b],_=n[w],k=Object.keys(_),S=_[""],A=c(S),w<0||w>C.length-(A?0:1))o.warn("index out of range",d,w);else if(void 0!==S)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",d,w),u(S)?E.push(w):A?("add"===S&&(S={}),C.splice(w,0,S),M&&M.splice(w,0,{})):o.warn("Unrecognized full object edit value",d,w,S),I===-1&&(I=w);else for(x=0;x<k.length;x++)r(C[w],k[x]).set(_[k[x]]);for(b=E.length-1;b>=0;b--)C.splice(E[b],1),M&&M.splice(E[b],1);if(C.length?$||t.set(C):t.set(null),g)return!1;if(p(m,v),h!==i){var j;if(I===-1)j=T;else{for(P=Math.max(C.length,P),j=[],b=0;b<T.length&&(w=T[b],!(w>=I));b++)j.push(w);for(b=I;b<P;b++)j.push(b)}for(b=0;b<j.length;b++)h(e,j[b])}else f(e);return!0}},{"../lib/is_plain_object":540,"../lib/loggers":541,"../lib/nested_property":544,"../lib/noop":545,"../lib/search":552,"../registry":608,"./container_array_match":557}],560:[function(e,t,n){"use strict";function r(e,t){e._fullLayout._paperdiv.style("background","white"),y.defaultConfig.setBackground(e,t)}function a(e,t){e._context||(e._context=b.extendFlat({},y.defaultConfig));var n=e._context;t&&(Object.keys(t).forEach(function(e){e in n&&("setBackground"===e&&"opaque"===t[e]?n[e]=r:n[e]=t[e])}),t.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio)),n.staticPlot&&(n.editable=!1,n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1)}function i(e,t,n){var r=m.select(e).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=r.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),t&&(e.data=t),n&&(e.layout=n),S.manager.fillLayout(e),a.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=S.manager.framework(e),e.framework({data:e.data,layout:e.layout},a.node()),e.framework.setUndoPoint();var i=e.framework.svg(),o=1,s=e._fullLayout.title;""!==s&&s||(o=0);var l="Click to enter title",c=function(){this.call(M.convertToTspans)},u=i.select(".title-group text").call(c);if(e._context.editable){u.attr({"data-unformatted":s}),s&&s!==l||(o=.2,u.attr({"data-unformatted":l}).text(l).style({opacity:o}).on("mouseover.opacity",function(){m.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(1e3).style("opacity",0)}));var d=function p(){this.call(M.makeEditable).on("edit",function(t){e.framework({layout:{title:t}}),this.attr({"data-unformatted":t}).text(t).call(c),this.call(p)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(c)})};u.call(d)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),k.addLinks(e),Promise.resolve()}function o(e,t){var n,r,a=t+1,i=[];for(n=0;n<e.length;n++)r=e[n],r<0?i.push(a+r):i.push(r);return i}function s(e,t,n){var r,a;for(r=0;r<t.length;r++){if(a=t[r],a!==parseInt(a,10))throw new Error("all values in "+n+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(a,r+1)>-1||a>=0&&t.indexOf(-e.data.length+a)>-1||a<0&&t.indexOf(e.data.length+a)>-1)throw new Error("each index in "+n+" must be unique.")}}function l(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),s(e,t,"currentIndices"),"undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&s(e,n,"newIndices"),"undefined"!=typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function c(e,t,n){var r,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if(a=t[r],"object"!==("undefined"==typeof a?"undefined":_typeof(a))||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function u(e,t,n,r){var a=b.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"==typeof n)throw new Error("indices must be an integer or array of integers");s(e,n,"indices");for(var i in t){if(!Array.isArray(t[i])||t[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(a&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function d(e,t,n,r){var a,i,s,l,c,u=b.isPlainObject(r),d=[];Array.isArray(n)||(n=[n]),n=o(n,e.data.length-1);for(var p in t)for(var f=0;f<n.length;f++){if(a=e.data[n[f]],s=b.nestedProperty(a,p),i=s.get(),l=t[p][f],!Array.isArray(l))throw new Error("attribute: "+p+" index: "+f+" must be an array");if(!Array.isArray(i))throw new Error("cannot extend missing or non-array attribute: "+p);c=u?r[p][f]:r,v(c)||(c=-1),d.push({prop:s,target:i,insert:l,maxp:Math.floor(c)})}return d}function p(e,t,n,r,a,i){u(e,t,n,r);for(var o,s,l,c=d(e,t,n,r),p=[],f={},h={},g=0;g<c.length;g++)s=c[g].prop,l=c[g].maxp,o=a(c[g].target,c[g].insert),l>=0&&l<o.length&&(p=i(o,l)),l=c[g].target.length,s.set(o),Array.isArray(f[s.astr])||(f[s.astr]=[]),Array.isArray(h[s.astr])||(h[s.astr]=[]),f[s.astr].push(p),h[s.astr].push(l);return{update:f,maxPoints:h}}function f(e,t,n){function r(){return f.map(function(){})}function a(e){var t=y.Axes.id2name(e);c.indexOf(t)===-1&&c.push(t)}function i(e){return"LAYOUT"+e+".autorange"}function o(e){return"LAYOUT"+e+".range"}function s(n,a,i){if(Array.isArray(n))return void n.forEach(function(e){s(e,a,i)});if(!(n in t||I.hasParent(t,n))){var o;o="LAYOUT"===n.substr(0,6)?b.nestedProperty(e.layout,n.replace("LAYOUT","")):b.nestedProperty(p[f[i]],n),n in m||(m[n]=r()),void 0===m[n][i]&&(m[n][i]=o.get()),void 0!==a&&o.set(a)}}var l,c,u=e._fullLayout,d=e._fullData,p=e.data,f=I.coerceTraceIndices(e,n),h={docalc:!1,docalcAutorange:!1,doplot:!1,dostyle:!1,docolorbars:!1,autorangeOn:!1,clearCalc:!1,fullReplot:!1},g={},m={},v={},x=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","open","high","low","close","base","width","offset","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","contours.operation","contours.value","contours.type","contours.value[0]","contours.value[1]","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale","xcalendar","ycalendar","cumulative","cumulative.enabled","cumulative.direction","cumulative.currentbin","a0","da","b0","db","atype","btype","cheaterslope","carpet","sum"],w=["color","smoothing","title","titlefont","titlefont.size","titlefont.family","titlefont.color","titleoffset","type","autorange","rangemode","range","fixedrange","cheatertype","tickmode","nticks","tickvals","ticktext","ticks","mirror","ticklen","tickwidth","tickcolor","showticklabels","tickfont","tickfont.size","tickfont.family","tickfont.color","tickprefix","showtickprefix","ticksuffix","showticksuffix","showexponent","exponentformat","separatethousands","tickformat","categoryorder","categoryarray","labelpadding","labelprefix","labelsuffix","labelfont","labelfont.family","labelfont.size","labelfont.color","showline","linecolor","linewidth","gridcolor","gridwidth","showgrid","minorgridcount","minorgridwidth","minorgridcolor","startline","startlinecolor","startlinewidth","endline","endlinewidth","endlinecolor","tick0","dtick","arraytick0","arraydtick","hoverformat","tickangle"];for(l=0;l<w.length;l++)x.push("aaxis."+w[l]),x.push("baxis."+w[l]);for(l=0;l<f.length;l++)if(_.traceIs(d[f[l]],"box")){x.push("name");break}var S=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean","tickwidth"],A=["zmin","zmax","zauto","xgap","ygap","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],T=["type","x","y","x0","y0","orientation","xaxis","yaxis"],$=["zmin","zmax"],C=["xbins.start","xbins.end","xbins.size"],M=["ybins.start","ybins.end","ybins.size"],E=["contours.start","contours.end","contours.size"],P=["cartesian","pie","ternary"];u._basePlotModules.forEach(function(e){P.indexOf(e.name)===-1&&(h.docalc=!0)});for(var j in t){if(I.hasParent(t,j))throw new Error("cannot set "+j+"and a parent attribute simultaneously");var D,L,O,R,N,z=t[j];if(g[j]=z,"LAYOUT"!==j.substr(0,6)){for(m[j]=r(),l=0;l<f.length;l++)if(D=p[f[l]],L=d[f[l]],O=b.nestedProperty(D,j),R=O.get(),N=Array.isArray(z)?z[l%z.length]:z,void 0!==N){if($.indexOf(j)!==-1)s("zauto",!1,l);else if("colorscale"===j)s("autocolorscale",!1,l);else if("autocolorscale"===j)s("colorscale",void 0,l);else if("marker.colorscale"===j)s("marker.autocolorscale",!1,l);else if("marker.autocolorscale"===j)s("marker.colorscale",void 0,l);else if("zauto"===j)s($,void 0,l);else if(C.indexOf(j)!==-1)s("autobinx",!1,l);else if("autobinx"===j)s(C,void 0,l);else if(M.indexOf(j)!==-1)s("autobiny",!1,l);else if("autobiny"===j)s(M,void 0,l);else if(E.indexOf(j)!==-1)s("autocontour",!1,l);else if("autocontour"===j)s(E,void 0,l);else if(["x0","dx"].indexOf(j)!==-1&&L.x&&"scaled"!==L.xtype)s("xtype","scaled",l);else if(["y0","dy"].indexOf(j)!==-1&&L.y&&"scaled"!==L.ytype)s("ytype","scaled",l);else if("colorbar.thicknessmode"===j&&O.get()!==N&&["fraction","pixels"].indexOf(N)!==-1&&L.colorbar){var B=["top","bottom"].indexOf(L.colorbar.orient)!==-1?u.height-u.margin.t-u.margin.b:u.width-u.margin.l-u.margin.r;s("colorbar.thickness",L.colorbar.thickness*("fraction"===N?1/B:B),l)}else if("colorbar.lenmode"===j&&O.get()!==N&&["fraction","pixels"].indexOf(N)!==-1&&L.colorbar){var F=["top","bottom"].indexOf(L.colorbar.orient)!==-1?u.width-u.margin.l-u.margin.r:u.height-u.margin.t-u.margin.b;s("colorbar.len",L.colorbar.len*("fraction"===N?1/F:F),l)}else"colorbar.tick0"===j||"colorbar.dtick"===j?s("colorbar.tickmode","linear",l):"colorbar.tickmode"===j&&s(["colorbar.tick0","colorbar.dtick"],void 0,l);if("type"===j&&"pie"===N!=("pie"===R)){var H="x",U="y";"bar"!==N&&"bar"!==R||"h"!==D.orientation||(H="y",U="x"),b.swapAttrs(D,["?","?src"],"labels",H),b.swapAttrs(D,["d?","?0"],"label",H),b.swapAttrs(D,["?","?src"],"values",U),"pie"===R?(b.nestedProperty(D,"marker.color").set(b.nestedProperty(D,"marker.colors").get()),u._pielayer.selectAll("g.trace").remove()):_.traceIs(D,"cartesian")&&(b.nestedProperty(D,"marker.colors").set(b.nestedProperty(D,"marker.color").get()),v[D.xaxis||"x"]=!0,v[D.yaxis||"y"]=!0)}m[j][l]=R;var q=["swapxy","swapxyaxes","orientation","orientationaxes"];if(q.indexOf(j)!==-1){if("orientation"===j){if(O.set(N),O.get()===m[j][l])continue}else"orientationaxes"===j&&(D.orientation={v:"h",h:"v"}[L.orientation]);I.swapXYData(D)}else if(k.dataArrayContainers.indexOf(O.parts[0])!==-1)I.manageArrayContainers(O,N,m),h.docalc=!0;else{var V=(L._module||{}).attributes||{},G=b.nestedProperty(V,j).get()||b.nestedProperty(k.attributes,j).get()||{};G.valType||(h.docalc=!0),G.arrayOk&&(Array.isArray(N)||Array.isArray(R))&&(h.docalc=!0),"docalc"===G.editType&&(h.docalc=!0),O.set(N)}}if(["swapxyaxes","orientationaxes"].indexOf(j)!==-1&&y.Axes.swap(e,f),"orientationaxes"===j){var W=b.nestedProperty(e.layout,"hovermode");"x"===W.get()?W.set("y"):"y"===W.get()&&W.set("x")}f.indexOf(0)!==-1&&T.indexOf(j)!==-1&&(y.Axes.clearTypes(e,f),h.docalc=!0),["autobinx","autobiny","zauto"].indexOf(j)!==-1&&N===!1||(h.dostyle=!0),(["colorbar","line"].indexOf(O.parts[0])!==-1||"marker"===O.parts[0]&&"colorbar"===O.parts[1])&&(h.docolorbars=!0);var Y=j.indexOf("["),X=Y===-1?j:j.substr(0,Y);if(x.indexOf(X)!==-1){if(["orientation","type"].indexOf(j)!==-1){for(c=[],l=0;l<f.length;l++){var Q=p[f[l]];_.traceIs(Q,"cartesian")&&(a(Q.xaxis||"x"),a(Q.yaxis||"y"),"type"===j&&s(["autobinx","autobiny"],!0,l))}s(c.map(i),!0,0),s(c.map(o),[0,1],0)}h.docalc=!0}else A.indexOf(X)!==-1?h.doplot=!0:0===X.indexOf("aaxis")||0===X.indexOf("baxis")?h.doplot=!0:S.indexOf(X)!==-1&&(h.docalcAutorange=!0)}else O=b.nestedProperty(e.layout,j.replace("LAYOUT","")),m[j]=[O.get()],O.set(Array.isArray(z)?z[0]:z),h.docalc=!0}y.Axes.list(e).forEach(function(e){e.autorange&&(h.autorangeOn=!0)});var K=Object.keys(v);e:for(l=0;l<K.length;l++){for(var Z=K[l],J=Z.charAt(0),ee=J+"axis",te=0;te<p.length;te++)if(_.traceIs(p[te],"cartesian")&&(p[te][ee]||J)===Z)continue e;s("LAYOUT"+y.Axes.id2name(Z),null,0)}return(h.docalc||h.docalcAutorange&&h.autorangeOn)&&(h.clearCalc=!0),(h.docalc||h.doplot||h.docalcAutorange)&&(h.fullReplot=!0),{flags:h,undoit:m,redoit:g,traces:f,eventData:b.extendDeepNoArrays([],[g,f])}}function h(e,t){function n(e,r){if(Array.isArray(e))return void e.forEach(function(e){n(e,r)});if(!(e in t||I.hasParent(t,e))){var a=b.nestedProperty(l,e);e in x||(x[e]=a.get()),void 0!==r&&a.set(r)}}function r(t,n){if(!b.isPlainObject(t))return!1;var r=t[n+"ref"]||n,a=y.Axes.getFromId(e,r);return a||r.charAt(0)!==n||(a=y.Axes.getFromId(e,n)),(a||{}).autorange}function a(e){var t=L.name2id(e.split(".")[0]);w[t]=1}var i,o,s,l=e.layout,c=e._fullLayout,u=Object.keys(t),d=y.Axes.list(e),p={};for(o=0;o<u.length;o++)if(0===u[o].indexOf("allaxes")){for(s=0;s<d.length;s++){var f=d[s]._id.substr(1),h=f.indexOf("scene")!==-1?f+".":"",g=u[o].replace("allaxes",h+d[s]._name);t[g]||(t[g]=t[u[o]])}delete t[u[o]]}var m={dolegend:!1,doticks:!1,dolayoutstyle:!1,doplot:!1,docalc:!1,domodebar:!1,docamera:!1,layoutReplot:!1},v={},x={},w={};for(var S in t){if(I.hasParent(t,S))throw new Error("cannot set "+S+"and a parent attribute simultaneously");var A=b.nestedProperty(l,S),T=t[S],$=A.parts.length,C="string"==typeof A.parts[$-1]?$-1:$-2,M=A.parts[0],P=A.parts[C],D=A.parts[C-1]+"."+P,O=A.parts.slice(0,C).join("."),R=b.nestedProperty(e.layout,O).get(),N=b.nestedProperty(c,O).get();if(void 0!==T){if(v[S]=T,x[S]="reverse"===P?T:A.get(),["width","height"].indexOf(S)!==-1&&null===T?c[S]=e._initialAutoSize[S]:D.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?(n(O+".autorange",!1),a(D)):D.match(/^[xyz]axis[0-9]*\.autorange$/)?(n([O+".range[0]",O+".range[1]"],void 0),a(D)):D.match(/^aspectratio\.[xyz]$/)?n(M+".aspectmode","manual"):D.match(/^aspectmode$/)?n([O+".x",O+".y",O+".z"],void 0):"tick0"===P||"dtick"===P?n(O+".tickmode","linear"):"tickmode"===P?n([O+".tick0",O+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(P)&&!Object.keys(T||{}).length?m.docalc=!0:/[xy]axis[0-9]*\.categoryorder$/.test(D)?m.docalc=!0:/[xy]axis[0-9]*\.categoryarray/.test(D)&&(m.docalc=!0),D.indexOf("rangeslider")!==-1&&(m.docalc=!0),"type"===P){var z=R,B="linear"===N.type&&"log"===T,F="log"===N.type&&"linear"===T;if(B||F){if(z&&z.range)if(N.autorange)B&&(z.range=z.range[1]>z.range[0]?[1,2]:[2,1]);else{var H=z.range[0],U=z.range[1];B?(H<=0&&U<=0&&n(O+".autorange",!0),H<=0?H=U/1e6:U<=0&&(U=H/1e6),n(O+".range[0]",Math.log(H)/Math.LN10),n(O+".range[1]",Math.log(U)/Math.LN10)):(n(O+".range[0]",Math.pow(10,H)),n(O+".range[1]",Math.pow(10,U)))}else n(O+".autorange",!0);_.getComponentMethod("annotations","convertCoords")(e,N,T,n),_.getComponentMethod("images","convertCoords")(e,N,T,n)}else n(O+".autorange",!0)}else if(P.match(j.AX_NAME_PATTERN)){var q=b.nestedProperty(c,S).get(),V=(T||{}).type;V&&"-"!==V||(V="linear"),_.getComponentMethod("annotations","convertCoords")(e,q,V,n),_.getComponentMethod("images","convertCoords")(e,q,V,n)}var G=E.containerArrayMatch(S);if(G){i=G.array,o=G.index;var W=G.property,Y=b.nestedProperty(l,i),X=(Y||[])[o]||{};if(""===o)S.indexOf("updatemenus")===-1&&(m.docalc=!0);else if(""===W){var Q=T;E.isAddVal(T)?x[S]=null:E.isRemoveVal(T)?(x[S]=X,Q=X):b.warn("unrecognized full object value",t),(r(Q,"x")||r(Q,"y")&&S.indexOf("updatemenus")===-1)&&(m.docalc=!0)}else!r(X,"x")&&!r(X,"y")||b.containsAny(S,["color","opacity","align","dash","updatemenus"])||(m.docalc=!0);p[i]||(p[i]={});var K=p[i][o];K||(K=p[i][o]={}),K[W]=T,delete t[S]}else if("reverse"===P)R.range?R.range.reverse():(n(O+".autorange",!0),R.range=[1,0]),N.autorange?m.docalc=!0:m.doplot=!0;else{var Z=String(A.parts[1]||"");0===M.indexOf("scene")?"camera"===A.parts[1]?m.docamera=!0:m.doplot=!0:0===M.indexOf("geo")?m.doplot=!0:0===M.indexOf("ternary")?m.doplot=!0:"paper_bgcolor"===S?m.doplot=!0:"margin"===M||"autorange"===Z||"rangemode"===Z||"type"===Z||"domain"===Z||"fixedrange"===Z||"scaleanchor"===Z||"scaleratio"===Z||S.indexOf("calendar")!==-1||S.match(/^(bar|box|font)/)?m.docalc=!0:!c._has("gl2d")||S.indexOf("axis")===-1&&"plot_bgcolor"!==S?"hiddenlabels"===S?m.docalc=!0:M.indexOf("legend")!==-1?m.dolegend=!0:S.indexOf("title")!==-1?m.doticks=!0:M.indexOf("bgcolor")!==-1?m.dolayoutstyle=!0:$>1&&b.containsAny(Z,["tick","exponent","grid","zeroline"])?m.doticks=!0:S.indexOf(".linewidth")!==-1&&S.indexOf("axis")!==-1?m.doticks=m.dolayoutstyle=!0:$>1&&Z.indexOf("line")!==-1?m.dolayoutstyle=!0:$>1&&"mirror"===Z?m.doticks=m.dolayoutstyle=!0:"margin.pad"===S?m.doticks=m.dolayoutstyle=!0:["hovermode","dragmode"].indexOf(S)!==-1||S.indexOf("spike")!==-1?m.domodebar=!0:["height","width","autosize"].indexOf(S)===-1&&(m.doplot=!0):m.doplot=!0,A.set(T)}}}for(i in p){var J=E.applyContainerArrayChanges(e,b.nestedProperty(l,i),p[i],m);J||(m.doplot=!0)}var ee=c._axisConstraintGroups;for(var te in w)for(o=0;o<ee.length;o++){var ne=ee[o];if(ne[te]){m.docalc=!0;for(var re in ne)w[re]||(L.getFromId(e,re)._constraintShrinkable=!0)}}var ae=c.width,ie=c.height;e.layout.autosize&&k.plotAutoSize(e,e.layout,c);var oe=t.height||t.width||c.width!==ae||c.height!==ie;return oe&&(m.docalc=!0),(m.doplot||m.docalc)&&(m.layoutReplot=!0),{flags:m,undoit:x,redoit:v,eventData:b.extendDeep({},v)}}function g(e){var t=m.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];m.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=b.randstr(r)}n._paperdiv.selectAll(".main-svg").attr(C.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=a.append("g").classed("imagelayer",!0),n._shapeLowerLayer=a.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0);var i=n._paper.append("g").classed("layer-above",!0);n._imageUpperLayer=i.append("g").classed("imagelayer",!0),n._shapeUpperLayer=i.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}var m=e("d3"),v=e("fast-isnumeric"),y=e("../plotly"),b=e("../lib"),x=e("../lib/events"),w=e("../lib/queue"),_=e("../registry"),k=e("../plots/plots"),S=e("../plots/polar"),A=e("../plots/cartesian/graph_interact"),T=e("../components/drawing"),$=e("../components/errorbars"),C=e("../constants/xmlns_namespaces"),M=e("../lib/svg_text_utils"),E=e("./manage_arrays"),I=e("./helpers"),P=e("./subroutines"),j=e("../plots/cartesian/constants"),D=e("../plots/cartesian/constraints"),L=e("../plots/cartesian/axis_ids");y.plot=function(e,t,n,r){function o(){if(v)return y.addFrames(e,v)}function s(){for(var t=M._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);return b.syncOrAsync([P.layoutStyles,p,A],e)}function l(){var t,n,r,a=e.calcdata;for(_.getComponentMethod("legend","draw")(e),_.getComponentMethod("rangeselector","draw")(e),_.getComponentMethod("sliders","draw")(e),_.getComponentMethod("updatemenus","draw")(e),t=0;t<a.length;t++)n=a[t],r=n[0].trace,r.visible===!0&&r._module.colorbar?r._module.colorbar(e,n):k.autoMargin(e,"cb"+r.uid);return k.doAutoMargin(e),k.previousPromises(e)}function c(){var t=JSON.stringify(M._size)===L?[]:[l,P.layoutStyles];return t=t.concat(A),b.syncOrAsync(t,e)}function u(){if(E){for(var t,n,r=k.getSubplotIds(M,"cartesian"),a=M._modules,i=0;i<r.length;i++){t=M._plots[r[i]];for(var o=0;o<a.length;o++)n=a[o],n.setPositions&&n.setPositions(e,t)}return $.calc(e),b.syncOrAsync([_.getComponentMethod("shapes","calcAutorange"),_.getComponentMethod("annotations","calcAutorange"),d,_.getComponentMethod("rangeslider","calcAutorange")],e)}}function d(){if(!e._transitioning){for(var t=y.Axes.list(e,"",!0),n=0;n<t.length;n++)y.Axes.doAutoRange(t[n]);D(e),C&&y.Axes.saveRangeInitial(e)}}function p(){return y.Axes.doTicks(e,"redraw")}function f(){var t,n=e.calcdata,r=M._infolayer.selectAll("g.rangeslider-container");for(t=0;t<n.length;t++){var a=n[t][0].trace,i=a.visible===!0,o=a.uid;if(!i||!_.traceIs(a,"2dMap")){var s=".hm"+o+",.contour"+o+",#clip"+o;M._paper.selectAll(s).remove(),r.selectAll(s).remove()}i&&a._module.colorbar||M._infolayer.selectAll(".cb"+o).remove()}var l=M._basePlotModules;for(t=0;t<l.length;t++)l[t].plot(e);var c=M._paper.selectAll(".layer-subplot");return M._shapeSubplotLayers=c.selectAll(".shapelayer"),k.style(e),_.getComponentMethod("shapes","draw")(e),_.getComponentMethod("annotations","draw")(e),k.addLinks(e),M._replotting=!1,k.previousPromises(e)}function h(){_.getComponentMethod("shapes","draw")(e),_.getComponentMethod("images","draw")(e),_.getComponentMethod("annotations","draw")(e),_.getComponentMethod("legend","draw")(e),_.getComponentMethod("rangeslider","draw")(e),_.getComponentMethod("rangeselector","draw")(e),_.getComponentMethod("sliders","draw")(e),_.getComponentMethod("updatemenus","draw")(e)}var v;if(e=I.getGraphDiv(e),x.init(e),b.isPlainObject(t)){var w=t;t=w.data,n=w.layout,r=w.config,v=w.frames}var S=x.triggerHandler(e,"plotly_beforeplot",[t,n,r]);if(S===!1)return Promise.reject();t||n||b.isPlotDiv(e)||b.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),a(e,r),n||(n={}),m.select(e).classed("js-plotly-plot",!0),T.makeTester(),e._promises=[];var C=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(I.cleanData(t,e.data),C?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!C||(e.layout=I.cleanLayout(n)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,k.supplyDefaults(e);var M=e._fullLayout;if(t&&t[0]&&t[0].r)return i(e,t,n);M._replotting=!0,C&&g(e),e.framework!==g&&(e.framework=g,g(e)),T.initGradients(e),C&&y.Axes.saveShowSpikeInitial(e);var E=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;E&&k.doCalcdata(e);for(var j=0;j<e.calcdata.length;j++)e.calcdata[j][0].trace=e._fullData[j];var L=JSON.stringify(M._size),O=[k.previousPromises,o,s,l,c,u,P.layoutStyles,p,f,h,k.rehover];return b.syncOrAsync(O,e),Promise.all(e._promises).then(function(){return e.emit("plotly_afterplot"),e})},y.redraw=function(e){if(e=I.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return I.cleanData(e.data,e.data),I.cleanLayout(e.layout),e.calcdata=void 0,y.plot(e).then(function(){return e.emit("plotly_redraw"),
e})},y.newPlot=function(e,t,n,r){return e=I.getGraphDiv(e),k.cleanPlot([],{},e._fullData||{},e._fullLayout||{}),k.purge(e),y.plot(e,t,n,r)},y.extendTraces=function O(e,t,n,r){e=I.getGraphDiv(e);var a=p(e,t,n,r,function(e,t){return e.concat(t)},function(e,t){return e.splice(0,e.length-t)}),i=y.redraw(e),o=[e,a.update,n,a.maxPoints];return w.add(e,y.prependTraces,o,O,arguments),i},y.prependTraces=function R(e,t,n,r){e=I.getGraphDiv(e);var a=p(e,t,n,r,function(e,t){return t.concat(e)},function(e,t){return e.splice(t,e.length)}),i=y.redraw(e),o=[e,a.update,n,a.maxPoints];return w.add(e,y.extendTraces,o,R,arguments),i},y.addTraces=function N(e,t,n){e=I.getGraphDiv(e);var r,a,i=[],o=y.deleteTraces,s=N,u=[e,i],d=[e,t];for(c(e,t,n),Array.isArray(t)||(t=[t]),t=t.map(function(e){return b.extendFlat({},e)}),I.cleanData(t,e.data),r=0;r<t.length;r++)e.data.push(t[r]);for(r=0;r<t.length;r++)i.push(-t.length+r);if("undefined"==typeof n)return a=y.redraw(e),w.add(e,o,u,s,d),a;Array.isArray(n)||(n=[n]);try{l(e,i,n)}catch(p){throw e.data.splice(e.data.length-t.length,t.length),p}return w.startSequence(e),w.add(e,o,u,s,d),a=y.moveTraces(e,i,n),w.stopSequence(e),a},y.deleteTraces=function z(e,t){e=I.getGraphDiv(e);var n,r,a=[],i=y.addTraces,l=z,c=[e,a,t],u=[e,t];if("undefined"==typeof t)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(t)||(t=[t]),s(e,t,"indices"),t=o(t,e.data.length-1),t.sort(b.sorterDes),n=0;n<t.length;n+=1)r=e.data.splice(t[n],1)[0],a.push(r);var d=y.redraw(e);return w.add(e,i,c,l,u),d},y.moveTraces=function B(e,t,n){e=I.getGraphDiv(e);var r,a=[],i=[],s=B,c=B,u=[e,n,t],d=[e,t,n];if(l(e,t,n),t=Array.isArray(t)?t:[t],"undefined"==typeof n)for(n=[],r=0;r<t.length;r++)n.push(-t.length+r);for(n=Array.isArray(n)?n:[n],t=o(t,e.data.length-1),n=o(n,e.data.length-1),r=0;r<e.data.length;r++)t.indexOf(r)===-1&&a.push(e.data[r]);for(r=0;r<t.length;r++)i.push({newIndex:n[r],trace:e.data[t[r]]});for(i.sort(function(e,t){return e.newIndex-t.newIndex}),r=0;r<i.length;r+=1)a.splice(i[r].newIndex,0,i[r].trace);e.data=a;var p=y.redraw(e);return w.add(e,s,u,c,d),p},y.restyle=function F(e,t,n,r){e=I.getGraphDiv(e),I.clearPromiseQueue(e);var a={};if("string"==typeof t)a[t]=n;else{if(!b.isPlainObject(t))return b.warn("Restyle fail.",t,n,r),Promise.reject();a=b.extendFlat({},t),void 0===r&&(r=n)}Object.keys(a).length&&(e.changed=!0);var i=f(e,a,r),o=i.flags;o.clearCalc&&(e.calcdata=void 0);var s=[];o.fullReplot?s.push(y.plot):(s.push(k.previousPromises),k.supplyDefaults(e),o.dostyle&&s.push(P.doTraceStyle),o.docolorbars&&s.push(P.doColorBars)),s.push(k.rehover),w.add(e,F,[e,i.undoit,i.traces],F,[e,i.redoit,i.traces]);var l=b.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve()),l.then(function(){return e.emit("plotly_restyle",i.eventData),e})},y.relayout=function H(e,t,n){if(e=I.getGraphDiv(e),I.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var r={};if("string"==typeof t)r[t]=n;else{if(!b.isPlainObject(t))return b.warn("Relayout fail.",t,n),Promise.reject();r=b.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var a=h(e,r),i=a.flags;i.docalc&&(e.calcdata=void 0);var o=[k.previousPromises];i.layoutReplot?o.push(P.layoutReplot):Object.keys(r).length&&(k.supplyDefaults(e),i.dolegend&&o.push(P.doLegend),i.dolayoutstyle&&o.push(P.layoutStyles),i.doticks&&o.push(P.doTicksRelayout),i.domodebar&&o.push(P.doModeBar),i.docamera&&o.push(P.doCamera)),o.push(k.rehover),w.add(e,H,[e,a.undoit],H,[e,a.redoit]);var s=b.syncOrAsync(o,e);return s&&s.then||(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",a.eventData),e})},y.update=function U(e,t,n,r){if(e=I.getGraphDiv(e),I.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);b.isPlainObject(t)||(t={}),b.isPlainObject(n)||(n={}),Object.keys(t).length&&(e.changed=!0),Object.keys(n).length&&(e.changed=!0);var a=f(e,b.extendFlat({},t),r),i=a.flags,o=h(e,b.extendFlat({},n)),s=o.flags;(i.clearCalc||s.docalc)&&(e.calcdata=void 0);var l=[];if(i.fullReplot&&s.layoutReplot){var c=e.data,u=e.layout;e.data=void 0,e.layout=void 0,l.push(function(){return y.plot(e,c,u)})}else i.fullReplot?l.push(y.plot):s.layoutReplot?l.push(P.layoutReplot):(l.push(k.previousPromises),k.supplyDefaults(e),i.dostyle&&l.push(P.doTraceStyle),i.docolorbars&&l.push(P.doColorBars),s.dolegend&&l.push(P.doLegend),s.dolayoutstyle&&l.push(P.layoutStyles),s.doticks&&l.push(P.doTicksRelayout),s.domodebar&&l.push(P.doModeBar),s.doCamera&&l.push(P.doCamera));l.push(k.rehover),w.add(e,U,[e,a.undoit,o.undoit,a.traces],U,[e,a.redoit,o.redoit,a.traces]);var d=b.syncOrAsync(l,e);return d&&d.then||(d=Promise.resolve(e)),d.then(function(){return e.emit("plotly_update",{data:a.eventData,layout:o.eventData}),e})},y.animate=function(e,t,n){function r(e){return Array.isArray(s)?e>=s.length?s[0]:s[e]:s}function a(e){return Array.isArray(l)?e>=l.length?l[0]:l[e]:l}function i(e,t){var n=0;return function(){if(e&&++n===t)return e()}}if(e=I.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var o=e._transitionData;o._frameQueue||(o._frameQueue=[]),n=k.supplyAnimationDefaults(n);var s=n.transition,l=n.frame;return void 0===o._frameWaitingCnt&&(o._frameWaitingCnt=0),new Promise(function(l,c){function u(){if(0!==o._frameQueue.length){for(;o._frameQueue.length;){var t=o._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function d(t){if(0!==t.length){for(var s=0;s<t.length;s++){var u;u="byname"===t[s].type?k.computeFrame(e,t[s].name):t[s].data;var d=a(s),p=r(s);p.duration=Math.min(p.duration,d.duration);var f={frame:u,name:t[s].name,frameOpts:d,transitionOpts:p};s===t.length-1&&(f.onComplete=i(l,2),f.onInterrupt=c),o._frameQueue.push(f)}"immediate"===n.mode&&(o._lastFrameAt=-(1/0)),o._animationRaf||h()}}function p(){e.emit("plotly_animated"),window.cancelAnimationFrame(o._animationRaf),o._animationRaf=null}function f(){o._currentFrame&&o._currentFrame.onComplete&&o._currentFrame.onComplete();var t=o._currentFrame=o._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,o._lastFrameAt=Date.now(),o._timeToNext=t.frameOpts.duration,k.transition(e,t.frame.data,t.frame.layout,I.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else p()}function h(){e.emit("plotly_animating"),o._lastFrameAt=-(1/0),o._timeToNext=0,o._runningTransitions=0,o._currentFrame=null;var t=function n(){o._animationRaf=window.requestAnimationFrame(n),Date.now()-o._lastFrameAt>o._timeToNext&&f()};t()}function g(e){return Array.isArray(s)?y>=s.length?e.transitionOpts=s[y]:e.transitionOpts=s[0]:e.transitionOpts=s,y++,e}var m,v,y=0,x=[],w=void 0===t||null===t,_=Array.isArray(t),S=!w&&!_&&b.isPlainObject(t);if(S)x.push({type:"object",data:g(b.extendFlat({},t))});else if(w||["string","number"].indexOf("undefined"==typeof t?"undefined":_typeof(t))!==-1)for(m=0;m<o._frames.length;m++)v=o._frames[m],v&&(w||String(v.group)===String(t))&&x.push({type:"byname",name:String(v.name),data:g({name:v.name})});else if(_)for(m=0;m<t.length;m++){var A=t[m];["number","string"].indexOf("undefined"==typeof A?"undefined":_typeof(A))!==-1?(A=String(A),x.push({type:"byname",name:A,data:g({name:A})})):b.isPlainObject(A)&&x.push({type:"object",data:g(b.extendFlat({},A))})}for(m=0;m<x.length;m++)if(v=x[m],"byname"===v.type&&!o._frameHash[v.data.name])return b.warn('animate failure: frame not found: "'+v.data.name+'"'),void c();["next","immediate"].indexOf(n.mode)!==-1&&u(),"reverse"===n.direction&&x.reverse();var T=e._fullLayout._currentFrame;if(T&&n.fromcurrent){var $=-1;for(m=0;m<x.length;m++)if(v=x[m],"byname"===v.type&&v.name===T){$=m;break}if($>0&&$<x.length-1){var C=[];for(m=0;m<x.length;m++)v=x[m],("byname"!==x[m].type||m>$)&&C.push(v);x=C}}x.length>0?d(x):(e.emit("plotly_animated"),l())})},y.addFrames=function(e,t,n){e=I.getGraphDiv(e);var r=0;if(null===t||void 0===t)return Promise.resolve();if(!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var a,i,o,s,l=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var u=l.length+2*t.length,d=[];for(a=t.length-1;a>=0;a--)if(b.isPlainObject(t[a])){var p=(c[t[a].name]||{}).name,f=t[a].name;p&&f&&"number"==typeof f&&c[p]&&(r++,b.warn('addFrames: overwriting frame "'+c[p].name+'" with a frame whose name of type "number" also equates to "'+p+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),r>5&&b.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),d.push({frame:k.supplyFrameDefaults(t[a]),index:n&&void 0!==n[a]&&null!==n[a]?n[a]:u+a})}d.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var h=[],g=[],m=l.length;for(a=d.length-1;a>=0;a--){if(i=d[a].frame,"number"==typeof i.name&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);h.push({type:"replace",index:o,value:i}),g.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(d[a].index,m)),h.push({type:"insert",index:s,value:i}),g.unshift({type:"delete",index:s}),m++}var v=k.modifyFrames,y=k.modifyFrames,x=[e,g],_=[e,h];return w&&w.add(e,v,x,y,_),k.modifyFrames(e,h)},y.deleteFrames=function(e,t){if(e=I.getGraphDiv(e),!b.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,a=e._transitionData._frames,i=[],o=[];if(!t)for(t=[],n=0;n<a.length;n++)t.push(n);for(t=t.slice(0),t.sort(),n=t.length-1;n>=0;n--)r=t[n],i.push({type:"delete",index:r}),o.unshift({type:"insert",index:r,value:a[r]});var s=k.modifyFrames,l=k.modifyFrames,c=[e,o],u=[e,i];return w&&w.add(e,s,c,l,u),k.modifyFrames(e,i)},y.purge=function(e){e=I.getGraphDiv(e);var t=e._fullLayout||{},n=e._fullData||[];return k.cleanPlot([],{},n,t),k.purge(e),x.purge(e),t._container&&t._container.remove(),delete e._context,delete e._replotPending,delete e._mouseDownTime,delete e._legendMouseDownTime,delete e._hmpixcount,delete e._hmlumcount,e}},{"../components/drawing":451,"../components/errorbars":457,"../constants/xmlns_namespaces":526,"../lib":538,"../lib/events":533,"../lib/queue":550,"../lib/svg_text_utils":555,"../plotly":568,"../plots/cartesian/axis_ids":576,"../plots/cartesian/constants":578,"../plots/cartesian/constraints":580,"../plots/cartesian/graph_interact":582,"../plots/plots":601,"../plots/polar":604,"../registry":608,"./helpers":558,"./manage_arrays":559,"./subroutines":565,d3:260,"fast-isnumeric":263}],561:[function(e,t,n){"use strict";function r(e,n){try{e._fullLayout._paper.style("background",n)}catch(r){t.exports.logging>0}}t.exports={staticPlot:!1,editable:!1,autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:r,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},{}],562:[function(e,t,n){"use strict";function r(e){var t,n;"area"===e?(t={attributes:b},n={}):(t=f.modules[e]._module,n=t.basePlotModule);var r={};r.type=null,_(r,g),_(r,t.attributes),n.attributes&&_(r,n.attributes),Object.keys(f.componentsRegistry).forEach(function(t){var n=f.componentsRegistry[t];n.schema&&n.schema.traces&&n.schema.traces[e]&&Object.keys(n.schema.traces[e]).forEach(function(t){p(r,n.schema.traces[e][t],t)})}),r.type=e;var a={meta:t.meta||{},attributes:s(r)};if(t.layoutAttributes){var i={};_(i,t.layoutAttributes),a.layoutAttributes=s(i)}return a}function a(){var e={};return _(e,m),Object.keys(f.subplotsRegistry).forEach(function(t){var n=f.subplotsRegistry[t];if(n.layoutAttributes)if("cartesian"===n.name)d(e,n,"xaxis"),d(e,n,"yaxis");else{var r="subplot"===n.attr?n.name:n.attr;d(e,n,r)}}),e=u(e),Object.keys(f.componentsRegistry).forEach(function(t){var n=f.componentsRegistry[t];n.layoutAttributes&&(n.schema&&n.schema.layout?Object.keys(n.schema.layout).forEach(function(t){p(e,n.schema.layout[t],t)}):p(e,n.layoutAttributes,n.name))}),{layoutAttributes:s(e)}}function i(e){var t=f.transformsRegistry[e],n=_({},t.attributes);return Object.keys(f.componentsRegistry).forEach(function(t){var r=f.componentsRegistry[t];r.schema&&r.schema.transforms&&r.schema.transforms[e]&&Object.keys(r.schema.transforms[e]).forEach(function(t){p(n,r.schema.transforms[e][t],t)})}),{attributes:s(n)}}function o(){var e={frames:h.extendDeep({},v)};return s(e),e.frames}function s(e){return l(e),c(e),e}function l(e){function t(e){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",e,"."].join(" ")}}function r(e,r,a){n.isValObject(e)?"data_array"===e.valType?(e.role="data",a[r+"src"]=t(r)):e.arrayOk===!0&&(a[r+"src"]=t(r)):h.isPlainObject(e)&&(e.role="object")}n.crawl(e,r)}function c(e){function t(e,t,n){if(e){var r=e[S];r&&(delete e[S],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}n.crawl(e,t)}function u(e){return w(e,{radialaxis:x.radialaxis,angularaxis:x.angularaxis}),w(e,x.layout),e}function d(e,t,n){var r=h.nestedProperty(e,n),a=_({},t.layoutAttributes);a[k]=!0,r.set(a)}function p(e,t,n){var r=h.nestedProperty(e,n);r.set(_(r.get()||{},t))}var f=e("../registry"),h=e("../lib"),g=e("../plots/attributes"),m=e("../plots/layout_attributes"),v=e("../plots/frame_attributes"),y=e("../plots/animation_attributes"),b=e("../plots/polar/area_attributes"),x=e("../plots/polar/axis_attributes"),w=h.extendFlat,_=h.extendDeep,k="_isSubplotObj",S="_isLinkedToArray",A="_arrayAttrRegexps",T="_deprecated",$=[k,S,A,T];n.IS_SUBPLOT_OBJ=k,n.IS_LINKED_TO_ARRAY=S,n.DEPRECATED=T,n.UNDERSCORE_ATTRS=$,n.get=function(){var e={};f.allTypes.concat("area").forEach(function(t){e[t]=r(t)});var t={};return Object.keys(f.transformsRegistry).forEach(function(e){t[e]=i(e)}),{defs:{valObjects:h.valObjects,metaKeys:$.concat(["description","role"])},traces:e,layout:a(),transforms:t,frames:o(),animation:s(y)}},n.crawl=function(e,t,r){var a=r||0;Object.keys(e).forEach(function(r){var i=e[r];$.indexOf(r)===-1&&(t(i,r,e,a),n.isValObject(i)||h.isPlainObject(i)&&n.crawl(i,t,a+1))})},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){function t(t,n,o,s){i=i.slice(0,s).concat([n]);var l=t&&("data_array"===t.valType||t.arrayOk===!0);if(l){var c=r(i),u=h.nestedProperty(e,c).get();Array.isArray(u)&&a.push(c)}}function r(e){return e.join(".")}var a=[],i=[];if(n.crawl(e._module.attributes,t),e.transforms)for(var o=e.transforms,s=0;s<o.length;s++){var l=o[s];i=["transforms["+s+"]"],n.crawl(l._module.attributes,t,1)}return e._fullInput&&(n.crawl(e._fullInput._module.attributes,t),a=h.filterUnique(a)),a}},{"../lib":538,"../plots/animation_attributes":569,"../plots/attributes":571,"../plots/frame_attributes":598,"../plots/layout_attributes":599,"../plots/polar/area_attributes":602,"../plots/polar/axis_attributes":603,"../registry":608}],563:[function(e,t,n){"use strict";function r(e){o.register(e,e.name,e.categories,e.meta),o.subplotsRegistry[e.basePlotModule.name]||o.registerSubplot(e.basePlotModule)}function a(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,n="function"==typeof e.transform,r="function"==typeof e.calcTransform;if(!n&&!r)throw new Error(t+" is missing a *transform* or *calcTransform* method.");n&&r&&s.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s.isPlainObject(e.attributes)||s.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&s.log(t+" registered without a *supplyDefaults* method."),o.transformsRegistry[e.name]=e}function i(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");o.registerComponent(e)}var o=e("../registry"),s=e("../lib");t.exports=function(e){if(!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":r(n);break;case"transform":a(n);break;case"component":i(n);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},{"../lib":538,"../registry":608}],564:[function(e,t,n){"use strict";var r=e("../plotly"),a=e("../lib");t.exports=function(e){return a.extendFlat(r.defaultConfig,e)}},{"../lib":538,"../plotly":568}],565:[function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++){var a=n[r][0],i=n[r][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&i[0]<t[1]&&i[1]>t[0])return!0}return!1}var a=e("d3"),i=e("../plotly"),o=e("../registry"),s=e("../plots/plots"),l=e("../lib"),c=e("../components/color"),u=e("../components/drawing"),d=e("../components/titles"),p=e("../components/modebar"),f=e("../plots/cartesian/graph_interact");n.layoutStyles=function(e){return l.syncOrAsync([s.doAutoMargin,n.lsInner],e)},n.lsInner=function(e){var t,o=e._fullLayout,s=o._size,l=i.Axes.list(e);for(t=0;t<l.length;t++)l[t]._linepositions={};o._paperdiv.style({width:o.width+"px",height:o.height+"px"}).selectAll(".main-svg").call(u.setSize,o.width,o.height),e._context.setBackground(e,o.paper_bgcolor);var d=o._paper.selectAll("g.subplot"),f=[],h=[];d.each(function(t){var n=o._plots[t];if(n.mainplot)return n.bg&&n.bg.remove(),void(n.bg=void 0);var a=i.Axes.getFromId(e,t,"x"),s=i.Axes.getFromId(e,t,"y"),l=a.domain,c=s.domain,u=[];r(l,c,h)?u=[0]:(f.push(t),h.push([l,c]));var d=n.plotgroup.selectAll(".bg").data(u);d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(){n.bg=d;var e=n.plotgroup.node();e.insertBefore(this,e.childNodes[0])})});var g=o._bgLayer.selectAll(".bg").data(f);g.enter().append("rect").classed("bg",!0),g.exit().remove(),g.each(function(e){o._plots[e].bg=a.select(this)});var m=[];return d.each(function(t){var n=o._plots[t],r=i.Axes.getFromId(e,t,"x"),a=i.Axes.getFromId(e,t,"y");r.setScale(),a.setScale(),n.bg&&n.bg.call(u.setRect,r._offset-s.p,a._offset-s.p,r._length+2*s.p,a._length+2*s.p).call(c.fill,o.plot_bgcolor).style("stroke-width",0),n.clipId="clip"+o._uid+t+"plot";var l=o._defs.selectAll("g.clips").selectAll("#"+n.clipId).data([0]);l.enter().append("clipPath").attr({"class":"plotclip",id:n.clipId}).append("rect"),l.selectAll("rect").attr({width:r._length,height:a._length}),n.plot.call(u.setTranslate,r._offset,a._offset),n.plot.call(u.setClipUrl,n.clipId);var d=u.crispRound(e,r.linewidth,1),p=u.crispRound(e,a.linewidth,1),f=s.p+p,h="M"+-f+",",g="h"+(r._length+2*f),v="free"===r.anchor&&m.indexOf(r._id)===-1,y=s.h*(1-(r.position||0))+d/2%1,b=r.anchor===a._id&&(r.mirror||"top"!==r.side)||"all"===r.mirror||"allticks"===r.mirror||r.mirrors&&r.mirrors[a._id+"bottom"],x=a._length+s.p+d/2,w=r.anchor===a._id&&(r.mirror||"top"===r.side)||"all"===r.mirror||"allticks"===r.mirror||r.mirrors&&r.mirrors[a._id+"top"],_=-s.p-d/2,k=s.p,S=b?0:d,A=w?0:d,T=","+(-k-A)+"v"+(a._length+2*k+A+S),$="free"===a.anchor&&m.indexOf(a._id)===-1,C=s.w*(a.position||0)+p/2%1,M=a.anchor===r._id&&(a.mirror||"right"!==a.side)||"all"===a.mirror||"allticks"===a.mirror||a.mirrors&&a.mirrors[r._id+"left"],E=-s.p-p/2,I=a.anchor===r._id&&(a.mirror||"right"===a.side)||"all"===a.mirror||"allticks"===a.mirror||a.mirrors&&a.mirrors[r._id+"right"],P=r._length+s.p+p/2;r._linepositions[t]=[b?x:void 0,w?_:void 0,v?y:void 0],r.anchor===a._id?r._linepositions[t][3]="top"===r.side?_:x:v&&(r._linepositions[t][3]=y),a._linepositions[t]=[M?E:void 0,I?P:void 0,$?C:void 0],a.anchor===r._id?a._linepositions[t][3]="right"===a.side?P:E:$&&(a._linepositions[t][3]=C);var j="translate("+r._offset+","+a._offset+")",D=j,L=j;v&&(D="translate("+r._offset+","+s.t+")",_+=a._offset-s.t,x+=a._offset-s.t),$&&(L="translate("+s.l+","+a._offset+")",E+=r._offset-s.l,P+=r._offset-s.l),n.xlines.attr("transform",D).attr("d",(b?h+x+g:"")+(w?h+_+g:"")+(v?h+y+g:"")||"M0,0").style("stroke-width",d+"px").call(c.stroke,r.showline?r.linecolor:"rgba(0,0,0,0)"),n.ylines.attr("transform",L).attr("d",(M?"M"+E+T:"")+(I?"M"+P+T:"")+($?"M"+C+T:"")||"M0,0").attr("stroke-width",p+"px").call(c.stroke,a.showline?a.linecolor:"rgba(0,0,0,0)"),n.xaxislayer.attr("transform",D),n.yaxislayer.attr("transform",L),n.gridlayer.attr("transform",j),n.zerolinelayer.attr("transform",j),n.draglayer.attr("transform",j),v&&m.push(r._id),$&&m.push(a._id)}),i.Axes.makeClipPaths(e),n.drawMainTitle(e),p.manage(e),e._promises.length&&Promise.all(e._promises)},n.drawMainTitle=function(e){var t=e._fullLayout;d.draw(e,"gtitle",{propContainer:t,propName:"title",dfltName:"Plot",attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t],r=((n[0]||{}).trace||{})._module||{},a=r.arraysToCalcdata;a&&a(n,n[0].trace)}return s.style(e),o.getComponentMethod("legend","draw")(e),s.previousPromises(e)},n.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;o.traceIs(r,"contour")&&a.line({width:r.contours.showlines!==!1?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color}),o.traceIs(r,"markerColorscale")?a.options(r.marker.colorbar)():a.options(r.colorbar)()}}return s.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.plot(e,"",t)},n.doLegend=function(e){return o.getComponentMethod("legend","draw")(e),s.previousPromises(e)},n.doTicksRelayout=function(e){return i.Axes.doTicks(e,"redraw"),n.drawMainTitle(e),s.previousPromises(e)},n.doModeBar=function(e){var t,n,r=e._fullLayout;for(p.manage(e),f(e),t=s.getSubplotIds(r,"gl3d"),n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}return s.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=s.getSubplotIds(t,"gl3d"),r=0;r<n.length;r++){var a=t[n[r]],i=a._scene;i.setCamera(a.camera)}}},{"../components/color":427,"../components/drawing":451,"../components/modebar":487,"../components/titles":516,"../lib":538,"../plotly":568,"../plots/cartesian/graph_interact":582,"../plots/plots":601,"../registry":608,d3:260}],566:[function(e,t,n){"use strict";function r(e,t){var n=new Promise(function(n,r){function d(){var e=s.getDelay(h._fullLayout);return new Promise(function(n,r){setTimeout(function(){var e=c(h),a=document.createElement("canvas");a.id=o.randstr(),u({format:t.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:a,svg:e,promise:!0}).then(function(e){h&&document.body.removeChild(h),n(e)})["catch"](function(e){r(e)})},e)})}t=t||{},t.format=t.format||"png";var p=function(e){return void 0===e||null===e||!!(a(e)&&e>1)};p(t.width)&&p(t.height)||r(new Error("Height and width should be pixel values."));var f=l(e,{format:"png",height:t.height,width:t.width}),h=f.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var g=s.getRedrawFunc(h);i.plot(h,f.data,f.layout,f.config).then(g).then(d).then(function(e){n(e)})["catch"](function(e){r(e)})});return n}var a=e("fast-isnumeric"),i=e("../plotly"),o=e("../lib"),s=e("../snapshot/helpers"),l=e("../snapshot/cloneplot"),c=e("../snapshot/tosvg"),u=e("../snapshot/svgtoimg");t.exports=r},{"../lib":538,"../plotly":568,"../snapshot/cloneplot":609,"../snapshot/helpers":612,"../snapshot/svgtoimg":614,"../snapshot/tosvg":616,"fast-isnumeric":263}],567:[function(e,t,n){"use strict";function r(e,t,n,a,i,c){c=c||[];for(var u=Object.keys(e),p=0;p<u.length;p++){var f=u[p];if("transforms"!==f){var m=c.slice();m.push(f);var v=e[f],y=t[f],b=l(n,f),x="info_array"===(b||{}).valType,w="colorscale"===(b||{}).valType;if(s(n,f))if(h(v)&&h(y))r(v,y,b,a,i,m);else if(b.items&&!x&&g(v)){var _,k,S=b.items,A=S[Object.keys(S)[0]],T=[];for(_=0;_<y.length;_++){var $=y[_]._index||_;k=m.slice(),k.push($),h(v[$])&&h(y[_])&&(T.push($),r(v[$],y[_],A,a,i,k))}for(_=0;_<v.length;_++)k=m.slice(),k.push(_),h(v[_])?T.indexOf(_)===-1&&a.push(o("unused",i,k)):a.push(o("object",i,k,v[_]))}else!h(v)&&h(y)?a.push(o("object",i,m,v)):g(v)||!g(y)||x||w?f in t?d.validate(v,b)||a.push(o("value",i,m,v)):a.push(o("unused",i,m,v)):a.push(o("array",i,m,v));else a.push(o("schema",i,m))}}return a}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n].type,a=e.traces[r].layoutAttributes;a&&d.extendFlat(e.layout.layoutAttributes,a)}return e.layout.layoutAttributes}function i(e){return g(e)?"In data trace "+e[1]+", ":"In "+e+", "}function o(e,t,n,r){n=n||"";var a,i;g(t)?(a=t[0],i=t[1]):(a=t,i=null);var o=u(n),s=m[e](t,o,r);return d.log(s),{code:e,container:a,trace:i,path:n,astr:o,msg:s}}function s(e,t){var n=c(t),r=n.keyMinusId,a=n.id;return!!(r in e&&e[r]._isSubplotObj&&a)||t in e}function l(e,t){var n=c(t);return e[n.keyMinusId]}function c(e){var t=/([2-9]|[1-9][0-9]+)$/,n=e.split(t)[0],r=e.substr(n.length,e.length);return{keyMinusId:n,id:r}}function u(e){if(!g(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}var d=e("../lib"),p=e("../plots/plots"),f=e("./plot_schema"),h=d.isPlainObject,g=Array.isArray;t.exports=function(e,t){var n,i,s=f.get(),l=[],c={};g(e)?(c.data=d.extendDeep([],e),n=e):(c.data=[],n=[],l.push(o("array","data"))),h(t)?(c.layout=d.extendDeep({},t),i=t):(c.layout={},i={},arguments.length>1&&l.push(o("object","layout"))),p.supplyDefaults(c);for(var u=c._fullData,m=n.length,v=0;v<m;v++){var y=n[v],b=["data",v];if(h(y)){var x=u[v],w=x.type,_=s.traces[w].attributes;_.type={valType:"enumerated",values:[w]},x.visible===!1&&y.visible!==!1&&l.push(o("invisible",b)),r(y,x,_,l,b);var k=y.transforms,S=x.transforms;if(k){g(k)||l.push(o("array",b,["transforms"])),b.push("transforms");for(var A=0;A<k.length;A++){var T=["transforms",A],$=k[A].type;if(h(k[A])){var C=s.transforms[$]?s.transforms[$].attributes:{};C.type={valType:"enumerated",values:Object.keys(s.transforms)},r(k[A],S[A],C,l,b,T)}else l.push(o("object",b,T))}}}else l.push(o("object",b))}var M=c._fullLayout,E=a(s,u);return r(i,M,E,l,"layout"),0===l.length?void 0:l};var m={object:function(e,t){var n;return n="layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":i(e)+"key "+t,n+" must be linked to an object container"},array:function(e,t){var n;return n="data"===e?"The data argument":i(e)+"key "+t,n+" must be linked to an array container"},schema:function(e,t){return i(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=h(n)?"container":"key";return i(e)+r+" "+t+" did not get coerced"},invisible:function(e){return"Trace "+e[1]+" got defaulted to be not visible"},value:function(e,t,n){return[i(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}}},{"../lib":538,"../plots/plots":601,"./plot_schema":562}],568:[function(e,t,n){"use strict";n.defaultConfig=e("./plot_api/plot_config"),n.Plots=e("./plots/plots"),n.Axes=e("./plots/cartesian/axes"),n.ModeBar=e("./components/modebar"),e("./plot_api/plot_api")},{"./components/modebar":487,"./plot_api/plot_api":560,"./plot_api/plot_config":561,"./plots/cartesian/axes":573,"./plots/plots":601}],569:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",description:"The easing function used for the transition"}}}},{}],570:[function(e,t,n){"use strict";var r=e("../lib");t.exports=function(e,t,n){var a,i=n.name,o=t[i],s=r.isArray(e[i])?e[i]:[],l=t[i]=[];for(a=0;a<s.length;a++){var c=s[a],u={},d={};r.isPlainObject(c)||(d.itemIsNotPlainObject=!0,c={}),n.handleItemDefaults(c,u,t,n,d),u._input=c,u._index=a,l.push(u)}if(r.isArray(o)){var p=Math.min(o.length,l.length);for(a=0;a<p;a++)r.relinkPrivateKeys(l[a],o[a])}}},{"../lib":538}],571:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:""},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],dflt:"all",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")
},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")}}}},{"../components/fx/attributes":460}],572:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},{}],573:[function(e,t,n){"use strict";function r(e,t,n,r,a){function i(t){return(1+100*(t-e)/n.dtick)%100<2}for(var o=0,s=0,l=0,c=0,u=0;u<t.length;u++)t[u]%1===0?l++:b(t[u])||c++,i(t[u])&&o++,i(t[u]+n.dtick/2)&&s++;var d=t.length-c;if(l===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5,e+n.dtick<r&&(e+=n.dtick));else if(s<.1*d&&(o>.3*d||i(r)||i(a))){var p=n.dtick/2;e+=e+p<r?p:-p}return e}function a(e,t,n,r,a){var i=w.findExactDates(t,a),o=.8;if(i.exactDays>o){var s=Number(n.substr(1));i.exactYears>o&&s%12===0?e=L.tickIncrement(e,"M6","reverse")+1.5*E:i.exactMonths>o?e=L.tickIncrement(e,"M1","reverse")+15.5*E:e-=E/2;var l=L.tickIncrement(e,n);if(l<=r)return l}return e}function i(e){var t,n,r=e.tickvals,a=e.ticktext,i=new Array(r.length),o=w.simpleMap(e.range,e.r2l),s=1.0001*o[0]-1e-4*o[1],c=1.0001*o[1]-1e-4*o[0],u=Math.min(s,c),d=Math.max(s,c),p=0;Array.isArray(a)||(a=[]);var f="category"===e.type?e.d2l_noadd:e.d2l;for("log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)),n=0;n<r.length;n++)t=f(r[n]),t>u&&t<d&&(void 0===a[n]?i[p]=L.tickText(e,t):i[p]=l(e,t,String(a[n])),p++);return p<r.length&&i.splice(p,r.length-p),i}function o(e,t,n){return t*w.roundUp(e/t,n)}function s(e){var t=e.dtick;if(e._tickexponent=0,b(t)||"string"==typeof t||(t=1),"category"===e.type&&(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),a=r.length;if("M"===String(t).charAt(0))a>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=E&&a<=10||t>=15*E)e._tickround="d";else if(t>=P&&a<=16||t>=I)e._tickround="M";else if(t>=j&&a<=19||t>=P)e._tickround="S";else{var i=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(a,i)-20}}else if(b(t)||"L"===t.charAt(0)){var o=e.range.map(e.r2d||Number);b(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var s=Math.max(Math.abs(o[0]),Math.abs(o[1])),l=Math.floor(Math.log(s)/Math.LN10+.01);Math.abs(l)>3&&("SI"===e.exponentformat||"B"===e.exponentformat?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}function l(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function c(e,t,n,r){var a=e._tickround,i=n&&e.hoverformat||e.tickformat;r&&(a=b(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var o,s=w.formatDate(t.x,i,a,e.calendar),l=s.indexOf("\n");l!==-1&&(o=s.substr(l+1),s=s.substr(0,l)),r&&("00:00:00"===s||"00:00"===s?(s=o,o=""):8===s.length&&(s=s.replace(/:00$/,""))),o&&(n?"d"===a?s+=", "+o:s=o+(s?", "+s:""):e._inCalcTicks&&o===e._prevDateHead||(s+="<br>"+o,e._prevDateHead=o)),t.text=s}function u(e,t,n,r,a){var i=e.dtick,o=t.x;if(!r||"string"==typeof i&&"L"===i.charAt(0)||(i="L3"),e.tickformat||"string"==typeof i&&"L"===i.charAt(0))t.text=f(Math.pow(10,o),e,a,r);else if(b(i)||"D"===i.charAt(0)&&w.mod(o+.01,1)<.1)if(["e","E","power"].indexOf(e.exponentformat)!==-1){var s=Math.round(o);0===s?t.text=1:1===s?t.text="10":s>1?t.text="10<sup>"+s+"</sup>":t.text="10<sup>−"+-s+"</sup>",t.fontSize*=1.25}else t.text=f(Math.pow(10,o),e,"","fakehover"),"D1"===i&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6);else{if("D"!==i.charAt(0))throw"unrecognized dtick "+String(i);t.text=String(Math.round(Math.pow(10,w.mod(o,1)))),t.fontSize*=.75}if("D1"===e.dtick){var l=String(t.text).charAt(0);"0"!==l&&"1"!==l||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(o<0?.5:.25)))}}function d(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function p(e,t,n,r,a){"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(a="hide"),t.text=f(t.x,e,a,r)}function f(e,t,n,r){var a=e<0,i=t._tickround,o=n||t.exponentformat||"B",l=t._tickexponent,c=t.tickformat,u=t.separatethousands;if(r){var d={exponentformat:t.exponentformat,dtick:"none"===t.showexponent?t.dtick:b(e)?Math.abs(e)||1:1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};s(d),i=(Number(d._tickround)||0)+4,l=d._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return y.format(c)(e).replace(/-/g,"−");var p=Math.pow(10,-i)/2;if("none"===o&&(l=0),e=Math.abs(e),e<p)e="0",a=!1;else{if(e+=p,l&&(e*=Math.pow(10,-l),i+=l),0===i)e=String(Math.floor(e));else if(i<0){e=String(Math.round(e)),e=e.substr(0,e.length+i);for(var f=i;f<0;f++)e+="0"}else{e=String(e);var h=e.indexOf(".")+1;h&&(e=e.substr(0,h+i).replace(/\.?0+$/,""))}e=w.numSeparate(e,t._separators,u)}if(l&&"hide"!==o){var g;g=l<0?"−"+-l:"power"!==o?"+"+l:String(l),"e"===o||("SI"===o||"B"===o)&&(l>12||l<-15)?e+="e"+g:"E"===o?e+="E"+g:"power"===o?e+="×10<sup>"+g+"</sup>":"B"===o&&9===l?e+="B":"SI"!==o&&"B"!==o||(e+=q[l/3+5])}return a?"−"+e:e}function h(e,t){var n,r,a=[];for(n=0;n<t.length;n++){var i=[],o=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(o&&s){for(r=0;r<a.length;r++)a[r].x.indexOf(o)===-1&&a[r].y.indexOf(s)===-1||i.push(r);if(i.length){var l,c=a[i[0]];if(i.length>1)for(r=1;r<i.length;r++)l=a[i[r]],g(c.x,l.x),g(c.y,l.y);g(c.x,[o]),g(c.y,[s])}else a.push({x:[o],y:[s]})}}return a}function g(e,t){for(var n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n])}function m(e,t,n){var r,a,i=[],o=[],s=e.layout;for(r=0;r<t.length;r++)i.push(L.getFromId(e,t[r]));for(r=0;r<n.length;r++)o.push(L.getFromId(e,n[r]));var l=Object.keys(i[0]),c=["anchor","domain","overlaying","position","side","tickangle"],u=["linear","log"];for(r=0;r<l.length;r++){var d=l[r],p=i[0][d],f=o[0][d],h=!0,g=!1,m=!1;if("_"!==d.charAt(0)&&"function"!=typeof p&&c.indexOf(d)===-1){for(a=1;a<i.length&&h;a++){var y=i[a][d];"type"===d&&u.indexOf(p)!==-1&&u.indexOf(y)!==-1&&p!==y?g=!0:y!==p&&(h=!1)}for(a=1;a<o.length&&h;a++){var b=o[a][d];"type"===d&&u.indexOf(f)!==-1&&u.indexOf(b)!==-1&&f!==b?m=!0:o[a][d]!==f&&(h=!1)}h&&(g&&(s[i[0]._name].type="linear"),m&&(s[o[0]._name].type="linear"),v(s,d,i,o))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];t.indexOf(x.xref)!==-1&&n.indexOf(x.yref)!==-1&&w.swapAttrs(s.annotations[r],["?"])}}function v(e,t,n,r){var a,i=w.nestedProperty,o=i(e[n[0]._name],t).get(),s=i(e[r[0]._name],t).get();for("title"===t&&("Click to enter X axis title"===o&&(o="Click to enter Y axis title"),"Click to enter Y axis title"===s&&(s="Click to enter X axis title")),a=0;a<n.length;a++)i(e,n[a]._name+"."+t).set(s);for(a=0;a<r.length;a++)i(e,r[a]._name+"."+t).set(o)}var y=e("d3"),b=e("fast-isnumeric"),x=e("../../registry"),w=e("../../lib"),_=e("../../lib/svg_text_utils"),k=e("../../components/titles"),S=e("../../components/color"),A=e("../../components/drawing"),T=e("../../constants/numerical"),$=T.FP_SAFE,C=T.ONEAVGYEAR,M=T.ONEAVGMONTH,E=T.ONEDAY,I=T.ONEHOUR,P=T.ONEMIN,j=T.ONESEC,D=T.BADNUM,L=t.exports={};L.layoutAttributes=e("./layout_attributes"),L.supplyLayoutDefaults=e("./layout_defaults"),L.setConvert=e("./set_convert");var O=e("./axis_autotype"),R=e("./axis_ids");L.id2name=R.id2name,L.cleanId=R.cleanId,L.list=R.list,L.listIds=R.listIds,L.getFromId=R.getFromId,L.getFromTrace=R.getFromTrace,L.coerceRef=function(e,t,n,r,a,i){var o=r.charAt(r.length-1),s=L.listIds(n,o),l=r+"ref",c={};return a||(a=s[0]||i),i||(i=a),c[l]={valType:"enumerated",values:s.concat(i?[i]:[]),dflt:a},w.coerce(e,t,c,l)},L.coercePosition=function(e,t,n,r,a,i){var o,s;if("paper"===r||"pixel"===r)o=n(a,i);else{var l=L.getFromId(t,r);if(i=l.fraction2r(i),o=n(a,i),"category"===l.type){if("string"==typeof o&&(l._categories||[]).length)return s=l._categories.indexOf(o),void(e[a]=s===-1?i:s)}else if("date"===l.type)return void(e[a]=w.cleanDate(o,D,l.calendar))}e[a]=b(o)?Number(o):i},L.getDataToCoordFunc=function(e,t,n,r){var a,i="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(i)){if(a={type:O(r),_categories:[]},L.setConvert(a),"category"===a.type)for(var o=0;o<r.length;o++)a.d2c(r[o])}else a=L.getFromTrace(e,t,i);return a?a.d2c:"ids"===i?function(e){return String(e)}:function(e){return+e}},L.clearTypes=function(e,t){Array.isArray(t)&&t.length||(t=e._fullData.map(function(e,t){return t})),t.forEach(function(t){var n=e.data[t];delete(L.getFromId(e,n.xaxis)||{}).type,delete(L.getFromId(e,n.yaxis)||{}).type})},L.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},L.minDtick=function(e,t,n,r){["log","category"].indexOf(e.type)===-1&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},L.getAutoRange=function(e){var t,n=[],r=e._min[0].val,a=e._max[0].val;for(t=1;t<e._min.length&&r===a;t++)r=Math.min(r,e._min[t].val);for(t=1;t<e._max.length&&r===a;t++)a=Math.max(a,e._max[t].val);var i,o,s,l,c,u,d,p=0,f=!1;if(e.range){var h=w.simpleMap(e.range,e.r2l);f=h[1]<h[0]}for("reversed"===e.autorange&&(f=!0,e.autorange=!0),t=0;t<e._min.length;t++)for(o=e._min[t],i=0;i<e._max.length;i++)s=e._max[i],d=s.val-o.val,u=e._length-o.pad-s.pad,d>0&&u>0&&d/u>p&&(l=o,c=s,p=d/u);if(r===a){var g=r-1,m=r+1;n="tozero"===e.rangemode?r<0?[g,0]:[0,m]:"nonnegative"===e.rangemode?[Math.max(0,g),Math.max(0,m)]:[g,m]}else p&&("linear"!==e.type&&"-"!==e.type||("tozero"===e.rangemode?(l.val>=0&&(l={val:0,pad:0}),c.val<=0&&(c={val:0,pad:0})):"nonnegative"===e.rangemode&&(l.val-p*l.pad<0&&(l={val:0,pad:0}),c.val<0&&(c={val:1,pad:0})),p=(c.val-l.val)/(e._length-l.pad-c.pad)),n=[l.val-p*l.pad,c.val+p*c.pad]);return n[0]===n[1]&&("tozero"===e.rangemode?n=n[0]<0?[n[0],0]:n[0]>0?[0,n[0]]:[0,1]:(n=[n[0]-1,n[0]+1],"nonnegative"===e.rangemode&&(n[0]=Math.max(0,n[0])))),f&&n.reverse(),w.simpleMap(n,e.l2r||Number)},L.doAutoRange=function(e){e._length||e.setScale();var t=e._min&&e._max&&e._min.length&&e._max.length;if(e.autorange&&t){e.range=L.getAutoRange(e);var n=e._input;n.range=e.range.slice(),n.autorange=e.autorange}},L.saveRangeInitial=function(e,t){for(var n=L.list(e,"",!0),r=!1,a=0;a<n.length;a++){var i=n[a],o=void 0===i._rangeInitial,s=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(o&&i.autorange===!1||t&&s)&&(i._rangeInitial=i.range.slice(),r=!0)}return r},L.saveShowSpikeInitial=function(e,t){for(var n=L.list(e,"",!0),r=!1,a="on",i=0;i<n.length;i++){var o=n[i],s=void 0===o._showSpikeInitial,l=s||!(o.showspikes===o._showspikes);(s||t&&l)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==a||o.showspikes||(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,r},L.expand=function(e,t,n){function r(e){if(Array.isArray(e))return function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}function a(n){function r(e){return b(e)&&Math.abs(e)<$}if(c=t[n],b(c)){if(p=_(n)+y,f=k(n)+y,g=c-A(n),m=c+S(n),"log"===e.type&&g<m/10&&(g=m/10),u=e.c2l(g),d=e.c2l(m),x&&(u=Math.min(0,u),d=Math.max(0,d)),r(u)){for(h=!0,s=0;s<e._min.length&&h;s++)l=e._min[s],l.val<=u&&l.pad>=f?h=!1:l.val>=u&&l.pad<=f&&(e._min.splice(s,1),s--);h&&e._min.push({val:u,pad:x&&0===u?0:f})}if(r(d)){for(h=!0,s=0;s<e._max.length&&h;s++)l=e._max[s],l.val>=d&&l.pad>=p?h=!1:l.val<=d&&l.pad<=p&&(e._max.splice(s,1),s--);h&&e._max.push({val:d,pad:x&&0===d?0:p})}}}var i=e.autorange||!!w.nestedProperty(e,"rangeslider.autorange").get();if(i&&t){e._min||(e._min=[]),e._max||(e._max=[]),n||(n={}),e._m||e.setScale();var o,s,l,c,u,d,p,f,h,g,m,v=t.length,y=n.padded?.05*e._length:0,x=n.tozero&&("linear"===e.type||"-"===e.type),_=r((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),k=r((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),S=r(n.vpadplus||n.vpad),A=r(n.vpadminus||n.vpad);for(o=0;o<6;o++)a(o);for(o=v-1;o>5;o--)a(o)}},L.autoBin=function(e,t,n,i,o){var s=w.aggNums(Math.min,null,e),l=w.aggNums(Math.max,null,e);if(o||(o=t.calendar),"category"===t.type)return{start:s-.5,end:l+.5,size:1};var c;if(n)c=(l-s)/n;else{var u=w.distinctVals(e),d=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),p=d*w.roundUp(u.minDiff/d,[.9,1.9,4.9,9.9],!0);c=Math.max(p,2*w.stdev(e)/Math.pow(e.length,i?.25:.4)),b(c)||(c=1)}var f;f="log"===t.type?{type:"linear",range:[s,l]}:{type:t.type,range:w.simpleMap([s,l],t.c2r,0,o),calendar:o},L.setConvert(f),L.autoTicks(f,c);var h,g=L.tickIncrement(L.tickFirst(f),f.dtick,"reverse",o);if("number"==typeof f.dtick){g=r(g,e,f,s,l);var m=1+Math.floor((l-g)/f.dtick);h=g+m*f.dtick}else for("M"===f.dtick.charAt(0)&&(g=a(g,e,f.dtick,s,o)),h=g;h<=l;)h=L.tickIncrement(h,f.dtick,!1,o);return{start:t.c2r(g,0,o),end:t.c2r(h,0,o),size:f.dtick}},L.calcTicks=function(e){var t=w.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=w.constrain(e._length/n,4,9)+1)),"array"===e.tickmode&&(r*=100),L.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}if(e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),s(e),"array"===e.tickmode)return i(e);e._tmin=L.tickFirst(e);var a=t[1]<t[0],o=[],l=1.0001*t[1]-1e-4*t[0];"category"===e.type&&(l=a?Math.max(-.5,l):Math.min(e._categories.length-.5,l));for(var c=e._tmin;(a?c>=l:c<=l)&&(o.push(c),!(o.length>1e3));c=L.tickIncrement(c,e.dtick,a,e.calendar));e._tmax=o[o.length-1],e._prevDateHead="",e._inCalcTicks=!0;for(var u=new Array(o.length),d=0;d<o.length;d++)u[d]=L.tickText(e,o[d]);return e._inCalcTicks=!1,u};var N=[2,5,10],z=[1,2,3,6,12],B=[1,2,5,10,15,30],F=[1,2,3,7,14],H=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],U=[-.301,0,.301,.699,1];L.autoTicks=function(e,t){var n;if("date"===e.type){e.tick0=w.dateTick0(e.calendar);var r=2*t;r>C?(t/=C,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="M"+12*o(t,n,N)):r>M?(t/=M,e.dtick="M"+o(t,1,z)):r>E?(e.dtick=o(t,E,F),e.tick0=w.dateTick0(e.calendar,!0)):r>I?e.dtick=o(t,I,z):r>P?e.dtick=o(t,P,B):r>j?e.dtick=o(t,j,B):(n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=o(t,n,N))}else if("log"===e.type){e.tick0=0;var a=w.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(a[1]-a[0])<1){var i=1.5*Math.abs((a[1]-a[0])/t);t=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/i,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="L"+o(t,n,N)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):(e.tick0=0,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=o(t,n,N));if(0===e.dtick&&(e.dtick=1),!b(e.dtick)&&"string"!=typeof e.dtick){var s=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(s)}},L.tickIncrement=function(e,t,n,r){var a=n?-1:1;if(b(t))return e+a*t;var i=t.charAt(0),o=a*Number(t.substr(1));if("M"===i)return w.incrementMonth(e,o,r);if("L"===i)return Math.log(Math.pow(10,e)+o)/Math.LN10;if("D"===i){var s="D2"===t?U:H,l=e+.01*a,c=w.roundUp(w.mod(l,1),s,n);return Math.floor(l)+Math.log(y.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(t)},L.tickFirst=function(e){var t=e.r2l||Number,n=w.simpleMap(e.range,t),r=n[1]<n[0],a=r?Math.floor:Math.ceil,i=1.0001*n[0]-1e-4*n[1],o=e.dtick,s=t(e.tick0);if(b(o)){var l=a((i-s)/o)*o+s;return"category"===e.type&&(l=w.constrain(l,0,e._categories.length-1)),l}var c=o.charAt(0),u=Number(o.substr(1));if("M"===c){for(var d,p,f,h=0,g=s;h<10;){if(d=L.tickIncrement(g,o,r,e.calendar),(d-i)*(g-i)<=0)return r?Math.min(g,d):Math.max(g,d);p=(i-(g+d)/2)/(d-g),f=c+(Math.abs(Math.round(p))||1)*u,g=L.tickIncrement(g,f,p<0?!r:r,e.calendar),h++}return w.error("tickFirst did not converge",e),g}if("L"===c)return Math.log(a((Math.pow(10,i)-s)/u)*u+s)/Math.LN10;if("D"===c){var m="D2"===o?U:H,v=w.roundUp(w.mod(i,1),m,r);return Math.floor(i)+Math.log(y.round(Math.pow(10,v),1))/Math.LN10}throw"unrecognized dtick "+String(o)},L.tickText=function(e,t,n){function r(r){var a;return void 0===r||(n?"none"===r:(a={first:e._tmin,last:e._tmax}[r],"all"!==r&&t!==a))}var a,i,o=l(e,t),s="array"===e.tickmode,f=n||s,h="category"===e.type?e.d2l_noadd:e.d2l;if(s&&Array.isArray(e.ticktext)){var g=w.simpleMap(e.range,e.r2l),m=Math.abs(g[1]-g[0])/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-h(e.tickvals[i]))<m);i++);if(i<e.ticktext.length)return o.text=String(e.ticktext[i]),o}return a="none"!==e.exponentformat&&r(e.showexponent)?"hide":"","date"===e.type?c(e,o,n,f):"log"===e.type?u(e,o,n,f,a):"category"===e.type?d(e,o):p(e,o,n,f,a),e.tickprefix&&!r(e.showtickprefix)&&(o.text=e.tickprefix+o.text),e.ticksuffix&&!r(e.showticksuffix)&&(o.text+=e.ticksuffix),o};var q=["f","p","n","μ","m","","k","M","G","T"];L.subplotMatch=/^x([0-9]*)y([0-9]*)$/,L.getSubplots=function(e,t){function n(e,t){return e.indexOf(t._id)!==-1}var r,a,i,o=[],s=e._fullData||e.data||[];for(r=0;r<s.length;r++){var l=s[r];if(l.visible!==!1&&"legendonly"!==l.visible&&(x.traceIs(l,"cartesian")||x.traceIs(l,"gl2d"))){var c=l.xaxis||"x",u=l.yaxis||"y";i=c+u,o.indexOf(i)===-1&&o.push(i)}}var d=L.list(e,"",!0);for(r=0;r<d.length;r++){var p=d[r],f=p._id.charAt(0),h="free"===p.anchor?"x"===f?"y":"x":p.anchor,g=L.getFromId(e,h),m=!1;for(a=0;a<o.length;a++)if(n(o[a],p)){m=!0;break}"free"===p.anchor&&m||g&&(i="x"===f?p._id+g._id:g._id+p._id,o.indexOf(i)===-1&&o.push(i))}var v=L.subplotMatch,y=[];for(r=0;r<o.length;r++)i=o[r],v.test(i)&&y.push(i);return y.sort(function(e,t){var n=e.match(v),r=t.match(v);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)}),t?L.findSubplotsWithAxis(y,t):y},L.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],a=0;a<e.length;a++){var i=e[a];n.test(i)&&r.push(i)}return r},L.makeClipPaths=function(e){var t,n,r=e._fullLayout,a=r._defs,i={_offset:0,_length:r.width,_id:""},o={_offset:0,_length:r.height,_id:""},s=L.list(e,"x",!0),l=L.list(e,"y",!0),c=[];for(t=0;t<s.length;t++)for(c.push({x:s[t],y:o}),n=0;n<l.length;n++)0===t&&c.push({x:i,y:l[n]}),c.push({x:s[t],y:l[n]});var u=a.selectAll("g.clips").data([0]);u.enter().append("g").classed("clips",!0);var d=u.selectAll(".axesclip").data(c,function(e){return e.x._id+e.y._id});d.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+r._uid+e.x._id+e.y._id}).append("rect"),d.exit().remove(),d.each(function(e){y.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})},L.doTicks=function(e,t,n){function r(e){var t=c.l2p(e.x);return t>1&&t<c._length-1}function a(e,t){var n=e.selectAll("path."+M).data("inside"===c.ticks?U:$,C);t&&c.ticks?(n.enter().append("path").classed(M,1).classed("ticks",1).classed("crisp",1).call(S.stroke,c.tickcolor).style("stroke-width",z+"px").attr("d",t),n.attr("transform",f),n.exit().remove()):n.remove()}function i(n,r){function a(e,t){e.each(function(e){var n=x(t),r=y.select(this),a=r.select(".text-math-group"),i=f(e)+(b(t)&&0!==+t?" rotate("+t+","+p(e)+","+(h(e)-e.fontSize/2)+")":"");if(a.empty()){var o=r.select("text").attr({transform:i,"text-anchor":n});o.empty()||o.selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")})}else{var s=A.bBox(a.node()).width*{end:-.5,start:.5}[n];a.attr("transform",i+(s?"translate("+s+",0)":""))}})}function i(){return I.length&&Promise.all(I)}function s(){if(a(d,c.tickangle),"x"===v&&!b(c.tickangle)&&("log"!==c.type||"D"!==String(c.dtick).charAt(0))){var e=[];for(d.each(function(t){var n=y.select(this),r=n.select(".text-math-group"),a=c.l2p(t.x);r.empty()&&(r=n.select("text"));var i=A.bBox(r.node());e.push({top:0,bottom:10,height:10,left:a-i.width/2,right:a+i.width/2+2,width:i.width+2})}),m=0;m<e.length-1;m++)if(w.bBoxIntersect(e[m],e[m+1])){E=30;break}if(E){var n=Math.abs(($[$.length-1].x-$[0].x)*c._m)/($.length-1);n<2.5*T&&(E=90),a(d,E)}c._lastangle=E}return o(),t+" done"}function l(){function t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.max(e[1],t[1])}var r=n.node().getBoundingClientRect(),a=e.getBoundingClientRect();if(c._boundingBox={width:r.width,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,bottom:r.bottom-a.top},g){var i=c._counterSpan=[1/0,-(1/0)];for(m=0;m<g.length;m++){var o=u._plots[g[m]],s=o["x"===v?"yaxis":"xaxis"];t(i,[s._offset,s._offset+s._length])}"free"===c.anchor&&t(i,"x"===v?[c._boundingBox.bottom,c._boundingBox.top]:[c._boundingBox.right,c._boundingBox.left])}}var d=n.selectAll("g."+M).data($,C);if(!c.showticklabels||!b(r))return d.remove(),void o();var p,h,x,k,S;"x"===v?(S="bottom"===F?1:-1,p=function(e){return e.dx+D*S},k=r+(j+P)*S,h=function(e){return e.dy+k+e.fontSize*("bottom"===F?1:-.5)},x=function(e){return b(e)&&0!==e&&180!==e?e*S<0?"end":"start":"middle"}):(S="right"===F?1:-1,h=function(e){return e.dy+e.fontSize/2-D*S},p=function(e){return e.dx+r+(j+P+(90===Math.abs(c.tickangle)?e.fontSize/2:0))*S},x=function(e){return b(e)&&90===Math.abs(e)?"middle":"right"===F?"start":"end"});var T=0,E=0,I=[];d.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(t){var n=y.select(this),r=e._promises.length;n.call(A.setPosition,p(t),h(t)).call(A.font,t.font,t.fontSize,t.fontColor).text(t.text).call(_.convertToTspans),r=e._promises[r],r?I.push(e._promises.pop().then(function(){a(n,c.tickangle)})):a(n,c.tickangle)}),d.exit().remove(),d.each(function(e){T=Math.max(T,e.fontSize)}),a(d,c._lastangle||c.tickangle);var L=w.syncOrAsync([i,s,l]);return L&&L.then&&e._promises.push(L),L}function o(){if(!n){var r,a,i,o,s=R.getFromId(e,t),l=y.select(e).selectAll("g."+t+"tick"),c={selection:l,side:s.side},d=t.charAt(0),p=e._fullLayout._size,f=1.5,h=s.titlefont.size;if(l.size()){var g=A.getTranslate(l.node().parentNode);c.offsetLeft=g.x,c.offsetTop=g.y}"x"===d?(a="free"===s.anchor?{_offset:p.t+(1-(s.position||0))*p.h,_length:0}:R.getFromId(e,s.anchor),i=s._offset+s._length/2,o=a._offset+("top"===s.side?-10-h*(f+(s.showticklabels?1:0)):a._length+10+h*(f+(s.showticklabels?1.5:.5))),s.rangeslider&&s.rangeslider.visible&&s._boundingBox&&(o+=(u.height-u.margin.b-u.margin.t)*s.rangeslider.thickness+s._boundingBox.height),c.side||(c.side="bottom")):(a="free"===s.anchor?{_offset:p.l+(s.position||0)*p.w,_length:0}:R.getFromId(e,s.anchor),o=s._offset+s._length/2,i=a._offset+("right"===s.side?a._length+10+h*(f+(s.showticklabels?1:.5)):-10-h*(f+(s.showticklabels?.5:0))),r={rotate:"-90",offset:0},c.side||(c.side="left")),k.draw(e,t+"title",{propContainer:s,propName:s._name+".title",dfltName:d.toUpperCase()+" axis",avoid:c,transform:r,attributes:{x:i,y:o,"text-anchor":"middle"}})}}function s(e,t){return e.visible===!0&&e.xaxis+e.yaxis===t&&(!(!x.traceIs(e,"bar")||e.orientation!=={x:"h",y:"v"}[v])||e.fill&&e.fill.charAt(e.fill.length-1)===v)}function l(t,n,a){var i=t.gridlayer,o=t.zerolinelayer,l=t["hidegrid"+v]?[]:U,u=c._gridpath||"M0,0"+("x"===v?"v":"h")+n._length,d=i.selectAll("path."+E).data(c.showgrid===!1?[]:l,C);if(d.enter().append("path").classed(E,1).classed("crisp",1).attr("d",u).each(function(e){c.zeroline&&("linear"===c.type||"-"===c.type)&&Math.abs(e.x)<c.dtick/100&&y.select(this).remove()}),d.attr("transform",f).call(S.stroke,c.gridcolor||"#ddd").style("stroke-width",O+"px"),d.exit().remove(),o){for(var p=!1,h=0;h<e._fullData.length;h++)if(s(e._fullData[h],a)){p=!0;break}var g=w.simpleMap(c.range,c.r2l),m=g[0]*g[1]<=0&&c.zeroline&&("linear"===c.type||"-"===c.type)&&l.length&&(p||r({x:0})||!c.showline),b=o.selectAll("path."+I).data(m?[{x:0}]:[]);b.enter().append("path").classed(I,1).classed("zl",1).classed("crisp",1).attr("d",u),b.attr("transform",f).call(S.stroke,c.zerolinecolor||S.defaultLine).style("stroke-width",N+"px"),b.exit().remove()}}var c,u=e._fullLayout,d=!1;if("object"===("undefined"==typeof t?"undefined":_typeof(t)))c=t,t=c._id,d=!0;else if(c=L.getFromId(e,t),"redraw"===t&&u._paper.selectAll("g.subplot").each(function(e){var t=u._plots[e],n=t.xaxis,r=t.yaxis;t.xaxislayer.selectAll("."+n._id+"tick").remove(),t.yaxislayer.selectAll("."+r._id+"tick").remove(),t.gridlayer.selectAll("path").remove(),t.zerolinelayer.selectAll("path").remove()}),!t||"redraw"===t)return w.syncOrAsync(L.list(e,"",!0).map(function(n){return function(){if(n._id){var r=L.doTicks(e,n._id);return"redraw"===t&&(n._r=n.range.slice(),n._rl=w.simpleMap(n._r,n.r2l)),r}}}));c.tickformat||(["none","e","E","power","SI","B"].indexOf(c.exponentformat)===-1&&(c.exponentformat="e"),["all","first","last","none"].indexOf(c.showexponent)===-1&&(c.showexponent="all")),c.setScale();var p,f,h,g,m,v=t.charAt(0),T=L.counterLetter(t),$=L.calcTicks(c),C=function(e){return[e.text,e.x,c.mirror].join("_")},M=t+"tick",E=t+"grid",I=t+"zl",P=(c.linewidth||1)/2,j=("outside"===c.ticks?c.ticklen:1)+(c.linewidth||0),D=0,O=A.crispRound(e,c.gridwidth,1),N=A.crispRound(e,c.zerolinewidth,O),z=A.crispRound(e,c.tickwidth,1);if(c._counterangle&&"outside"===c.ticks){var B=c._counterangle*Math.PI/180;j=c.ticklen*Math.cos(B)+(c.linewidth||0),D=c.ticklen*Math.sin(B)}if("x"===v)p=["bottom","top"],f=function(e){return"translate("+c.l2p(e.x)+",0)"},h=function(e,t){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M0,"+e+"l"+Math.sin(n)*t+","+Math.cos(n)*t}return"M0,"+e+"v"+t};else{if("y"!==v)return void w.warn("Unrecognized doTicks axis:",t);p=["left","right"],f=function(e){return"translate(0,"+c.l2p(e.x)+")"},h=function(e,t){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M"+e+",0l"+Math.cos(n)*t+","+-Math.sin(n)*t}return"M"+e+",0h"+t}}var F=c.side||p[0],H=[-1,1,F===p[1]?1:-1];if("inside"!==c.ticks==("x"===v)&&(H=H.map(function(e){return-e})),c.visible){var U=$.filter(r);if(d){if(a(c._axislayer,h(c._pos+P*H[2],H[2]*c.ticklen)),c._counteraxis){var q={gridlayer:c._gridlayer,zerolinelayer:c._zerolinelayer};l(q,c._counteraxis)}return i(c._axislayer,c._pos)}g=L.getSubplots(e,c);var V=g.map(function(e){var t=u._plots[e];if(u._has("cartesian")){var n=t[v+"axislayer"],r=c._linepositions[e]||[],o=t[T+"axis"],s=o._id===c.anchor,d=[!1,!1,!1],f="";if("allticks"===c.mirror?d=[!0,!0,!1]:s&&("ticks"===c.mirror?d=[!0,!0,!1]:d[p.indexOf(F)]=!0),c.mirrors)for(m=0;m<2;m++){var g=c.mirrors[o._id+p[m]];"ticks"!==g&&"labels"!==g||(d[m]=!0)}return void 0!==r[2]&&(d[2]=!0),d.forEach(function(e,t){var n=r[t],a=H[t];e&&b(n)&&(f+=h(n+P*a,a*c.ticklen))}),a(n,f),l(t,o,e),i(n,r[3])}}).filter(function(e){return e&&e.then});return V.length?Promise.all(V):0}},L.swap=function(e,t){for(var n=h(e,t),r=0;r<n.length;r++)m(e,n[r].x,n[r].y)}},{"../../components/color":427,"../../components/drawing":451,"../../components/titles":516,"../../constants/numerical":524,"../../lib":538,"../../lib/svg_text_utils":555,"../../registry":608,"./axis_autotype":574,"./axis_ids":576,"./layout_attributes":584,"./layout_defaults":585,"./set_convert":590,d3:260,"fast-isnumeric":263}],574:[function(e,t,n){"use strict";function r(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(o(e[t]))return!0;return!1}function a(e,t){for(var n,r=0,a=0,i=Math.max(1,(e.length-1)/1e3),l=0;l<e.length;l+=i)n=e[Math.round(l)],s.isDateTime(n,t)&&(r+=1),o(n)&&(a+=1);return r>2*a}function i(e){for(var t,n=Math.max(1,(e.length-1)/1e3),r=0,a=0,i=0;i<e.length;i+=n)t=e[Math.round(i)],s.cleanNumber(t)!==l?r++:"string"==typeof t&&""!==t&&"None"!==t&&a++;return a>2*r}var o=e("fast-isnumeric"),s=e("../../lib"),l=e("../../constants/numerical").BADNUM;t.exports=function(e,t){return a(e,t)?"date":i(e)?"category":r(e)?"linear":"-"}},{"../../constants/numerical":524,"../../lib":538,"fast-isnumeric":263}],575:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,a=e("../../registry"),i=e("../../lib"),o=e("../../components/color/attributes").lightFraction,s=e("./layout_attributes"),l=e("./tick_value_defaults"),c=e("./tick_mark_defaults"),u=e("./tick_label_defaults"),d=e("./category_order_defaults"),p=e("./set_convert"),f=e("./ordered_categories");t.exports=function(e,t,n,h,g){function m(n,r){return i.coerce2(e,t,s,n,r)}var v=h.letter,y=h.font||{},b="Click to enter "+(h.title||v.toUpperCase()+" axis")+" title",x=n("visible",!h.cheateronly),w=t.type;if("date"===w){var _=a.getComponentMethod("calendars","handleDefaults");_(e,t,"calendar",h.calendar)}p(t,g);var k=n("autorange",!t.isValidRange(e.range));if(k&&n("rangemode"),n("range"),t.cleanRange(),d(e,t,n),t._initialCategories="category"===w?f(v,t.categoryorder,t.categoryarray,h.data):[],!x)return t;var S=n("color"),A=S===e.color?S:y.color;n("title",b),i.coerceFont(n,"titlefont",{family:y.family,size:Math.round(1.2*y.size),color:A}),l(e,t,n,w),u(e,t,n,w,h),c(e,t,n,h);var T=m("linecolor",S),$=m("linewidth"),C=n("showline",!!T||!!$);C||(delete t.linecolor,delete t.linewidth),(C||t.ticks)&&n("mirror");var M=m("gridcolor",r(S,h.bgColor,o).toRgbString()),E=m("gridwidth"),I=n("showgrid",h.showGrid||!!M||!!E);I||(delete t.gridcolor,delete t.gridwidth);var P=m("zerolinecolor",S),j=m("zerolinewidth"),D=n("zeroline",h.showGrid||!!P||!!j);return D||(delete t.zerolinecolor,delete t.zerolinewidth),t}},{"../../components/color/attributes":426,"../../lib":538,"../../registry":608,"./category_order_defaults":577,"./layout_attributes":584,"./ordered_categories":586,"./set_convert":590,"./tick_label_defaults":591,"./tick_mark_defaults":592,"./tick_value_defaults":593,tinycolor2:666}],576:[function(e,t,n){"use strict";function r(e,t,n){function r(e,n){for(var r=Object.keys(e),a=/^[xyz]axis[0-9]*/,i=[],o=0;o<r.length;o++){var s=r[o];t&&s.charAt(0)!==t||a.test(s)&&i.push(n+s)}return i.sort()}var a=e._fullLayout;if(!a)return[];var o=r(a,"");if(n)return o;for(var s=i.getSubplotIds(a,"gl3d")||[],l=0;l<s.length;l++){var c=s[l];o=o.concat(r(a[c],c+"."))}return o}var a=e("../../registry"),i=e("../plots"),o=e("../../lib"),s=e("./constants");n.id2name=function(e){if("string"==typeof e&&e.match(s.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(s.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t){if(e.match(s.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},n.list=function(e,t,n){return r(e,t,n).map(function(t){return o.nestedProperty(e._fullLayout,t).get()})},n.listIds=function(e,t){return r(e,t,!0).map(n.name2id)},n.getFromId=function(e,t,r){var a=e._fullLayout;return"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),a[n.id2name(t)]},n.getFromTrace=function(e,t,r){var i=e._fullLayout,o=null;if(a.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(o=i[s][r+"axis"])}else o=n.getFromId(e,t[r+"axis"]||r);return o}},{"../../lib":538,"../../registry":608,"../plots":601,"./constants":578}],577:[function(e,t,n){"use strict";t.exports=function(e,t,n){if("category"===t.type){var r,a=e.categoryarray,i=Array.isArray(a)&&a.length>0;i&&(r="array");var o=n("categoryorder",r);"array"===o&&n("categoryarray"),i||"array"!==o||(t.categoryorder="trace")}}},{}],578:[function(e,t,n){"use strict";t.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,
y:/^yaxis([2-9]|[1-9][0-9]+)?$/},xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4]}},{}],579:[function(e,t,n){"use strict";function r(e,t,n,r){var a,i,s,l,c=r[o(t)].type,u=[];for(i=0;i<n.length;i++)s=n[i],s!==t&&(l=r[o(s)],l.type!==c||l.fixedrange||u.push(s));for(a=0;a<e.length;a++)if(e[a][t]){var d=e[a],p=[];for(i=0;i<u.length;i++)s=u[i],d[s]||p.push(s);return{linkableAxes:p,thisGroup:d}}return{linkableAxes:u,thisGroup:null}}function a(e,t,n,r,a){var i,o,s,l,c;null===t?(t={},t[n]=1,c=e.length,e.push(t)):c=e.indexOf(t);var u=Object.keys(t);for(i=0;i<e.length;i++)if(s=e[i],i!==c&&s[r]){var d=s[r];for(o=0;o<u.length;o++)l=u[o],s[l]=d*a*t[l];return void e.splice(c,1)}if(1!==a)for(o=0;o<u.length;o++)t[u[o]]*=a;t[r]=1}var i=e("../../lib"),o=e("./axis_ids").id2name;t.exports=function(e,t,n,o,s){var l=s._axisConstraintGroups;if(!t.fixedrange&&e.scaleanchor){var c=r(l,t._id,o,s),u=i.coerce(e,t,{scaleanchor:{valType:"enumerated",values:c.linkableAxes}},"scaleanchor");if(u){var d=n("scaleratio");d||(d=t.scaleratio=1),a(l,c.thisGroup,t._id,u,d)}else o.indexOf(e.scaleanchor)!==-1&&i.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":538,"./axis_ids":576}],580:[function(e,t,n){"use strict";var r=e("./axis_ids").id2name,a=e("./scale_zoom"),i=e("../../constants/numerical").ALMOST_EQUAL;t.exports=function(e){var t,n,o,s,l,c=e._fullLayout,u=c._axisConstraintGroups;for(t=0;t<u.length;t++){var d=u[t],p=Object.keys(d),f=1/0,h=0,g=1/0,m={},v={};for(n=0;n<p.length;n++)o=p[n],v[o]=s=c[r(o)],s.setScale(),m[o]=l=Math.abs(s._m)/d[o],f=Math.min(f,l),s._constraintShrinkable?delete s._constraintShrinkable:g=Math.min(g,l),h=Math.max(h,l);if(!(f>i*h))for(n=0;n<p.length;n++)o=p[n],l=m[o],l!==g&&a(v[o],l/g)}}},{"../../constants/numerical":524,"./axis_ids":576,"./scale_zoom":588}],581:[function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){var s=e.draglayer.selectAll("."+t).data([0]);return s.enter().append("rect").classed("drag",!0).classed(t,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),s.call($.setRect,r,a,i,o).call(C,n),s.node()}function a(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function i(e,t){var n,r=e.range[t],a=Math.abs(r-e.range[1-t]);return"date"===e.type?r:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,x.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,x.format("."+String(n)+"g")(r))}function o(e,t,n,r){var a,i,s,l;for(a=0;a<e.length;a++)i=e[a],i.fixedrange||(s=i._rl[0],l=i._rl[1]-s,i.range=[i.l2r(s+l*t),i.l2r(s+l*n)]);if(r&&r.length){var c=(t+(1-n))/2;o(r,c,1-c)}}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function l(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function c(e,t){return e?"nsew"===e?"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function u(e,t,n,r,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",a+"Z")}function d(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function p(e){e.selectAll(".select-outline").remove()}function f(e,t,n,r,a,i){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),a||(e.transition().style("fill",i>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function h(e){x.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function g(e){var t=["lasso","select"];return t.indexOf(e)!==-1}function m(e,t){return"M"+(e.l-.5)+","+(t-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(e.r+.5)+","+(t-O-.5)+"h3v"+(2*O+1)+"h-3Z"}function v(e,t){return"M"+(t-O-.5)+","+(e.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(t-O-.5)+","+(e.b+.5)+"v3h"+(2*O+1)+"v-3Z"}function y(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,O)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function b(e,t,n){var r,a,i,o,s,l,c=!1,u={},d={};for(r=0;r<e.length;r++){for(o=e[r],a=0;a<t.length;a++)if(o[t[a]]){for(s in o)("x"===s.charAt(0)?t:n).indexOf(s)===-1&&(u[s]=1);for(i=0;i<n.length;i++)o[n[i]]&&(c=!0)}for(a=0;a<n.length;a++)if(o[n[a]])for(l in o)("x"===l.charAt(0)?t:n).indexOf(l)===-1&&(d[l]=1)}return c&&(S.extendFlat(u,d),d={}),{x:u,y:d,xy:c}}var x=e("d3"),w=e("tinycolor2"),_=e("../../plotly"),k=e("../../registry"),S=e("../../lib"),A=e("../../lib/svg_text_utils"),T=e("../../components/color"),$=e("../../components/drawing"),C=e("../../lib/setcursor"),M=e("../../components/dragelement"),E=e("./axes").doTicks,I=e("./axis_ids").getFromId,P=e("./select"),j=e("./scale_zoom"),D=e("./constants"),L=D.MINDRAG,O=D.MINZOOM,R=!0;t.exports=function(e,t,n,T,C,N,z,B){function F(){J=[t.xaxis],ee=[t.yaxis];var n=J[0],r=ee[0];re=n._length,ae=r._length;var i=de._axisConstraintGroups,o=[n._id],s=[r._id];Z=[t].concat(z&&B?t.overlays:[]);for(var l=1;l<Z.length;l++){var u=Z[l].xaxis,d=Z[l].yaxis;J.indexOf(u)===-1&&(J.push(u),o.push(u._id)),ee.indexOf(d)===-1&&(ee.push(d),s.push(d._id))}ie=a(J,B),oe=a(ee,z),se=c(oe+ie,de.dragmode),te=n._offset,ne=r._offset;var p=b(i,o,s);le=p.xy,ce=[];for(var f in p.x)ce.push(I(e,f));ue=[];for(var h in p.y)ue.push(I(e,h))}function H(t,n,r){var a=he.getBoundingClientRect();me=n-a.left,ve=r-a.top,ye={l:me,r:me,w:0,t:ve,b:ve,h:0},be=e._hmpixcount?e._hmlumcount/e._hmpixcount:w(e._fullLayout.plot_bgcolor).getLuminance(),xe="M0,0H"+re+"V"+ae+"H0V0",we=!1,_e="xy",ke=u(pe,be,te,ne,xe),Se=d(pe,te,ne),p(pe)}function U(t,n){function r(){_e="",ye.r=ye.l,ye.t=ye.b,Se.attr("d","M0,0Z")}if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(re,t+me)),i=Math.max(0,Math.min(ae,n+ve)),o=Math.abs(a-me),s=Math.abs(i-ve);ye.l=Math.min(me,a),ye.r=Math.max(me,a),ye.t=Math.min(ve,i),ye.b=Math.max(ve,i),le?o>O||s>O?(_e="xy",o/re>s/ae?(s=o*ae/re,ve>i?ye.t=ve-s:ye.b=ve+s):(o=s*re/ae,me>a?ye.l=me-o:ye.r=me+o),Se.attr("d",y(ye))):r():!oe||s<Math.min(Math.max(.6*o,L),O)?o<L?r():(ye.t=0,ye.b=ae,_e="x",Se.attr("d",m(ye,ve))):!ie||o<Math.min(.6*s,O)?(ye.l=0,ye.r=re,_e="y",Se.attr("d",v(ye,me))):(_e="xy",Se.attr("d",y(ye))),ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,f(ke,Se,ye,xe,we,be),we=!0}function q(t,n){return Math.min(ye.h,ye.w)<2*L?(2===n&&X(),h(e)):("xy"!==_e&&"x"!==_e||o(J,ye.l/re,ye.r/re,ce),"xy"!==_e&&"y"!==_e||o(ee,(ae-ye.b)/ae,(ae-ye.t)/ae,ue),h(e),Q(_e),void(R&&e.data&&e._context.showTips&&(S.notifier("Double-click to<br>zoom back out","long"),R=!1)))}function V(t,n){var r=1===(z+B).length;if(t)Q();else if(2!==n||r){if(1===n&&r){var a=z?ee[0]:J[0],o="s"===z||"w"===B?0:1,s=a._name+".range["+o+"]",l=i(a,o),c="left",u="middle";if(a.fixedrange)return;z?(u="n"===z?"top":"bottom","right"===a.side&&(c="right")):"e"===B&&(c="right"),e._context.showAxisRangeEntryBoxes&&x.select(he).call(A.makeEditable,null,{immediate:!0,background:de.paper_bgcolor,text:String(l),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:c,verticalAlign:u}).on("edit",function(t){var n=a.d2r(t);void 0!==n&&_.relayout(e,s,n)})}}else X()}function G(t){function n(e,t,n){function r(t){return e.l2r(i+(t-i)*n)}if(!e.fixedrange){var a=S.simpleMap(e.range,e.r2l),i=a[0]+(a[1]-a[0])*t;e.range=a.map(r)}}if(e._context.scrollZoom||de._enablescrollzoom){if(e._transitioningWithDuration)return S.pauseEvent(t);var r=e.querySelector(".plotly");if(F(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(Te);var a=-t.deltaY;if(isFinite(a)||(a=t.wheelDelta/10),!isFinite(a))return void S.log("Did not find wheel motion attributes: ",t);var i,o=Math.exp(-Math.min(Math.max(a,-20),20)/100),s=Ce.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(t.clientX-s.left)/s.width,c=(s.bottom-t.clientY)/s.height;if(B||le){for(B||(l=.5),i=0;i<J.length;i++)n(J[i],l,o);Ae[2]*=o,Ae[0]+=Ae[2]*l*(1/o-1)}if(z||le){for(z||(c=.5),i=0;i<ee.length;i++)n(ee[i],c,o);Ae[3]*=o,Ae[1]+=Ae[3]*(1-c)*(1/o-1)}return K(Ae),Y(z,B),Te=setTimeout(function(){Ae=[0,0,re,ae];var e;e=le?"xy":(B?"x":"")+(z?"y":""),Q(e)},$e),S.pauseEvent(t)}}}function W(t,n){function r(e,t,n){for(var r,a,i=1-t,o=0;o<e.length;o++){var s=e[o];if(!s.fixedrange){r=s,a=s._rl[i]+(s._rl[t]-s._rl[i])/l(n/s._length);var c=s.l2r(a);c!==!1&&void 0!==c&&(s.range[t]=c)}}return r._length*(r._rl[t]-a)/(r._rl[t]-r._rl[i])}if(!e._transitioningWithDuration){if(F(),"ew"===ie||"ns"===oe)return ie&&s(J,t),oe&&s(ee,n),K([ie?-t:0,oe?-n:0,re,ae]),void Y(oe,ie);if(le&&ie&&oe){var a="w"===ie==("n"===oe)?1:-1,i=(t/re+a*n/ae)/2;t=i*re,n=a*i*ae}"w"===ie?t=r(J,0,t):"e"===ie?t=r(J,1,-t):ie||(t=0),"n"===oe?n=r(ee,1,n):"s"===oe?n=r(ee,0,-n):oe||(n=0);var o="w"===ie?t:0,c="n"===oe?n:0;if(le){var u;if(!ie&&1===oe.length){for(u=0;u<J.length;u++)J[u].range=J[u]._r.slice(),j(J[u],1-n/ae);t=n*re/ae,o=t/2}if(!oe&&1===ie.length){for(u=0;u<ee.length;u++)ee[u].range=ee[u]._r.slice(),j(ee[u],1-t/re);n=t*ae/re,c=n/2}}K([o,c,re-t,ae-n]),Y(oe,ie)}}function Y(t,n){function r(e){for(i=0;i<e.length;i++)e[i].fixedrange||o.push(e[i]._id)}function a(r,a,s){for(i=0;i<r.length;i++){var l=r[i];if((n&&o.indexOf(l.xref)!==-1||t&&o.indexOf(l.yref)!==-1)&&(a(e,i),s))return}}var i,o=[];for((n||le)&&(r(J),r(ce)),(t||le)&&(r(ee),r(ue)),i=0;i<o.length;i++)E(e,o[i],!0);a(de.annotations||[],k.getComponentMethod("annotations","drawOne")),a(de.shapes||[],k.getComponentMethod("shapes","drawOne")),a(de.images||[],k.getComponentMethod("images","draw"),!0)}function X(){if(!e._transitioningWithDuration){var t,n,r,a=e._context.doubleClick,i=(ie?J:[]).concat(oe?ee:[]),o={};if("reset+autosize"===a)for(a="autosize",n=0;n<i.length;n++)if(t=i[n],t._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){a="reset";break}if("autosize"===a)for(n=0;n<i.length;n++)t=i[n],t.fixedrange||(o[t._name+".autorange"]=!0);else if("reset"===a)for((ie||le)&&(i=i.concat(ce)),oe&&!le&&(i=i.concat(ue)),le&&(ie?oe||(i=i.concat(ee)):i=i.concat(J)),n=0;n<i.length;n++)t=i[n],t._rangeInitial?(r=t._rangeInitial,o[t._name+".range[0]"]=r[0],o[t._name+".range[1]"]=r[1]):o[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),_.relayout(e,o)}}function Q(t){void 0===t&&(t=(B?"x":"")+(z?"y":""));var n,r={};"xy"===t?n=J.concat(ee):"x"===t?n=J:"y"===t&&(n=ee);for(var a=0;a<n.length;a++){var i=n[a];i._r[0]!==i.range[0]&&(r[i._name+".range[0]"]=i.range[0]),i._r[1]!==i.range[1]&&(r[i._name+".range[1]"]=i.range[1]),i.range=i._input.range=i._r.slice()}K([0,0,re,ae]),_.relayout(e,r)}function K(e){function t(e){return e.fixedrange?0:p&&ce.indexOf(e)!==-1?u:f&&(le?ce:ue).indexOf(e)!==-1?d:0}function n(e,t){return t?(e.range=e._r.slice(),j(e,t),e._length*(1-t)/2):0}var r,a,i,o,s,l=de._plots,c=Object.keys(l),u=e[2]/J[0]._length,d=e[3]/ee[0]._length,p=B||le,f=z||le;for(r=0;r<c.length;r++){var h=l[c[r]],g=h.xaxis,m=h.yaxis,v=p&&!g.fixedrange&&J.indexOf(g)!==-1,y=f&&!m.fixedrange&&ee.indexOf(m)!==-1;if(v?(a=u,o=e[0]):(a=t(g),o=n(g,a)),y?(i=d,s=e[1]):(i=t(m),s=n(m,i)),a||i){a||(a=1),i||(i=1);var b=g._offset-o/a,x=m._offset-s/i;de._defs.selectAll("#"+h.clipId).call($.setTranslate,o,s).call($.setScale,a,i),h.plot.call($.setTranslate,b,x).call($.setScale,1/a,1/i).select(".scatterlayer").selectAll(".points").selectAll(".point").call($.setPointGroupScale,a,i),h.plot.select(".scatterlayer").selectAll(".points").selectAll(".textpoint").call($.setTextPointsScale,a,i)}}}var Z,J,ee,te,ne,re,ae,ie,oe,se,le,ce,ue,de=e._fullLayout,pe=e._fullLayout._zoomlayer,fe=z+B==="nsew";F();var he=r(t,z+B+"drag",se,n,T,C,N);if(!oe&&!ie&&!g(de.dragmode))return he.onmousedown=null,he.style.pointerEvents=fe?"all":"none",he;var ge={element:he,gd:e,plotinfo:t,doubleclick:X,prepFn:function(t,n,r){var a=e._fullLayout.dragmode;fe?t.shiftKey&&(a="pan"===a?"zoom":"pan"):a="pan","lasso"===a?ge.minDrag=1:ge.minDrag=void 0,"zoom"===a?(ge.moveFn=U,ge.doneFn=q,ge.minDrag=1,H(t,n,r)):"pan"===a?(ge.moveFn=W,ge.doneFn=V,p(pe)):g(a)&&(ge.xaxes=J,ge.yaxes=ee,P(t,n,r,ge,a))}};M.init(ge);var me,ve,ye,be,xe,we,_e,ke,Se,Ae=[0,0,re,ae],Te=null,$e=D.REDRAWDELAY,Ce=t.mainplot?de._plots[t.mainplot]:t;return z.length*B.length!==1&&(void 0!==he.onwheel?he.onwheel=G:void 0!==he.onmousewheel&&(he.onmousewheel=G)),he}},{"../../components/color":427,"../../components/dragelement":448,"../../components/drawing":451,"../../lib":538,"../../lib/setcursor":553,"../../lib/svg_text_utils":555,"../../plotly":568,"../../registry":608,"./axes":573,"./axis_ids":576,"./constants":578,"./scale_zoom":588,"./select":589,d3:260,tinycolor2:666}],582:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../components/fx"),i=e("../../components/dragelement"),o=e("./constants"),s=e("./dragbox");t.exports=function(e){var t=e._fullLayout;if(t._has("cartesian")&&!e._context.staticPlot){var n=Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return t._plots[e].mainplot?1:-1});n.forEach(function(n){var l=t._plots[n];if(t._has("cartesian")){var c=l.xaxis,u=l.yaxis,d=(c._linepositions[n]||[])[3],p=(u._linepositions[n]||[])[3],f=o.DRAGGERSIZE;if(r(d)&&"top"===c.side&&(d-=f),r(p)&&"right"!==u.side&&(p-=f),!l.mainplot){var h=s(e,l,0,0,c._length,u._length,"ns","ew");h.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&a.hover(e,t,n)},a.hover(e,t,n),e._fullLayout._lasthover=h,e._fullLayout._hoversubplot=n},h.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},h.onclick=function(t){a.click(e,t)},e._context.showAxisDragHandles&&(s(e,l,-f,-f,f,f,"n","w"),s(e,l,c._length,-f,f,f,"n","e"),s(e,l,-f,u._length,f,f,"s","w"),s(e,l,c._length,u._length,f,f,"s","e"))}e._context.showAxisDragHandles&&(r(d)&&("free"===c.anchor&&(d-=t._size.h*(1-u.domain[1])),s(e,l,.1*c._length,d,.8*c._length,f,"","ew"),s(e,l,0,d,.1*c._length,f,"","w"),s(e,l,.9*c._length,d,.1*c._length,f,"","e")),r(p)&&("free"===u.anchor&&(p-=t._size.w*c.domain[0]),s(e,l,p,.1*u._length,f,.8*u._length,"ns",""),s(e,l,p,.9*u._length,f,.1*u._length,"s",""),s(e,l,p,0,f,.1*u._length,"n","")))}});var l=t._hoverlayer.node();l.onmousemove=function(n){n.target=t._lasthover,a.hover(e,n,t._hoversubplot)},l.onclick=function(n){n.target=t._lasthover,a.click(e,n)},l.onmousedown=function(e){t._lasthover.onmousedown(e)}}}},{"../../components/dragelement":448,"../../components/fx":468,"./constants":578,"./dragbox":581,"fast-isnumeric":263}],583:[function(e,t,n){"use strict";function r(e,t,n,r,a){var i=e._fullLayout,o=i._modules;t.plot&&t.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var s=0;s<o.length;s++){var l=o[s];if("cartesian"===l.basePlotModule.name){for(var c=[],u=0;u<n.length;u++){var d=n[u],p=d[0].trace;p._module===l&&p.visible===!0&&c.push(d)}l.plot(e,t,c,r,a)}}}function a(e){for(var t=e._fullLayout,n=Object.keys(t._plots),r=[],a=[],i=0;i<n.length;i++){var o=n[i],s=t._plots[o],l=s.xaxis,c=s.yaxis,u=d.getFromId(e,l.overlaying)||l;u!==l&&u.overlaying&&(u=l,l.overlaying=!1);var p=d.getFromId(e,c.overlaying)||c;p!==c&&p.overlaying&&(p=c,c.overlaying=!1);var f=u._id+p._id;f!==o&&n.indexOf(f)!==-1?(s.mainplot=f,s.mainplotinfo=t._plots[f],a.push(o),l.domain=u.domain.slice(),c.domain=p.domain.slice()):r.push(o)}return r=r.concat(a)}function i(e){function t(e){s(e,"g","imagelayer"),s(e,"g","maplayer"),s(e,"g","barlayer"),s(e,"g","carpetlayer"),s(e,"g","boxlayer"),s(e,"g","scatterlayer")}var n=e.plotgroup,r=e.id;if(e.mainplot){var a=e.mainplotinfo;e.gridlayer=s(a.overgrid,"g",r),e.zerolinelayer=s(a.overzero,"g",r),e.plot=s(a.overplot,"g",r),e.xlines=s(a.overlines,"path",r),e.ylines=s(a.overlines,"path",r),e.xaxislayer=s(a.overaxes,"g",r),e.yaxislayer=s(a.overaxes,"g",r)}else{var i=s(n,"g","layer-subplot");e.shapelayer=s(i,"g","shapelayer"),e.imagelayer=s(i,"g","imagelayer"),e.gridlayer=s(n,"g","gridlayer"),e.overgrid=s(n,"g","overgrid"),e.zerolinelayer=s(n,"g","zerolinelayer"),e.overzero=s(n,"g","overzero"),e.plot=s(n,"g","plot"),e.overplot=s(n,"g","overplot"),e.xlines=s(n,"path","xlines"),e.ylines=s(n,"path","ylines"),e.overlines=s(n,"g","overlines"),e.xaxislayer=s(n,"g","xaxislayer"),e.yaxislayer=s(n,"g","yaxislayer"),e.overaxes=s(n,"g","overaxes")}e.plot.call(t),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function o(e,t){e&&e.each(function(e){var n=l.select(this),r="clip"+t._uid+e+"plot";n.remove(),t._draggers.selectAll("g."+e).remove(),t._defs.select("#"+r).remove()})}function s(e,t,n){var r=e.selectAll("."+n).data([0]);return r.enter().append(t).classed(n,!0),r}var l=e("d3"),c=e("../../lib"),u=e("../plots"),d=e("./axis_ids"),p=e("./constants");n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=p.idRegex,n.attrRegex=p.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.transitionAxes=e("./transition_axes"),n.plot=function(e,t,n,a){var i,o=e._fullLayout,s=u.getSubplotIds(o,"cartesian"),l=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<l.length;i++)t.push(i);for(i=0;i<s.length;i++){for(var c,d=s[i],p=o._plots[d],f=[],h=0;h<l.length;h++){var g=l[h],m=g[0].trace;m.xaxis+m.yaxis===d&&((t.indexOf(m.index)!==-1||m.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===d&&["tonextx","tonexty","tonext"].indexOf(m.fill)!==-1&&f.indexOf(c)===-1&&f.push(c),f.push(g)),c=g)}r(e,p,f,n,a)}},n.clean=function(e,t,n,r){var a,i,s,l=r._modules||[],c=t._modules||[];for(s=0;s<l.length;s++)if("scatter"===l[s].name){a=!0;break}for(s=0;s<c.length;s++)if("scatter"===c[s].name){i=!0;break}if(a&&!i){var u=r._plots,p=Object.keys(u||{});for(s=0;s<p.length;s++){var f=u[p[s]];f.plot&&f.plot.select("g.scatterlayer").selectAll("g.trace").remove()}r._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var h=r._has&&r._has("cartesian"),g=t._has&&t._has("cartesian");if(h&&!g){var m=r._cartesianlayer.selectAll(".subplot"),v=d.listIds({_fullLayout:r});for(m.call(o,r),r._defs.selectAll(".axesclip").remove(),s=0;s<v.length;s++)r._infolayer.select("."+v[s]+"title").remove()}},n.drawFramework=function(e){var t=e._fullLayout,n=a(e),r=t._cartesianlayer.selectAll(".subplot").data(n,c.identity);r.enter().append("g").attr("class",function(e){return"subplot "+e}),r.order(),r.exit().call(o,t),r.each(function(e){var n=t._plots[e];if(n.plotgroup=l.select(this),n.overlays=[],i(n),n.mainplot){var r=t._plots[n.mainplot];r.overlays.push(n)}n.draglayer=s(t._draggers,"g",e)})},n.rangePlot=function(e,t,n){i(t),r(e,t,n),u.style(e)}},{"../../lib":538,"../plots":601,"./attributes":572,"./axis_ids":576,"./constants":578,"./layout_attributes":584,"./transition_axes":594,d3:260}],584:[function(e,t,n){"use strict";var r=e("../font_attributes"),a=e("../../components/color/attributes"),i=e("../../components/drawing/attributes").dash,o=e("../../lib/extend").extendFlat,s=e("./constants");t.exports={visible:{valType:"boolean",role:"info",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:a.defaultLine,role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",description:"Sets the title of this axis."},titlefont:o({},r,{description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding opposite-letter axis.","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","Autorange will also expand about the midpoints to satisfy the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:a.defaultLine,role:"style",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",description:"Determines whether or not the tick labels are drawn."},showspikes:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",description:"Sets the width (in px) of the zero line."},spikedash:o({},i,{dflt:"dash"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},tickfont:o({},r,{description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},hoverformat:{valType:"string",dflt:"",role:"style",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:a.defaultLine,role:"style",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{
valType:"color",dflt:a.lightLine,role:"style",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:a.defaultLine,role:"style",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],role:"info",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},_deprecated:{autotick:{valType:"boolean",role:"info",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},{"../../components/color/attributes":426,"../../components/drawing/attributes":450,"../../lib/extend":534,"../font_attributes":597,"./constants":578}],585:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),i=e("../../components/color"),o=e("../layout_attributes"),s=e("./constants"),l=e("./layout_attributes"),c=e("./type_defaults"),u=e("./axis_defaults"),d=e("./constraint_defaults"),p=e("./position_defaults"),f=e("./axis_ids");t.exports=function(e,t,n){function h(e,t){var n=Number(e.substr(5)||1),r=Number(t.substr(5)||1);return n-r}function g(e,t){return a.coerce(H,U,l,e,t)}function m(e){var t={x:R,y:O}[e];return a.simpleMap(t,f.name2id)}function v(t,n){for(var r={x:O,y:R}[t],a=[],i=0;i<r.length;i++){var o=r[i];o===n||(e[o]||{}).overlaying||a.push(f.name2id(o))}return a}var y,b=Object.keys(e),x=[],w=[],_=[],k=[],S=[],A=[],T={},$={};for(y=0;y<n.length;y++){var C,M,E=n[y];if(r.traceIs(E,"cartesian"))C=x,M=w;else{if(!r.traceIs(E,"gl2d"))continue;C=_,M=k}var I=f.id2name(E.xaxis),P=f.id2name(E.yaxis);if(r.traceIs(E,"carpet")&&("carpet"!==E.type||E._cheater)||I&&a.pushUnique(A,I),"carpet"===E.type&&E._cheater&&I&&a.pushUnique(S,I),I&&C.indexOf(I)===-1&&C.push(I),P&&M.indexOf(P)===-1&&M.push(P),r.traceIs(E,"2dMap")&&(T[I]=!0,T[P]=!0),r.traceIs(E,"oriented")){var j="h"===E.orientation?P:I;$[j]=!0}}var D=t._has("gl3d")||t._has("geo");if(!D)for(y=0;y<b.length;y++){var L=b[y];_.indexOf(L)===-1&&x.indexOf(L)===-1&&s.xAxisMatch.test(L)?x.push(L):k.indexOf(L)===-1&&w.indexOf(L)===-1&&s.yAxisMatch.test(L)&&w.push(L)}x.length&&w.length&&a.pushUnique(t._basePlotModules,r.subplotsRegistry.cartesian);var O=x.concat(_).sort(h),R=w.concat(k).sort(h),N=O.concat(R),z=i.background;O.length&&R.length&&(z=a.coerce(e,t,o,"plot_bgcolor"));var B,F,H,U,q=i.combine(z,t.paper_bgcolor),V={x:m("x"),y:m("y")};for(y=0;y<N.length;y++){B=N[y],a.isPlainObject(e[B])||(e[B]={}),H=e[B],U=t[B]={},c(H,U,g,n,B),F=B.charAt(0);var G=v(F,B),W={letter:F,font:t.font,outerTicks:T[B],showGrid:!$[B],data:n,bgColor:q,calendar:t.calendar,cheateronly:"x"===F&&S.indexOf(B)!==-1&&A.indexOf(B)===-1};u(H,U,g,W,t);var Y=g("showspikes");Y&&(g("spikecolor"),g("spikethickness"),g("spikedash"),g("spikemode"));var X={letter:F,counterAxes:V[F],overlayableAxes:G};p(H,U,g,X),U._input=H}var Q=r.getComponentMethod("rangeslider","handleDefaults"),K=r.getComponentMethod("rangeselector","handleDefaults");for(y=0;y<O.length;y++)B=O[y],H=e[B],U=t[B],Q(e,t,B),"date"===U.type&&K(H,U,t,R,U.calendar),g("fixedrange");for(y=0;y<R.length;y++){B=R[y],H=e[B],U=t[B];var Z=t[f.id2name(U.anchor)],J=Z&&Z.rangeslider&&Z.rangeslider.visible;g("fixedrange",J)}t._axisConstraintGroups=[];var ee=V.x.concat(V.y);for(y=0;y<N.length;y++)B=N[y],F=B.charAt(0),H=e[B],U=t[B],d(H,U,g,ee,t)}},{"../../components/color":427,"../../lib":538,"../../registry":608,"../layout_attributes":599,"./axis_defaults":575,"./axis_ids":576,"./constants":578,"./constraint_defaults":579,"./layout_attributes":584,"./position_defaults":587,"./type_defaults":595}],586:[function(e,t,n){"use strict";function r(e,t,n){var r,i,o,s,l,c=[],u=n.map(function(t){return t[e]}),d=a.bisector(t).left;for(r=0;r<u.length;r++)for(o=u[r],i=0;i<o.length;i++)s=o[i],null!==s&&void 0!==s&&(l=d(c,s),l<c.length&&c[l]===s||c.splice(l,0,s));return c}var a=e("d3");t.exports=function(e,t,n,i){switch(t){case"array":return Array.isArray(n)?n.slice():[];case"category ascending":return r(e,a.ascending,i);case"category descending":return r(e,a.descending,i);case"trace":return[];default:return[]}}},{d3:260}],587:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib");t.exports=function(e,t,n,i){var o=i.counterAxes||[],s=i.overlayableAxes||[],l=i.letter,c=a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:r(e.position)?"free":o[0]||"free"}},"anchor");"free"===c&&n("position"),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var u=!1;if(s.length&&(u=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!u){var d=n("domain");d[0]>d[1]-.01&&(t.domain=[0,1]),a.noneOrAll(e.domain,t.domain,[0,1])}return t}},{"../../lib":538,"fast-isnumeric":263}],588:[function(e,t,n){"use strict";t.exports=function(e,t,n){void 0===n&&(n=.5);var r=[e.r2l(e.range[0]),e.r2l(e.range[1])],a=r[0]+(r[1]-r[0])*n,i=(a-r[0])*t;e.range=e._input.range=[e.l2r(a-i),e.l2r(a+i)]}},{}],589:[function(e,t,n){"use strict";function r(e){return e._id}var a=e("../../lib/polygon"),i=e("../../components/color"),o=e("./axes"),s=e("./constants"),l=a.filter,c=a.tester,u=s.MINSELECT;t.exports=function(e,t,n,a,d){function p(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return e.p2d(n[t])}}function f(e,t){return e-t}var h,g=a.gd._fullLayout._zoomlayer,m=a.element.getBoundingClientRect(),v=a.plotinfo.xaxis._offset,y=a.plotinfo.yaxis._offset,b=t-m.left,x=n-m.top,w=b,_=x,k="M"+b+","+x,S=a.xaxes[0]._length,A=a.yaxes[0]._length,T=a.xaxes.map(r),$=a.yaxes.map(r),C=a.xaxes.concat(a.yaxes);"lasso"===d&&(h=l([[b,x]],s.BENDPX));var M=g.selectAll("path.select-outline").data([1,2]);M.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e}).attr("transform","translate("+v+", "+y+")").attr("d",k+"Z");var E,I,P,j,D,L=g.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform","translate("+v+", "+y+")").attr("d","M0,0Z"),O=[],R=a.gd,N=[];for(E=0;E<R.calcdata.length;E++)if(I=R.calcdata[E],P=I[0].trace,P._module&&P._module.selectPoints)if(a.subplot){if(P.subplot!==a.subplot)continue;O.push({selectPoints:P._module.selectPoints,cd:I,xaxis:a.xaxes[0],yaxis:a.yaxes[0]})}else{if(T.indexOf(P.xaxis)===-1)continue;if($.indexOf(P.yaxis)===-1)continue;O.push({selectPoints:P._module.selectPoints,cd:I,xaxis:o.getFromId(R,P.xaxis),yaxis:o.getFromId(R,P.yaxis)})}a.moveFn=function(e,t){var n,r;w=Math.max(0,Math.min(S,e+b)),_=Math.max(0,Math.min(A,t+x));var i=Math.abs(w-b),o=Math.abs(_-x);for("select"===d?(o<Math.min(.6*i,u)?(n=c([[b,0],[b,A],[w,A],[w,0]]),L.attr("d","M"+n.xmin+","+(x-u)+"h-4v"+2*u+"h4ZM"+(n.xmax-1)+","+(x-u)+"h4v"+2*u+"h-4Z")):i<Math.min(.6*o,u)?(n=c([[0,x],[0,_],[S,_],[S,x]]),L.attr("d","M"+(b-u)+","+n.ymin+"v-4h"+2*u+"v4ZM"+(b-u)+","+(n.ymax-1)+"v4h"+2*u+"v-4Z")):(n=c([[b,x],[b,_],[w,_],[w,x]]),L.attr("d","M0,0Z")),M.attr("d","M"+n.xmin+","+n.ymin+"H"+(n.xmax-1)+"V"+(n.ymax-1)+"H"+n.xmin+"Z")):"lasso"===d&&(h.addPt([w,_]),n=c(h.filtered),M.attr("d","M"+h.filtered.join("L")+"Z")),N=[],E=0;E<O.length;E++)j=O[E],[].push.apply(N,j.selectPoints(j,n));if(D={points:N},"select"===d){var s,l=D.range={};for(E=0;E<C.length;E++)r=C[E],s=r._id.charAt(0),l[r._id]=[r.p2d(n[s+"min"]),r.p2d(n[s+"max"])].sort(f)}else{var g=D.lassoPoints={};for(E=0;E<C.length;E++)r=C[E],g[r._id]=h.filtered.map(p(r))}a.gd.emit("plotly_selecting",D)},a.doneFn=function(e,t){if(L.remove(),e||2!==t)a.gd.emit("plotly_selected",D);else{for(M.remove(),E=0;E<O.length;E++)j=O[E],j.selectPoints(j,!1);R.emit("plotly_deselect",null)}}}},{"../../components/color":427,"../../lib/polygon":548,"./axes":573,"./constants":578}],590:[function(e,t,n){"use strict";function r(e){return Math.pow(10,e)}function a(e){return o(e)?(e=Number(e),e<-p||e>p?f:o(e)?Number(e):f):f}var i=e("d3"),o=e("fast-isnumeric"),s=e("../../lib"),l=s.cleanNumber,c=s.ms2DateTime,u=s.dateTime2ms,d=e("../../constants/numerical"),p=d.FP_SAFE,f=d.BADNUM,h=e("./constants"),g=e("./axis_ids");t.exports=function(e,t){function n(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],a=e.range[1];return.5*(r+a-3*_*Math.abs(r-a))}return f}function d(t,n,r){var a=u(t,r||e.calendar);if(a===f){if(!o(t))return f;a=u(new Date((+t)))}return a}function m(t,n,r){return c(t,n,r||e.calendar)}function v(t){return e._categories[Math.round(t)]}function y(t){if(null!==t&&void 0!==t){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push(t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return f}function b(t){if(e._categoriesMap){var n=e._categoriesMap[t];if(void 0!==n)return n}if("number"==typeof t)return t}function x(t){return o(t)?i.round(e._b+e._m*t,2):f}function w(t){return(t-e._b)/e._m}t=t||{};var _=10;e.c2l="log"===e.type?n:a,e.l2c="log"===e.type?r:a,e.l2p=x,e.p2l=w,e.c2p="log"===e.type?function(e,t){return x(n(e,t))}:x,e.p2c="log"===e.type?function(e){return r(w(e))}:w,["linear","-"].indexOf(e.type)!==-1?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=l,e.c2d=e.c2r=e.l2d=e.l2r=a,e.d2p=e.r2p=function(e){return x(l(e))},e.p2d=e.p2r=w):"log"===e.type?(e.d2r=e.d2l=function(e,t){return n(l(e),t)},e.r2d=e.r2c=function(e){return r(l(e))},e.d2c=e.r2l=l,e.c2d=e.l2r=a,e.c2r=n,e.l2d=r,e.d2p=function(t,n){return x(e.d2r(t,n))},e.p2d=function(e){return r(w(e))},e.r2p=function(e){return x(l(e))},e.p2r=w):"date"===e.type?(e.d2r=e.r2d=s.identity,e.d2c=e.r2c=e.d2l=e.r2l=d,e.c2d=e.c2r=e.l2d=e.l2r=m,e.d2p=e.r2p=function(e,t,n){return x(d(e,0,n))},e.p2d=e.p2r=function(e,t,n){return m(w(e),t,n)}):"category"===e.type&&(e.d2r=e.d2c=e.d2l=y,e.r2d=e.c2d=e.l2d=v,e.d2l_noadd=b,e.r2l=e.l2r=e.r2c=e.c2r=a,e.d2p=function(e){return x(b(e))},e.p2d=function(e){return v(w(e))},e.r2p=x,e.p2r=w),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t){t||(t="range");var n,r,a=s.nestedProperty(e,t).get(),i=(e._id||"x").charAt(0);if(r="date"===e.type?s.dfltRange(e.calendar):"y"===i?h.DFLTRANGEY:h.DFLTRANGEX,r=r.slice(),!a||2!==a.length)return void s.nestedProperty(e,t).set(r);for("date"===e.type&&(a[0]=s.cleanDate(a[0],f,e.calendar),a[1]=s.cleanDate(a[1],f,e.calendar)),n=0;n<2;n++)if("date"===e.type){if(!s.isDateTime(a[n],e.calendar)){e[t]=r;break}if(e.r2l(a[0])===e.r2l(a[1])){var l=s.constrain(e.r2l(a[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);a[0]=e.l2r(l-1e3),a[1]=e.l2r(l+1e3);break}}else{if(!o(a[n])){if(!o(a[1-n])){e[t]=r;break}a[n]=a[1-n]*(n?10:.1)}if(a[n]<-p?a[n]=-p:a[n]>p&&(a[n]=p),a[0]===a[1]){var c=Math.max(1,Math.abs(1e-6*a[0]));a[0]-=c,a[1]+=c}}},e.setScale=function(n){var r=t._size,a=e._id.charAt(0);if(e._categories||(e._categories=[]),e._categoriesMap||(e._categoriesMap={}),e.overlaying){var i=g.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var o=n&&e._r?"_r":"range",l=e.calendar;e.cleanRange(o);var c=e.r2l(e[o][0],l),u=e.r2l(e[o][1],l);if("y"===a?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(c-u),e._b=-e._m*u):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(u-c),e._b=-e._m*c),!isFinite(e._m)||!isFinite(e._b))throw s.notifier("Something went wrong with axis scaling","long"),t._replotting=!1,new Error("axis scaling")},e.makeCalcdata=function(t,n){var r,a,i,o="date"===e.type&&t[n+"calendar"];if(n in t)for(r=t[n],a=new Array(r.length),i=0;i<r.length;i++)a[i]=e.d2c(r[i],0,o);else{var s=n+"0"in t?e.d2c(t[n+"0"],0,o):0,l=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],a=new Array(r.length),i=0;i<r.length;i++)a[i]=s+i*l}return a},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&o(e.r2l(t[0]))&&o(e.r2l(t[1]))},e._min=[],e._max=[],e._separators=t.separators,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":524,"../../lib":538,"./axis_ids":576,"./constants":578,d3:260,"fast-isnumeric":263}],591:[function(e,t,n){"use strict";function r(e){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(t){return void 0!==e[t]}),r=function(t){return e[t]===e[n[0]]};if(n.every(r)||1===n.length)return e[n[0]]}var a=e("../../lib");t.exports=function(e,t,n,i,o){var s=r(e),l=n("tickprefix");l&&n("showtickprefix",s);var c=n("ticksuffix");c&&n("showticksuffix",s);var u=n("showticklabels");if(u){var d=o.font||{},p=t.color===e.color?t.color:d.color;if(a.coerceFont(n,"tickfont",{family:d.family,size:d.size,color:p}),n("tickangle"),"category"!==i){var f=n("tickformat");f||"date"===i||(n("showexponent",s),n("exponentformat"),n("separatethousands"))}}"category"===i||o.noHover||n("hoverformat")}},{"../../lib":538}],592:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n,i){var o=r.coerce2(e,t,a,"ticklen"),s=r.coerce2(e,t,a,"tickwidth"),l=r.coerce2(e,t,a,"tickcolor",t.color),c=n("ticks",i.outerTicks||o||s||l?"outside":"");c||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":538,"./layout_attributes":584}],593:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../constants/numerical").ONEDAY;t.exports=function(e,t,n,o){var s="auto";"array"!==e.tickmode||"log"!==o&&"date"!==o||(e.tickmode="auto"),Array.isArray(e.tickvals)?s="array":e.dtick&&(s="linear");var l=n("tickmode",s);if("auto"===l)n("nticks");else if("linear"===l){var c="date"===o?i:1,u=n("dtick",c);if(r(u))t.dtick=u>0?Number(u):c;else if("string"!=typeof u)t.dtick=c;else{var d=u.charAt(0),p=u.substr(1);p=r(p)?Number(p):0,(p<=0||!("date"===o&&"M"===d&&p===Math.round(p)||"log"===o&&"L"===d||"log"===o&&"D"===d&&(1===p||2===p)))&&(t.dtick=c)}var f="date"===o?a.dateTick0(t.calendar):0,h=n("tick0",f);"date"===o?t.tick0=a.cleanDate(h,f):r(h)&&"D1"!==u&&"D2"!==u?t.tick0=Number(h):t.tick0=f}else{var g=n("tickvals");void 0===g?t.tickmode="auto":n("ticktext")}}},{"../../constants/numerical":524,"../../lib":538,"fast-isnumeric":263}],594:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plotly"),i=e("../../registry"),o=e("../../components/drawing"),s=e("./axes"),l=/((x|y)([2-9]|[1-9][0-9]+)?)axis$/;t.exports=function(e,t,n,c){function u(e){var t,n,r,a,i,o={};for(t in e)if(n=t.split("."),r=n[0].match(l)){var s=r[1],c=s+"axis";if(a=y[c],i={},Array.isArray(e[t])?i.to=e[t].slice(0):Array.isArray(e[t].range)&&(i.to=e[t].range.slice(0)),!i.to)continue;i.axisName=c,i.length=a._length,b.push(s),o[s]=i}return o}function d(e,t,n){var r,a,i,o=e._plots,s=[];for(r in o){var l=o[r];if(s.indexOf(l)===-1){var c=l.xaxis._id,u=l.yaxis._id,d=l.xaxis.range,p=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),a=n[c]?n[c].to:d,i=n[u]?n[u].to:p,d[0]===a[0]&&d[1]===a[1]&&p[0]===i[0]&&p[1]===i[1]||t.indexOf(c)===-1&&t.indexOf(u)===-1||s.push(l)}}return s}function p(t,n){function r(t,n){for(a=0;a<t.length;a++){var r=t[a];o.indexOf(r.xref)===-1&&o.indexOf(r.yref)===-1||n(e,a)}}var a,o=[];for(o=[t._id,n._id],a=0;a<o.length;a++)s.doTicks(e,o[a],!0);r(y.annotations||[],i.getComponentMethod("annotations","drawOne")),r(y.shapes||[],i.getComponentMethod("shapes","drawOne")),r(y.images||[],i.getComponentMethod("images","draw"))}function f(e){var t=e.xaxis,n=e.yaxis;y._defs.selectAll("#"+e.clipId).call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1).select(".scatterlayer").selectAll(".points").selectAll(".point").call(o.setPointGroupScale,1,1),e.plot.select(".scatterlayer").selectAll(".points").selectAll(".textpoint").call(o.setTextPointsScale,1,1)}function h(t,n){var r,a,i,s=x[t.xaxis._id],l=x[t.yaxis._id],c=[];if(s){r=e._fullLayout[s.axisName],a=r._r,i=s.to,c[0]=(a[0]*(1-n)+n*i[0]-a[0])/(a[1]-a[0])*t.xaxis._length;var u=a[1]-a[0],d=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[2]=t.xaxis._length*(1-n+n*d/u)}else c[0]=0,c[2]=t.xaxis._length;if(l){r=e._fullLayout[l.axisName],a=r._r,i=l.to,c[1]=(a[1]*(1-n)+n*i[1]-a[1])/(a[0]-a[1])*t.yaxis._length;var f=a[1]-a[0],h=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[3]=t.yaxis._length*(1-n+n*h/f)}else c[1]=0,c[3]=t.yaxis._length;p(t.xaxis,t.yaxis);var g=t.xaxis,m=t.yaxis,v=!!s,b=!!l,w=v?g._length/c[2]:1,_=b?m._length/c[3]:1,k=v?c[0]:0,S=b?c[1]:0,A=v?c[0]/c[2]*g._length:0,T=b?c[1]/c[3]*m._length:0,$=g._offset-A,C=m._offset-T;y._defs.selectAll("#"+t.clipId).call(o.setTranslate,k,S).call(o.setScale,1/w,1/_),t.plot.call(o.setTranslate,$,C).call(o.setScale,w,_).selectAll(".points").selectAll(".point").call(o.setPointGroupScale,1/w,1/_),t.plot.selectAll(".points").selectAll(".textpoint").call(o.setTextPointsScale,1/w,1/_)}function g(){for(var t={},n=0;n<w.length;n++){var r=e._fullLayout[x[w[n]].axisName],i=x[w[n]].to;t[r._name+".range[0]"]=i[0],t[r._name+".range[1]"]=i[1],r.range=i.slice()}return k&&k(),a.relayout(e,t).then(function(){for(var e=0;e<_.length;e++)f(_[e])})}function m(){for(var t={},n=0;n<w.length;n++){var r=e._fullLayout[w[n]+"axis"];t[r._name+".range[0]"]=r.range[0],t[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return a.relayout(e,t).then(function(){for(var e=0;e<_.length;e++)f(_[e])})}function v(){A=Date.now();for(var e=Math.min(1,(A-S)/n.duration),t=$(e),r=0;r<_.length;r++)h(_[r],t);A-S>n.duration?(g(),T=window.cancelAnimationFrame(v)):T=window.requestAnimationFrame(v)}var y=e._fullLayout,b=[],x=u(t),w=Object.keys(x),_=d(y,w,x);if(!_.length)return!1;var k;c&&(k=c());var S,A,T,$=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(T),T=null,m()}),S=Date.now(),T=window.requestAnimationFrame(v),Promise.resolve()}},{"../../components/drawing":451,"../../plotly":568,"../../registry":608,"./axes":573,d3:260}],595:[function(e,t,n){"use strict";function r(e,t){if("-"===e.type){var n=e._id,r=n.charAt(0);n.indexOf("scene")!==-1&&(n=r);var c=a(t,n,r);if(c){if("histogram"===c.type&&r==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=r+"calendar",d=c[u];if(o(c,r)){for(var p,f=i(c),h=[],g=0;g<t.length;g++)p=t[g],s.traceIs(p,"box")&&(p[r+"axis"]||r)===n&&(void 0!==p[f]?h.push(p[f][0]):void 0!==p.name?h.push(p.name):h.push("text"),p[u]!==d&&(d=void 0));e.type=l(h,d)}else e.type=l(c[r]||[c[r+"0"]],d)}}}function a(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if((a[n+"axis"]||n)===t){if(o(a,n))return a;if((a[n]||[]).length||a[n+"0"])return a}}}function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var n=i(e),r=s.traceIs(e,"box"),a=s.traceIs(e._fullInput||{},"candlestick");return r&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}var s=e("../../registry"),l=e("./axis_autotype"),c=e("./axis_ids").name2id;t.exports=function(e,t,n,a,i){i&&(t._name=i,t._id=c(i));var o=n("type");"-"===o&&(r(t,a),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":608,"./axis_autotype":574,"./axis_ids":576}],596:[function(e,t,n){"use strict";function r(e,t,n){var r,a,i,o=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return a=c.nestedProperty(r,t.prop).get(),i=n[t.type]=n[t.type]||{},i.hasOwnProperty(t.prop)&&i[t.prop]!==a&&(o=!0),i[t.prop]=a,{changed:o,value:a}}function a(e,t){return Array.isArray(t[0])&&1===t[0].length&&["string","number"].indexOf(_typeof(t[0][0]))!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function i(e,t){var n=[],r=t[0],a={};if("string"==typeof r)a[r]=t[1];else{if(!c.isPlainObject(r))return n;a=r}return s(a,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function o(e,t){var n,r,a,i,o=[];if(r=t[0],a=t[1],n=t[2],i={},"string"==typeof r)i[r]=a;else{if(!c.isPlainObject(r))return o;i=r,void 0===n&&(n=a)}return void 0===n&&(n=null),s(i,function(t,r,a){var i;if(Array.isArray(a)){var s=Math.min(a.length,e.data.length);n&&(s=Math.min(s,n.length)),i=[];for(var l=0;l<s;l++)i[l]=n?n[l]:l}else i=n?n.slice(0):null;if(null===i)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(i)){if(!Array.isArray(a)){var c=a;a=[];for(var u=0;u<i.length;u++)a[u]=c}a.length=Math.min(i.length,a.length)}o.push({type:"data",prop:t,traces:i,value:a})},"",0),o}function s(e,t,n,r){Object.keys(e).forEach(function(a){var i=e[a];if("_"!==a[0]){var o=n+(r>0?".":"")+a;c.isPlainObject(i)?s(i,t,o,r+1):t(o,a,i)}})}var l=e("../plotly"),c=e("../lib");n.manageCommandObserver=function(e,t,a,i){var o={},s=!0;t&&t._commandObserver&&(o=t._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var l=n.hasSimpleAPICommandBindings(e,a,o.lookupTable);if(t&&t._commandObserver){if(l)return o;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,o}if(l){r(e,l,o.cache),o.check=function(){if(s){var t=r(e,l,o.cache);return t.changed&&i&&void 0!==o.lookupTable[t.value]&&(o.disable(),Promise.resolve(i({value:t.value,type:l.type,prop:l.prop,traces:l.traces,index:o.lookupTable[t.value]})).then(o.enable,o.enable)),t.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)e._internalOn(u[d],o.check);o.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],o.check)}}else c.warn("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){s=!1},o.enable=function(){s=!0},t&&(t._commandObserver=o),o},n.hasSimpleAPICommandBindings=function(e,t,r){var a,i,o=t.length;for(a=0;a<o;a++){var s,l=t[a],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var d=n.computeAPICommandBindings(e,c,u);if(1!==d.length)return!1;if(i){if(s=d[0],s.type!==i.type)return!1;if(s.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var p=0;p<i.traces.length;p++)if(i.traces[p]!==s.traces[p])return!1}else if(s.prop!==i.prop)return!1}else i=d[0],Array.isArray(i.traces)&&i.traces.sort();s=d[0];var f=s.value;if(Array.isArray(f)){if(1!==f.length)return!1;f=f[0]}r&&(r[f]=a)}return i},n.executeAPICommand=function(e,t,n){var r=l[t],a=[e];Array.isArray(n)||(n=[]);for(var i=0;i<n.length;i++)a.push(n[i]);return r.apply(null,a)["catch"](function(e){return c.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=o(e,n);break;case"relayout":r=i(e,n);break;case"update":r=o(e,[n[0],n[2]]).concat(i(e,[n[1]]));break;case"animate":r=a(e,n);break;default:r=[]}return r}},{"../lib":538,"../plotly":568}],597:[function(e,t,n){"use strict";t.exports={family:{valType:"string",role:"style",noBlank:!0,strict:!0,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1},color:{valType:"color",role:"style"}}},{}],598:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},{}],599:[function(e,t,n){"use strict";var r=e("../lib"),a=r.extendFlat,i=e("./font_attributes"),o=e("../components/color/attributes");t.exports={font:{family:a({},i.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:a({},i.size,{dflt:12}),color:a({},i.color,{dflt:o.defaultLine}),description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")},title:{valType:"string",role:"info",dflt:"Click to enter Plot title",description:["Sets the plot's title."].join(" ")},titlefont:a({},i,{description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0}},paper_bgcolor:{valType:"color",role:"style",dflt:o.background,description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:o.background,description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",dflt:".,",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and","a space between thousands."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},smith:{valType:"enumerated",role:"info",values:[!1],dflt:!1},showlegend:{valType:"boolean",role:"info",description:"Determines whether or not a legend is drawn."}}},{"../components/color/attributes":426,"../lib":538,"./font_attributes":597}],600:[function(e,t,n){"use strict";t.exports={t:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the left side of the component."}}},{}],601:[function(e,t,n){"use strict";function r(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",function(){h.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}function a(e,t,n,r){for(var a=e.transforms,i=[e],o=0;o<a.length;o++){var s=a[o],l=b[s.type];l&&l.transform&&(i=l.transform(i,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return i}function i(e){var t,n={left:0,right:0,bottom:0,top:0};if(e)for(t in e)e.hasOwnProperty(t)&&(n.left+=e[t].left||0,n.right+=e[t].right||0,n.bottom+=e[t].bottom||0,n.top+=e[t].top||0);return n}function o(e){for(var t=!1,n=0;n<e.length;n++){e[n]._categories=e[n]._initialCategories.slice(),e[n]._categoriesMap={};for(var r=0;r<e[n]._categories.length;r++)e[n]._categoriesMap[e[n]._categories[r]]=r;"category"===e[n].type&&(t=!0)}return t}var s=e("d3"),l=e("fast-isnumeric"),c=e("../plotly"),u=e("../registry"),d=e("../lib"),p=e("../components/color"),f=e("../constants/numerical").BADNUM,h=t.exports={},g=e("./animation_attributes"),m=e("./frame_attributes"),v=d.relinkPrivateKeys;d.extendFlat(h,u),h.attributes=e("./attributes"),h.attributes.type.values=h.allTypes,h.fontAttrs=e("./font_attributes"),
h.layoutAttributes=e("./layout_attributes"),h.fontWeight="normal";var y=h.subplotsRegistry,b=h.transformsRegistry,x=e("../components/errorbars"),w=e("./command");h.executeAPICommand=w.executeAPICommand,h.computeAPICommandBindings=w.computeAPICommandBindings,h.manageCommandObserver=w.manageCommandObserver,h.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,h.findSubplotIds=function(e,t){var n=[];if(!h.subplotsRegistry[t])return n;for(var r=h.subplotsRegistry[t].attr,a=0;a<e.length;a++){var i=e[a];h.traceIs(i,t)&&n.indexOf(i[r])===-1&&n.push(i[r])}return n},h.getSubplotIds=function(e,t){var n=h.subplotsRegistry[t];if(!n)return[];if(!("cartesian"!==t||e._has&&e._has("cartesian")))return[];if(!("gl2d"!==t||e._has&&e._has("gl2d")))return[];if("cartesian"===t||"gl2d"===t)return Object.keys(e._plots||{});for(var r=n.idRegex,a=Object.keys(e),i=[],o=0;o<a.length;o++){var s=a[o];r.test(s)&&i.push(s)}var l=n.idRoot.length;return i.sort(function(e,t){var n=+(e.substr(l)||1),r=+(t.substr(l)||1);return n-r}),i},h.getSubplotData=function(e,t,n){if(!h.subplotsRegistry[t])return[];for(var r,a=h.subplotsRegistry[t].attr,i=[],o=0;o<e.length;o++)if(r=e[o],"gl2d"===t&&h.traceIs(r,"gl2d")){var s=c.Axes.subplotMatch,l="x"+n.match(s)[1],u="y"+n.match(s)[2];r[a[0]]===l&&r[a[1]]===u&&i.push(r)}else r[a]===n&&i.push(r);return i},h.getSubplotCalcData=function(e,t,n){if(!h.subplotsRegistry[t])return[];for(var r=h.subplotsRegistry[t].attr,a=[],i=0;i<e.length;i++){var o=e[i],s=o[0].trace;s[r]===n&&a.push(o)}return a},h.redrawText=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){u.getComponentMethod("annotations","draw")(e),u.getComponentMethod("legend","draw")(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(h.previousPromises(e))},300)})},h.resize=function(e){return new Promise(function(t,n){e&&"none"!==s.select(e).style("display")||n(new Error("Resize must be passed a plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if(e.layout.width&&e.layout.height)return void t(e);delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,c.relayout(e,{autosize:!0}).then(function(){e.changed=n,t(e)})},100)})},h.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},h.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=t._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var e=s.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)});var a=n.node(),i={y:t._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=t.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=t._paper.attr("width")-7),n.attr(i);var o=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&r(e,o),l.text(o.text()&&c.text()?" - ":"")}},h.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=s.select(e).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"}),a=r.append("input").attr({type:"text",name:"data"});return a.node().value=h.graphJson(e,!1,"keepdata"),r.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1},h.supplyDefaults=function(e){var t,n=e._fullLayout||{},r=e._fullLayout={},a=e.layout||{},i=e._fullData||[],o=e._fullData=[],s=e.data||[];if(e._transitionData||h.createTransitionData(e),n._initialAutoSizeIsDone){var l=n.width,u=n.height;h.supplyLayoutGlobalDefaults(a,r),a.width||(r.width=l),a.height||(r.height=u)}else{h.supplyLayoutGlobalDefaults(a,r);var d=!a.width||!a.height,p=r.autosize,f=e._context&&e._context.autosizable,g=d&&(p||f);g?h.plotAutoSize(e,a,r):d&&h.sanitizeMargins(e),!p&&d&&(a.width=r.width,a.height=r.height)}r._initialAutoSizeIsDone=!0,r._dataLength=s.length,r._globalTransforms=(e._context||{}).globalTransforms,h.supplyDataDefaults(s,o,a,r),r._has=h._hasPlotType.bind(r);var m=r._modules;for(t=0;t<m.length;t++){var y=m[t];y.cleanData&&y.cleanData(o)}if(i.length===s.length)for(t=0;t<o.length;t++)v(o[t],i[t]);h.supplyLayoutModuleDefaults(a,r,o,e._transitionData),r._hasCartesian=r._has("cartesian"),r._hasGeo=r._has("geo"),r._hasGL3D=r._has("gl3d"),r._hasGL2D=r._has("gl2d"),r._hasTernary=r._has("ternary"),r._hasPie=r._has("pie"),h.cleanPlot(o,r,i,n),h.linkSubplots(o,r,i,n),v(r,n),h.doAutoMargin(e);var b=c.Axes.list(e);for(t=0;t<b.length;t++){var x=b[t];x.setScale()}if((e.calcdata||[]).length===o.length)for(t=0;t<o.length;t++){var w=o[t];(e.calcdata[t][0]||{}).trace=w}},h.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},h._hasPlotType=function(e){for(var t=this._basePlotModules||[],n=0;n<t.length;n++){var r=t[n];if(r.name===e)return!0}return!1},h.cleanPlot=function(e,t,n,r){var a,i,o=r._basePlotModules||[];for(a=0;a<o.length;a++){var s=o[a];s.clean&&s.clean(e,t,n,r)}var l=!!r._paper,c=!!r._infolayer;e:for(a=0;a<n.length;a++){var u=n[a],d=u.uid;for(i=0;i<e.length;i++){var p=e[i];if(d===p.uid)continue e}var f=".hm"+d+",.contour"+d+",.carpet"+d+",#clip"+d+",.trace"+d;l&&r._paper.selectAll(f).remove(),c&&(r._infolayer.selectAll(".cb"+d).remove(),r._infolayer.selectAll("g.rangeslider-container").selectAll(f).remove())}},h.linkSubplots=function(e,t,n,r){for(var a=r._plots||{},i=t._plots={},o={_fullData:e,_fullLayout:t},s=c.Axes.getSubplots(o),l=0;l<s.length;l++){var u,d=s[l],p=a[d];p?(u=i[d]=p,u._scene2d&&u._scene2d.updateRefs(t)):(u=i[d]={},u.id=d),u.xaxis=c.Axes.getFromId(o,d,"x"),u.yaxis=c.Axes.getFromId(o,d,"y")}},h.supplyDataDefaults=function(e,t,n,r){function i(e){t.push(e);var n=e._module;n&&(d.pushUnique(c,n),d.pushUnique(p,e._module.basePlotModule),f++)}var o,s,l,c=r._modules=[],p=r._basePlotModules=[],f=0;r._transformModules=[];var g={},m=[];for(o=0;o<e.length;o++){if(l=e[o],s=h.supplyTraceDefaults(l,f,r,o),s.index=o,s._input=l,s._expandedIndex=f,s.transforms&&s.transforms.length)for(var v=a(s,t,n,r),y=0;y<v.length;y++){var b=v[y],x=h.supplyTraceDefaults(b,f,r,o);b.uid=x.uid=s.uid+y,x.index=o,x._input=l,x._fullInput=s,x._expandedIndex=f,x._expandedInput=b,i(x)}else s._fullInput=s,s._expandedInput=s,i(s);u.traceIs(s,"carpetAxis")&&(g[s.carpet]=s),u.traceIs(s,"carpetDependent")&&m.push(o)}for(o=0;o<m.length;o++)if(s=t[m[o]],s.visible){var w=g[s.carpet];s._carpet=w,w&&w.visible?(s.xaxis=w.xaxis,s.yaxis=w.yaxis):s.visible=!1}},h.supplyAnimationDefaults=function(e){function t(t,n){return d.coerce(e||{},r,g,t,n)}e=e||{};var n,r={};if(t("mode"),t("direction"),t("fromcurrent"),Array.isArray(e.frame))for(r.frame=[],n=0;n<e.frame.length;n++)r.frame[n]=h.supplyAnimationFrameDefaults(e.frame[n]||{});else r.frame=h.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(r.transition=[],n=0;n<e.transition.length;n++)r.transition[n]=h.supplyAnimationTransitionDefaults(e.transition[n]||{});else r.transition=h.supplyAnimationTransitionDefaults(e.transition||{});return r},h.supplyAnimationFrameDefaults=function(e){function t(t,r){return d.coerce(e||{},n,g.frame,t,r)}var n={};return t("duration"),t("redraw"),n},h.supplyAnimationTransitionDefaults=function(e){function t(t,r){return d.coerce(e||{},n,g.transition,t,r)}var n={};return t("duration"),t("easing"),n},h.supplyFrameDefaults=function(e){function t(t,r){return d.coerce(e,n,m,t,r)}var n={};return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),n},h.supplyTraceDefaults=function(e,t,n,r){function a(t,n){return d.coerce(e,o,h.attributes,t,n)}function i(t,n){if(h.traceIs(o,t))return d.coerce(e,o,h.subplotsRegistry[t].attributes,n)}var o={},s=p.defaults[t%p.defaults.length],l=a("visible");a("type"),a("uid"),a("name","trace "+r);for(var c=Object.keys(y),f=0;f<c.length;f++){var g=c[f];if(["cartesian","gl2d"].indexOf(g)===-1){var m=y[g].attr;m&&i(g,m)}}if(l){var v=h.getModule(o);o._module=v,a("hoverinfo",1===n._dataLength?"x+y+z+text":void 0),h.traceIs(o,"showLegend")&&(a("showlegend"),a("legendgroup")),u.getComponentMethod("fx","supplyDefaults")(e,o,s,n),v&&v.supplyDefaults(e,o,s,n),h.traceIs(o,"noOpacity")||a("opacity"),i("cartesian","xaxis"),i("cartesian","yaxis"),i("gl2d","xaxis"),i("gl2d","yaxis"),h.traceIs(o,"notLegendIsolatable")&&(o.visible=!!o.visible),h.supplyTransformDefaults(e,o,n)}return o},h.supplyTransformDefaults=function(e,t,n){var r=n._globalTransforms||[],a=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var i=e.transforms||[],o=r.concat(i),s=t.transforms=[],l=0;l<o.length;l++){var c,u=o[l],p=u.type,f=b[p];f||d.warn("Unrecognized transform type "+p+"."),f&&f.supplyDefaults?(c=f.supplyDefaults(u,t,n,e),c.type=p,c._module=f,d.pushUnique(a,f)):c=d.extendFlat({},u),s.push(c)}},h.supplyLayoutGlobalDefaults=function(e,t){function n(n,r){return d.coerce(e,t,h.layoutAttributes,n,r)}var r=d.coerceFont(n,"font");n("title"),d.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color}),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&h.sanitizeMargins(t),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith"),u.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),u.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,n)},h.plotAutoSize=function(e,t,n){var r,a,o=e._context||{},s=o.frameMargins,c=d.isPlotDiv(e);if(c&&e.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,a=window.innerHeight,document.body.style.overflow="hidden";else if(l(s)&&s>0){var u=i(e._boundingBoxMargins),p=u.left+u.right,f=u.bottom+u.top,g=1-2*s,m=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(g*(m.width-p)),a=Math.round(g*(m.height-f))}else{var v=c?window.getComputedStyle(e):{};r=parseFloat(v.width)||n.width,a=parseFloat(v.height)||n.height}var y=h.layoutAttributes.width.min,b=h.layoutAttributes.height.min;r<y&&(r=y),a<b&&(a=b);var x=!t.width&&Math.abs(n.width-r)>1,w=!t.height&&Math.abs(n.height-a)>1;(w||x)&&(x&&(n.width=r),w&&(n.height=a)),e._initialAutoSize||(e._initialAutoSize={width:r,height:a}),h.sanitizeMargins(n)},h.supplyLayoutModuleDefaults=function(e,t,n,r){var a,i;c.Axes.supplyLayoutDefaults(e,t,n);var o=t._basePlotModules;for(a=0;a<o.length;a++)i=o[a],"cartesian"!==i.name&&i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n);var s=t._modules;for(a=0;a<s.length;a++)i=s[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n);var l=t._transformModules;for(a=0;a<l.length;a++)i=l[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n,r);var d=Object.keys(u.componentsRegistry);for(a=0;a<d.length;a++)i=u.componentsRegistry[d[a]],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n)},h.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&t._glcontainer.remove(),void 0!==t._geocontainer&&t._geocontainer.remove(),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e.firstscatter,delete e.hmlumcount,delete e.hmpixcount,delete e.numboxes,delete e._hoverTimer,delete e._lastHoverTime,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,e.removeAllListeners&&e.removeAllListeners()},h.style=function(e){for(var t=e._fullLayout._modules,n=0;n<t.length;n++){var r=t[n];r.style&&r.style(e)}},h.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,a=e.margin,i=n-(a.l+a.r),o=r-(a.t+a.b);i<0&&(t=(n-1)/(a.l+a.r),a.l=Math.floor(t*a.l),a.r=Math.floor(t*a.r)),o<0&&(t=(r-1)/(a.t+a.b),a.t=Math.floor(t*a.t),a.b=Math.floor(t*a.b))}},h.autoMargin=function(e,t,n){var r=e._fullLayout;if(r._pushmargin||(r._pushmargin={}),r.margin.autoexpand!==!1){if(n){var a=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[t]={l:{val:n.x,size:n.l+a},r:{val:n.x,size:n.r+a},b:{val:n.y,size:n.b+a},t:{val:n.y,size:n.t+a}}}else delete r._pushmargin[t];r._replotting||h.doAutoMargin(e)}},h.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),t._pushmargin||(t._pushmargin={});var n=t._size,r=JSON.stringify(n),a=Math.max(t.margin.l||0,0),i=Math.max(t.margin.r||0,0),o=Math.max(t.margin.t||0,0),s=Math.max(t.margin.b||0,0),u=t._pushmargin;if(t.margin.autoexpand!==!1){u.base={l:{val:0,size:a},r:{val:1,size:i},t:{val:1,size:o},b:{val:0,size:s}};for(var d=Object.keys(u),p=0;p<d.length;p++)for(var f=d[p],h=u[f].l||{},g=u[f].b||{},m=h.val,v=h.size,y=g.val,b=g.size,x=0;x<d.length;x++){var w=d[x];if(l(v)&&u[w].r){var _=u[w].r.val,k=u[w].r.size;if(_>m){var S=(v*_+(k-t.width)*m)/(_-m),A=(k*(1-m)+(v-t.width)*(1-_))/(_-m);S>=0&&A>=0&&S+A>a+i&&(a=S,i=A)}}if(l(b)&&u[w].t){var T=u[w].t.val,$=u[w].t.size;if(T>y){var C=(b*T+($-t.height)*y)/(T-y),M=($*(1-y)+(b-t.height)*(1-T))/(T-y);C>=0&&M>=0&&C+M>s+o&&(s=C,o=M)}}}}if(n.l=Math.round(a),n.r=Math.round(i),n.t=Math.round(o),n.b=Math.round(s),n.p=Math.round(t.margin.pad),n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(t._size))return c.plot(e)},h.graphJson=function(e,t,n,r,a){function i(e){if("function"==typeof e)return null;if(d.isPlainObject(e)){var t,r,a={};for(t in e)if("function"!=typeof e[t]&&["_","["].indexOf(t.charAt(0))===-1){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if(r=e[t+"src"],"string"==typeof r&&r.indexOf(":")>0&&!d.isPlainObject(e.stream))continue}else if("keepall"!==n&&(r=e[t+"src"],"string"==typeof r&&r.indexOf(":")>0))continue;a[t]=i(e[t])}return a}return Array.isArray(e)?e.map(i):d.isJSDate(e)?d.ms2DateTimeLocal(+e):e}(a&&t&&!e._fullData||a&&!t&&!e._fullLayout)&&h.supplyDefaults(e);var o=a?e._fullData:e.data,s=a?e._fullLayout:e.layout,l=(e._transitionData||{})._frames,c={data:(o||[]).map(function(e){var n=i(e);return t&&delete n.fit,n})};return t||(c.layout=i(s)),e.framework&&e.framework.isPolar&&(c=e.framework.getConfig()),l&&(c.frames=i(l)),"object"===r?c:JSON.stringify(c)},h.modifyFrames=function(e,t){var n,r,a,i=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch(r=t[n],r.type){case"replace":a=r.value;var s=(i[r.index]||{}).name,l=a.name;i[r.index]=o[l]=a,l!==s&&(delete o[s],o[l]=a);break;case"insert":a=r.value,o[a.name]=a,i.splice(r.index,0,a);break;case"delete":a=i[r.index],delete o[a.name],i.splice(r.index,1)}return Promise.resolve()},h.computeFrame=function(e,t){var n,r,a,i,o=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=o[t.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&c.indexOf(s.name)===-1;)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=h.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),r=s.traces,!r)for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)a=r[n],void 0!==a&&null!==a&&(i=u.traces.indexOf(a),i===-1&&(i=u.data.length,u.traces[i]=a),u.data[i]=h.extendTrace(u.data[i],s.data[n]))}return u},h.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var a=n[r];a&&a.name&&(t[a.name]=a)}},h.extendObjectWithContainers=function(e,t,n){var r,a,i,o,s,l,c,u,p=d.extendDeepNoArrays({},t||{}),f=d.expandObjectPaths(p),g={};if(n&&n.length)for(i=0;i<n.length;i++)r=d.nestedProperty(f,n[i]),a=r.get(),void 0===a?d.nestedProperty(g,n[i]).set(null):(r.set(null),d.nestedProperty(g,n[i]).set(a));if(e=d.extendDeepNoArrays(e||{},f),n&&n.length)for(i=0;i<n.length;i++)if(s=d.nestedProperty(g,n[i]),c=s.get()){for(l=d.nestedProperty(e,n[i]),u=l.get(),Array.isArray(u)||(u=[],l.set(u)),o=0;o<c.length;o++){var m=c[o];null===m?u[o]=null:u[o]=h.extendObjectWithContainers(u[o],m)}l.set(u)}return e},h.dataArrayContainers=["transforms"],h.layoutArrayContainers=u.layoutArrayContainers,h.extendTrace=function(e,t){return h.extendObjectWithContainers(e,t,h.dataArrayContainers)},h.extendLayout=function(e,t){return h.extendObjectWithContainers(e,t,h.layoutArrayContainers)},h.transition=function(e,t,n,r,a,i){function o(){var r;for(r=0;r<y.length;r++){var a=y[r],i=e._fullData[a],o=i._module;o&&(o.animatable&&b.push(a),e.data[y[r]]=h.extendTrace(e.data[y[r]],t[r]))}var s=d.expandObjectPaths(d.extendDeepNoArrays({},n)),l=/^[xy]axis[0-9]*$/;for(var c in s)l.test(c)&&delete s[c].range;return h.extendLayout(e.layout,s),h.supplyDefaults(e),h.doCalcdata(e),x.calc(e),Promise.resolve()}function s(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function l(e){if(e)for(;e.length;)e.shift()}function u(){return e.emit("plotly_transitioning",[]),new Promise(function(t){function r(){return l++,function(){u++,w||u!==l||p(t)}}e._transitioning=!0,i.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){w=!0}),a.redraw&&e._transitionData._interruptCallbacks.push(function(){return c.redraw(e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var o,s,l=0,u=0,f=e._fullLayout._basePlotModules,h=!1;if(n)for(s=0;s<f.length;s++)if(f[s].transitionAxes){var g=d.expandObjectPaths(n);h=f[s].transitionAxes(e,g,i,r)||h}for(h?(o=d.extendFlat({},i),o.duration=0):o=i,s=0;s<f.length;s++)f[s].plot(e,b,o,r);setTimeout(r())})}function p(t){if(e._transitionData)return l(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(a.redraw)return c.redraw(e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(t)}function f(){if(e._transitionData)return e._transitioning=!1,s(e._transitionData._interruptCallbacks)}var g,m,v=Array.isArray(t)?t.length:0,y=r.slice(0,v),b=[],w=!1;for(g=0;g<y.length;g++){m=y[g];var _=e._fullData[m],k=_._module;if(k&&!k.animatable){var S={};for(var A in t[g])S[A]=[t[g][A]]}}var T=[h.previousPromises,f,o,h.rehover,u],$=d.syncOrAsync(T,e);return $&&$.then||($=Promise.resolve()),$.then(function(){return e})},h.doCalcdata=function(e,t){var n,r,a,i,s=c.Axes.list(e),l=e._fullData,d=e._fullLayout,p=new Array(l.length),h=(e.calcdata||[]).slice(0);for(e.calcdata=p,e.firstscatter=!0,e.numboxes=0,e._hmpixcount=0,e._hmlumcount=0,d._piecolormap={},d._piedefaultcolorcount=0,a=0;a<l.length;a++)Array.isArray(t)&&t.indexOf(a)===-1&&(p[a]=h[a]);var g=o(s),m=!1;for(a=0;a<l.length;a++)if(n=l[a],n.visible===!0&&n.transforms)for(r=n._module,r&&r.calc&&r.calc(e,n),i=0;i<n.transforms.length;i++){var v=n.transforms[i];r=b[v.type],r&&r.calcTransform&&(m=!0,r.calcTransform(e,n,v))}if(m){for(a=0;a<s.length;a++)s[a]._min=[],s[a]._max=[],s[a]._categories=[],s[a]._categoriesMap={};o(s)}for(a=0;a<l.length;a++){var y=[];n=l[a],n.visible===!0&&(r=n._module,r&&r.calc&&(y=r.calc(e,n))),Array.isArray(y)&&y[0]||(y=[{x:f,y:f}]),y[0].t||(y[0].t={}),y[0].trace=n,p[a]=y}if(u.getComponentMethod("fx","calc")(e),g){var x=["annotations","shapes","images"];for(a=0;a<x.length;a++)u.getComponentMethod(x[a],"supplyLayoutDefaults")(e.layout,d,l)}},h.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},h.generalUpdatePerTraceModule=function(e,t,n){function r(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=r[0].trace;a.visible===!0&&t.push(r)}return t}var a,i=e.traceHash,o={};for(a=0;a<t.length;a++){var s=t[a],l=s[0].trace;l.visible&&(o[l.type]=o[l.type]||[],o[l.type].push(s))}var c=Object.keys(i),u=Object.keys(o);for(a=0;a<c.length;a++){var d=c[a];if(u.indexOf(d)===-1){var p=i[d][0],f=p[0].trace;f.visible=!1,o[d]=[p]}}for(u=Object.keys(o),a=0;a<u.length;a++){var h=o[u[a]],g=h[0][0].trace._module;g.plot(e,r(h),n)}e.traceHash=o}},{"../components/color":427,"../components/errorbars":457,"../constants/numerical":524,"../lib":538,"../plotly":568,"../registry":608,"./animation_attributes":569,"./attributes":571,"./command":596,"./font_attributes":597,"./frame_attributes":598,"./layout_attributes":599,d3:260,"fast-isnumeric":263}],602:[function(e,t,n){"use strict";var r=e("../../traces/scatter/attributes"),a=r.marker;t.exports={r:r.r,t:r.t,marker:{color:a.color,size:a.size,symbol:a.symbol,opacity:a.opacity}}},{"../../traces/scatter/attributes":642}],603:[function(e,t,n){"use strict";function r(e,t){var n={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",e,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",e,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",e,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",e,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return i({},t,n)}var a=e("../cartesian/layout_attributes"),i=e("../../lib/extend").extendFlat,o=i({},a.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});t.exports={radialaxis:r("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:o,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:r("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:o}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}}},{"../../lib/extend":534,"../cartesian/layout_attributes":584}],604:[function(e,t,n){"use strict";var r=t.exports=e("./micropolar");r.manager=e("./micropolar_manager")},{"./micropolar":605,"./micropolar_manager":606}],605:[function(e,t,n){var r=e("d3"),a=e("../../lib"),i=a.extendDeepAll,o=t.exports={version:"0.2.2"};o.Axis=function(){function e(e){n=e||n;var c=l.data,d=l.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(c).each(function(e,n){function l(e,t){return s(e)%360+d.orientation}var c=e.slice();u={data:o.util.cloneJson(c),layout:o.util.cloneJson(d)};var p=0;c.forEach(function(e,t){e.color||(e.color=d.defaultColorRange[p],p=(p+1)%d.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),u.data[t].color=e.color,u.data[t].strokeColor=e.strokeColor,u.data[t].strokeDash=e.strokeDash,u.data[t].strokeSize=e.strokeSize});var f=c.filter(function(e,t){var n=e.visible;return"undefined"==typeof n||n===!0}),h=!1,g=f.map(function(e,t){return h=h||"undefined"!=typeof e.groupId,e});if(h){var m=r.nest().key(function(e,t){return"undefined"!=typeof e.groupId?e.groupId:"unstacked"}).entries(g),v=[],y=m.map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],v.push(n),n=o.util.sumArrays(e.r,n)}),e.values});f=r.merge(y)}f.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var b=Math.min(d.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2;b=Math.max(10,b);var x,w=[d.margin.left+b,d.margin.top+b];if(h){var _=r.max(o.util.sumArrays(o.util.arrayLast(f).r[0],o.util.arrayLast(v)));x=[0,_]}else x=r.extent(o.util.flattenArray(f.map(function(e,t){return e.r})));d.radialAxis.domain!=o.DATAEXTENT&&(x[0]=0),a=r.scale.linear().domain(d.radialAxis.domain!=o.DATAEXTENT&&d.radialAxis.domain?d.radialAxis.domain:x).range([0,b]),u.layout.radialAxis.domain=a.domain();var k,S=o.util.flattenArray(f.map(function(e,t){return e.t})),A="string"==typeof S[0];A&&(S=o.util.deduplicate(S),k=S.slice(),S=r.range(S.length),f=f.map(function(e,t){var n=e;return e.t=[S],h&&(n.yStack=e.yStack),n}));var T=f.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===f.length,$=null===d.needsEndSpacing?A||!T:d.needsEndSpacing,C=d.angularAxis.domain&&d.angularAxis.domain!=o.DATAEXTENT&&!A&&d.angularAxis.domain[0]>=0,M=C?d.angularAxis.domain:r.extent(S),E=Math.abs(S[1]-S[0]);T&&!A&&(E=0);var I=M.slice();$&&A&&(I[1]+=E);var P=d.angularAxis.ticksCount||4;P>8&&(P=P/(P/8)+P%8),d.angularAxis.ticksStep&&(P=(I[1]-I[0])/P);var j=d.angularAxis.ticksStep||(I[1]-I[0])/(P*(d.minorTicks+1));k&&(j=Math.max(Math.round(j),1)),I[2]||(I[2]=j);var D=r.range.apply(this,I);if(D=D.map(function(e,t){return parseFloat(e.toPrecision(12))}),s=r.scale.linear().domain(I.slice(0,2)).range("clockwise"===d.direction?[0,360]:[360,0]),u.layout.angularAxis.domain=s.domain(),u.layout.angularAxis.endPadding=$?E:0,t=r.select(this).select("svg.chart-root"),"undefined"==typeof t||t.empty()){var L="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",O=(new DOMParser).parseFromString(L,"application/xml"),R=this.appendChild(this.ownerDocument.importNode(O.documentElement,!0));t=r.select(R)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var N,z=t.select(".chart-group"),B={fill:"none",stroke:d.tickColor},F={"font-size":d.font.size,"font-family":d.font.family,fill:d.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+d.font.outlineColor}).join(",")};if(d.showLegend){N=t.select(".legend-group").attr({transform:"translate("+[b,d.margin.top]+")"}).style({display:"block"});var H=f.map(function(e,t){var n=o.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend="undefined"==typeof e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});o.Legend().config({data:f.map(function(e,t){return e.name||"Element"+t}),legendConfig:i({},o.Legend.defaultConfig().legendConfig,{container:N,elements:H,reverseOrder:d.legend.reverseOrder})})();var U=N.node().getBBox();b=Math.min(d.width-U.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2,b=Math.max(10,b),w=[d.margin.left+b,d.margin.top+b],a.range([0,b]),u.layout.radialAxis.domain=a.domain(),N.attr("transform","translate("+[w[0]+b,w[1]-b]+")")}else N=t.select(".legend-group").style({display:"none"});t.attr({width:d.width,height:d.height}).style({opacity:d.opacity}),z.attr("transform","translate("+w+")").style({cursor:"crosshair"});var q=[(d.width-(d.margin.left+d.margin.right+2*b+(U?U.width:0)))/2,(d.height-(d.margin.top+d.margin.bottom+2*b))/2];if(q[0]=Math.max(0,q[0]),q[1]=Math.max(0,q[1]),t.select(".outer-group").attr("transform","translate("+q+")"),d.title){var V=t.select("g.title-group text").style(F).text(d.title),G=V.node().getBBox();V.attr({x:w[0]-G.width/2,y:w[1]-b-20})}var W=t.select(".radial.axis-group");if(d.radialAxis.gridLinesVisible){var Y=W.selectAll("circle.grid-circle").data(a.ticks(5));Y.enter().append("circle").attr({"class":"grid-circle"}).style(B),Y.attr("r",a),Y.exit().remove()}W.select("circle.outside-circle").attr({r:b}).style(B);var X=t.select("circle.background-circle").attr({r:b}).style({fill:d.backgroundColor,stroke:d.stroke});if(d.radialAxis.visible){var Q=r.svg.axis().scale(a).ticks(5).tickSize(5);W.call(Q).attr({transform:"rotate("+d.radialAxis.orientation+")"}),W.selectAll(".domain").style(B),W.selectAll("g>text").text(function(e,t){return this.textContent+d.radialAxis.ticksSuffix}).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===d.radialAxis.tickOrientation?"rotate("+-d.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),W.selectAll("g>line").style({stroke:"black"})}var K=t.select(".angular.axis-group").selectAll("g.angular-tick").data(D),Z=K.enter().append("g").classed("angular-tick",!0);K.attr({transform:function(e,t){return"rotate("+l(e,t)+")"}}).style({display:d.angularAxis.visible?"block":"none"}),K.exit().remove(),Z.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(d.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(d.minorTicks+1)==0)}).style(B),Z.selectAll(".minor").style({stroke:d.minorTickColor}),K.select("line.grid-line").attr({x1:d.tickLength?b-d.tickLength:0,x2:b}).style({display:d.angularAxis.gridLinesVisible?"block":"none"}),Z.append("text").classed("axis-text",!0).style(F);var J=K.select("text.axis-text").attr({x:b+d.labelOffset,dy:".35em",transform:function(e,t){var n=l(e,t),r=b+d.labelOffset,a=d.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+r+" 0)":"radial"==a?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:d.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(d.minorTicks+1)!=0?"":k?k[e]+d.angularAxis.ticksSuffix:e+d.angularAxis.ticksSuffix}).style(F);d.angularAxis.rewriteTicks&&J.text(function(e,t){return t%(d.minorTicks+1)!=0?"":d.angularAxis.rewriteTicks(this.textContent,t)});var ee=r.max(z.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));N.attr({transform:"translate("+[b+ee,d.margin.top]+")"});var te=t.select("g.geometry-group").selectAll("g").size()>0,ne=t.select("g.geometry-group").selectAll("g.geometry").data(f);if(ne.enter().append("g").attr({"class":function(e,t){return"geometry geometry"+t}}),ne.exit().remove(),f[0]||te){var re=[];f.forEach(function(e,t){var n={};n.radialScale=a,n.angularScale=s,n.container=ne.filter(function(e,n){
return n==t}),n.geometry=e.geometry,n.orientation=d.orientation,n.direction=d.direction,n.index=t,re.push({data:e,geometryConfig:n})});var ae=r.nest().key(function(e,t){return"undefined"!=typeof e.data.groupId||"unstacked"}).entries(re),ie=[];ae.forEach(function(e,t){"unstacked"===e.key?ie=ie.concat(e.values.map(function(e,t){return[e]})):ie.push(e.values)}),ie.forEach(function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e,t){return i(o[n].defaultConfig(),e)});o[n]().config(r)()})}var oe,se,le=t.select(".guides-group"),ce=t.select(".tooltips-group"),ue=o.tooltipPanel().config({container:ce,fontSize:8})(),de=o.tooltipPanel().config({container:ce,fontSize:8})(),pe=o.tooltipPanel().config({container:ce,hasTick:!0})();if(!A){var fe=le.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});z.on("mousemove.angular-guide",function(e,t){var n=o.util.getMousePos(X).angle;fe.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-d.orientation)%360;oe=s.invert(r);var a=o.util.convertToCartesian(b+12,n+180);ue.text(o.util.round(oe)).move([a[0]+w[0],a[1]+w[1]])}).on("mouseout.angular-guide",function(e,t){le.select("line").style({opacity:0})})}var he=le.select("circle").style({stroke:"grey",fill:"none"});z.on("mousemove.radial-guide",function(e,t){var n=o.util.getMousePos(X).radius;he.attr({r:n}).style({opacity:.5}),se=a.invert(o.util.getMousePos(X).radius);var r=o.util.convertToCartesian(n,d.radialAxis.orientation);de.text(o.util.round(se)).move([r[0]+w[0],r[1]+w[1]])}).on("mouseout.radial-guide",function(e,t){he.style({opacity:0}),pe.hide(),ue.hide(),de.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e,n){var a=r.select(this),i=a.style("fill"),s="black",l=a.style("opacity")||1;if(a.attr({"data-opacity":l}),"none"!=i){a.attr({"data-fill":i}),s=r.hsl(i).darker().toString(),a.style({fill:s,opacity:1});var c={t:o.util.round(e[0]),r:o.util.round(e[1])};A&&(c.t=k[e[0]]);var u="t: "+c.t+", r: "+c.r,d=this.getBoundingClientRect(),p=t.node().getBoundingClientRect(),f=[d.left+d.width/2-q[0]-p.left,d.top+d.height/2-q[1]-p.top];pe.config({color:s}).text(u),pe.move(f)}else i=a.style("stroke"),a.attr({"data-stroke":i}),s=r.hsl(i).darker().toString(),a.style({stroke:s,opacity:1})}).on("mousemove.tooltip",function(e,t){return 0==r.event.which&&void(r.select(this).attr("data-fill")&&pe.show())}).on("mouseout.tooltip",function(e,t){pe.hide();var n=r.select(this),a=n.attr("data-fill");a?n.style({fill:a,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),p}var t,n,a,s,l={data:[],layout:{}},c={},u={},d=r.dispatch("hover"),p={};return p.render=function(t){return e(t),this},p.config=function(e){if(!arguments.length)return l;var t=o.util.cloneJson(e);return t.data.forEach(function(e,t){l.data[t]||(l.data[t]={}),i(l.data[t],o.Axis.defaultConfig().data[0]),i(l.data[t],e)}),i(l.layout,o.Axis.defaultConfig().layout),i(l.layout,t.layout),this},p.getLiveConfig=function(){return u},p.getinputConfig=function(){return c},p.radialScale=function(e){return a},p.angularScale=function(e){return s},p.svg=function(){return t},r.rebind(p,d,"on"),p},o.Axis.defaultConfig=function(e,t){var n={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return n},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},o.util._extend=function(e,t){for(var n in e)t[n]=e[n]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var n=t||6,a=r.range(0,360+n,n).map(function(t,n){var r=t*Math.PI/180,a=e(r);return[t,a]});return a},o.util.dataFromEquation=function(e,t,n){var a=t||6,i=[],o=[];r.range(0,360+a,a).forEach(function(t,n){var r=t*Math.PI/180,a=e(r);i.push(t),o.push(a)});var s={t:i,r:o};return n&&(s.name=n),s},o.util.ensureArray=function(e,t){if("undefined"==typeof e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},o.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=o.util.ensureArray(e[t],n)}),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},o.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return n===-2},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},o.util.convertToCartesian=function(e,t){var n=t*Math.PI/180,r=e*Math.cos(n),a=e*Math.sin(n);return[r,a]},o.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},o.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],a=t[1],i={};return i.x=n,i.y=a,i.pos=t,i.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+a*a),i},o.util.duplicatesCount=function(e){for(var t,n={},r={},a=0,i=e.length;a<i;a++)t=e[a],t in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,n,r){if(r){var a=n.slice();n=t,t=a}var i=t.reduce(function(e,t){if("undefined"!=typeof e)return e[t]},e);"undefined"!=typeof i&&(t.reduce(function(e,n,r){if("undefined"!=typeof e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return"undefined"==typeof e[t]&&(e[t]={}),r===n.length-1&&(e[t]=i),e[t]},e))},o.PolyChart=function(){function e(){var e=n[0].geometryConfig,t=e.container;"string"==typeof t&&(t=r.select(t)),t.datum(n).each(function(t,n){function a(t,n){var r=e.radialScale(t[1]),a=(e.angularScale(t[0])+e.orientation)*Math.PI/180;return{r:r,t:a}}function i(e){var t=e.r*Math.cos(e.t),n=e.r*Math.sin(e.t);return{x:t,y:n}}var o=!!t[0].data.yStack,l=t.map(function(e,t){return o?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),c=e.angularScale,u=e.radialScale.domain()[0],d={};d.bar=function(n,a,i){var o=t[i].data,s=e.radialScale(n[1])-e.radialScale(0),l=e.radialScale(n[2]||0),u=o.barWidth;r.select(this).attr({"class":"mark bar",d:"M"+[[s+l,-u/2],[s+l,u/2],[l,u/2],[l,-u/2]].join("L")+"Z",transform:function(t,n){return"rotate("+(e.orientation+c(t[0]))+")"}})},d.dot=function(e,n,o){var s=e[2]?[e[0],e[1]+e[2]]:e,l=r.svg.symbol().size(t[o].data.dotSize).type(t[o].data.dotType)(e,n);r.select(this).attr({"class":"mark dot",d:l,transform:function(e,t){var n=i(a(s));return"translate("+[n.x,n.y]+")"}})};var p=r.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});d.line=function(n,a,i){var o=n[2]?l[i].map(function(e,t){return[e[0],e[1]+e[2]]}):l[i];if(r.select(this).each(d.dot).style({opacity:function(e,n){return+t[i].data.dotVisible},fill:m.stroke(n,a,i)}).attr({"class":"mark dot"}),!(a>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({"class":"line",d:p(o),transform:function(t,n){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return m.fill(n,a,i)},"fill-opacity":0,stroke:function(e,t){return m.stroke(n,a,i)},"stroke-width":function(e,t){return m["stroke-width"](n,a,i)},"stroke-dasharray":function(e,t){return m["stroke-dasharray"](n,a,i)},opacity:function(e,t){return m.opacity(n,a,i)},display:function(e,t){return m.display(n,a,i)}})}};var f=e.angularScale.range(),h=Math.abs(f[1]-f[0])/l[0].length*Math.PI/180,g=r.svg.arc().startAngle(function(e){return-h/2}).endAngle(function(e){return h/2}).innerRadius(function(t){return e.radialScale(u+(t[2]||0))}).outerRadius(function(t){return e.radialScale(u+(t[2]||0))+e.radialScale(t[1])});d.arc=function(t,n,a){r.select(this).attr({"class":"mark arc",d:g,transform:function(t,n){return"rotate("+(e.orientation+c(t[0])+90)+")"}})};var m={fill:function(e,n,r){return t[r].data.color},stroke:function(e,n,r){return t[r].data.strokeColor},"stroke-width":function(e,n,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,n,r){return s[t[r].data.strokeDash]},opacity:function(e,n,r){return t[r].data.opacity},display:function(e,n,r){return"undefined"==typeof t[r].data.visible||t[r].data.visible?"block":"none"}},v=r.select(this).selectAll("g.layer").data(l);v.enter().append("g").attr({"class":"layer"});var y=v.selectAll("path.mark").data(function(e,t){return e});y.enter().append("path").attr({"class":"mark"}),y.style(m).each(d[e.geometryType]),y.exit().remove(),v.exit().remove()})}var t,n=[o.PolyChart.defaultConfig()],a=r.dispatch("hover"),s={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(e.forEach(function(e,t){n[t]||(n[t]={}),i(n[t],o.PolyChart.defaultConfig()),i(n[t],e)}),this):n},e.getColorScale=function(){return t},r.rebind(e,a,"on"),e},o.PolyChart.defaultConfig=function(){var e={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}};return e},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"bar"}};return e},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){var e={geometryConfig:{geometryType:"arc"}};return e},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){var e={geometryConfig:{geometryType:"dot",dotType:"circle"}};return e},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){var e={geometryConfig:{geometryType:"line"}};return e},o.Legend=function(){function e(){var n=t.legendConfig,a=t.data.map(function(e,t){return[].concat(e).map(function(e,r){var a=i({},n.elements[t]);return a.name=e,a.color=[].concat(n.elements[t].color)[r],a})}),o=r.merge(a);o=o.filter(function(e,t){return n.elements[t]&&(n.elements[t].visibleInLegend||"undefined"==typeof n.elements[t].visibleInLegend)}),n.reverseOrder&&(o=o.reverse());var s=n.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=o.map(function(e,t){return e.color}),c=n.fontSize,u=null==n.isContinuous?"number"==typeof o[0]:n.isContinuous,d=u?n.height:c*o.length,p=s.classed("legend-group",!0),f=p.selectAll("svg").data([0]),h=f.enter().append("svg").attr({width:300,height:d+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var g=r.range(o.length),m=r.scale[u?"linear":"ordinal"]().domain(g).range(l),v=r.scale[u?"linear":"ordinal"]().domain(g)[u?"range":"rangePoints"]([0,d]),y=function(e,t){var n=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":r.svg.symbolTypes.indexOf(e)!=-1?r.svg.symbol().type(e).size(n)():r.svg.symbol().type("square").size(n)()};if(u){var b=f.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);b.enter().append("stop"),b.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),f.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var x=f.select(".legend-marks").selectAll("path.legend-mark").data(o);x.enter().append("path").classed("legend-mark",!0),x.attr({transform:function(e,t){return"translate("+[c/2,v(t)+c/2]+")"},d:function(e,t){var n=e.symbol;return y(n,c)},fill:function(e,t){return m(t)}}),x.exit().remove()}var w=r.svg.axis().scale(v).orient("right"),_=f.select("g.legend-axis").attr({transform:"translate("+[u?n.colorBandWidth:c,c/2]+")"}).call(w);return _.selectAll(".domain").style({fill:"none",stroke:"none"}),_.selectAll("line").style({fill:"none",stroke:u?n.textColor:"none"}),_.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(e,t){return o[t].name}),e}var t=o.Legend.defaultConfig(),n=r.dispatch("hover");return e.config=function(e){return arguments.length?(i(t,e),this):t},r.rebind(e,n,"on"),e},o.Legend.defaultConfig=function(e,t){var n={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return n},o.tooltipPanel=function(){var e,t,n,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+o.tooltipPanel.uid++,l=10,c=function u(){e=a.container.selectAll("g."+s).data([0]);var r=e.enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:a.padding+l,dy:.3*+a.fontSize}),u};return c.text=function(i){var o=r.hsl(a.color).l,s=o>=.5?"#aaa":"white",u=o>=.5?"black":"white",d=i||"";t.style({fill:u,"font-size":a.fontSize+"px"}).text(d);var p=a.padding,f=t.node().getBBox(),h={fill:a.color,stroke:s,"stroke-width":"2px"},g=f.width+2*p+l,m=f.height+2*p;return n.attr({d:"M"+[[l,-m/2],[l,-m/4],[a.hasTick?0:l,0],[l,m/4],[l,m/2],[g,m/2],[g,-m/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[l,-m/2+2*p]+")"}),e.style({display:"block"}),c},c.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(e)return e.style({display:"none"}),c},c.show=function(){if(e)return e.style({display:"block"}),c},c.config=function(e){return i(a,e),c},c},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){var e={};return e.convert=function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=i({},e),a=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return a.forEach(function(e,n){o.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",r.dotVisible===!0?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var a=o.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=a.indexOf(e.geometry);r!=-1&&(n.data[t].groupId=r)})}if(e.layout){var s=i({},e.layout),l=[[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]];if(l.forEach(function(e,n){o.util.translator.apply(null,e.concat(t))}),t?("undefined"!=typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!=typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!=typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var c=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],d={};r.entries(s.margin).forEach(function(e,t){d[u[c.indexOf(e.key)]]=e.value}),s.margin=d}t&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n},e}},{"../../lib":538,d3:260}],606:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib"),i=e("../../components/color"),o=e("./micropolar"),s=e("./undo_manager"),l=a.extendDeepAll,c=t.exports={};c.framework=function(e){function t(t,a){return a&&(d=a),r.select(r.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?l(n,t):t,i||(i=o.Axis()),u=o.adapter.plotly().convert(n),i.config(u).render(d),e.data=n.data,e.layout=n.layout,c.fillLayout(e),n}var n,a,i,u,d,p=new s;return t.isPolar=!0,t.svg=function(){return i.svg()},t.getConfig=function(){return n},t.getLiveConfig=function(){return o.adapter.plotly().convert(i.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},t.setUndoPoint=function(){var e=this,t=o.util.cloneJson(n);!function(t,n){p.add({undo:function(){n&&e(n)},redo:function(){e(t)}})}(t,a),a=o.util.cloneJson(t)},t.undo=function(){p.undo()},t.redo=function(){p.redo()},t},c.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),a=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:n,_paper:a};e._fullLayout=l(o,e.layout)}},{"../../components/color":427,"../../lib":538,"./micropolar":605,"./undo_manager":607,d3:260}],607:[function(e,t,n){"use strict";t.exports=function(){function e(e,t){return e?(a=!0,e[t](),a=!1,this):this}var t,n=[],r=-1,a=!1;return{add:function(e){return a?this:(n.splice(r+1,n.length-r),n.push(e),r=n.length-1,this)},setCallback:function(e){t=e},undo:function(){var a=n[r];return a?(e(a,"undo"),r-=1,t&&t(a.undo),this):this},redo:function(){var a=n[r+1];return a?(e(a,"redo"),r+=1,t&&t(a.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return r!==-1},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},{}],608:[function(e,t,n){"use strict";function r(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)s(n.layoutArrayRegexes,t[r])}}function a(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(e=e.type),e}var i=e("./lib/loggers"),o=e("./lib/noop"),s=e("./lib/push_unique"),l=e("./plots/attributes");n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.register=function(e,t,r,a){if(n.modules[t])return void i.log("Type "+t+" already registered");for(var o={},s=0;s<r.length;s++)o[r[s]]=!0,n.allCategories[r[s]]=!0;n.modules[t]={_module:e,categories:o},a&&Object.keys(a).length&&(n.modules[t].meta=a),n.allTypes.push(t)},n.registerSubplot=function(e){var t=e.name;return n.subplotsRegistry[t]?void i.log("Plot type "+t+" already registered."):(r(e),void(n.subplotsRegistry[t]=e))},n.registerComponent=function(e){var t=e.name;n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&s(n.layoutArrayContainers,t),r(e))},n.getModule=function(e){if(void 0!==e.r)return i.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",e),!1;var t=n.modules[a(e)];return!!t&&t._module},n.traceIs=function(e,t){if(e=a(e),"various"===e)return!1;var r=n.modules[e];return r||(e&&"area"!==e&&i.log("Unrecognized trace type "+e+"."),r=n.modules[l.type.dflt]),!!r.categories[t]},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r?r[t]||o:o}},{"./lib/loggers":541,"./lib/noop":545,"./lib/push_unique":549,"./plots/attributes":571}],609:[function(e,t,n){"use strict";function r(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function a(e){var t=["xaxis","yaxis","zaxis"];return t.indexOf(e.slice(0,5))>-1}var i=e("../lib"),o=e("../plots/plots"),s=i.extendFlat,l=i.extendDeep;t.exports=function(e,t){e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var n,i=e.data,c=e.layout,u=l([],i),d=l({},c,r(t.tileClass)),p=e._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){d.annotations=[];var f=Object.keys(d);for(n=0;n<f.length;n++)a(f[n])&&(d[f[n]].title="");for(n=0;n<u.length;n++){var h=u[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)d.annotations.push(t.annotations[n]);var g=o.getSubplotIds(d,"gl3d");if(g.length){var m={};for("thumbnail"===t.tileClass&&(m={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var v=d[g[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),s(v.xaxis,m),s(v.yaxis,m),s(v.zaxis,m),v._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var b={gd:y,td:y,layout:d,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:p.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=r(t.tileClass),b}},{"../lib":538,"../plots/plots":601}],610:[function(e,t,n){"use strict";function r(e,t){return t=t||{},t.format=t.format||"png",new Promise(function(n,r){e._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==t.format&&r(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),e._snapshotInProgress=!0;var s=a(e,t),l=t.filename||e.fn||"newplot";l+="."+t.format,s.then(function(t){return e._snapshotInProgress=!1,o(t,l)}).then(function(e){n(e)})["catch"](function(t){e._snapshotInProgress=!1,r(t)})})}var a=e("../plot_api/to_image"),i=e("../lib"),o=e("./filesaver");t.exports=r},{"../lib":538,"../plot_api/to_image":566,"./filesaver":611}],611:[function(e,t,n){"use strict";var r=function(e,t){var n=document.createElement("a"),r="download"in n,a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=new Promise(function(i,o){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&o(new Error("IE < 10 unsupported")),a&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),i(t)),t||(t="download"),r&&(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),i(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([e]),t),i(t)),o(new Error("download error"))});return i};t.exports=r},{}],612:[function(e,t,n){"use strict";n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d"))?500:0},n.getRedrawFunc=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},{}],613:[function(e,t,n){"use strict";var r=e("./helpers"),a={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=a},{"./cloneplot":609,"./download":610,"./helpers":612,"./svgtoimg":614,"./toimage":615,"./tosvg":616}],614:[function(e,t,n){"use strict";function r(e){var t=e.emitter||new i,n=new Promise(function(r,i){var o=window.Image,s=e.svg,l=e.format||"png";if(a.isIE()&&(s=s.replace(/"/gi,"'"),s=s.replace(/(\('#)(.*)('\))/gi,'("$2")'),s=s.replace(/(\\')/gi,'"'),"svg"!==l)){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(c),e.promise?n:t.emit("error",c)}var u=e.canvas,d=u.getContext("2d"),p=new o,f="data:image/svg+xml,"+encodeURIComponent(s);u.height=e.height||150,u.width=e.width||300,p.onload=function(){var n;switch("svg"!==l&&d.drawImage(p,0,0),l){case"jpeg":n=u.toDataURL("image/jpeg");break;case"png":n=u.toDataURL("image/png");break;case"webp":n=u.toDataURL("image/webp");break;case"svg":n=f;break;default:if(i(new Error("Image format is not jpeg, png or svg")),!e.promise)return t.emit("error","Image format is not jpeg, png or svg")}r(n),e.promise||t.emit("success",n)},p.onerror=function(n){if(i(n),!e.promise)return t.emit("error",n)},p.src=f});return e.promise?n:t}var a=e("../lib"),i=e("events").EventEmitter;t.exports=r},{"../lib":538,events:262}],615:[function(e,t,n){"use strict";function r(e,t){function n(){var e=s.getDelay(p._fullLayout);setTimeout(function(){var e=c(p),n=document.createElement("canvas");n.id=o.randstr(),r=u({format:t.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:n,emitter:r,svg:e}),r.clean=function(){p&&document.body.removeChild(p)}},e)}var r=new a,d=l(e,{format:"png"}),p=d.gd;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var f=s.getRedrawFunc(p);return i.plot(p,d.data,d.layout,d.config).then(f).then(n)["catch"](function(e){r.emit("error",e)}),r}var a=e("events").EventEmitter,i=e("../plotly"),o=e("../lib"),s=e("./helpers"),l=e("./cloneplot"),c=e("./tosvg"),u=e("./svgtoimg");t.exports=r},{"../lib":538,"../plotly":568,"./cloneplot":609,"./helpers":612,"./svgtoimg":614,"./tosvg":616,events:262}],616:[function(e,t,n){"use strict";var r=e("d3"),a=e("../lib/svg_text_utils"),i=e("../components/drawing"),o=e("../components/color"),s=e("../constants/xmlns_namespaces");t.exports=function(e,t){var n,l=e._fullLayout,c=l._paper,u=l._toppaper;c.insert("rect",":first-child").call(i.setRect,0,0,l.width,l.height).call(o.fill,l.paper_bgcolor);var d=l._basePlotModules||[];for(n=0;n<d.length;n++){var p=d[n];p.toSVG&&p.toSVG(e)}if(u){var f=u.node().childNodes,h=Array.prototype.slice.call(f);for(n=0;n<h.length;n++){var g=h[n];g.childNodes.length&&c.node().appendChild(g)}}l._draggers&&l._draggers.remove(),c.node().style.background="",c.selectAll("text").attr("data-unformatted",null).each(function(){var e=r.select(this);if("hidden"===e.style("visibility"))return void e.remove();e.style("visibility","visible");var t=e.style("font-family");t&&t.indexOf('"')!==-1&&e.style("font-family",t.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(s.xmlns,"xmlns",s.svg),c.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink);var m=(new window.XMLSerializer).serializeToString(c.node());return m=a.html_entity_decode(m),m=a.xml_entity_encode(m),m=m.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},{"../components/color":427,"../components/drawing":451,"../constants/xmlns_namespaces":526,"../lib/svg_text_utils":555,d3:260}],617:[function(e,t,n){"use strict";var r=e("../../lib").mergeArray;t.exports=function(e,t){r(t.text,e,"tx"),r(t.hovertext,e,"htx");var n=t.marker;if(n){r(n.opacity,e,"mo"),r(n.color,e,"mc");var a=n.line;a&&(r(a.color,e,"mlc"),r(a.width,e,"mlw"))}}},{"../../lib":538}],618:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),a=e("../../components/colorscale/color_attributes"),i=e("../../components/errorbars/attributes"),o=e("../../components/colorbar/attributes"),s=e("../../plots/font_attributes"),l=e("../../lib/extend").extendFlat,c=e("../../lib/extend").extendDeep,u=c({},s);u.family.arrayOk=!0,u.size.arrayOk=!0,u.color.arrayOk=!0;var d=r.marker,p=d.line,f=l({},p.width,{dflt:0}),h=l({},{width:f},a("marker.line")),g=l({},{line:h},a("marker"),{showscale:d.showscale,colorbar:o});t.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,hovertext:r.hovertext,textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed).","*auto* positions `text` inside or outside","so that `text` size is maximized."].join(" ")},textfont:l({},u,{description:"Sets the font used for `text`."}),insidetextfont:l({},u,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:l({},u,{description:"Sets the font used for `text` lying outside the bar."}),orientation:{valType:"enumerated",role:"info",values:["v","h"],description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")
},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",description:["Sets the bar width (in position axis units)."].join(" ")},marker:g,r:r.r,t:r.t,error_y:i,error_x:i,_deprecated:{bardir:{valType:"enumerated",role:"info",values:["v","h"],description:"Renamed to `orientation`."}}}},{"../../components/colorbar/attributes":428,"../../components/colorscale/color_attributes":434,"../../components/errorbars/attributes":453,"../../lib/extend":534,"../../plots/font_attributes":597,"../scatter/attributes":642}],619:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../plots/cartesian/axes"),i=e("../../components/colorscale/has_colorscale"),o=e("../../components/colorscale/calc"),s=e("./arrays_to_calcdata");t.exports=function(e,t){var n,l,c,u,d,p=a.getFromId(e,t.xaxis||"x"),f=a.getFromId(e,t.yaxis||"y"),h=t.orientation||(t.x&&!t.y?"h":"v");"h"===h?(n=p,c=p.makeCalcdata(t,"x"),l=f.makeCalcdata(t,"y"),d=t.xcalendar):(n=f,c=f.makeCalcdata(t,"y"),l=p.makeCalcdata(t,"x"),d=t.ycalendar);var g=Math.min(l.length,c.length),m=new Array(g);for(u=0;u<g;u++)m[u]={p:l[u],s:c[u]};var v,y=t.base;if(Array.isArray(y)){for(u=0;u<Math.min(y.length,m.length);u++)v=n.d2c(y[u],0,d),m[u].b=r(v)?v:0;for(;u<m.length;u++)m[u].b=0}else for(v=n.d2c(y,0,d),v=r(v)?v:0,u=0;u<m.length;u++)m[u].b=v;return i(t,"marker")&&o(t,t.marker.color,"marker","c"),i(t,"marker.line")&&o(t,t.marker.line.color,"marker.line","c"),s(m,t),m}},{"../../components/colorscale/calc":433,"../../components/colorscale/has_colorscale":440,"../../plots/cartesian/axes":573,"./arrays_to_calcdata":617,"fast-isnumeric":263}],620:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/color"),i=e("../scatter/xy_defaults"),o=e("../bar/style_defaults"),s=e("../../components/errorbars/defaults"),l=e("./attributes");t.exports=function(e,t,n,c){function u(n,a){return r.coerce(e,t,l,n,a)}var d=r.coerceFont,p=i(e,t,c,u);if(!p)return void(t.visible=!1);u("orientation",t.x&&!t.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext");var f=u("textposition"),h=Array.isArray(f)||"auto"===f,g=h||"inside"===f,m=h||"outside"===f;if(g||m){var v=d(u,"textfont",c.font);g&&d(u,"insidetextfont",v),m&&d(u,"outsidetextfont",v)}o(e,t,u,n,c),s(e,t,a.defaultLine,{axis:"y"}),s(e,t,a.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":427,"../../components/errorbars/defaults":456,"../../lib":538,"../bar/style_defaults":629,"../scatter/xy_defaults":664,"./attributes":618}],621:[function(e,t,n){"use strict";var r=e("../../components/fx"),a=e("../../components/errorbars"),i=e("../../components/color");t.exports=function(e,t,n,o){var s,l,c,u,d,p,f,h=e.cd,g=h[0].trace,m=h[0].t,v=e.xa,y=e.ya,b=function(e){return r.inbox(u(e)-s,d(e)-s)};"h"===g.orientation?(s=n,l=function(e){return e.y-e.w/2},c=function(e){return e.y+e.w/2},p=function(e){return r.inbox(e.b-t,e.x-t)+(e.x-t)/(e.x-e.b)},f=b):(s=t,l=function(e){return e.x-e.w/2},c=function(e){return e.x+e.w/2},f=function(e){return r.inbox(e.b-n,e.y-n)+(e.y-n)/(e.y-e.b)},p=b),u="closest"===o?l:function(e){return Math.min(l(e),e.p-m.bargroupwidth/2)},d="closest"===o?c:function(e){return Math.max(c(e),e.p+m.bargroupwidth/2)};var x=r.getDistanceFunction(o,p,f);if(r.getClosest(h,x,e),e.index!==!1){var w=e.index,_=h[w],k=_.mcc||g.marker.color,S=_.mlcc||g.marker.line.color,A=_.mlw||g.marker.line.width;i.opacity(k)?e.color=k:i.opacity(S)&&A&&(e.color=S);var T=g.base?_.b+_.s:_.s;return"h"===g.orientation?(e.x0=e.x1=v.c2p(_.x,!0),e.xLabelVal=T,e.y0=y.c2p(u(_),!0),e.y1=y.c2p(d(_),!0),e.yLabelVal=_.p):(e.y0=e.y1=y.c2p(_.y,!0),e.yLabelVal=T,e.x0=v.c2p(u(_),!0),e.x1=v.c2p(d(_),!0),e.xLabelVal=_.p),_.htx?e.text=_.htx:g.hovertext?e.text=g.hovertext:_.tx?e.text=_.tx:g.text&&(e.text=g.text),a.hoverInfo(_,g,e),[e]}}},{"../../components/color":427,"../../components/errorbars":457,"../../components/fx":468}],622:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.layoutAttributes=e("./layout_attributes"),r.supplyDefaults=e("./defaults"),r.supplyLayoutDefaults=e("./layout_defaults"),r.calc=e("./calc"),r.setPositions=e("./set_positions"),r.colorbar=e("../scatter/colorbar"),r.arraysToCalcdata=e("./arrays_to_calcdata"),r.plot=e("./plot"),r.style=e("./style"),r.hoverPoints=e("./hover"),r.moduleType="trace",r.name="bar",r.basePlotModule=e("../../plots/cartesian"),r.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],r.meta={description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")},t.exports=r},{"../../plots/cartesian":583,"../scatter/colorbar":645,"./arrays_to_calcdata":617,"./attributes":618,"./calc":619,"./defaults":620,"./hover":621,"./layout_attributes":623,"./layout_defaults":624,"./plot":625,"./set_positions":626,"./style":628}],623:[function(e,t,n){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divide by the sum of the","values at the location coordinate.","With *percent*, the results form *fraction* are presented in percents."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},{}],624:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../plots/cartesian/axes"),i=e("../../lib"),o=e("./layout_attributes");t.exports=function(e,t,n){function s(n,r){return i.coerce(e,t,o,n,r)}for(var l=!1,c=!1,u=!1,d={},p=0;p<n.length;p++){var f=n[p];if(r.traceIs(f,"bar")){if(l=!0,"overlay"!==e.barmode&&"stack"!==e.barmode){var h=f.xaxis+f.yaxis;d[h]&&(u=!0),d[h]=!0}if(f.visible&&"histogram"===f.type){var g=a.getFromId({_fullLayout:t},f["v"===f.orientation?"xaxis":"yaxis"]);"category"!==g.type&&(c=!0)}}}if(l){var m=s("barmode");"overlay"!==m&&s("barnorm"),s("bargap",c&&!u?0:.2),s("bargroupgap")}}},{"../../lib":538,"../../plots/cartesian/axes":573,"../../registry":608,"./layout_attributes":623}],625:[function(e,t,n){"use strict";function r(e,t,n,r,o,p,f,h){function g(e,t,n){var r=e.append("text").attr("data-notex",1).text(t).attr({"class":"bartext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(S.font,n);return r.call(_.convertToTspans),r.selectAll("tspan.line").attr({x:0,y:0}),r}var m=n[0].trace,v=m.orientation,y=s(m,r);if(y){var b=l(m,r);if("none"!==b){var x,w,k,A,T=c(m,r,e._fullLayout.font),$=u(m,r,T),C=d(m,r,T),M=e._fullLayout.barmode,E="stack"===M,I="relative"===M,j=E||I,D=n[r],L=!j||D._outmost,O=Math.abs(p-o)-2*P,R=Math.abs(h-f)-2*P;if("outside"===b&&(L||(b="inside")),"auto"===b)if(L){x=g(t,y,$),w=S.bBox(x.node()),k=w.width,A=w.height;var N=k>0&&A>0,z=k<=O&&A<=R,B=k<=R&&A<=O,F="h"===v?O>=k*(R/A):R>=A*(O/k);N&&(z||B||F)?b="inside":(b="outside",x.remove(),x=null)}else b="inside";if(!x&&(x=g(t,y,"outside"===b?C:$),w=S.bBox(x.node()),k=w.width,A=w.height,k<=0||A<=0))return void x.remove();var H;H="outside"===b?i(o,p,f,h,w,v):a(o,p,f,h,w,v),x.attr("transform",H)}}}function a(e,t,n,r,a,i){var s,l,c,u,d,p=a.width,f=a.height,h=(a.left+a.right)/2,g=(a.top+a.bottom)/2,m=Math.abs(t-e),v=Math.abs(r-n);m>2*P&&v>2*P?(d=P,m-=2*d,v-=2*d):d=0;var y,b;return p<=m&&f<=v?(y=!1,b=1):p<=v&&f<=m?(y=!0,b=1):p<f==m<v?(y=!1,b=Math.min(m/p,v/f)):(y=!0,b=Math.min(v/p,m/f)),y&&(y=90),y?(s=b*f,l=b*p):(s=b*p,l=b*f),"h"===i?t<e?(c=t+d+s/2,u=(n+r)/2):(c=t-d-s/2,u=(n+r)/2):r>n?(c=(e+t)/2,u=r-d-l/2):(c=(e+t)/2,u=r+d+l/2),o(h,g,c,u,b,y)}function i(e,t,n,r,a,i){var s,l="h"===i?Math.abs(r-n):Math.abs(t-e);l>2*P&&(s=P,l-=2*s);var c,u,d,p,f=!1,h="h"===i?Math.min(1,l/a.height):Math.min(1,l/a.width),g=(a.left+a.right)/2,m=(a.top+a.bottom)/2;return f?(c=h*a.height,u=h*a.width):(c=h*a.width,u=h*a.height),"h"===i?t<e?(d=t-s-c/2,p=(n+r)/2):(d=t+s+c/2,p=(n+r)/2):r>n?(d=(e+t)/2,p=r+s+u/2):(d=(e+t)/2,p=r-s-u/2),o(g,m,d,p,h,f)}function o(e,t,n,r,a,i){var o,s,l;a<1?o="scale("+a+") ":(a=1,o=""),s=i?"rotate("+i+" "+e+" "+t+") ":"";var c=n-a*e,u=r-a*t;return l="translate("+c+" "+u+")",l+o+s}function s(e,t){var n=f(e.text,t);return h($,n)}function l(e,t){var n=f(e.textposition,t);return g(C,n)}function c(e,t,n){return p(M,e.textfont,t,n)}function u(e,t,n){return p(E,e.insidetextfont,t,n)}function d(e,t,n){return p(I,e.outsidetextfont,t,n)}function p(e,t,n,r){t=t||{};var a=f(t.family,n),i=f(t.size,n),o=f(t.color,n);return{family:h(e.family,a,r.family),size:m(e.size,i,r.size),color:v(e.color,o,r.color)}}function f(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n}function h(e,t,n){if("string"==typeof t){if(t||!e.noBlank)return t}else if("number"==typeof t&&!e.strict)return String(t);return void 0!==n?n:e.dflt}function g(e,t,n){return e.coerceNumber&&(t=+t),e.values.indexOf(t)!==-1?t:void 0!==n?n:e.dflt}function m(e,t,n){if(b(t)){t=+t;var r=e.min,a=e.max,i=void 0!==r&&t<r||void 0!==a&&t>a;if(!i)return t}return void 0!==n?n:e.dflt}function v(e,t,n){return x(t).isValid()?t:void 0!==n?n:e.dflt}var y=e("d3"),b=e("fast-isnumeric"),x=e("tinycolor2"),w=e("../../lib"),_=e("../../lib/svg_text_utils"),k=e("../../components/color"),S=e("../../components/drawing"),A=e("../../components/errorbars"),T=e("./attributes"),$=T.text,C=T.textposition,M=T.textfont,E=T.insidetextfont,I=T.outsidetextfont,P=3;t.exports=function(e,t,n){var a=t.xaxis,i=t.yaxis,o=e._fullLayout,s=t.plot.select(".barlayer").selectAll("g.trace.bars").data(n);s.enter().append("g").attr("class","trace bars"),s.append("g").attr("class","points").each(function(t){var n=t[0].t,s=t[0].trace,l=n.poffset,c=Array.isArray(l);y.select(this).selectAll("g.point").data(w.identity).enter().append("g").classed("point",!0).each(function(n,u){function d(e){return 0===o.bargap&&0===o.bargroupgap?y.round(Math.round(e)-A,2):e}function p(e,t){return Math.abs(e-t)>=2?d(e):e>t?Math.ceil(e):Math.floor(e)}var f,h,g,m,v=n.p+(c?l[u]:l),x=v+n.w,w=n.b,_=w+n.s;if("h"===s.orientation?(g=i.c2p(v,!0),m=i.c2p(x,!0),f=a.c2p(w,!0),h=a.c2p(_,!0)):(f=a.c2p(v,!0),h=a.c2p(x,!0),g=i.c2p(w,!0),m=i.c2p(_,!0)),!(b(f)&&b(h)&&b(g)&&b(m)&&f!==h&&g!==m))return void y.select(this).remove();var S=(n.mlw+1||s.marker.line.width+1||(n.trace?n.trace.marker.line.width:0)+1)-1,A=y.round(S/2%1,2);if(!e._context.staticPlot){var T=k.opacity(n.mc||s.marker.color),$=T<1||S>.01?d:p;f=$(f,h),h=$(h,f),g=$(g,m),m=$(m,g)}var C=y.select(this);C.append("path").attr("d","M"+f+","+g+"V"+m+"H"+h+"V"+g+"Z"),r(e,C,t,u,f,h,g,m)})}),s.call(A.plot,t)}},{"../../components/color":427,"../../components/drawing":451,"../../components/errorbars":457,"../../lib":538,"../../lib/svg_text_utils":555,"./attributes":618,d3:260,"fast-isnumeric":263,tinycolor2:666}],626:[function(e,t,n){"use strict";function r(e,t,n,r){if(r.length){var s,l,c,u,d,p=e._fullLayout.barmode,f="overlay"===p,h="group"===p;if(f)a(e,t,n,r);else if(h){for(s=[],l=[],c=0;c<r.length;c++)u=r[c],d=u[0].trace,void 0===d.offset?l.push(u):s.push(u);l.length&&i(e,t,n,l),s.length&&a(e,t,n,s)}else{for(s=[],l=[],c=0;c<r.length;c++)u=r[c],d=u[0].trace,void 0===d.base?l.push(u):s.push(u);l.length&&o(e,t,n,l),s.length&&a(e,t,n,s)}}}function a(e,t,n,r){for(var a=e._fullLayout.barnorm,i=!1,o=!a,l=0;l<r.length;l++){var c=r[l],u=new _([c],i,o);s(e,t,u),a?(g(e,n,u),m(e,n,u)):f(e,n,u)}}function i(e,t,n,r){var a=e._fullLayout,i=a.barnorm,o=!1,s=!i,c=new _(r,o,s);l(e,t,c),i?(g(e,n,c),m(e,n,c)):f(e,n,c)}function o(e,t,n,r){var a=e._fullLayout,i=a.barmode,o="stack"===i,l="relative"===i,c=e._fullLayout.barnorm,u=l,d=!(c||o||l),p=new _(r,u,d);s(e,t,p),h(e,n,p);for(var f=0;f<r.length;f++)for(var g=r[f],v=0;v<g.length;v++){var y=g[v];if(y.s!==b){var x=y.b+y.s===p.get(y.p,y.s);x&&(y._outmost=!0)}}c&&m(e,n,p)}function s(e,t,n){var r,a,i,o,s=e._fullLayout,l=s.bargap,p=s.bargroupgap,f=n.minDiff,h=n.traces,g=f*(1-l),m=g,v=m*(1-p),y=-v/2;for(r=0;r<h.length;r++)a=h[r],i=a[0],o=i.t,o.barwidth=v,o.poffset=y,o.bargroupwidth=g;n.binWidth=h[0][0].t.barwidth/100,c(n),u(e,t,n),d(e,t,n)}function l(e,t,n){var r,a,i,o,s=e._fullLayout,l=s.bargap,p=s.bargroupgap,f=n.positions,h=n.distinctPositions,g=n.minDiff,m=n.traces,v=f.length!==h.length,y=m.length,b=g*(1-l),x=v?b/y:b,w=x*(1-p);for(r=0;r<y;r++){a=m[r],i=a[0];var _=v?((2*r+1-y)*x-w)/2:-w/2;o=i.t,o.barwidth=w,o.poffset=_,o.bargroupwidth=b}n.binWidth=m[0][0].t.barwidth/100,c(n),u(e,t,n),d(e,t,n,v)}function c(e){var t,n,r,a,i,o,s=e.traces;for(t=0;t<s.length;t++){n=s[t],r=n[0],a=r.trace,o=r.t;var l,c=a.offset,u=o.poffset;if(Array.isArray(c)){for(l=c.slice(0,n.length),i=0;i<l.length;i++)y(l[i])||(l[i]=u);for(i=l.length;i<n.length;i++)l.push(u);o.poffset=l}else void 0!==c&&(o.poffset=c);var d=a.width,p=o.barwidth;if(Array.isArray(d)){var f=d.slice(0,n.length);for(i=0;i<f.length;i++)y(f[i])||(f[i]=p);for(i=f.length;i<n.length;i++)f.push(p);if(o.barwidth=f,void 0===c){for(l=[],i=0;i<n.length;i++)l.push(u+(p-f[i])/2);o.poffset=l}}else void 0!==d&&(o.barwidth=d,void 0===c&&(o.poffset=u+(p-d)/2))}}function u(e,t,n){for(var r=n.traces,a=v(t),i=0;i<r.length;i++)for(var o=r[i],s=o[0].t,l=s.poffset,c=Array.isArray(l),u=s.barwidth,d=Array.isArray(u),p=0;p<o.length;p++){var f=o[p],h=f.w=d?u[p]:u;f[a]=f.p+(c?l[p]:l)+h/2}}function d(e,t,n,r){var a=n.traces,i=n.distinctPositions,o=i[0],s=n.minDiff,l=s/2;w.minDtick(t,s,o,r);for(var c=Math.min.apply(Math,i)-l,u=Math.max.apply(Math,i)+l,d=0;d<a.length;d++){var p=a[d],f=p[0],h=f.trace;if(void 0!==h.width||void 0!==h.offset)for(var g=f.t,m=g.poffset,v=g.barwidth,y=Array.isArray(m),b=Array.isArray(v),x=0;x<p.length;x++){var _=p[x],k=y?m[x]:m,S=b?v[x]:v,A=_.p,T=A+k,$=T+S;c=Math.min(c,T),u=Math.max(u,$)}}w.expand(t,[c,u],{padded:!1})}function p(e,t){y(e[0])?e[0]=Math.min(e[0],t):e[0]=t,y(e[1])?e[1]=Math.max(e[1],t):e[1]=t}function f(e,t,n){for(var r=n.traces,a=v(t),i=t.l2c(t.c2l(0)),o=[i,i],s=0;s<r.length;s++)for(var l=r[s],c=0;c<l.length;c++){var u=l[c],d=u.b,f=d+u.s;u[a]=f,y(t.c2l(f))&&p(o,f),y(t.c2l(d))&&p(o,d)}w.expand(t,o,{tozero:!0,padded:!0})}function h(e,t,n){var r,a,i,o,s=e._fullLayout,l=s.barnorm,c=v(t),u=n.traces,d=t.l2c(t.c2l(0)),f=[d,d];for(r=0;r<u.length;r++)for(a=u[r],i=0;i<a.length;i++)if(o=a[i],o.s!==b){var h=n.put(o.p,o.b+o.s),g=h+o.b+o.s;o.b=h,o[c]=g,l||(y(t.c2l(g))&&p(f,g),y(t.c2l(h))&&p(f,h))}l||w.expand(t,f,{tozero:!0,padded:!0})}function g(e,t,n){for(var r=n.traces,a=0;a<r.length;a++)for(var i=r[a],o=0;o<i.length;o++){var s=i[o];s.s!==b&&n.put(s.p,s.b+s.s)}}function m(e,t,n){function r(e){y(t.c2l(e))&&(e<l-s||e>c+s||!y(l))&&(d=!0,p(u,e))}for(var a=n.traces,i=v(t),o="fraction"===e._fullLayout.barnorm?1:100,s=o/1e9,l=t.l2c(t.c2l(0)),c="stack"===e._fullLayout.barmode?o:l,u=[l,c],d=!1,f=0;f<a.length;f++)for(var h=a[f],g=0;g<h.length;g++){var m=h[g];if(m.s!==b){var x=Math.abs(o/n.get(m.p,m.s));m.b*=x,m.s*=x;var _=m.b,k=_+m.s;m[i]=k,r(k),r(_)}}w.expand(t,u,{tozero:!0,padded:d})}function v(e){return e._id.charAt(0)}var y=e("fast-isnumeric"),b=e("../../constants/numerical").BADNUM,x=e("../../registry"),w=e("../../plots/cartesian/axes"),_=e("./sieve.js");t.exports=function(e,t){var n,a=t.xaxis,i=t.yaxis,o=e._fullData,s=e.calcdata,l=[],c=[];for(n=0;n<o.length;n++){var u=o[n];u.visible===!0&&x.traceIs(u,"bar")&&u.xaxis===a._id&&u.yaxis===i._id&&("h"===u.orientation?l.push(s[n]):c.push(s[n]))}r(e,a,i,c),r(e,i,a,l)}},{"../../constants/numerical":524,"../../plots/cartesian/axes":573,"../../registry":608,"./sieve.js":627,"fast-isnumeric":263}],627:[function(e,t,n){"use strict";function r(e,t,n){this.traces=e,this.separateNegativeValues=t,this.dontMergeOverlappingData=n;for(var r=[],o=0;o<e.length;o++)for(var s=e[o],l=0;l<s.length;l++){var c=s[l];c.p!==i&&r.push(c.p)}this.positions=r;var u=a.distinctVals(this.positions);this.distinctPositions=u.vals,this.minDiff=u.minDiff,this.binWidth=this.minDiff,this.bins={}}t.exports=r;var a=e("../../lib"),i=e("../../constants/numerical").BADNUM;r.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},r.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},r.prototype.getLabel=function(e,t){var n=t<0&&this.separateNegativeValues?"v":"^",r=this.dontMergeOverlappingData?e:Math.round(e/this.binWidth);return n+r}},{"../../constants/numerical":524,"../../lib":538}],628:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/color"),i=e("../../components/drawing"),o=e("../../components/errorbars");t.exports=function(e){var t=r.select(e).selectAll("g.trace.bars"),n=t.size(),s=e._fullLayout;t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){("stack"===s.barmode&&n>1||0===s.bargap&&0===s.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(e){var t=e[0].trace,n=t.marker,o=n.line,s=i.tryColorscale(n,""),l=i.tryColorscale(n,"line");r.select(this).selectAll("path").each(function(e){var t,i,c=(e.mlw+1||o.width+1)-1,u=r.select(this);t="mc"in e?e.mcc=s(e.mc):Array.isArray(n.color)?a.defaultLine:n.color,u.style("stroke-width",c+"px").call(a.fill,t),c&&(i="mlc"in e?e.mlcc=l(e.mlc):Array.isArray(o.color)?a.defaultLine:o.color,u.call(a.stroke,i))})}),t.call(o.style)}},{"../../components/color":427,"../../components/drawing":451,"../../components/errorbars":457,d3:260}],629:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../components/colorscale/has_colorscale"),i=e("../../components/colorscale/defaults");t.exports=function(e,t,n,o,s){n("marker.color",o),a(e,"marker")&&i(e,t,s,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),a(e,"marker.line")&&i(e,t,s,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width")}},{"../../components/color":427,"../../components/colorscale/defaults":436,"../../components/colorscale/has_colorscale":440}],630:[function(e,t,n){"use strict";var r=e("../../components/color/attributes"),a=e("../../plots/font_attributes"),i=e("../../plots/attributes"),o=e("../../lib/extend").extendFlat;t.exports={labels:{valType:"data_array",description:"Sets the sector labels."},label0:{valType:"number",role:"info",dflt:0,description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",description:"Sets the values of the sectors of this pie chart."},marker:{colors:{valType:"data_array",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:r.defaultLine,arrayOk:!0,description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,description:["Sets the width (in px) of the line enclosing each sector."].join(" ")}}},text:{valType:"data_array",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:o({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,description:["Specifies the location of the `textinfo`."].join(" ")},textfont:o({},a,{description:"Sets the font used for `textinfo`."}),insidetextfont:o({},a,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:o({},a,{description:"Sets the font used for `textinfo` lying outside the pie."}),domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this pie trace","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this pie trace","(in plot fraction)."].join(" ")}},hole:{valType:"number",role:"style",min:0,max:1,dflt:0,description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}},{"../../components/color/attributes":426,"../../lib/extend":534,"../../plots/attributes":571,"../../plots/font_attributes":597}],631:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],i=a[0].trace;i._module===t&&i.visible===!0&&n.push(a)}return n}var a=e("../../registry");n.name="pie",n.plot=function(e){var t=a.getModule("pie"),n=r(e.calcdata,t);n.length&&t.plot(e,n)},n.clean=function(e,t,n,r){var a=r._has&&r._has("pie"),i=t._has&&t._has("pie");a&&!i&&r._pielayer.selectAll("g.trace").remove()}},{"../../registry":608}],632:[function(e,t,n){"use strict";function r(e){if(!l){var t=o.defaults;l=t.slice();var n;for(n=0;n<t.length;n++)l.push(i(t[n]).lighten(20).toHexString());for(n=0;n<o.defaults.length;n++)l.push(i(t[n]).darken(20).toHexString())}return l[e%l.length]}var a=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../components/color"),s=e("./helpers");t.exports=function(e,t){var n,l,c,u,d,p,f=t.values,h=t.labels,g=[],m=e._fullLayout,v=m._piecolormap,y={},b=!1,x=0,w=m.hiddenlabels||[];if(t.dlabel)for(h=new Array(f.length),n=0;n<f.length;n++)h[n]=String(t.label0+n*t.dlabel);for(n=0;n<f.length;n++)l=f[n],a(l)&&(l=+l,l<0||(c=h[n],void 0!==c&&""!==c||(c=n),c=String(c),void 0===y[c]&&(y[c]=!0,u=i(t.marker.colors[n]),u.isValid()?(u=o.addOpacity(u,u.getAlpha()),v[c]||(v[c]=u)):v[c]?u=v[c]:(u=!1,b=!0),d=w.indexOf(c)!==-1,d||(x+=l),g.push({v:l,label:c,color:u,i:n,hidden:d}))));if(t.sort&&g.sort(function(e,t){return t.v-e.v}),b)for(n=0;n<g.length;n++)p=g[n],p.color===!1&&(v[p.label]=p.color=r(m._piedefaultcolorcount),m._piedefaultcolorcount++);if(g[0]&&(g[0].vTotal=x),t.textinfo&&"none"!==t.textinfo){var _,k=t.textinfo.indexOf("label")!==-1,S=t.textinfo.indexOf("text")!==-1,A=t.textinfo.indexOf("value")!==-1,T=t.textinfo.indexOf("percent")!==-1,$=m.separators;for(n=0;n<g.length;n++)p=g[n],_=k?[p.label]:[],S&&t.text[p.i]&&_.push(t.text[p.i]),A&&_.push(s.formatPieValue(p.v,$)),T&&_.push(s.formatPiePercent(p.v/x,$)),p.text=_.join("<br>")}return g};var l},{"../../components/color":427,"./helpers":634,"fast-isnumeric":263,tinycolor2:666}],633:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes");t.exports=function(e,t,n,i){function o(n,i){return r.coerce(e,t,a,n,i)}var s=r.coerceFont,l=o("values");if(!Array.isArray(l)||!l.length)return void(t.visible=!1);var c=o("labels");Array.isArray(c)||(o("label0"),o("dlabel"));var u=o("marker.line.width");u&&o("marker.line.color");var d=o("marker.colors");Array.isArray(d)||(t.marker.colors=[]),o("scalegroup");var p=o("text"),f=o("textinfo",Array.isArray(p)?"text+percent":"percent");if(o("hovertext"),o("hoverinfo",1===i._dataLength?"label+text+value+percent":void 0),f&&"none"!==f){var h=o("textposition"),g=Array.isArray(h)||"auto"===h,m=g||"inside"===h,v=g||"outside"===h;if(m||v){var y=s(o,"textfont",i.font);m&&s(o,"insidetextfont",y),v&&s(o,"outsidetextfont",y)}}o("domain.x"),o("domain.y"),o("hole"),o("sort"),o("direction"),o("rotation"),o("pull")}},{"../../lib":538,"./attributes":630}],634:[function(e,t,n){"use strict";var r=e("../../lib");n.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return n.lastIndexOf(".")!==-1&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=e.toPrecision(10);return n.lastIndexOf(".")!==-1&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)}},{"../../lib":538}],635:[function(e,t,n){"use strict";var r={};r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.supplyLayoutDefaults=e("./layout_defaults"),r.layoutAttributes=e("./layout_attributes"),r.calc=e("./calc"),r.plot=e("./plot"),r.style=e("./style"),r.styleOne=e("./style_one"),r.moduleType="trace",r.name="pie",r.basePlotModule=e("./base_plot"),r.categories=["pie","showLegend"],r.meta={description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")},t.exports=r},{"./attributes":630,"./base_plot":631,"./calc":632,"./defaults":633,"./layout_attributes":636,"./layout_defaults":637,"./plot":638,"./style":639,"./style_one":640}],636:[function(e,t,n){"use strict";t.exports={hiddenlabels:{valType:"data_array"}}},{}],637:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}n("hiddenlabels")}},{"../../lib":538,"./layout_attributes":636}],638:[function(e,t,n){"use strict";function r(e,t,n){var r=Math.sqrt(e.width*e.width+e.height*e.height),i=e.width/e.height,o=Math.PI*Math.min(t.v/n.vTotal,.5),s=1-n.trace.hole,l=a(t,n),c={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(c.scale>=1)return c;var u=i+1/(2*Math.tan(o)),d=n.r*Math.min(1/(Math.sqrt(u*u+.5)+u),s/(Math.sqrt(i*i+s/2)+i)),p={scale:2*d/e.height,rCenter:Math.cos(d/n.r)-d*i/n.r,rotate:(180/Math.PI*t.midangle+720)%180-90},f=1/i,h=f+1/(2*Math.tan(o)),g=n.r*Math.min(1/(Math.sqrt(h*h+.5)+h),s/(Math.sqrt(f*f+s/2)+f)),m={scale:2*g/e.width,rCenter:Math.cos(g/n.r)-g/i/n.r,rotate:(180/Math.PI*t.midangle+810)%180-90},v=m.scale>p.scale?m:p;return c.scale<1&&v.scale>c.scale?v:c}function a(e,t){if(e.v===t.vTotal&&!t.trace.hole)return 1;var n=Math.PI*Math.min(e.v/t.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-t.trace.hole)/2)}function i(e,t){var n=t.pxmid[0],r=t.pxmid[1],a=e.width/2,i=e.height/2;return n<0&&(a*=-1),r<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(i)*(a>0?1:-1)/2,y:i/(1+n*n/(r*r)),outside:!0}}function o(e,t){function n(e,t){return e.pxmid[1]-t.pxmid[1]}function r(e,t){return t.pxmid[1]-e.pxmid[1]}function a(e,n){n||(n={});var r,a,i,s,p,f,g=n.labelExtraY+(o?n.yLabelMax:n.yLabelMin),m=o?e.yLabelMin:e.yLabelMax,v=o?e.yLabelMax:e.yLabelMin,y=e.cyFinal+c(e.px0[1],e.px1[1]),b=g-m;if(b*d>0&&(e.labelExtraY=b),Array.isArray(t.pull))for(a=0;a<h.length;a++)i=h[a],i===e||(t.pull[e.i]||0)>=t.pull[i.i]||((e.pxmid[1]-i.pxmid[1])*d>0?(s=i.cyFinal+c(i.px0[1],i.px1[1]),b=s-m-e.labelExtraY,b*d>0&&(e.labelExtraY+=b)):(v+e.labelExtraY-y)*d>0&&(r=3*u*Math.abs(a-h.indexOf(e)),p=i.cxFinal+l(i.px0[0],i.px1[0]),f=p+r-(e.cxFinal+e.pxmid[0])-e.labelExtraX,f*u>0&&(e.labelExtraX+=f)))}var i,o,s,l,c,u,d,p,f,h,g,m,v;for(o=0;o<2;o++)for(s=o?n:r,c=o?Math.max:Math.min,d=o?1:-1,i=0;i<2;i++){for(l=i?Math.max:Math.min,u=i?1:-1,p=e[o][i],p.sort(s),f=e[1-o][i],h=f.concat(p),m=[],g=0;g<p.length;g++)void 0!==p[g].yLabelMid&&m.push(p[g]);for(v=!1,g=0;o&&g<f.length;g++)if(void 0!==f[g].yLabelMid){v=f[g];break}for(g=0;g<m.length;g++){var y=g&&m[g-1];v&&!g&&(y=v),a(m[g],y)}}}function s(e,t){var n,r,a,i,o,s,l,u,d,p,f=[];for(a=0;a<e.length;a++){if(o=e[a][0],s=o.trace,n=t.w*(s.domain.x[1]-s.domain.x[0]),r=t.h*(s.domain.y[1]-s.domain.y[0]),l=s.tiltaxis*Math.PI/180,u=s.pull,Array.isArray(u))for(u=0,i=0;i<s.pull.length;i++)s.pull[i]>u&&(u=s.pull[i]);o.r=Math.min(n/c(s.tilt,Math.sin(l),s.depth),r/c(s.tilt,Math.cos(l),s.depth))/(2+2*u),o.cx=t.l+t.w*(s.domain.x[1]+s.domain.x[0])/2,o.cy=t.t+t.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&f.indexOf(s.scalegroup)===-1&&f.push(s.scalegroup)}for(i=0;i<f.length;i++){for(p=1/0,d=f[i],a=0;a<e.length;a++)o=e[a][0],o.trace.scalegroup===d&&(p=Math.min(p,o.r*o.r/o.vTotal));for(a=0;a<e.length;a++)o=e[a][0],o.trace.scalegroup===d&&(o.r=Math.sqrt(p*o.vTotal))}}function l(e){function t(e){var t=d.r*Math.sin(e),n=-d.r*Math.cos(e);return f?[t*(1-s*r*r)+n*o*s,t*o*s+n*(1-s*a*a),Math.sin(i)*(n*a-t*r)]:[t,n]}var n,r,a,i,o,s,l,c,u,d=e[0],p=d.trace,f=p.tilt,h=p.rotation*Math.PI/180,g=2*Math.PI/d.vTotal,m="px0",v="px1";if("counterclockwise"===p.direction){for(l=0;l<e.length&&e[l].hidden;l++);if(l===e.length)return;h+=g*e[l].v,g*=-1,m="px1",v="px0"}for(f&&(i=f*Math.PI/180,n=p.tiltaxis*Math.PI/180,o=Math.sin(n)*Math.cos(n),s=1-Math.cos(i),r=Math.sin(n),a=Math.cos(n)),u=t(h),l=0;l<e.length;l++)c=e[l],c.hidden||(c[m]=u,h+=g*c.v/2,c.pxmid=t(h),c.midangle=h,h+=g*c.v/2,u=t(h),c[v]=u,c.largeArc=c.v>d.vTotal/2?1:0)}function c(e,t,n){if(!e)return 1;var r=Math.sin(e*Math.PI/180);return Math.max(.01,n*r*Math.abs(t)+2*Math.sqrt(1-r*r*t*t))}var u=e("d3"),d=e("../../components/fx"),p=e("../../components/color"),f=e("../../components/drawing"),h=e("../../lib/svg_text_utils"),g=e("./helpers");t.exports=function(e,t){var n=e._fullLayout;s(t,n._size);var c=n._pielayer.selectAll("g.trace").data(t);c.enter().append("g").attr({"stroke-linejoin":"round","class":"trace"}),c.exit().remove(),c.order(),c.each(function(t){var s=u.select(this),c=t[0],m=c.trace,v=0,y=(m.depth||0)*c.r*Math.sin(v)/2,b=m.tiltaxis||0,x=b*Math.PI/180,w=[y*Math.sin(x),y*Math.cos(x)],_=c.r*Math.cos(v),k=s.selectAll("g.part").data(m.tilt?["top","sides"]:["top"]);k.enter().append("g").attr("class",function(e){return e+" part"}),k.exit().remove(),k.order(),l(t),s.selectAll(".top").each(function(){var s=u.select(this).selectAll("g.slice").data(t);s.enter().append("g").classed("slice",!0),s.exit().remove();var l=[[[],[]],[[],[]]],v=!1;s.each(function(t){function o(r){
r.originalEvent=u.event;var i=e._fullLayout,o=e._fullData[m.index],s=o.hoverinfo;if("all"===s&&(s="label+text+value+percent+name"),e._dragging||i.hovermode===!1||"none"===s||"skip"===s||!s)return void d.hover(e,r,"pie");var l=a(t,c),p=x+t.pxmid[0]*(1-l),f=k+t.pxmid[1]*(1-l),h=n.separators,v=[];s.indexOf("label")!==-1&&v.push(t.label),s.indexOf("text")!==-1&&(o.hovertext?v.push(Array.isArray(o.hovertext)?o.hovertext[t.i]:o.hovertext):o.text&&o.text[t.i]&&v.push(o.text[t.i])),s.indexOf("value")!==-1&&v.push(g.formatPieValue(t.v,h)),s.indexOf("percent")!==-1&&v.push(g.formatPiePercent(t.v/c.vTotal,h));var y=o.hoverlabel;d.loneHover({x0:p-l*c.r,x1:p+l*c.r,y:f,text:v.join("<br>"),name:s.indexOf("name")!==-1?o.name:void 0,idealAlign:t.pxmid[0]<0?"left":"right",color:t.hbg||y.bgcolor||t.color,borderColor:t.hbc||y.bordercolor,fontFamily:t.htf||y.font.family,fontSize:t.hts||y.font.size,fontColor:t.htc||y.font.color},{container:i._hoverlayer.node(),outerContainer:i._paper.node()}),d.hover(e,r,"pie"),T=!0}function s(t){t.originalEvent=u.event,e.emit("plotly_unhover",{event:u.event,points:[t]}),T&&(d.loneUnhover(n._hoverlayer.node()),T=!1)}function p(){e._hoverdata=[t],e._hoverdata.trace=c.trace,d.click(e,u.event)}function y(e,n,r,a){return"a"+a*c.r+","+a*_+" "+b+" "+t.largeArc+(r?" 1 ":" 0 ")+a*(n[0]-e[0])+","+a*(n[1]-e[1])}if(t.hidden)return void u.select(this).selectAll("path,g").remove();l[t.pxmid[1]<0?0:1][t.pxmid[0]<0?0:1].push(t);var x=c.cx+w[0],k=c.cy+w[1],S=u.select(this),A=S.selectAll("path.surface").data([t]),T=!1;if(A.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),S.select("path.textline").remove(),S.on("mouseover",o).on("mouseout",s).on("click",p),m.pull){var $=+(Array.isArray(m.pull)?m.pull[t.i]:m.pull)||0;$>0&&(x+=$*t.pxmid[0],k+=$*t.pxmid[1])}t.cxFinal=x,t.cyFinal=k;var C=m.hole;if(t.v===c.vTotal){var M="M"+(x+t.px0[0])+","+(k+t.px0[1])+y(t.px0,t.pxmid,!0,1)+y(t.pxmid,t.px0,!0,1)+"Z";C?A.attr("d","M"+(x+C*t.px0[0])+","+(k+C*t.px0[1])+y(t.px0,t.pxmid,!1,C)+y(t.pxmid,t.px0,!1,C)+"Z"+M):A.attr("d",M)}else{var E=y(t.px0,t.px1,!0,1);if(C){var I=1-C;A.attr("d","M"+(x+C*t.px1[0])+","+(k+C*t.px1[1])+y(t.px1,t.px0,!1,C)+"l"+I*t.px0[0]+","+I*t.px0[1]+E+"Z")}else A.attr("d","M"+x+","+k+"l"+t.px0[0]+","+t.px0[1]+E+"Z")}var P=Array.isArray(m.textposition)?m.textposition[t.i]:m.textposition,j=S.selectAll("g.slicetext").data(t.text&&"none"!==P?[0]:[]);j.enter().append("g").classed("slicetext",!0),j.exit().remove(),j.each(function(){var e=u.select(this).selectAll("text").data([0]);e.enter().append("text").attr("data-notex",1),e.exit().remove(),e.text(t.text).attr({"class":"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(f.font,"outside"===P?m.outsidetextfont:m.insidetextfont).call(h.convertToTspans),e.selectAll("tspan.line").attr({x:0,y:0});var n,a=f.bBox(e.node());"outside"===P?n=i(a,t):(n=r(a,t,c),"auto"===P&&n.scale<1&&(e.call(f.font,m.outsidetextfont),m.outsidetextfont.family===m.insidetextfont.family&&m.outsidetextfont.size===m.insidetextfont.size||(e.attr({"data-bb":""}),a=f.bBox(e.node())),n=i(a,t)));var o=x+t.pxmid[0]*n.rCenter+(n.x||0),s=k+t.pxmid[1]*n.rCenter+(n.y||0);n.outside&&(t.yLabelMin=s-a.height/2,t.yLabelMid=s,t.yLabelMax=s+a.height/2,t.labelExtraX=0,t.labelExtraY=0,v=!0),e.attr("transform","translate("+o+","+s+")"+(n.scale<1?"scale("+n.scale+")":"")+(n.rotate?"rotate("+n.rotate+")":"")+"translate("+-(a.left+a.right)/2+","+-(a.top+a.bottom)/2+")")})}),v&&o(l,m),s.each(function(e){if(e.labelExtraX||e.labelExtraY){var t=u.select(this),n=t.select("g.slicetext text");n.attr("transform","translate("+e.labelExtraX+","+e.labelExtraY+")"+n.attr("transform"));var r=e.cxFinal+e.pxmid[0],a=e.cyFinal+e.pxmid[1],i="M"+r+","+a,o=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var s=e.labelExtraX*e.pxmid[1]/e.pxmid[0],l=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);i+=Math.abs(s)>Math.abs(l)?"l"+l*e.pxmid[0]/e.pxmid[1]+","+l+"H"+(r+e.labelExtraX+o):"l"+e.labelExtraX+","+s+"v"+(l-s)+"h"+o}else i+="V"+(e.yLabelMid+e.labelExtraY)+"h"+o;t.append("path").classed("textline",!0).call(p.stroke,m.outsidetextfont.color).attr({"stroke-width":Math.min(2,m.outsidetextfont.size/8),d:i,fill:"none"})}})})}),setTimeout(function(){c.selectAll("tspan").each(function(){var e=u.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)}},{"../../components/color":427,"../../components/drawing":451,"../../components/fx":468,"../../lib/svg_text_utils":555,"./helpers":634,d3:260}],639:[function(e,t,n){"use strict";var r=e("d3"),a=e("./style_one");t.exports=function(e){e._fullLayout._pielayer.selectAll(".trace").each(function(e){var t=e[0],n=t.trace,i=r.select(this);i.style({opacity:n.opacity}),i.selectAll(".top path.surface").each(function(e){r.select(this).call(a,e,n)})})}},{"./style_one":640,d3:260}],640:[function(e,t,n){"use strict";var r=e("../../components/color");t.exports=function(e,t,n){var a=n.marker.line.color;Array.isArray(a)&&(a=a[t.i]||r.defaultLine);var i=n.marker.line.width||0;Array.isArray(i)&&(i=i[t.i]||0),e.style({"stroke-width":i}).call(r.fill,t.color).call(r.stroke,a)}},{"../../components/color":427}],641:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArray(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var a=t.marker;if(a){r.mergeArray(a.size,e,"ms"),r.mergeArray(a.opacity,e,"mo"),r.mergeArray(a.symbol,e,"mx"),r.mergeArray(a.color,e,"mc");var i=a.line;a.line&&(r.mergeArray(i.color,e,"mlc"),r.mergeArray(i.width,e,"mlw"));var o=a.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,e,"mgt"),r.mergeArray(o.color,e,"mgc"))}}},{"../../lib":538}],642:[function(e,t,n){"use strict";var r=e("../../components/colorscale/color_attributes"),a=e("../../components/errorbars/attributes"),i=e("../../components/colorbar/attributes"),o=e("../../components/drawing/attributes").dash,s=e("../../components/drawing"),l=e("./constants"),c=e("../../lib/extend").extendFlat;t.exports={x:{valType:"data_array",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},customdata:{valType:"data_array",description:"Assigns extra data to each scatter point DOM element"},dy:{valType:"number",dflt:1,role:"info",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},ids:{valType:"data_array",description:"A list of keys for object constancy of data points during animation"},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+l.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:o,simplify:{valType:"boolean",dflt:!0,role:"info",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")}},connectgaps:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:c({},{symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,role:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:i,line:c({},{width:{valType:"number",min:0,arrayOk:!0,role:"style",description:"Sets the width (in px) of the lines bounding the marker points."}},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")}}},r("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:{family:{valType:"string",role:"style",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",role:"style",min:1,arrayOk:!0},color:{valType:"color",role:"style",arrayOk:!0},description:"Sets the text font."},r:{valType:"data_array",description:["For polar chart only.","Sets the radial coordinates."].join("")},t:{valType:"data_array",description:["For polar chart only.","Sets the angular coordinates."].join("")},error_y:a,error_x:a}},{"../../components/colorbar/attributes":428,"../../components/colorscale/color_attributes":434,"../../components/drawing":451,"../../components/drawing/attributes":450,"../../components/errorbars/attributes":453,"../../lib/extend":534,"./constants":647}],643:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../plots/cartesian/axes"),i=e("../../constants/numerical").BADNUM,o=e("./subtypes"),s=e("./colorscale_calc"),l=e("./arrays_to_calcdata");t.exports=function(e,t){var n,c,u,d=a.getFromId(e,t.xaxis||"x"),p=a.getFromId(e,t.yaxis||"y"),f=d.makeCalcdata(t,"x"),h=p.makeCalcdata(t,"y"),g=Math.min(f.length,h.length);d._minDtick=0,p._minDtick=0,f.length>g&&f.splice(g,f.length-g),h.length>g&&h.splice(g,h.length-g);var m={padded:!0},v={padded:!0};if(o.hasMarkers(t)){if(n=t.marker,c=n.size,Array.isArray(c)){var y={type:"linear"};a.setConvert(y),c=y.makeCalcdata(t.marker,"size"),c.length>g&&c.splice(g,c.length-g)}var b,x=1.6*(t.marker.sizeref||1);b="area"===t.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/x),3)}:function(e){return Math.max((e||0)/x,3)},m.ppad=v.ppad=Array.isArray(c)?c.map(b):b(c)}s(t),!("tozerox"===t.fill||"tonextx"===t.fill&&e.firstscatter)||f[0]===f[g-1]&&h[0]===h[g-1]?t.error_y.visible||["tonexty","tozeroy"].indexOf(t.fill)===-1&&(o.hasMarkers(t)||o.hasText(t))||(m.padded=!1,m.ppad=0):m.tozero=!0,!("tozeroy"===t.fill||"tonexty"===t.fill&&e.firstscatter)||f[0]===f[g-1]&&h[0]===h[g-1]?["tonextx","tozerox"].indexOf(t.fill)!==-1&&(v.padded=!1):v.tozero=!0,a.expand(d,f,m),a.expand(p,h,v);var w=new Array(g);for(u=0;u<g;u++)w[u]=r(f[u])&&r(h[u])?{x:f[u],y:h[u]}:{x:i,y:i},t.ids&&(w[u].id=String(t.ids[u]));return l(w,t),e.firstscatter=!1,w}},{"../../constants/numerical":524,"../../plots/cartesian/axes":573,"./arrays_to_calcdata":641,"./colorscale_calc":646,"./subtypes":662,"fast-isnumeric":263}],644:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var a=t-1;a>=0;a--){var i=e[a];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},{}],645:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../plots/plots"),o=e("../../components/colorscale"),s=e("../../components/colorbar/draw");t.exports=function(e,t){var n=t[0].trace,l=n.marker,c="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+c).remove(),void 0===l||!l.showscale)return void i.autoMargin(e,c);var u=l.color,d=l.cmin,p=l.cmax;r(d)||(d=a.aggNums(Math.min,null,u)),r(p)||(p=a.aggNums(Math.max,null,u));var f=t[0].t.cb=s(e,c),h=o.makeColorScaleFunc(o.extractScale(l.colorscale,d,p),{noNumericCheck:!0});f.fillcolor(h).filllevels({start:d,end:p,size:(p-d)/254}).options(l.colorbar)()}},{"../../components/colorbar/draw":430,"../../components/colorscale":441,"../../lib":538,"../../plots/plots":601,"fast-isnumeric":263}],646:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),a=e("../../components/colorscale/calc"),i=e("./subtypes");t.exports=function(e){i.hasLines(e)&&r(e,"line")&&a(e,e.line.color,"line","c"),i.hasMarkers(e)&&(r(e,"marker")&&a(e,e.marker.color,"marker","c"),r(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":433,"../../components/colorscale/has_colorscale":440,"./subtypes":662}],647:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20}},{}],648:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),i=e("./constants"),o=e("./subtypes"),s=e("./xy_defaults"),l=e("./marker_defaults"),c=e("./line_defaults"),u=e("./line_shape_defaults"),d=e("./text_defaults"),p=e("./fillcolor_defaults"),f=e("../../components/errorbars/defaults");t.exports=function(e,t,n,h){function g(n,i){return r.coerce(e,t,a,n,i)}var m=s(e,t,h,g),v=m<i.PTS_LINESONLY?"lines+markers":"lines";if(!m)return void(t.visible=!1);g("customdata"),g("text"),g("hovertext"),g("mode",v),g("ids"),o.hasLines(t)&&(c(e,t,n,h,g),u(e,t,g),g("connectgaps"),g("line.simplify")),o.hasMarkers(t)&&l(e,t,n,h,g,{gradient:!0}),o.hasText(t)&&d(e,t,h,g);var y=[];(o.hasMarkers(t)||o.hasText(t))&&(g("marker.maxdisplayed"),y.push("points")),g("fill"),"none"!==t.fill&&(p(e,t,n,g),o.hasLines(t)||u(e,t,g)),"tonext"!==t.fill&&"toself"!==t.fill||y.push("fills"),g("hoveron",y.join("+")||"points"),f(e,t,n,{axis:"y"}),f(e,t,n,{axis:"x",inherit:"y"})}},{"../../components/errorbars/defaults":456,"../../lib":538,"./attributes":642,"./constants":647,"./fillcolor_defaults":649,"./line_defaults":653,"./line_shape_defaults":655,"./marker_defaults":658,"./subtypes":662,"./text_defaults":663,"./xy_defaults":664}],649:[function(e,t,n){"use strict";var r=e("../../components/color");t.exports=function(e,t,n,a){var i=!1;if(t.marker){var o=t.marker.color,s=(t.marker.line||{}).color;o&&!Array.isArray(o)?i=o:s&&!Array.isArray(s)&&(i=s)}a("fillcolor",r.addOpacity((t.line||{}).color||i||n,.5))}},{"../../components/color":427}],650:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("./subtypes");t.exports=function(e,t){var n,i;if("lines"===e.mode)return n=e.line.color,n&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return i=o&&r.opacity(o)?o:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"",i?r.opacity(i)<.3?r.addOpacity(i,.3):i:(n=(e.line||{}).color,n&&r.opacity(n)&&a.hasLines(e)&&e.line.width?n:e.fillcolor)}},{"../../components/color":427,"./subtypes":662}],651:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/fx"),i=e("../../components/errorbars"),o=e("./get_trace_color"),s=e("../../components/color"),l=a.constants.MAXDIST;t.exports=function(e,t,n,c){var u=e.cd,d=u[0].trace,p=e.xa,f=e.ya,h=p.c2p(t),g=f.c2p(n),m=[h,g];if(d.hoveron.indexOf("points")!==-1){var v=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(p.c2p(e.x)-h)-t,1-3/t)},y=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(f.c2p(e.y)-g)-t,1-3/t)},b=function(e){var t=Math.max(3,e.mrc||0),n=p.c2p(e.x)-h,r=f.c2p(e.y)-g;return Math.max(Math.sqrt(n*n+r*r)-t,1-3/t)},x=a.getDistanceFunction(c,v,y,b);if(a.getClosest(u,x,e),e.index!==!1){var w=u[e.index],_=p.c2p(w.x,!0),k=f.c2p(w.y,!0),S=w.mrc||1;return r.extendFlat(e,{color:o(d,w),x0:_-S,x1:_+S,xLabelVal:w.x,y0:k-S,y1:k+S,yLabelVal:w.y}),w.htx?e.text=w.htx:d.hovertext?e.text=d.hovertext:w.tx?e.text=w.tx:d.text&&(e.text=d.text),i.hoverInfo(w,d,e),[e]}}if(d.hoveron.indexOf("fills")!==-1&&d._polygons){var A,T,$,C,M,E,I,P,j,D=d._polygons,L=[],O=!1,R=1/0,N=-(1/0),z=1/0,B=-(1/0);for(A=0;A<D.length;A++)$=D[A],$.contains(m)&&(O=!O,L.push($),z=Math.min(z,$.ymin),B=Math.max(B,$.ymax));if(O){z=Math.max(z,0),B=Math.min(B,f._length);var F=(z+B)/2;for(A=0;A<L.length;A++)for(C=L[A].pts,T=1;T<C.length;T++)P=C[T-1][1],j=C[T][1],P>F!=j>=F&&(E=C[T-1][0],I=C[T][0],M=E+(I-E)*(F-P)/(j-P),R=Math.min(R,M),N=Math.max(N,M));R=Math.max(R,0),N=Math.min(N,p._length);var H=s.defaultLine;return s.opacity(d.fillcolor)?H=d.fillcolor:s.opacity((d.line||{}).color)&&(H=d.line.color),r.extendFlat(e,{distance:l+10,x0:R,x1:N,y0:F,y1:F,color:H}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},{"../../components/color":427,"../../components/errorbars":457,"../../components/fx":468,"../../lib":538,"./get_trace_color":650}],652:[function(e,t,n){"use strict";var r={},a=e("./subtypes");r.hasLines=a.hasLines,r.hasMarkers=a.hasMarkers,r.hasText=a.hasText,r.isBubble=a.isBubble,r.attributes=e("./attributes"),r.supplyDefaults=e("./defaults"),r.cleanData=e("./clean_data"),r.calc=e("./calc"),r.arraysToCalcdata=e("./arrays_to_calcdata"),r.plot=e("./plot"),r.colorbar=e("./colorbar"),r.style=e("./style"),r.hoverPoints=e("./hover"),r.selectPoints=e("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=e("../../plots/cartesian"),r.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],r.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},t.exports=r},{"../../plots/cartesian":583,"./arrays_to_calcdata":641,"./attributes":642,"./calc":643,"./clean_data":644,"./colorbar":645,"./defaults":648,"./hover":651,"./plot":659,"./select":660,"./style":661,"./subtypes":662}],653:[function(e,t,n){"use strict";var r=e("../../components/colorscale/has_colorscale"),a=e("../../components/colorscale/defaults");t.exports=function(e,t,n,i,o,s){var l=(e.marker||{}).color;if(o("line.color",n),r(e,"line"))a(e,t,i,o,{prefix:"line.",cLetter:"c"});else{var c=!Array.isArray(l)&&l||n;o("line.color",c)}o("line.width"),(s||{}).noDash||o("line.dash")}},{"../../components/colorscale/defaults":436,"../../components/colorscale/has_colorscale":440}],654:[function(e,t,n){"use strict";var r=e("../../constants/numerical").BADNUM;t.exports=function(e,t){function n(t){var n=_.c2p(e[t].x),a=k.c2p(e[t].y);return n!==r&&a!==r&&[n,a]}function a(e){var t=e[0]/_._length,n=e[1]/k._length;return(1+10*Math.max(0,-t,t-1,-n,n-1))*T}function i(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var o,s,l,c,u,d,p,f,h,g,m,v,y,b,x,w,_=t.xaxis,k=t.yaxis,S=t.simplify,A=t.connectGaps,T=t.baseTolerance,$=t.linear,C=[],M=.2,E=new Array(e.length),I=0;for(S||(T=M=-1),o=0;o<e.length;o++)if(s=n(o)){for(I=0,E[I++]=s,o++;o<e.length;o++){if(c=n(o),!c){if(A)continue;break}if($){if(p=i(c,s),!(p<a(c)*M)){for(h=[(c[0]-s[0])/p,(c[1]-s[1])/p],u=s,m=p,v=b=x=0,f=!1,l=c,o++;o<e.length;o++){if(d=n(o),!d){if(A)continue;break}if(g=[d[0]-s[0],d[1]-s[1]],w=g[0]*h[1]-g[1]*h[0],b=Math.min(b,w),x=Math.max(x,w),x-b>a(d))break;l=d,y=g[0]*h[0]+g[1]*h[1],y>m?(m=y,c=d,f=!1):y<v&&(v=y,u=d,f=!0)}if(f?(E[I++]=c,l!==u&&(E[I++]=u)):(u!==s&&(E[I++]=u),l!==c&&(E[I++]=c)),E[I++]=l,o>=e.length||!d)break;E[I++]=d,s=d}}else E[I++]=c}C.push(E.slice(0,I))}return C}},{"../../constants/numerical":524}],655:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=n("line.shape");"spline"===r&&n("line.smoothing")}},{}],656:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r,a,i=null,o=0;o<n.length;++o)r=n[o],a=r[0].trace,a.visible===!0?(a._nexttrace=null,["tonextx","tonexty","tonext"].indexOf(a.fill)!==-1&&(a._prevtrace=i,i&&(i._nexttrace=a)),i=a):a._prevtrace=a._nexttrace=null}},{}],657:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,a=t.sizemin||0,i="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=i(e/2);return r(t)&&t>0?Math.max(t,a):0}}},{"fast-isnumeric":263}],658:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../components/colorscale/has_colorscale"),i=e("../../components/colorscale/defaults"),o=e("./subtypes");t.exports=function(e,t,n,s,l,c){var u,d=o.isBubble(e),p=(e.line||{}).color;if(c=c||{},p&&(n=p),l("marker.symbol"),l("marker.opacity",d?.7:1),l("marker.size"),l("marker.color",n),a(e,"marker")&&i(e,t,s,l,{prefix:"marker.",cLetter:"c"}),c.noLine||(u=p&&!Array.isArray(p)&&t.marker.color!==p?p:d?r.background:r.defaultLine,l("marker.line.color",u),a(e,"marker.line")&&i(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",d?1:0)),d&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient){var f=l("marker.gradient.type");"none"!==f&&l("marker.gradient.color")}}},{"../../components/color":427,"../../components/colorscale/defaults":436,"../../components/colorscale/has_colorscale":440,"./subtypes":662}],659:[function(e,t,n){"use strict";function r(e,t){var n;t.selectAll("g.trace").each(function(e){var t=o.select(this);if(n=e[0].trace,n._nexttrace){if(n._nextFill=t.select(".js-fill.js-tonext"),!n._nextFill.size()){var r=":first-child";t.select(".js-fill.js-tozero").size()&&(r+=" + *"),n._nextFill=t.insert("path",r).attr("class","js-fill js-tonext")}}else t.selectAll(".js-fill.js-tonext").remove(),n._nextFill=null;n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace)?(n._ownFill=t.select(".js-fill.js-tozero"),n._ownFill.size()||(n._ownFill=t.insert("path",":first-child").attr("class","js-fill js-tozero"))):(t.selectAll(".js-fill.js-tozero").remove(),n._ownFill=null)})}function a(e,t,n,r,a,p,h){function g(e){return k?e.transition():e}function m(e){return e.filter(function(e){return e.vis})}function v(e){return e.id}function y(e){if(e.ids)return v}function b(){return!1}function x(t){var n,r,a,i=t[0].trace,c=o.select(this),d=u.hasMarkers(i),p=u.hasText(i),f=y(i),h=b,v=b;d&&(h=i.marker.maxdisplayed||i._needsCull?m:s.identity),p&&(v=i.marker.maxdisplayed||i._needsCull?m:s.identity),r=c.selectAll("path.point"),n=r.data(h,f);var x=n.enter().append("path").classed("point",!0);x.call(l.pointStyle,i).call(l.translatePoints,S,A,i),k&&x.style("opacity",0).transition().style("opacity",1);var w=d&&l.tryColorscale(i.marker,""),_=d&&l.tryColorscale(i.marker,"line");n.each(function(t){var n=o.select(this),r=g(n);a=l.translatePoint(t,r,S,A),a&&(l.singlePointStyle(t,r,i,w,_,e),i.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data))}),k?n.exit().transition().style("opacity",0).remove():n.exit().remove(),r=c.selectAll("g"),n=r.data(v,f),n.enter().append("g").classed("textpoint",!0).append("text"),n.each(function(e){var t=o.select(this),n=g(t.select("text"));a=l.translatePoint(e,n,S,A),a||t.remove()}),n.selectAll("text").call(l.textPointStyle,i).each(function(e){var t=e.xp||S.c2p(e.x),n=e.yp||A.c2p(e.y);o.select(this).selectAll("tspan.line").each(function(){g(o.select(this)).attr({x:t,y:n})})}),n.exit().remove()}var w,_;i(e,t,n,r,a);var k=!!h&&h.duration>0,S=n.xaxis,A=n.yaxis,T=r[0].trace,$=T.line,C=o.select(p);if(C.call(c.plot,n,h),T.visible===!0){g(C).style("opacity",T.opacity);var M,E,I=T.fill.charAt(T.fill.length-1);"x"!==I&&"y"!==I&&(I=""),r[0].node3=C;var P="",j=[],D=T._prevtrace;D&&(P=D._prevRevpath||"",E=D._nextFill,j=D._polygons);var L,O,R,N,z,B,F,H,U,q="",V="",G=[],W=[],Y=s.noop;if(M=T._ownFill,u.hasLines(T)||"none"!==T.fill){for(E&&E.datum(r),["hv","vh","hvh","vhv"].indexOf($.shape)!==-1?(R=l.steps($.shape),N=l.steps($.shape.split("").reverse().join(""))):R=N="spline"===$.shape?function(e){var t=e[e.length-1];return e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),$.smoothing):l.smoothopen(e,$.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return N(e.reverse())},G=d(r,{xaxis:S,yaxis:A,connectGaps:T.connectgaps,baseTolerance:Math.max($.width||1,3)/4,linear:"linear"===$.shape,simplify:$.simplify}),U=T._polygons=new Array(G.length),_=0;_<G.length;_++)T._polygons[_]=f(G[_]);G.length&&(B=G[0][0],F=G[G.length-1],H=F[F.length-1]),W=G.filter(function(e){return e.length>1}),Y=function(e){return function(t){if(L=R(t),O=z(t),q?I?(q+="L"+L.substr(1),V=O+("L"+V.substr(1))):(q+="Z"+L,V=O+"Z"+V):(q=L,V=O),u.hasLines(T)&&t.length>1){var n=o.select(this);if(n.datum(r),e)g(n.style("opacity",0).attr("d",L).call(l.lineGroupStyle)).style("opacity",1);else{var a=g(n);a.attr("d",L),l.singleLineStyle(r,a)}}}}}var X=C.selectAll(".js-line").data(W);g(X.exit()).style("opacity",0).remove(),X.each(Y(!1)),X.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(Y(!0)),G.length&&(M?B&&H&&(I?("y"===I?B[1]=H[1]=A.c2p(0,!0):"x"===I&&(B[0]=H[0]=S.c2p(0,!0)),g(M).attr("d","M"+H+"L"+B+"L"+q.substr(1))):g(M).attr("d",q+"Z")):"tonext"===T.fill.substr(0,6)&&q&&P&&("tonext"===T.fill?g(E).attr("d",q+"Z"+P+"Z"):g(E).attr("d",q+"L"+P.substr(1)+"Z"),T._polygons=T._polygons.concat(j)),T._prevRevpath=V,T._prevPolygons=U);var Q=C.selectAll(".points");w=Q.data([r]),Q.each(x),w.enter().append("g").classed("points",!0).each(x),w.exit().remove()}}function i(e,t,n,r,a){var i=n.xaxis,l=n.yaxis,c=o.extent(s.simpleMap(i.range,i.r2c)),d=o.extent(s.simpleMap(l.range,l.r2c)),p=r[0].trace;if(u.hasMarkers(p)){var f=p.marker.maxdisplayed;if(0!==f){var h=r.filter(function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=d[0]&&e.y<=d[1]}),g=Math.ceil(h.length/f),m=0;a.forEach(function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&m++});var v=Math.round(m*g/3+Math.floor(m/3)*g/7.1);r.forEach(function(e){delete e.vis}),h.forEach(function(e,t){0===Math.round((t+v)%g)&&(e.vis=!0)})}}}var o=e("d3"),s=e("../../lib"),l=e("../../components/drawing"),c=e("../../components/errorbars"),u=e("./subtypes"),d=e("./line_points"),p=e("./link_traces"),f=e("../../lib/polygon").tester;t.exports=function(e,t,n,i,s){var l,c,u,d,f,h=t.plot.select("g.scatterlayer"),g=!i,m=!!i&&i.duration>0;for(u=h.selectAll("g.trace"),d=u.data(n,function(e){return e[0].trace.uid}),d.enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),p(e,t,n),r(e,h),l=0,c={};l<n.length;l++)c[n[l][0].trace.uid]=l;if(h.selectAll("g.trace").sort(function(e,t){var n=c[e[0].trace.uid],r=c[t[0].trace.uid];return n>r?1:-1}),m){s&&(f=s());var v=o.transition().duration(i.duration).ease(i.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});v.each(function(){h.selectAll("g.trace").each(function(r,o){a(e,o,t,r,n,this,i)})})}else h.selectAll("g.trace").each(function(r,o){a(e,o,t,r,n,this,i)});g&&d.exit().remove(),h.selectAll("path:not([d])").remove()}},{"../../components/drawing":451,"../../components/errorbars":457,"../../lib":538,"../../lib/polygon":548,"./line_points":654,"./link_traces":656,"./subtypes":662,d3:260}],660:[function(e,t,n){"use strict";var r=e("./subtypes"),a=.2;t.exports=function(e,t){var n,i,o,s,l=e.cd,c=e.xaxis,u=e.yaxis,d=[],p=l[0].trace,f=p.index,h=p.marker,g=!r.hasMarkers(p)&&!r.hasText(p);
if(p.visible===!0&&!g){var m=Array.isArray(h.opacity)?1:h.opacity;if(t===!1)for(n=0;n<l.length;n++)l[n].dim=0;else for(n=0;n<l.length;n++)i=l[n],o=c.c2p(i.x),s=u.c2p(i.y),t.contains([o,s])?(d.push({curveNumber:f,pointNumber:n,x:i.x,y:i.y,id:i.id}),i.dim=0):i.dim=1;return l[0].node3.selectAll("path.point").style("opacity",function(e){return((e.mo+1||m+1)-1)*(e.dim?a:1)}),l[0].node3.selectAll("text").style("opacity",function(e){return e.dim?a:1}),d}}},{"./subtypes":662}],661:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/drawing"),i=e("../../components/errorbars");t.exports=function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(e){var t=r.select(this),n=t.selectAll("path.point"),i=e.trace||e[0].trace;n.call(a.pointStyle,i),t.selectAll("text").call(a.textPointStyle,i)}),t.selectAll("g.trace path.js-line").call(a.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),t.call(i.style)}},{"../../components/drawing":451,"../../components/errorbars":457,d3:260}],662:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&e.mode&&e.mode.indexOf("markers")!==-1},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){return r.isPlainObject(e.marker)&&Array.isArray(e.marker.size)}}},{"../../lib":538}],663:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a){a("textposition"),r.coerceFont(a,"textfont",n.font)}},{"../../lib":538}],664:[function(e,t,n){"use strict";var r=e("../../registry");t.exports=function(e,t,n,a){var i,o=a("x"),s=a("y"),l=r.getComponentMethod("calendars","handleTraceDefaults");if(l(e,t,["x","y"],n),o)s?(i=Math.min(o.length,s.length),i<o.length&&(t.x=o.slice(0,i)),i<s.length&&(t.y=s.slice(0,i))):(i=o.length,a("y0"),a("dy"));else{if(!s)return 0;i=t.y.length,a("x0"),a("dx")}return i}},{"../../registry":608}],665:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?g=h.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=i(s);m=!0;for(var t=g.length;t;){for(h=g,g=[];++v<t;)h&&h[v].run();v=-1,t=g.length}h=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,f=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{p="function"==typeof clearTimeout?clearTimeout:a}catch(e){p=a}}();var h,g=[],m=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||i(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],666:[function(e,t,n){!function(e){function n(e,t){if(e=e?e:"",t=t||{},e instanceof n)return e;if(!(this instanceof n))return new n(e,t);var a=r(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=H(100*this._a)/100,this._format=t.format||a.format,this._gradientType=t.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=a.ok,this._tc_id=F++}function r(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,c=!1,u=!1;return"string"==typeof e&&(e=R(e)),"object"==("undefined"==typeof e?"undefined":_typeof(e))&&(O(e.r)&&O(e.g)&&O(e.b)?(t=a(e.r,e.g,e.b),c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):O(e.h)&&O(e.s)&&O(e.v)?(r=j(e.s),i=j(e.v),t=l(e.h,r,i),c=!0,u="hsv"):O(e.h)&&O(e.s)&&O(e.l)&&(r=j(e.s),s=j(e.l),t=o(e.h,r,s),c=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=T(n),{ok:c,format:e.format||u,r:U(255,q(t.r,0)),g:U(255,q(t.g,0)),b:U(255,q(t.b,0)),a:n}}function a(e,t,n){return{r:255*$(e,255),g:255*$(t,255),b:255*$(n,255)}}function i(e,t,n){e=$(e,255),t=$(t,255),n=$(n,255);var r,a,i=q(e,t,n),o=U(e,t,n),s=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;switch(a=s>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:s}}function o(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var a,i,o;if(e=$(e,360),t=$(t,100),n=$(n,100),0===t)a=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=r(l,s,e+1/3),i=r(l,s,e),o=r(l,s,e-1/3)}return{r:255*a,g:255*i,b:255*o}}function s(e,t,n){e=$(e,255),t=$(t,255),n=$(n,255);var r,a,i=q(e,t,n),o=U(e,t,n),s=i,l=i-o;if(a=0===i?0:l/i,i==o)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:s}}function l(t,n,r){t=6*$(t,360),n=$(n,100),r=$(r,100);var a=e.floor(t),i=t-a,o=r*(1-n),s=r*(1-i*n),l=r*(1-(1-i)*n),c=a%6,u=[r,s,o,o,l,r][c],d=[l,r,r,s,o,o][c],p=[o,o,l,r,r,s][c];return{r:255*u,g:255*d,b:255*p}}function c(e,t,n,r){var a=[P(H(e).toString(16)),P(H(t).toString(16)),P(H(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function u(e,t,n,r,a){var i=[P(H(e).toString(16)),P(H(t).toString(16)),P(H(n).toString(16)),P(D(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function d(e,t,n,r){var a=[P(D(r)),P(H(e).toString(16)),P(H(t).toString(16)),P(H(n).toString(16))];return a.join("")}function p(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.s-=t/100,r.s=C(r.s),n(r)}function f(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.s+=t/100,r.s=C(r.s),n(r)}function h(e){return n(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.l+=t/100,r.l=C(r.l),n(r)}function m(e,t){t=0===t?0:t||10;var r=n(e).toRgb();return r.r=q(0,U(255,r.r-H(255*-(t/100)))),r.g=q(0,U(255,r.g-H(255*-(t/100)))),r.b=q(0,U(255,r.b-H(255*-(t/100)))),n(r)}function v(e,t){t=0===t?0:t||10;var r=n(e).toHsl();return r.l-=t/100,r.l=C(r.l),n(r)}function y(e,t){var r=n(e).toHsl(),a=(r.h+t)%360;return r.h=a<0?360+a:a,n(r)}function b(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function x(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+120)%360,s:t.s,l:t.l}),n({h:(r+240)%360,s:t.s,l:t.l})]}function w(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+90)%360,s:t.s,l:t.l}),n({h:(r+180)%360,s:t.s,l:t.l}),n({h:(r+270)%360,s:t.s,l:t.l})]}function _(e){var t=n(e).toHsl(),r=t.h;return[n(e),n({h:(r+72)%360,s:t.s,l:t.l}),n({h:(r+216)%360,s:t.s,l:t.l})]}function k(e,t,r){t=t||6,r=r||30;var a=n(e).toHsl(),i=360/r,o=[n(e)];for(a.h=(a.h-(i*t>>1)+720)%360;--t;)a.h=(a.h+i)%360,o.push(n(a));return o}function S(e,t){t=t||6;for(var r=n(e).toHsv(),a=r.h,i=r.s,o=r.v,s=[],l=1/t;t--;)s.push(n({h:a,s:i,v:o})),o=(o+l)%1;return s}function A(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $(t,n){E(t)&&(t="100%");var r=I(t);return t=U(n,q(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function C(e){return U(1,q(0,e))}function M(e){return parseInt(e,16)}function E(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function I(e){return"string"==typeof e&&e.indexOf("%")!=-1}function P(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function D(t){return e.round(255*parseFloat(t)).toString(16)}function L(e){return M(e)/255}function O(e){return!!Y.CSS_UNIT.exec(e)}function R(e){e=e.replace(z,"").replace(B,"").toLowerCase();var t=!1;if(G[e])e=G[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:L(n[4]),format:t?"name":"hex8"}:(n=Y.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:t?"name":"hex"}:(n=Y.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:L(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Y.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:t?"name":"hex"}}function N(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var z=/^\s+/,B=/\s+$/,F=0,H=e.round,U=e.min,q=e.max,V=e.random;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,a,i,o,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,a=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),i=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*a+.7152*i+.0722*o},setAlpha:function(e){return this._a=T(e),this._roundA=H(100*this._a)/100,this},toHsv:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return u(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*$(this._r,255))+"%",g:H(100*$(this._g,255))+"%",b:H(100*$(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*$(this._r,255))+"%, "+H(100*$(this._g,255))+"%, "+H(100*$(this._b,255))+"%)":"rgba("+H(100*$(this._r,255))+"%, "+H(100*$(this._g,255))+"%, "+H(100*$(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+d(this._r,this._g,this._b,this._a),r=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var i=n(e);r="#"+d(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,a=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return a?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return n(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},n.fromRatio=function(e,t){if("object"==("undefined"==typeof e?"undefined":_typeof(e))){var r={};for(var a in e)e.hasOwnProperty(a)&&("a"===a?r[a]=e[a]:r[a]=j(e[a]));e=r}return n(e,t)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:V(),g:V(),b:V()})},n.mix=function(e,t,r){r=0===r?0:r||50;var a=n(e).toRgb(),i=n(t).toRgb(),o=r/100,s={r:(i.r-a.r)*o+a.r,g:(i.g-a.g)*o+a.g,b:(i.b-a.b)*o+a.b,a:(i.a-a.a)*o+a.a};return n(s)},n.readability=function(t,r){var a=n(t),i=n(r);return(e.max(a.getLuminance(),i.getLuminance())+.05)/(e.min(a.getLuminance(),i.getLuminance())+.05)},n.isReadable=function(e,t,r){var a,i,o=n.readability(e,t);switch(i=!1,a=N(r),a.level+a.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},n.mostReadable=function(e,t,r){var a,i,o,s,l=null,c=0;r=r||{},i=r.includeFallbackColors,o=r.level,s=r.size;for(var u=0;u<t.length;u++)a=n.readability(e,t[u]),a>c&&(c=a,l=n(t[u]));return n.isReadable(e,l,{level:o,size:s})||!i?l:(r.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],r))};var G=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=n.hexNames=A(G),Y=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof t&&t.exports?t.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):window.tinycolor=n}(Math)},{}],667:[function(e,t,n){!function(e,r){"use strict";"object"===("undefined"==typeof n?"undefined":_typeof(n))?t.exports=r():"function"==typeof define&&define.amd?define(r):e.IPv6=r(e)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),n=t.split(":"),r=n.length,a=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,n[r-1].indexOf(".")!==-1&&(a=7);var i;for(i=0;i<r&&""!==n[i];i++);if(i<a){for(n.splice(i,1,"0000");n.length<a;)n.splice(i,0,"0000");r=n.length}for(var o,s=0;s<a;s++){o=n[s].split("");for(var l=0;l<3&&("0"===o[0]&&o.length>1);l++)o.splice(0,1);n[s]=o.join("")}var c=-1,u=0,d=0,p=-1,f=!1;for(s=0;s<a;s++)f?"0"===n[s]?d+=1:(f=!1,d>u&&(c=p,u=d)):"0"===n[s]&&(f=!0,p=s,d=1);d>u&&(c=p,u=d),u>1&&n.splice(c,u,""),r=n.length;var h="";for(""===n[0]&&(h=":"),s=0;s<r&&(h+=n[s],s!==r-1);s++)h+=":";return""===n[r-1]&&(h+=":"),h}function n(){return e.IPv6===this&&(e.IPv6=r),this}var r=e&&e.IPv6;return{best:t,noConflict:n}})},{}],668:[function(e,t,n){!function(e,r){"use strict";"object"===("undefined"==typeof n?"undefined":_typeof(n))?t.exports=r():"function"==typeof define&&define.amd?define(r):e.SecondLevelDomains=r(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var a=n.list[e.slice(t+1)];return!!a&&a.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r>=0)return!1;var a=n.list[e.slice(t+1)];return!!a&&a.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var a=n.list[e.slice(t+1)];return a?a.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},{}],669:[function(e,t,n){!function(r,a){"use strict";"object"===("undefined"==typeof n?"undefined":_typeof(n))?t.exports=a(e("./punycode"),e("./IPv6"),e("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):r.URI=a(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(e,t,n,r){"use strict";function a(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof a))return n?r?new a(e,t):new a(e):new a;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function i(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===o(e)}function l(e,t){var n,r,a={};if("RegExp"===o(t))a=null;else if(s(t))for(n=0,r=t.length;n<r;n++)a[t[n]]=!0;else a[t]=!0;for(n=0,r=e.length;n<r;n++){var i=a&&void 0!==a[e[n]]||!a&&t.test(e[n]);i&&(e.splice(n,1),r--,n--)}return e}function c(e,t){var n,r;if(s(t)){for(n=0,r=t.length;n<r;n++)if(!c(e,t[n]))return!1;return!0}var a=o(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===a){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function u(e,t){if(!s(e)||!s(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function d(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function h(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function g(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var m=r&&r.URI;a.version="1.17.1";var v=a.prototype,y=Object.prototype.hasOwnProperty;a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\.-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",
embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=f,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=f,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(e,t){var n=a.encode(e+"");return void 0===t&&(t=a.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},a.decodeQuery=function(e,t){e+="",void 0===t&&(t=a.escapeQuerySpace);try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}};var b,x={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return a[t](n+"").replace(a.characters[e][t].expression,function(n){return a.characters[e][t].map[n]})}catch(r){return n}}};for(b in x)a[b+"PathSegment"]=w("pathname",x[b]),a[b+"UrnPathSegment"]=w("urnpath",x[b]);var _=function(e,t,n){return function(r){var i;i=n?function(e){return a[t](a[n](e))}:a[t];for(var o=(r+"").split(e),s=0,l=o.length;s<l;s++)o[s]=i(o[s]);return o.join(e)}};a.decodePath=_("/","decodePathSegment"),a.decodeUrnPath=_(":","decodeUrnPathSegment"),a.recodePath=_("/","encodePathSegment","decode"),a.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),a.encodeReserved=w("reserved","encode"),a.parse=function(e,t){var n;return t||(t={}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(n=e.indexOf(":"),n>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=a.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0))),t.path=e,t},a.parseHost=function(e,t){e=e.replace(/\\/g,"/");var n,r,a=e.indexOf("/");if(a===-1&&(a=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,a)||null,"/"===t.port&&(t.port=null);else{var i=e.indexOf(":"),o=e.indexOf("/"),s=e.indexOf(":",i+1);s!==-1&&(o===-1||s<o)?(t.hostname=e.substring(0,a)||null,t.port=null):(r=e.substring(0,a).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(a).charAt(0)&&(a++,e="/"+e),e.substring(a)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),i=e.lastIndexOf("@",r>-1?r:e.length-1);return i>-1&&(r===-1||i<r)?(n=e.substring(0,i).split(":"),t.username=n[0]?a.decode(n[0]):null,n.shift(),t.password=n[0]?a.decode(n.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var n,r,i,o={},s=e.split("&"),l=s.length,c=0;c<l;c++)n=s[c].split("="),r=a.decodeQuery(n.shift(),t),i=n.length?a.decodeQuery(n.join("="),t):null,y.call(o,r)?("string"!=typeof o[r]&&null!==o[r]||(o[r]=[o[r]]),o[r].push(i)):o[r]=i;return o},a.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(t+=a.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username),e.password&&(t+=":"+a.encode(e.password)),t+="@"),t},a.buildQuery=function(e,t,n){var r,i,o,l,c="";for(i in e)if(y.call(e,i)&&i)if(s(e[i]))for(r={},o=0,l=e[i].length;o<l;o++)void 0!==e[i][o]&&void 0===r[e[i][o]+""]&&(c+="&"+a.buildQueryParameter(i,e[i][o],n),t!==!0&&(r[e[i][o]+""]=!0));else void 0!==e[i]&&(c+="&"+a.buildQueryParameter(i,e[i],n));return c.substring(1)},a.buildQueryParameter=function(e,t,n){return a.encodeQuery(e,n)+(null!==t?"="+a.encodeQuery(t,n):"")},a.addQuery=function(e,t,n){if("object"===("undefined"==typeof t?"undefined":_typeof(t)))for(var r in t)y.call(t,r)&&a.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},a.removeQuery=function(e,t,n){var r,i,c;if(s(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=void 0;else if("RegExp"===o(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"===("undefined"==typeof t?"undefined":_typeof(t)))for(c in t)y.call(t,c)&&a.removeQuery(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===o(n)?!s(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=l(e[t],n):e[t]!==String(n)||s(n)&&1!==n.length?s(e[t])&&(e[t]=l(e[t],n)):e[t]=void 0:e[t]=void 0}},a.hasQuery=function(e,t,n,r){switch(o(t)){case"String":break;case"RegExp":for(var i in e)if(y.call(e,i)&&t.test(i)&&(void 0===n||a.hasQuery(e,i,n)))return!0;return!1;case"Object":for(var l in t)if(y.call(t,l)&&!a.hasQuery(e,l,t[l]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(n)){case"Undefined":return t in e;case"Boolean":var d=Boolean(s(e[t])?e[t].length:e[t]);return n===d;case"Function":return!!n(e[t],t,e);case"Array":if(!s(e[t]))return!1;var p=r?c:u;return p(e[t],n);case"RegExp":return s(e[t])?!!r&&c(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?!!r&&c(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},a.withinString=function(e,t,n){n||(n={});var r=n.start||a.findUri.start,i=n.end||a.findUri.end,o=n.trim||a.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var l=r.exec(e);if(!l)break;var c=l.index;if(n.ignoreHtml){var u=e.slice(Math.max(c-3,0),c);if(u&&s.test(u))continue}var d=c+e.slice(c).search(i),p=e.slice(c,d).replace(o,"");if(!n.ignore||!n.ignore.test(p)){d=c+p.length;var f=t(p,c,d,e);e=e.slice(0,c)+f+e.slice(d),r.lastIndex=c+f.length}}return r.lastIndex=0,e},a.ensureValidHostname=function(t){if(t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},a.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=m),this},v.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new a(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=h("protocol"),v.username=h("username"),v.password=h("password"),v.hostname=h("hostname"),v.port=h("port"),v.query=g("query","?"),v.fragment=g("fragment","#"),v.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(e,t){if(void 0===e||e===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?a.decodeUrnPath:a.decodePath)(n):n}return this._parts.urn?this._parts.path=e?a.recodeUrnPath(e):"":this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},v.path=v.pathname,v.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var r=e instanceof a,i="object"===("undefined"==typeof e?"undefined":_typeof(e))&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=a.getDomAttribute(e);e=e[o]||"",i=!1}if(!r&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=a.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var s=r?e._parts:e;for(n in s)y.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!t),this},v.is=function(e){var t=!1,r=!1,i=!1,o=!1,s=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,r=a.ip4_expression.test(this._parts.hostname),i=a.ip6_expression.test(this._parts.hostname),t=r||i,o=!t,s=o&&n&&n.has(this._parts.hostname),l=o&&a.idn_expression.test(this._parts.hostname),c=o&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var k=v.protocol,S=v.port,A=v.hostname;v.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(a.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return S.call(this,e,t)},v.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={},r=a.parseHost(e,n);if("/"!==r)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname}return A.call(this,e,t)},v.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol(),r=this.authority();return r?(n?n+"://":"")+this.authority():""}var i=a(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},v.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildHost(this._parts):"";var n=a.parseHost(e,this._parts);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildAuthority(this._parts):"";var n=a.parseAuthority(e,this._parts);if("/"!==n)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=a.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},v.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=a.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},v.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),s=new RegExp("^"+i(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&a.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},v.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(a.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),a=this._parts.hostname.substring(r+1);return t!==!0&&n&&n.list[a.toLowerCase()]?n.get(this._parts.hostname)||a:a}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?a.decodePath(r):r}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),l=new RegExp("^"+i(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},v.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?a.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(i(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},v.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),s=o.lastIndexOf(".");return s===-1?"":(n=o.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?a.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var l,c=this.suffix();if(c)l=e?new RegExp(i(c)+"$"):new RegExp(i("."+c)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return l&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e)),this.build(!t),this},v.segment=function(e,t,n){var r=this._parts.urn?":":"/",a=this.path(),i="/"===a.substring(0,1),o=a.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(s(t)){o=[];for(var l=0,c=t.length;l<c;l++)(t[l].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(d(t[l])))}else(t||"string"==typeof t)&&(t=d(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=d(t):o.splice(e,1);return i&&o.unshift(""),this.path(o.join(r),n)},v.segmentCoded=function(e,t,n){var r,i,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(r=this.segment(e,t,n),s(r))for(i=0,o=r.length;i<o;i++)r[i]=a.decode(r[i]);else r=void 0!==r?a.decode(r):void 0;return r}if(s(t))for(i=0,o=t.length;i<o;i++)t[i]=a.encode(t[i]);else t="string"==typeof t||t instanceof String?a.encode(t):t;return this.segment(e,t,n)};var T=v.query;return v.query=function(e,t){if(e===!0)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=a.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t)},v.setQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)y.call(e,i)&&(r[i]=e[i])}return this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.addQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(r,e,void 0===t?null:t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.removeQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(r,e,t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.hasQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(r,e,t,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},v.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=a.recodePath(t);var n,r,i,o="";for("/"!==t.charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(o=t.substring(1).match(/^(\.\.\/)+/)||"",o&&(o=o[0]));;){if(r=t.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(i=t.substring(0,r).lastIndexOf("/"),i===-1&&(i=r),t=t.substring(0,i)+t.substring(r+3)):t=t.substring(3)}return n&&this.is("relative")&&(t=o+t.substring(1)),this._parts.path=t,this.build(!e),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},v.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var e=a.encode,t=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},v.unicode=function(){var e=a.encode,t=a.decode;a.encode=f,a.decode=unescape;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},v.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",i=0,o=t._parts.query.split("&"),s=o.length;i<s;i++){var l=(o[i]||"").split("=");r+="&"+a.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(r+="="+a.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=a.decodeQuery(t.hash(),!0)},v.absoluteTo=function(e){var t,n,r,i=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),i._parts.protocol||(i._parts.protocol=e._parts.protocol),this._parts.hostname)return i;for(n=0;r=o[n];n++)i._parts[r]=e._parts[r];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),"/"!==i.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},v.relativeTo=function(e){var t,n,r,i,o,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),t=s._parts,n=e._parts,i=s.path(),o=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,i===o)return t.path="",s.build();if(r=a.commonPath(i,o),!r)return s.build();var l=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(r.length)||"./",s.build()},v.equals=function(e){var t,n,r,i=this.clone(),o=new a(e),l={},c={},d={};if(i.normalize(),o.normalize(),i.toString()===o.toString())return!0;if(t=i.query(),n=o.query(),i.query(""),o.query(""),i.toString()!==o.toString())return!1;if(t.length!==n.length)return!1;l=a.parseQuery(t,this._parts.escapeQuerySpace),c=a.parseQuery(n,this._parts.escapeQuerySpace);for(r in l)if(y.call(l,r)){if(s(l[r])){if(!u(l[r],c[r]))return!1}else if(l[r]!==c[r])return!1;d[r]=!0}for(r in c)if(y.call(c,r)&&!d[r])return!1;return!0},v.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},v.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a})},{"./IPv6":667,"./SecondLevelDomains":668,"./punycode":670}],670:[function(e,t,n){(function(e){!function(r){function a(e){throw new RangeError(j[e])}function i(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function o(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,".");var a=e.split("."),o=i(a,t).join(".");return r+o}function s(e){for(var t,n,r=[],a=0,i=e.length;a<i;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<i?(n=e.charCodeAt(a++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--)):r.push(t);return r}function l(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?L(e/T):e>>1,e+=L(e/t);e>D*S>>1;r+=_)e=L(e/D);return L(r+(D+1)*e/(e+A))}function p(e){var t,n,r,i,o,s,u,p,f,h,g=[],m=e.length,v=0,y=C,b=$;for(n=e.lastIndexOf(M),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=v,s=1,u=_;i>=m&&a("invalid-input"),p=c(e.charCodeAt(i++)),(p>=_||p>L((w-v)/s))&&a("overflow"),v+=p*s,f=u<=b?k:u>=b+S?S:u-b,!(p<f);u+=_)h=_-f,s>L(w/h)&&a("overflow"),s*=h;t=g.length+1,b=d(v-o,t,0==o),L(v/t)>w-y&&a("overflow"),y+=L(v/t),v%=t,g.splice(v++,0,y)}return l(g)}function f(e){var t,n,r,i,o,l,c,p,f,h,g,m,v,y,b,x=[];for(e=s(e),m=e.length,t=C,n=0,o=$,l=0;l<m;++l)g=e[l],g<128&&x.push(O(g));for(r=i=x.length,i&&x.push(M);r<m;){for(c=w,l=0;l<m;++l)g=e[l],g>=t&&g<c&&(c=g);for(v=r+1,c-t>L((w-n)/v)&&a("overflow"),n+=(c-t)*v,t=c,l=0;l<m;++l)if(g=e[l],g<t&&++n>w&&a("overflow"),g==t){for(p=n,f=_;h=f<=o?k:f>=o+S?S:f-o,!(p<h);f+=_)b=p-h,y=_-h,x.push(O(u(h+b%y,0))),p=L(b/y);x.push(O(u(p,0))),o=d(n,v,r==i),n=0,++r}++n,++t}return x.join("")}function h(e){return o(e,function(e){return E.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return o(e,function(e){return I.test(e)?"xn--"+f(e):e})}var m="object"==("undefined"==typeof n?"undefined":_typeof(n))&&n&&!n.nodeType&&n,v="object"==("undefined"==typeof t?"undefined":_typeof(t))&&t&&!t.nodeType&&t,y="object"==("undefined"==typeof e?"undefined":_typeof(e))&&e;y.global!==y&&y.window!==y&&y.self!==y||(r=y);var b,x,w=2147483647,_=36,k=1,S=26,A=38,T=700,$=72,C=128,M="-",E=/^xn--/,I=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-k,L=Math.floor,O=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:s,encode:l},decode:p,encode:f,toASCII:g,toUnicode:h},"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd)define("punycode",function(){return b});else if(m&&v)if(t.exports==m)v.exports=b;else for(x in b)b.hasOwnProperty(x)&&(m[x]=b[x]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[22]);
//# sourceMappingURL=insights.js.map